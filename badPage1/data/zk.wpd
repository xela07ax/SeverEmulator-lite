if(!window.zk){
//ZK, Copyright 2009 Potix Corporation, LGPL
//jQuery, (c) John Resig, MIT
//Sizzle, (c) The Dojo Foundation, MIT
//jQuery Mousewheel, (c) Brandon Aaron, MIT

window.$eval=function(s){return eval(s);};
window.zkInitCrashTimer=setTimeout(function(){var e=document.querySelectorAll(".z-runonce")[0],f=document.getElementById("zk_proc"),b=document.querySelectorAll(".z-temp")[0],g=document.getElementById("zna"),c=document.body;if(f){var d=e?b?g?2:1:3:b?4:5;window.zkShowCrashMessage||(window.zkShowCrashMessage=function(){var a="<p>Something went wrong while loading the page.</p> \r\n\t\t\t\t\t<p>Please try to reload or visit another page. If you are the administrator, \r\n\t\t\t\t\ttry to check your Javascript or Network console.</p>";
switch(d){case 1:a="<p>Error code 1: ZK error, before mounting. </p>"+a;break;case 2:a="<p>Error code 2: ZK error, mounting. </p>"+a;break;case 3:a="<p>Error code 3: ZK error, after mounting. </p>"+a;break;case 4:a="<p>Error code 4: user error, wrong script. </p>"+a;break;case 5:a="<p>Error code 5: user error, server response. </p>"+a}c.style.background="rgb(35,48,64)";c.innerHTML='<style> a:visited {color: white;} </style><div style="background: rgb(35,48,64); text-align: center; color: white; position: absolute; \r\n\t\t\t\t\ttop: 0; left: 0; right: 0; bottom: 0; margin: auto; width: 50%; height: 300px; font-size: 20px;"><i class="z-icon-frown-o" style="font-size: 5em; display: block;"></i>'+
a+'<div style="text-align: right; margin-top: -18px">\r\n\t\t\t\t\t<span style="font-size: 10px;">powered by </span>\r\n\t\t\t\t\t<span style="font-size: 14px;"><a href="http://www.zkoss.org/">ZK</a></span></div><button style="margin-top: 10px" onclick="location.reload();">Reload page</button></div>'});window.zkShowCrashMessage(d)}},0<=window.zkInitCrashTimeout?1E3*window.zkInitCrashTimeout:6E4);

/*
 Sizzle CSS Selector Engine v1.10.2
 http://sizzlejs.com/

 Copyright 2013 jQuery Foundation, Inc. and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2013-07-03
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(l,m,t){l instanceof String&&(l=String(l));for(var L=l.length,x=0;x<L;x++){var S=l[x];if(m.call(t,S,x,l))return{i:x,v:S}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,m,t){l!=Array.prototype&&l!=Object.prototype&&(l[m]=t.value)};
$jscomp.getGlobal=function(l){return"undefined"!=typeof window&&window===l?l:"undefined"!=typeof global&&null!=global?global:l};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(l,m,t,L){if(m){t=$jscomp.global;l=l.split(".");for(L=0;L<l.length-1;L++){var x=l[L];x in t||(t[x]={});t=t[x]}l=l[l.length-1];L=t[l];m=m(L);m!=L&&null!=m&&$jscomp.defineProperty(t,l,{configurable:!0,writable:!0,value:m})}};
$jscomp.polyfill("Array.prototype.find",function(l){return l?l:function(m,l){return $jscomp.findInternal(this,m,l).v}},"es6","es3");$jscomp.checkStringArgs=function(l,m,t){if(null==l)throw new TypeError("The 'this' value for String.prototype."+t+" must not be null or undefined");if(m instanceof RegExp)throw new TypeError("First argument to String.prototype."+t+" must not be a regular expression");return l+""};
$jscomp.polyfill("String.prototype.endsWith",function(l){return l?l:function(m,l){var t=$jscomp.checkStringArgs(this,m,"endsWith");m+="";void 0===l&&(l=t.length);l=Math.max(0,Math.min(l|0,t.length));for(var x=m.length;0<x&&0<l;)if(t[--l]!=m[--x])return!1;return 0>=x}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(l){return l?l:function(m,l){var t=$jscomp.checkStringArgs(this,m,"startsWith");m+="";var x=t.length,S=m.length;l=Math.max(0,Math.min(l|0,t.length));for(var ca=0;ca<S&&l<x;)if(t[l++]!=m[ca++])return!1;return ca>=S}},"es6","es3");
(function(l,m){function t(a){var b=a.length,d=c.type(a);return c.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===d||"function"!==d&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function L(a){var b=bb[a]={};c.each(a.match(T)||[],function(a,c){b[c]=!0});return b}function x(a,b,d,e){if(c.acceptData(a)){var f=c.expando,g=a.nodeType,h=g?c.cache:a,k=g?a[f]:a[f]&&f;if(k&&h[k]&&(e||h[k].data)||d!==m||"string"!==typeof b){k||(k=g?a[f]=da.pop()||c.guid++:f);h[k]||(h[k]=g?{}:{toJSON:c.noop});if("object"===typeof b||
"function"===typeof b)e?h[k]=c.extend(h[k],b):h[k].data=c.extend(h[k].data,b);a=h[k];e||(a.data||(a.data={}),a=a.data);d!==m&&(a[c.camelCase(b)]=d);"string"===typeof b?(d=a[b],null==d&&(d=a[c.camelCase(b)])):d=a;return d}}}function S(a,b,d){if(c.acceptData(a)){var e,f,g=a.nodeType,h=g?c.cache:a,k=g?a[c.expando]:c.expando;if(h[k]){if(b&&(e=d?h[k]:h[k].data)){c.isArray(b)?b=b.concat(c.map(b,c.camelCase)):b in e?b=[b]:(b=c.camelCase(b),b=b in e?[b]:b.split(" "));for(f=b.length;f--;)delete e[b[f]];if(d?
!Ja(e):!c.isEmptyObject(e))return}if(!d&&(delete h[k].data,!Ja(h[k])))return;g?c.cleanData([a],!0):c.support.deleteExpando||h!=h.window?delete h[k]:h[k]=null}}}function ca(a,b,d){if(d===m&&1===a.nodeType)if(d="data-"+b.replace(ac,"-$1").toLowerCase(),d=a.getAttribute(d),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:bc.test(d)?c.parseJSON(d):d}catch(e){}c.data(a,b,d)}else d=m;return d}function Ja(a){for(var b in a)if(("data"!==b||!c.isEmptyObject(a[b]))&&"toJSON"!==
b)return!1;return!0}function cb(a,b){a.className!=b&&(a.className=b)}function ya(){return!0}function W(){return!1}function db(){try{return q.activeElement}catch(a){}}function eb(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function Ka(a,b,d){if(c.isFunction(b))return c.grep(a,function(a,c){return!!b.call(a,c,a)!==d});if(b.nodeType)return c.grep(a,function(a){return a===b!==d});if("string"===typeof b){if(cc.test(b))return c.filter(b,a,d);b=c.filter(b,a)}return c.grep(a,function(a){return 0<=c.inArray(a,
b)!==d})}function fb(a){var b=gb.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function hb(a,b){return c.nodeName(a,"table")&&c.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ib(a){a.type=(null!==c.find.attr(a,"type"))+"/"+a.type;return a}function jb(a){var b=dc.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function La(a,b){for(var d,
e=0;null!=(d=a[e]);e++)c._data(d,"globalEval",!b||c._data(b[e],"globalEval"))}function kb(a,b){if(1===b.nodeType&&c.hasData(a)){var d,e;var f=c._data(a);a=c._data(b,f);var g=f.events;if(g)for(d in delete a.handle,a.events={},g)for(f=0,e=g[d].length;f<e;f++)c.event.add(b,d,g[d][f]);a.data&&(a.data=c.extend({},a.data))}}function D(a,b){var d,e,f=0,g=typeof a.getElementsByTagName!==F?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==F?a.querySelectorAll(b||"*"):m;if(!g)for(g=[],d=a.childNodes||
a;null!=(e=d[f]);f++)!b||c.nodeName(e,b)?g.push(e):c.merge(g,D(e,b));return b===m||b&&c.nodeName(a,b)?c.merge([a],g):g}function ec(a){Ma.test(a.type)&&(a.defaultChecked=a.checked)}function lb(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),e=b,f=mb.length;f--;)if(b=mb[f]+c,b in a)return b;return e}function ta(a,b){a=b||a;return"none"===c.css(a,"display")||!c.contains(a.ownerDocument,a)}function nb(a,b){for(var d,e,f,g=[],h=0,k=a.length;h<k;h++)e=a[h],e.style&&(g[h]=c._data(e,
"olddisplay"),d=e.style.display,b?(g[h]||"none"!==d||(e.style.display=""),""===e.style.display&&ta(e)&&(g[h]=c._data(e,"olddisplay",ob(e.nodeName)))):g[h]||(f=ta(e),(d&&"none"!==d||!f)&&c._data(e,"olddisplay",f?d:c.css(e,"display"))));for(h=0;h<k;h++)e=a[h],!e.style||b&&"none"!==e.style.display&&""!==e.style.display||(e.style.display=b?g[h]||"":"none");return a}function pb(a,b,c){return(a=fc.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function qb(a,b,d,e,f){b=d===(e?"border":"content")?4:"width"===
b?1:0;for(var g=0;4>b;b+=2)"margin"===d&&(g+=c.css(a,d+ea[b],!0,f)),e?("content"===d&&(g-=c.css(a,"padding"+ea[b],!0,f)),"margin"!==d&&(g-=c.css(a,"border"+ea[b]+"Width",!0,f))):(g+=c.css(a,"padding"+ea[b],!0,f),"padding"!==d&&(g+=c.css(a,"border"+ea[b]+"Width",!0,f)));return g}function rb(a,b,d){var e=!0,f="width"===b?a.offsetWidth:a.offsetHeight,g=U(a),h=c.support.boxSizing&&"border-box"===c.css(a,"boxSizing",!1,g);if(0>=f||null==f){f=ka(a,b,g);if(0>f||null==f)f=a.style[b];if(za.test(f))return f;
e=h&&(c.support.boxSizingReliable||f===a.style[b]);f=parseFloat(f)||0}return f+qb(a,b,d||(h?"border":"content"),e,g)+"px"}function ob(a){var b=q,d=sb[a];d||(d=tb(a,b),"none"!==d&&d||(X=(X||c("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(X[0].contentWindow||X[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),d=tb(a,b),X.detach()),sb[a]=d);return d}function tb(a,b){a=c(b.createElement(a)).appendTo(b.body);
b=c.css(a[0],"display");a.remove();return b}function Na(a,b,d,e){var f;if(c.isArray(b))c.each(b,function(b,c){d||gc.test(a)?e(a,c):Na(a+"["+("object"===typeof c?b:"")+"]",c,d,e)});else if(d||"object"!==c.type(b))e(a,b);else for(f in b)Na(a+"["+f+"]",b[f],d,e)}function ub(a){return function(b,d){"string"!==typeof b&&(d=b,b="*");var e=0,f=b.toLowerCase().match(T)||[];if(c.isFunction(d))for(;b=f[e++];)"+"===b[0]?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(d)):(a[b]=a[b]||[]).push(d)}}function vb(a,b,
d,e){function f(k){var n;g[k]=!0;c.each(a[k]||[],function(a,c){a=c(b,d,e);if("string"===typeof a&&!h&&!g[a])return b.dataTypes.unshift(a),f(a),!1;if(h)return!(n=a)});return n}var g={},h=a===Oa;return f(b.dataTypes[0])||!g["*"]&&f("*")}function Pa(a,b){var d,e,f=c.ajaxSettings.flatOptions||{};for(e in b)b[e]!==m&&((f[e]?a:d||(d={}))[e]=b[e]);d&&c.extend(!0,a,d);return a}function wb(){try{return new l.XMLHttpRequest}catch(a){}}function xb(){setTimeout(function(){la=m});return la=c.now()}function yb(a,
b,c){for(var d,f=(fa[b]||[]).concat(fa["*"]),g=0,h=f.length;g<h;g++)if(d=f[g].call(c,b,a))return d}function zb(a,b,d){var e,f=0,g=Aa.length,h=c.Deferred().always(function(){delete k.elem}),k=function(){if(e)return!1;var b=la||xb();b=Math.max(0,n.startTime+n.duration-b);for(var c=1-(b/n.duration||0),d=0,f=n.tweens.length;d<f;d++)n.tweens[d].run(c);h.notifyWith(a,[n,c,b]);if(1>c&&f)return b;h.resolveWith(a,[n]);return!1},n=h.promise({elem:a,props:c.extend({},b),opts:c.extend(!0,{specialEasing:{}},d),
originalProperties:b,originalOptions:d,startTime:la||xb(),duration:d.duration,tweens:[],createTween:function(b,d){b=c.Tween(a,n.opts,b,d,n.opts.specialEasing[b]||n.opts.easing);n.tweens.push(b);return b},stop:function(b){var c=0,d=b?n.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)n.tweens[c].run(1);b?h.resolveWith(a,[n,b]):h.rejectWith(a,[n,b]);return this}});d=n.props;for(hc(d,n.opts.specialEasing);f<g;f++)if(b=Aa[f].call(n,a,d,n.opts))return b;c.map(d,yb,n);c.isFunction(n.opts.start)&&n.opts.start.call(a,
n);c.fx.timer(c.extend(k,{elem:a,anim:n,queue:n.opts.queue}));return n.progress(n.opts.progress).done(n.opts.done,n.opts.complete).fail(n.opts.fail).always(n.opts.always)}function hc(a,b){var d,e;for(d in a){var f=c.camelCase(d);var g=b[f];var h=a[d];c.isArray(h)&&(g=h[1],h=a[d]=h[0]);d!==f&&(a[f]=h,delete a[d]);if((e=c.cssHooks[f])&&"expand"in e)for(d in h=e.expand(h),delete a[f],h)d in a||(a[d]=h[d],b[d]=g);else b[f]=g}}function A(a,b,c,e,f){return new A.prototype.init(a,b,c,e,f)}function Ba(a,
b){var c={height:a},e=0;for(b=b?1:0;4>e;e+=2-b){var f=ea[e];c["margin"+f]=c["padding"+f]=a}b&&(c.opacity=c.width=a);return c}function Ab(a){return c.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ma,F=typeof m,ic=l.location,q=l.document,Bb=q.documentElement,ua={},da=[],Cb=da.concat,Qa=da.push,ha=da.slice,Db=da.indexOf,jc=ua.toString,Y=ua.hasOwnProperty,Ra="1.10.2".trim,c=function(a,b){return new c.fn.init(a,b,kc)},Da=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,lc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
mc=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Eb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,nc=/^[\],:{}\s]*$/,oc=/(?:^|:|,)(?:\s*\[)+/g,pc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,qc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,rc=/^-ms-/,sc=/-([\da-z])/gi,tc=function(a,b){return b.toUpperCase()},K=function(a){if(q.addEventListener||"load"===a.type||"complete"===q.readyState)Fb(),c.ready()},Fb=function(){q.addEventListener?(q.removeEventListener("DOMContentLoaded",K,!1),l.removeEventListener("load",
K,!1)):(q.detachEvent("onreadystatechange",K),l.detachEvent("onload",K))};c.fn=c.prototype={jquery:"1.10.2",constructor:c,init:function(a,b,d){if(!a)return this;if("string"===typeof a){var e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:mc.exec(a);if(!e||!e[1]&&b)return!b||b.jquery?(b||d).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof c?b[0]:b,c.merge(this,c.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:q,!0)),Eb.test(e[1])&&c.isPlainObject(b))for(e in b)if(c.isFunction(this[e]))this[e](b[e]);
else this.attr(e,b[e])}else{if((b=q.getElementById(e[2]))&&b.parentNode){if(b.id!==e[2])return d.find(a);this.length=1;this[0]=b}this.context=q;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(c.isFunction(a))return d.ready(a);a.selector!==m&&(this.selector=a.selector,this.context=a.context);return c.makeArray(a,this)},selector:"",length:0,toArray:function(){return ha.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},
pushStack:function(a){a=c.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return c.each(this,a,b)},ready:function(a){c.ready.promise().done(a);return this},slice:function(){return this.pushStack(ha.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(c.map(this,function(b,c){return a.call(b,
c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:Qa,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var a,b,d,e=arguments[0]||{},f=1,g=arguments.length,h=!1;"boolean"===typeof e&&(h=e,e=arguments[1]||{},f=2);"object"===typeof e||c.isFunction(e)||(e={});g===f&&(e=this,--f);for(;f<g;f++)if(null!=(d=arguments[f]))for(b in d){var k=e[b];var n=d[b];e!==n&&(h&&n&&(c.isPlainObject(n)||(a=c.isArray(n)))?(a?(a=!1,k=k&&c.isArray(k)?k:[]):k=
k&&c.isPlainObject(k)?k:{},e[b]=c.extend(h,k,n)):n!==m&&(e[b]=n))}return e};c.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(a){return c},isReady:!1,readyWait:1,holdReady:function(a){a?c.readyWait++:c.ready(!0)},ready:function(a){if(!0===a?!--c.readyWait:!c.isReady){if(!q.body)return setTimeout(c.ready);c.isReady=!0;!0!==a&&0<--c.readyWait||(ma.resolveWith(q,[c]),c.fn.trigger&&c(q).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===
c.type(a)},isArray:Array.isArray||function(a){return"array"===c.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?ua[jc.call(a)]||"object":typeof a},isPlainObject:function(a){var b;if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(c.support.ownLast)for(b in a)return Y.call(a,
b);for(b in a);return b===m||Y.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,d){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(d=b,b=!1);b=b||q;var e=Eb.exec(a);d=!d&&[];if(e)return[b.createElement(e[1])];e=c.buildFragment([a],b,d);d&&c(d).remove();return c.merge([],e.childNodes)},parseJSON:function(a){if(l.JSON&&l.JSON.parse)return l.JSON.parse(a);if(null===a)return a;if("string"===typeof a&&(a=c.trim(a))&&
nc.test(a.replace(pc,"@").replace(qc,"]").replace(oc,"")))return(new Function("return "+a))();c.error("Invalid JSON: "+a)},parseXML:function(a){if(!a||"string"!==typeof a)return null;try{if(l.DOMParser){var b=new DOMParser;var d=b.parseFromString(a,"text/xml")}else d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a)}catch(e){d=m}d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||c.error("Invalid XML: "+a);return d},noop:function(){},globalEval:function(a){a&&c.trim(a)&&
(l.execScript||function(a){l.eval.call(l,a)})(a)},camelCase:function(a){return a.replace(rc,"ms-").replace(sc,tc)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d=0,f=a.length;var g=t(a);if(c)if(g)for(;d<f&&(g=b.apply(a[d],c),!1!==g);d++);else for(d in a){if(g=b.apply(a[d],c),!1===g)break}else if(g)for(;d<f&&(g=b.call(a[d],d,a[d]),!1!==g);d++);else for(d in a)if(g=b.call(a[d],d,a[d]),!1===g)break;return a},trim:Ra&&!Ra.call("\ufeff\u00a0")?
function(a){return null==a?"":Ra.call(a)}:function(a){return null==a?"":(a+"").replace(lc,"")},makeArray:function(a,b){b=b||[];null!=a&&(t(Object(a))?c.merge(b,"string"===typeof a?[a]:a):Qa.call(b,a));return b},inArray:function(a,b,c){if(b){if(Db)return Db.call(b,a,c);var d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=b.length,e=a.length,f=0;if("number"===typeof c)for(;f<c;f++)a[e++]=b[f];else for(;b[f]!==m;)a[e++]=b[f++];a.length=
e;return a},grep:function(a,b,c){var d=[],f=0,g=a.length;for(c=!!c;f<g;f++){var h=!!b(a[f],f);c!==h&&d.push(a[f])}return d},map:function(a,b,c){var d=0,f=a.length,g=[];if(t(a))for(;d<f;d++){var h=b(a[d],d,c);null!=h&&(g[g.length]=h)}else for(d in a)h=b(a[d],d,c),null!=h&&(g[g.length]=h);return Cb.apply([],g)},guid:1,proxy:function(a,b){if("string"===typeof b){var d=a[b];b=a;a=d}if(!c.isFunction(a))return m;var e=ha.call(arguments,2);d=function(){return a.apply(b||this,e.concat(ha.call(arguments)))};
d.guid=a.guid=a.guid||c.guid++;return d},access:function(a,b,d,e,f,g,h){var k=0,n=a.length,l=null==d;if("object"===c.type(d))for(k in f=!0,d)c.access(a,b,k,d[k],!0,g,h);else if(e!==m&&(f=!0,c.isFunction(e)||(h=!0),l&&(h?(b.call(a,e),b=null):(l=b,b=function(a,b,d){return l.call(c(a),d)})),b))for(;k<n;k++)b(a[k],d,h?e:e.call(a[k],k,b(a[k],d)));return f?a:l?b.call(a):n?b(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,e){var d,g={};for(d in b)g[d]=a.style[d],a.style[d]=b[d];
c=c.apply(a,e||[]);for(d in b)a.style[d]=g[d];return c}});c.ready.promise=function(a){if(!ma)if(ma=c.Deferred(),"complete"===q.readyState)setTimeout(c.ready);else if(q.addEventListener)q.addEventListener("DOMContentLoaded",K,!1),l.addEventListener("load",K,!1);else{q.attachEvent("onreadystatechange",K);l.attachEvent("onload",K);var b=!1;try{b=null==l.frameElement&&q.documentElement}catch(d){}b&&b.doScroll&&function e(){if(!c.isReady){try{b.doScroll("left")}catch(f){return setTimeout(e,50)}Fb();c.ready()}}()}return ma.promise(a)};
c.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ua["[object "+b+"]"]=b.toLowerCase()});var kc=c(q);(function(a,b){function d(a,b,c,d){var e,f,g,r;(b?b.ownerDocument||b:B)!==I&&Ca(b);b=b||I;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(r=b.nodeType)&&9!==r)return[];if(Z&&!d){if(e=xa.exec(a))if(g=e[1])if(9===r)if((f=b.getElementById(g))&&f.parentNode){if(f.id===g)return c.push(f),c}else return c;else{if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&
E(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return na.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&H.getElementsByClassName&&b.getElementsByClassName)return na.apply(c,b.getElementsByClassName(g)),c}if(H.qsa&&(!R||!R.test(a))){f=e=C;g=b;var h=9===r&&a;if(1===r&&"object"!==b.nodeName.toLowerCase()){r=l(a);(e=b.getAttribute("id"))?f=e.replace(Aa,"\\$&"):b.setAttribute("id",f);f="[id='"+f+"'] ";for(g=r.length;g--;)r[g]=f+q(r[g]);g=Y.test(a)&&b.parentNode||b;h=r.join(",")}if(h)try{return na.apply(c,
g.querySelectorAll(h)),c}catch(Yc){}finally{e||b.removeAttribute("id")}}}var y;a:{a=a.replace(U,"$1");f=l(a);if(!d&&1===f.length){e=f[0]=f[0].slice(0);if(2<e.length&&"ID"===(y=e[0]).type&&H.getById&&9===b.nodeType&&Z&&z.relative[e[1].type]){b=(z.find.ID(y.matches[0].replace(oa,pa),b)||[])[0];if(!b){y=c;break a}a=a.slice(e.shift().value.length)}for(r=X.needsContext.test(a)?0:e.length;r--;){y=e[r];if(z.relative[g=y.type])break;if(g=z.find[g])if(d=g(y.matches[0].replace(oa,pa),Y.test(e[0].type)&&b.parentNode||
b)){e.splice(r,1);a=d.length&&q(e);if(!a){na.apply(c,d);y=c;break a}break}}}ua(a,f)(d,b,!Z,c,Y.test(a));y=c}return y}function e(){function a(c,d){b.push(c+=" ")>z.cacheLength&&delete a[b.shift()];return a[c]=d}var b=[];return a}function f(a){a[C]=!0;return a}function g(a){var b=I.createElement("div");try{return!!a(b)}catch(y){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function h(a,b){var c=a.split("|");for(a=a.length;a--;)z.attrHandle[c[a]]=b}function k(a,b){var c=b&&a,d=c&&1===a.nodeType&&
1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function n(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function m(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function p(a){return f(function(b){b=+b;return f(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function u(){}
function l(a,b){var c,e,f,g,h;if(g=Gb[a+" "])return b?0:g.slice(0);g=a;var r=[];for(h=z.preFilter;g;){if(!k||(c=ka.exec(g)))c&&(g=g.slice(c[0].length)||g),r.push(e=[]);var k=!1;if(c=la.exec(g))k=c.shift(),e.push({value:k,type:c[0].replace(U," ")}),g=g.slice(k.length);for(f in z.filter)!(c=X[f].exec(g))||h[f]&&!(c=h[f](c))||(k=c.shift(),e.push({value:k,type:f,matches:c}),g=g.slice(k.length));if(!k)break}return b?g.length:g?d.error(a):Gb(a,r).slice(0)}function q(a){for(var b=0,c=a.length,d="";b<c;b++)d+=
a[b].value;return d}function t(a,b,c,d){var e=b.dir,f=c&&"parentNode"===e,g=/@/.test(d),h=/\$/.test(d),r=L++;return b.first?function(b,c,d){if(g||h)for(var r=zk.Widget.$(b,{exact:1});(r=r?"parentNode"===e?r.parent:r[e]:zk.Widget.$(b))&&(b=zk.isLoaded("zul.sel")&&r.$instanceof(zul.sel.Treechildren,zul.sel.Treeitem)?b:r.$n());){if(a(b,c,d,r))return!0}else for(b=b[e];b;){if(1===b.nodeType||f)return a(b,c,d);b="parentNode"==e?zk(b).vparentNode(!0):b[e]}}:function(b,c,d){var k,y,n=ia+" "+r;if(g||h)for(k=
zk.Widget.$(b,{exact:1});(k=k?"parentNode"===e?k.parent:k[e]:zk.Widget.$(b))&&(b=k.isRealElement()?k.$n():b);){if(a(b,c,d,k))return!0}else if(d)for(;b=b[e];){if((1===b.nodeType||f)&&a(b,c,d))return!0}else for(b=b[e];b;){if(1===b.nodeType||f){var P=b[C]||(b[C]={});if((y=P[e])&&y[0]===n){if(!0===(k=y[1])||k===M)return!0===k}else if(y=P[e]=[n],y[1]=a(b,c,d)||M,!0===y[1])return!0}b="parentNode"==e?zk(b).vparentNode(!0):b[e]}}}function x(a){return 1<a.length?function(b,c,d,e){for(var f=a.length;f--;)if(!a[f](b,
c,d,e))return!1;return!0}:a[0]}function Ea(a,b,c,d,e){for(var f,g=[],h=0,r=a.length,k=null!=b;h<r;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),k&&b.push(h);return g}function D(a,b,c,e,g,h){e&&!e[C]&&(e=D(e));g&&!g[C]&&(g=D(g,h));return f(function(f,h,r,k){var y,n=[],P=[],p=h.length,J;if(!(J=f)){J=b||"*";for(var m=r.nodeType?[r]:r,u=[],l=0,v=m.length;l<v;l++)d(J,m[l],u);J=u}J=!a||!f&&b?J:Ea(J,n,a,r,k);m=c?g||(f?a:p||e)?[]:h:J;c&&c(J,m,r,k);if(e){var V=Ea(m,P);e(V,[],r,k);for(r=V.length;r--;)if(y=V[r])m[P[r]]=
!(J[P[r]]=y)}if(f){if(g||a){if(g){V=[];for(r=m.length;r--;)(y=m[r])&&V.push(J[r]=y);g(null,m=[],V,k)}for(r=m.length;r--;)(y=m[r])&&-1<(V=g?va.call(f,y):n[r])&&(f[V]=!(h[V]=y))}}else m=Ea(m===h?m.splice(p,m.length):m),g?g(null,h,m,k):na.apply(h,m)})}function O(a,b){var c,d=a.length,e=z.relative[a[0].type];var f=e||z.relative[" "];for(var g=e?1:0,h=t(function(a){return a===c},f,!0,b),r=t(function(a){return-1<va.call(c,a)},f,!0,b),k=[function(a,b,d){return!e&&(d||b!==Q)||((c=b).nodeType?h(a,b,d):r(a,
b,d))}];g<d;g++)if(f=z.relative[a[g].type])k=[t(x(k),f,!1,b)];else{f=z.filter[a[g].type].apply(null,a[g].matches);if(f[C]){for(b=++g;b<d&&!z.relative[a[b].type];b++);return D(1<g&&x(k),1<g&&q(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(U,"$1"),f,g<b&&O(a.slice(g,b)),b<d&&O(a=a.slice(b)),b<d&&q(a))}k.push(f)}return x(k)}function A(a,b){var c=0,e=0<b.length,g=0<a.length,h=function(f,h,r,k,y){var n,p,P=[],m=0,J="0",u=f&&[],l=null!=y,v=Q,V=f||g&&z.find.TAG("*",y&&h.parentNode||h),
G=ia+=null==v?1:Math.random()||.1;l&&(Q=h!==I&&h,M=c);for(;null!=(y=V[J]);J++){if(g&&y){for(n=0;p=a[n++];)if(p(y,h,r)){k.push(y);break}l&&(ia=G,M=++c)}e&&((y=!p&&y)&&m--,f&&u.push(y))}m+=J;if(e&&J!==m){for(n=0;p=b[n++];)p(u,P,h,r);if(f){if(0<m)for(;J--;)u[J]||P[J]||(P[J]=ha.call(k));P=Ea(P)}na.apply(k,P);l&&!f&&0<P.length&&1<m+b.length&&d.uniqueSort(k)}l&&(ia=G,Q=v);return u};return e?f(h):h}var w,M,Q,N,I,aa,Z,R,wa,Fa,E,C="sizzle"+-new Date,B=a.document,ia=0,L=0,T=e(),Gb=e(),Ib=e(),F=!1,S=function(a,
b){a===b&&(F=!0);return 0},K=typeof b,ea={}.hasOwnProperty,qa=[],ha=qa.pop,ja=qa.push,na=qa.push,ba=qa.slice,va=qa.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},ca="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),da="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ca+")|)|)[\\x20\\t\\r\\n\\f]*\\]",W=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+
da.replace(3,8)+")*)|.*)\\)|)",U=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ka=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,la=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Y=/[\x20\t\r\n\f]*[+~]/,ra=/=[\x20\t\r\n\f]*([^\]'"]*)[\x20\t\r\n\f]*\]/g,sa=new RegExp(W),ta=new RegExp("^"+ca+"$"),X={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,ZID:/^\$((?:[\w\u00c0-\uFFFF-]|\\.)+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),
ZTAG:/^((?:[@\w\u00c0-\uFFFF\*-]|\\.)+)/,ATTR:new RegExp("^"+da),PSEUDO:new RegExp("^"+W),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},
fa=/^[^{]+\{\s*\[native \w/,xa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ya=/^(?:input|select|textarea|button)$/i,za=/^h\d$/i,Aa=/'|\\/g,oa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,pa=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{na.apply(qa=ba.call(B.childNodes),B.childNodes),qa[B.childNodes.length].nodeType}catch(r){na={apply:qa.length?function(a,b){ja.apply(a,ba.call(b))}:function(a,b){for(var c=a.length,
d=0;a[c++]=b[d++];);a.length=c-1}}}var Ba=d.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var H=d.support={};var Ca=d.setDocument=function(b){var c=b?b.ownerDocument||b:B;b=c.defaultView;if(c===I||9!==c.nodeType||!c.documentElement)return I;I=c;aa=c.documentElement;Z=!Ba(c);b&&b.attachEvent&&b!==b.top&&b.attachEvent("onbeforeunload",function(){Ca()});H.attributes=g(function(a){a.className="i";return!a.getAttribute("className")});H.getElementsByTagName=
g(function(a){a.appendChild(c.createComment(""));return!a.getElementsByTagName("*").length});H.getElementsByClassName=g(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});H.getById=g(function(a){aa.appendChild(a).id=C;return!c.getElementsByName||!c.getElementsByName(C).length});H.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==K&&Z)return(a=b.getElementById(a))&&a.parentNode?[a]:[]},z.filter.ID=
function(a){var b=a.replace(oa,pa);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(oa,pa);return function(a){return(a=typeof a.getAttributeNode!==K&&a.getAttributeNode("id"))&&a.value===b}});z.find.TAG=H.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==K)return b.getElementsByTagName(a)}:function(a,b){var c=[],d=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[d++];)1===a.nodeType&&c.push(a);return c}return b};
z.find.CLASS=H.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==K&&Z)return b.getElementsByClassName(a)};z.find.ZID=function(b,c){return c==a||c==I?zk.Widget.getElementsById(b):jq.grep(zk.Widget.getElementsById(b),function(a){return jq.isAncestor(c,a)})};z.find.ZTAG=function(b,c){return c==a||c==I?zk.Widget.getElementsByName(b.substring(1)):jq.grep(zk.Widget.getElementsByName(b.substring(1)),function(a){return jq.isAncestor(c,a)})};wa=[];R=[];if(H.qsa=fa.test(c.querySelectorAll))g(function(a){a.innerHTML=
"<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||R.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||R.push(":checked")}),g(function(a){var b=c.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("t","");a.querySelectorAll("[t^='']").length&&R.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
a.querySelectorAll(":enabled").length||R.push(":enabled",":disabled");a.querySelectorAll("*,:x");R.push(",.*:")});(H.matchesSelector=fa.test(Fa=aa.webkitMatchesSelector||aa.mozMatchesSelector||aa.oMatchesSelector||aa.msMatchesSelector))&&g(function(a){H.disconnectedMatch=Fa.call(a,"div");Fa.call(a,"[s!='']:x");wa.push("!=",W)});R=R.length&&new RegExp(R.join("|"));wa=wa.length&&new RegExp(wa.join("|"));E=fa.test(aa.contains)||aa.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:
a;b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&(c.contains?c.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};S=aa.compareDocumentPosition?function(a,b){if(a===b)return F=!0,0;var d=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return d?d&1||!H.sortDetached&&b.compareDocumentPosition(a)===d?a===c||E(B,a)?-1:b===c||E(B,b)?1:N?va.call(N,a)-va.call(N,b):0:d&4?-1:
1:a.compareDocumentPosition?-1:1}:function(a,b){var d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(a===b)return F=!0,0;if(!e||!f)return a===c?-1:b===c?1:e?-1:f?1:N?va.call(N,a)-va.call(N,b):0;if(e===f)return k(a,b);for(;a=a.parentNode;)g.unshift(a);for(a=b;a=a.parentNode;)h.unshift(a);for(;g[d]===h[d];)d++;return d?k(g[d],h[d]):g[d]===B?-1:h[d]===B?1:0};return c};d.matches=function(a,b){return d(a,null,null,b)};d.matchesSelector=function(a,b){(a.ownerDocument||a)!==I&&Ca(a);b=b.replace(ra,"='$1']");
if(!(!H.matchesSelector||!Z||wa&&wa.test(b)||R&&R.test(b)))try{var c=Fa.call(a,b);if(c||H.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(J){}return 0<d(b,I,null,[a]).length};d.contains=function(a,b){(a.ownerDocument||a)!==I&&Ca(a);return E(a,b)};d.attr=function(a,c){(a.ownerDocument||a)!==I&&Ca(a);var d=z.attrHandle[c.toLowerCase()];d=d&&ea.call(z.attrHandle,c.toLowerCase())?d(a,c,!Z):b;return d===b?H.attributes||!Z?a.getAttribute(c):(d=a.getAttributeNode(c))&&d.specified?
d.value:null:d};d.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};d.uniqueSort=function(a){var b,c=[],d=0,e=0;F=!H.detectDuplicates;N=!H.sortStable&&a.slice(0);a.sort(S);if(F){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a};var ma=d.getText=function(a){var b="",c=0;var d=a.nodeType;if(!d)for(;d=a[c];c++)b+=ma(d);else if(1===d||9===d||11===d){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=ma(a)}else if(3===
d||4===d)return a.nodeValue;return b};var z=d.selectors={cacheLength:50,createPseudo:f,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(oa,pa);a[3]=(a[4]||a[5]||"").replace(oa,pa);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||d.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||
1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&d.error(a[0]);return a},PSEUDO:function(a){var c,d=!a[5]&&a[2];if(X.CHILD.test(a[0]))return null;a[3]&&a[4]!==b?a[2]=a[4]:d&&sa.test(d)&&(c=l(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(oa,pa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},ZTAG:function(a){var b=
a.substring(1);return function(a,c,d,e){return(e=e?e:zk.Widget.$(a,{exact:!0})||!1)&&e.className.toLowerCase().endsWith(b)}},ZID:function(a){var b=a.startsWith("$")?a.substring(1):a;return function(a,c,d,e){return(e=e?e:zk.Widget.$(a))?e.id===b:!1}},CLASS:function(a){var b=T[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),T(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==K&&a.getAttribute("class")||"")}))},ATTR:function(a,
b,c){return function(e){var f=d.attr(e,a);f||(e=zk.Widget.$(e,{exact:1}))&&(f=e.get(a)||f);if(null==f)return"!="===b;if(!b)return!0;f+="";return"="===b?f===c:"!="===b?f!==c:"^="===b?c&&0===f.indexOf(c):"*="===b?c&&-1<f.indexOf(c):"$="===b?c&&f.slice(-c.length)===c:"~="===b?-1<(" "+f+" ").indexOf(c):"|="===b?f===c||f.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,
c,k){var n;c=f!==g?"nextSibling":"previousSibling";var p=b.parentNode,r=h&&b.nodeName.toLowerCase();k=!k&&!h;if(p){if(f){for(;c;){for(n=b;n=n[c];)if(h?n.nodeName.toLowerCase()===r:1===n.nodeType)return!1;var m=c="only"===a&&!m&&"nextSibling"}return!0}m=[g?p.firstChild:p.lastChild];if(g&&k){k=p[C]||(p[C]={});var u=k[a]||[];var l=u[0]===ia&&u[1];var v=u[0]===ia&&u[2];for(n=l&&p.childNodes[l];n=++l&&n&&n[c]||(v=l=0)||m.pop();)if(1===n.nodeType&&++v&&n===b){k[a]=[ia,l,v];break}}else if(k&&(u=(b[C]||(b[C]=
{}))[a])&&u[0]===ia)v=u[1];else for(;(n=++l&&n&&n[c]||(v=l=0)||m.pop())&&((h?n.nodeName.toLowerCase()!==r:1!==n.nodeType)||!++v||(k&&((n[C]||(n[C]={}))[a]=[ia,v]),n!==b)););v-=e;return v===d||0===v%d&&0<=v/d}}},PSEUDO:function(a,b){var c=z.pseudos[a]||z.setFilters[a.toLowerCase()]||d.error("unsupported pseudo: "+a);if(c[C])return c(b);if(1<c.length){var e=[a,a,"",b];return z.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,d){for(var e,f=c(a,b),g=f.length;g--;)e=va.call(a,f[g]),a[e]=!(d[e]=
f[g])}):function(a){return c(a,0,e)}}return c}},pseudos:{not:f(function(a){var b=[],c=[],d=ua(a.replace(U,"$1"));return d[C]?f(function(a,b,c,e){e=d(a,null,e,[]);for(var f=a.length;f--;)if(c=e[f])a[f]=!(b[f]=c)}):function(a,e,f){b[0]=a;d(b,null,f,c);return!c.pop()}}),has:f(function(a){return function(b){return 0<d(a,b).length}}),contains:f(function(a){return function(b){return-1<(b.textContent||b.innerText||ma(b)).indexOf(a)}}),lang:f(function(a){ta.test(a||"")||d.error("unsupported lang: "+a);a=
a.replace(oa,pa).toLowerCase();return function(b){var c;do if(c=Z?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===aa},focus:function(a){return a===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===
a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return za.test(a.nodeName)},input:function(a){return ya.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:p(function(){return[0]}),last:p(function(a,b){return[b-1]}),eq:p(function(a,b,c){return[0>c?c+b:c]}),even:p(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:p(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:p(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:p(function(a,
b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=n(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=m(w);u.prototype=z.filters=z.pseudos;z.setFilters=new u;var ua=d.compile=function(a,b){var c,d=[],e=[],f=Ib[a+" "];if(!f){b||(b=l(a));for(c=b.length;c--;)f=O(b[c],a),f[C]?d.push(f):e.push(f);f=Ib(a,A(e,d))}return f};H.sortStable=C.split("").sort(S).join("")===C;H.detectDuplicates=F;Ca();H.sortDetached=
g(function(a){return a.compareDocumentPosition(I.createElement("div"))&1});g(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||h("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});H.attributes&&g(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||h("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});
g(function(a){return null==a.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&d.specified?d.value:!0===a[b]?b.toLowerCase():null});c.find=d;c.expr=d.selectors;c.expr[":"]=c.expr.pseudos;c.unique=d.uniqueSort;c.text=d.getText;c.isXMLDoc=d.isXML;c.contains=d.contains})(l);var bb={};c.Callbacks=function(a){a="string"===typeof a?bb[a]||
L(a):c.extend({},a);var b,d,e,f,g,h,k=[],n=!a.once&&[],l=function(c){d=a.memory&&c;e=!0;g=h||0;h=0;f=k.length;for(b=!0;k&&g<f;g++)if(!1===k[g].apply(c[0],c[1])&&a.stopOnFalse){d=!1;break}b=!1;k&&(n?n.length&&l(n.shift()):d?k=[]:p.disable())},p={add:function(){if(k){var e=k.length;(function uc(b){c.each(b,function(b,d){b=c.type(d);"function"===b?a.unique&&p.has(d)||k.push(d):d&&d.length&&"string"!==b&&uc(d)})})(arguments);b?f=k.length:d&&(h=e,l(d))}return this},remove:function(){k&&c.each(arguments,
function(a,d){for(var e;-1<(e=c.inArray(d,k,e));)k.splice(e,1),b&&(e<=f&&f--,e<=g&&g--)});return this},has:function(a){return a?-1<c.inArray(a,k):!(!k||!k.length)},empty:function(){k=[];f=0;return this},disable:function(){k=n=d=m;return this},disabled:function(){return!k},lock:function(){n=m;d||p.disable();return this},locked:function(){return!n},fireWith:function(a,c){!k||e&&!n||(c=c||[],c=[a,c.slice?c.slice():c],b?n.push(c):l(c));return this},fire:function(){p.fireWith(this,arguments);return this},
fired:function(){return!!e}};return p};c.extend({Deferred:function(a){var b=[["resolve","done",c.Callbacks("once memory"),"resolved"],["reject","fail",c.Callbacks("once memory"),"rejected"],["notify","progress",c.Callbacks("memory")]],d="pending",e={state:function(){return d},always:function(){f.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return c.Deferred(function(d){c.each(b,function(b,g){var h=g[0],k=c.isFunction(a[b])&&a[b];f[g[1]](function(){var a=k&&k.apply(this,
arguments);if(a&&c.isFunction(a.promise))a.promise().done(d.resolve).fail(d.reject).progress(d.notify);else d[h+"With"](this===e?d.promise():this,k?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?c.extend(a,e):e}},f={};e.pipe=e.then;c.each(b,function(a,c){var g=c[2],h=c[3];e[c[1]]=g.add;h&&g.add(function(){d=h},b[a^1][2].disable,b[2][2].lock);f[c[0]]=function(){f[c[0]+"With"](this===f?e:this,arguments);return this};f[c[0]+"With"]=g.fireWith});e.promise(f);a&&a.call(f,f);
return f},when:function(a){var b=0,d=ha.call(arguments),e=d.length,f=1!==e||a&&c.isFunction(a.promise)?e:0,g=1===f?a:c.Deferred(),h=function(a,b,c){return function(d){b[a]=this;c[a]=1<arguments.length?ha.call(arguments):d;c===n?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},k;if(1<e){var n=Array(e);var m=Array(e);for(k=Array(e);b<e;b++)d[b]&&c.isFunction(d[b].promise)?d[b].promise().done(h(b,k,d)).fail(g.reject).progress(h(b,m,n)):--f}f||g.resolveWith(k,d);return g.promise()}});c.support=function(a){var b,
d,e=q.createElement("div");e.setAttribute("className","t");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";var f=e.getElementsByTagName("*")||[];var g=e.getElementsByTagName("a")[0];if(!g||!g.style||!f.length)return a;var h=q.createElement("select");var k=h.appendChild(q.createElement("option"));f=e.getElementsByTagName("input")[0];g.style.cssText="top:1px;float:left;opacity:.5";a.getSetAttribute="t"!==e.className;a.leadingWhitespace=3===e.firstChild.nodeType;a.tbody=
!e.getElementsByTagName("tbody").length;a.htmlSerialize=!!e.getElementsByTagName("link").length;a.style=/top/.test(g.getAttribute("style"));a.hrefNormalized="/a"===g.getAttribute("href");a.opacity=/^0.5/.test(g.style.opacity);a.cssFloat=!!g.style.cssFloat;a.checkOn=!!f.value;a.optSelected=k.selected;a.enctype=!!q.createElement("form").enctype;a.html5Clone="<:nav></:nav>"!==q.createElement("nav").cloneNode(!0).outerHTML;a.inlineBlockNeedsLayout=!1;a.shrinkWrapBlocks=!1;a.pixelPosition=!1;a.deleteExpando=
!0;a.noCloneEvent=!0;a.reliableMarginRight=!0;a.boxSizingReliable=!0;f.checked=!0;a.noCloneChecked=f.cloneNode(!0).checked;h.disabled=!0;a.optDisabled=!k.disabled;try{delete e.test}catch(n){a.deleteExpando=!1}f=q.createElement("input");f.setAttribute("value","");a.input=""===f.getAttribute("value");f.value="t";f.setAttribute("type","radio");a.radioValue="t"===f.value;f.setAttribute("checked","t");f.setAttribute("name","t");g=q.createDocumentFragment();g.appendChild(f);a.appendChecked=f.checked;a.checkClone=
g.cloneNode(!0).cloneNode(!0).lastChild.checked;e.attachEvent&&(e.attachEvent("onclick",function(){a.noCloneEvent=!1}),e.cloneNode(!0).click());for(d in{submit:!0,change:!0,focusin:!0})e.setAttribute(g="on"+d,"t"),a[d+"Bubbles"]=g in l||!1===e.attributes[g].expando;e.style.backgroundClip="content-box";e.cloneNode(!0).style.backgroundClip="";a.clearCloneStyle="content-box"===e.style.backgroundClip;for(d in c(a))break;a.ownLast="0"!==d;c(function(){var d=q.getElementsByTagName("body")[0];if(d){var f=
q.createElement("div");f.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";d.appendChild(f).appendChild(e);e.innerHTML="<table><tr><td></td><td>t</td></tr></table>";var g=e.getElementsByTagName("td");g[0].style.cssText="padding:0;margin:0;border:0;display:none";b=0===g[0].offsetHeight;g[0].style.display="";g[1].style.display="none";a.reliableHiddenOffsets=b&&0===g[0].offsetHeight;e.innerHTML="";e.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";
c.swap(d,null!=d.style.zoom?{zoom:1}:{},function(){a.boxSizing=4===e.offsetWidth});l.getComputedStyle&&(a.pixelPosition="1%"!==(l.getComputedStyle(e,null)||{}).top,a.boxSizingReliable="4px"===(l.getComputedStyle(e,null)||{width:"4px"}).width,g=e.appendChild(q.createElement("div")),g.style.cssText=e.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g.style.marginRight=g.style.width="0",e.style.width="1px",a.reliableMarginRight=
!parseFloat((l.getComputedStyle(g,null)||{}).marginRight));typeof e.style.zoom!==F&&(e.innerHTML="",e.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===e.offsetWidth,e.style.display="block",e.innerHTML="<div></div>",e.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==e.offsetWidth,a.inlineBlockNeedsLayout&&(d.style.zoom=1));d.removeChild(f);
f=e=g=g=null}});f=h=g=k=g=f=null;return a}({});var bc=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ac=/([A-Z])/g;c.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!Ja(a)},data:function(a,b,c){return x(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return x(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&
9!==a.nodeType)return!1;var b=a.nodeName&&c.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});c.fn.extend({data:function(a,b){var d,e=null,f=0,g=this[0];if(a===m){if(this.length&&(e=c.data(g),1===g.nodeType&&!c._data(g,"parsedAttrs"))){for(d=g.attributes;f<d.length;f++){var h=d[f].name;0===h.indexOf("data-")&&(h=c.camelCase(h.slice(5)),ca(g,h,e[h]))}c._data(g,"parsedAttrs",!0)}return e}return"object"===typeof a?this.each(function(){c.data(this,a)}):1<arguments.length?
this.each(function(){c.data(this,a,b)}):g?ca(g,a,c.data(g,a)):null},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var e=c._data(a,b);d&&(!e||c.isArray(d)?e=c._data(a,b,c.makeArray(d)):e.push(d));return e||[]}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),e=d.length,f=d.shift(),g=c._queueHooks(a,b),h=function(){c.dequeue(a,b)};"inprogress"===f&&(f=d.shift(),e--);f&&("fx"===b&&d.unshift("inprogress"),delete g.stop,
f.call(a,h,g));!e&&g&&g.empty.fire()},_queueHooks:function(a,b){var d=b+"queueHooks";return c._data(a,d)||c._data(a,d,{empty:c.Callbacks("once memory").add(function(){c._removeData(a,b+"queue");c._removeData(a,d)})})}});c.fn.extend({queue:function(a,b){var d=2;"string"!==typeof a&&(b=a,a="fx",d--);return arguments.length<d?c.queue(this[0],a):b===m?this:this.each(function(){var d=c.queue(this,a,b);c._queueHooks(this,a);"fx"===a&&"inprogress"!==d[0]&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,
a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var d,e=1,f=c.Deferred(),g=this,h=this.length,k=function(){--e||f.resolveWith(g,[g])};"string"!==typeof a&&(b=a,a=m);for(a=a||"fx";h--;)(d=c._data(g[h],a+"queueHooks"))&&d.empty&&(e++,d.empty.add(k));k();return f.promise(b)}});var Sa=/[\t\r\n\f]/g,wc=/\r/g,xc=/^(?:input|select|textarea|button|object)$/i,
yc=/^(?:a|area)$/i,Ta=/^(?:checked|selected)$/i,ja=c.support.getSetAttribute,Ga=c.support.input;c.fn.extend({attr:function(a,b){return c.access(this,c.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){c.removeAttr(this,a)})},prop:function(a,b){return c.access(this,c.prop,a,b,1<arguments.length)},removeProp:function(a){a=c.propFix[a]||a;return this.each(function(){try{this[a]=m,delete this[a]}catch(b){}})},addClass:function(a){var b,d,e,f=0,g=this.length;var h="string"===
typeof a&&a;if(c.isFunction(a))return this.each(function(b){c(this).addClass(a.call(this,b,this.className))});if(h)for(h=(a||"").match(T)||[];f<g;f++){var k=this[f];if(b=1===k.nodeType&&(k.className?(" "+k.className+" ").replace(Sa," "):" ")){for(e=0;d=h[e++];)0>b.indexOf(" "+d+" ")&&(b+=d+" ");cb(k,c.trim(b))}}return this},removeClass:function(a){var b,d,e,f=0,g=this.length;var h=0===arguments.length||"string"===typeof a&&a;if(c.isFunction(a))return this.each(function(b){c(this).removeClass(a.call(this,
b,this.className))});if(h)for(h=(a||"").match(T)||[];f<g;f++){var k=this[f];if(b=1===k.nodeType&&(k.className?(" "+k.className+" ").replace(Sa," "):"")){for(e=0;d=h[e++];)for(;0<=b.indexOf(" "+d+" ");)b=b.replace(" "+d+" "," ");cb(k,a?c.trim(b):"")}}return this},toggleClass:function(a,b){var d=typeof a;return"boolean"===typeof b&&"string"===d?b?this.addClass(a):this.removeClass(a):c.isFunction(a)?this.each(function(d){c(this).toggleClass(a.call(this,d,this.className,b),b)}):this.each(function(){if("string"===
d)for(var b,f=0,g=c(this),h=a.match(T)||[];b=h[f++];)g.hasClass(b)?g.removeClass(b):g.addClass(b);else if(d===F||"boolean"===d)this.className&&c._data(this,"__className__",this.className),this.className=this.className||!1===a?"":c._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Sa," ").indexOf(a))return!0;return!1},val:function(a){var b,d,e=this[0];if(arguments.length){var f=c.isFunction(a);
return this.each(function(b){1===this.nodeType&&(b=f?a.call(this,b,c(this).val()):a,null==b?b="":"number"===typeof b?b+="":c.isArray(b)&&(b=c.map(b,function(a){return null==a?"":a+""})),d=c.valHooks[this.type]||c.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,b,"value")!==m||(this.value=b))})}if(e){if((d=c.valHooks[e.type]||c.valHooks[e.nodeName.toLowerCase()])&&"get"in d&&(b=d.get(e,"value"))!==m)return b;b=e.value;return"string"===typeof b?b.replace(wc,""):null==b?"":b}}});c.extend({valHooks:{option:{get:function(a){var b=
c.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,d=a.options,e=a.selectedIndex,f=(a="select-one"===a.type||0>e)?null:[],g=a?e+1:d.length,h=0>e?g:a?e:0;h<g;h++)if(b=d[h],!(!b.selected&&h!==e||(c.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&c.nodeName(b.parentNode,"optgroup"))){b=c(b).val();if(a)return b;f.push(b)}return f},set:function(a,b){for(var d,e=a.options,f=c.makeArray(b),g=e.length;g--;)if(b=e[g],b.selected=0<=c.inArray(c(b).val(),
f))d=!0;d||(a.selectedIndex=-1);return f}}},attr:function(a,b,d){var e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){if(typeof a.getAttribute===F)return c.prop(a,b,d);if(1!==f||!c.isXMLDoc(a)){b=b.toLowerCase();var g=c.attrHooks[b]||(c.expr.match.bool.test(b)?zc:xa)}if(d!==m)if(null===d)c.removeAttr(a,b);else{if(g&&"set"in g&&(e=g.set(a,d,b))!==m)return e;a.setAttribute(b,d+"");return d}else{if(g&&"get"in g&&null!==(e=g.get(a,b)))return e;e=c.find.attr(a,b);return null==e?m:e}}},removeAttr:function(a,b){var d=
0,e=b&&b.match(T);if(e&&1===a.nodeType)for(;b=e[d++];){var f=c.propFix[b]||b;c.expr.match.bool.test(b)?Ga&&ja||!Ta.test(b)?a[f]=!1:a[c.camelCase("default-"+b)]=a[f]=!1:c.attr(a,b,"");a.removeAttribute(ja?b:f)}},attrHooks:{type:{set:function(a,b){if(!c.support.radioValue&&"radio"===b&&c.nodeName(a,"input")){var d=a.value;a.setAttribute("type",b);d&&(a.value=d);return b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,d){var e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){if(1!==f||!c.isXMLDoc(a)){b=
c.propFix[b]||b;var g=c.propHooks[b]}return d!==m?g&&"set"in g&&(e=g.set(a,d,b))!==m?e:a[b]=d:g&&"get"in g&&null!==(e=g.get(a,b))?e:a[b]}},propHooks:{tabIndex:{get:function(a){var b=c.find.attr(a,"tabindex");return b?parseInt(b,10):xc.test(a.nodeName)||yc.test(a.nodeName)&&a.href?0:-1}}}});var zc={set:function(a,b,d){!1===b?c.removeAttr(a,d):Ga&&ja||!Ta.test(d)?a.setAttribute(!ja&&c.propFix[d]||d,d):a[c.camelCase("default-"+d)]=a[d]=!0;return d}};c.each(c.expr.match.bool.source.match(/\w+/g),function(a,
b){var d=c.expr.attrHandle[b]||c.find.attr;c.expr.attrHandle[b]=Ga&&ja||!Ta.test(b)?function(a,b,g){var e=c.expr.attrHandle[b];a=g?m:(c.expr.attrHandle[b]=m)!=d(a,b,g)?b.toLowerCase():null;c.expr.attrHandle[b]=e;return a}:function(a,b,d){return d?m:a[c.camelCase("default-"+b)]?b.toLowerCase():null}});Ga&&ja||(c.attrHooks.value={set:function(a,b,d){if(c.nodeName(a,"input"))a.defaultValue=b;else return xa&&xa.set(a,b,d)}});if(!ja){var xa={set:function(a,b,c){var d=a.getAttributeNode(c);d||a.setAttributeNode(d=
a.ownerDocument.createAttribute(c));d.value=b+="";return"value"===c||b===a.getAttribute(c)?b:m}};c.expr.attrHandle.id=c.expr.attrHandle.name=c.expr.attrHandle.coords=function(a,b,c){var d;return c?m:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null};c.valHooks.button={get:function(a,b){return(a=a.getAttributeNode(b))&&a.specified?a.value:m},set:xa.set};c.attrHooks.contenteditable={set:function(a,b,c){xa.set(a,""===b?!1:b,c)}};c.each(["width","height"],function(a,b){c.attrHooks[b]={set:function(a,
c){if(""===c)return a.setAttribute(b,"auto"),c}}})}c.support.hrefNormalized||c.each(["href","src"],function(a,b){c.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});c.support.style||(c.attrHooks.style={get:function(a){return a.style.cssText||m},set:function(a,b){return a.style.cssText=b+""}});c.support.optSelected||(c.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}});c.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){c.propFix[this.toLowerCase()]=this});c.support.enctype||(c.propFix.enctype="encoding");c.each(["radio","checkbox"],function(){c.valHooks[this]={set:function(a,b){if(c.isArray(b))return a.checked=0<=c.inArray(c(a).val(),b)}};c.support.checkOn||(c.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Ua=/^(?:input|select|textarea)$/i,Ac=/^key/,Bc=/^(?:mouse|contextmenu)|click/,Jb=/^(?:focusinfocus|focusoutblur)$/,Kb=/^([^.]*)(?:\.(.+)|)$/;c.event={global:{},
add:function(a,b,d,e,f){var g,h,k,n,l;if(h=c._data(a)){if(d.handler){var p=d;d=p.handler;f=p.selector}d.guid||(d.guid=c.guid++);(g=h.events)||(g=h.events={});(k=h.handle)||(k=h.handle=function(a){return typeof c===F||a&&c.event.triggered===a.type?m:c.event.dispatch.apply(k.elem,arguments)},k.elem=a);b=(b||"").match(T)||[""];for(h=b.length;h--;){var u=Kb.exec(b[h])||[];var G=n=u[1];var q=(u[2]||"").split(".").sort();G&&(u=c.event.special[G]||{},G=(f?u.delegateType:u.bindType)||G,u=c.event.special[G]||
{},n=c.extend({type:G,origType:n,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&c.expr.match.needsContext.test(f),namespace:q.join(".")},p),(l=g[G])||(l=g[G]=[],l.delegateCount=0,u.setup&&!1!==u.setup.call(a,e,q,k)||(a.addEventListener?a.addEventListener(G,k,!1):a.attachEvent&&a.attachEvent("on"+G,k))),u.add&&(u.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?l.splice(l.delegateCount++,0,n):l.push(n),c.event.global[G]=!0)}a=null}},remove:function(a,b,d,e,f){var g,h,k,n,m,p=c.hasData(a)&&
c._data(a);if(p&&(n=p.events)){b=(b||"").match(T)||[""];for(k=b.length;k--;){var l=Kb.exec(b[k])||[];var q=m=l[1];var t=(l[2]||"").split(".").sort();if(q){var x=c.event.special[q]||{};q=(e?x.delegateType:x.bindType)||q;var D=n[q]||[];l=l[2]&&new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=g=D.length;g--;){var E=D[g];!f&&m!==E.origType||d&&d.guid!==E.guid||l&&!l.test(E.namespace)||e&&e!==E.selector&&("**"!==e||!E.selector)||(D.splice(g,1),E.selector&&D.delegateCount--,x.remove&&x.remove.call(a,
E))}h&&!D.length&&(x.teardown&&!1!==x.teardown.call(a,t,p.handle)||c.removeEvent(a,q,p.handle),delete n[q])}else for(q in n)c.event.remove(a,q+b[k],d,e,!0)}c.isEmptyObject(n)&&(delete p.handle,c._removeData(a,"events"))}},trigger:function(a,b,d,e){var f,g,h=[d||q],k=Y.call(a,"type")?a.type:a;var n=Y.call(a,"namespace")?a.namespace.split("."):[];var v=f=d=d||q;if(3!==d.nodeType&&8!==d.nodeType&&!Jb.test(k+c.event.triggered)){0<=k.indexOf(".")&&(n=k.split("."),k=n.shift(),n.sort());var p=0>k.indexOf(":")&&
"on"+k;a=a[c.expando]?a:new c.Event(k,"object"===typeof a&&a);a.isTrigger=e?2:3;a.namespace=n.join(".");a.namespace_re=a.namespace?new RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;a.result=m;a.target||(a.target=d);b=null==b?[a]:c.makeArray(b,[a]);n=c.event.special[k]||{};if(e||!n.trigger||!1!==n.trigger.apply(d,b)){if(!e&&!n.noBubble&&!c.isWindow(d)){var u=n.delegateType||k;Jb.test(u+k)||(v=v.parentNode);for(;v;v=v.parentNode)h.push(v),f=v;f===(d.ownerDocument||q)&&h.push(f.defaultView||
f.parentWindow||l)}for(g=0;(v=h[g++])&&!a.isPropagationStopped();)a.type=1<g?u:n.bindType||k,(f=(c._data(v,"events")||{})[a.type]&&c._data(v,"handle"))&&f.apply(v,b),(f=p&&v[p])&&c.acceptData(v)&&f.apply&&!1===f.apply(v,b)&&a.preventDefault();a.type=k;if(!(e||a.isDefaultPrevented()||n._default&&!1!==n._default.apply(h.pop(),b))&&c.acceptData(d)&&p&&d[k]&&!c.isWindow(d)){(f=d[p])&&(d[p]=null);c.event.triggered=k;try{d[k]()}catch(G){}c.event.triggered=m;f&&(d[p]=f)}return a.result}}},dispatch:function(a){a=
c.event.fix(a);var b,d,e,f=ha.call(arguments);var g=(c._data(this,"events")||{})[a.type]||[];var h=c.event.special[a.type]||{};f[0]=a;a.delegateTarget=this;if(!h.preDispatch||!1!==h.preDispatch.call(this,a)){var k=c.event.handlers.call(this,a,g);for(g=0;(d=k[g++])&&!a.isPropagationStopped();)for(a.currentTarget=d.elem,e=0;(b=d.handlers[e++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(b.namespace))a.handleObj=b,a.data=b.data,b=((c.event.special[b.origType]||{}).handle||
b.handler).apply(d.elem,f),b!==m&&!1===(a.result=b)&&(a.preventDefault(),a.stopPropagation());h.postDispatch&&h.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var d,e=[],f=b.delegateCount,g=a.target;if(f&&g.nodeType&&(!a.button||"click"!==a.type))for(;g!=this;g=g.parentNode||this)if(1===g.nodeType&&(!0!==g.disabled||"click"!==a.type)){var h=[];for(d=0;d<f;d++){var k=b[d];var n=k.selector+" ";h[n]===m&&(h[n]=k.needsContext?0<=c(n,this).index(g):c.find(n,this,null,[g]).length);h[n]&&
h.push(k)}h.length&&e.push({elem:g,handlers:h})}f<b.length&&e.push({elem:this,handlers:b.slice(f)});return e},fix:function(a){if(a[c.expando])return a;var b=a.type;var d=a,e=this.fixHooks[b];e||(this.fixHooks[b]=e=Bc.test(b)?this.mouseHooks:Ac.test(b)?this.keyHooks:{});var f=e.props?this.props.concat(e.props):this.props;a=new c.Event(d);for(b=f.length;b--;){var g=f[b];a[g]=d[g]}a.target||(a.target=d.srcElement||q);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return e.filter?
e.filter(a,d):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c=b.button,e=b.fromElement;if(null==
a.pageX&&null!=b.clientX){var f=a.target.ownerDocument||q;var g=f.documentElement;f=f.body;a.pageX=b.clientX+(g&&g.scrollLeft||f&&f.scrollLeft||0)-(g&&g.clientLeft||f&&f.clientLeft||0);a.pageY=b.clientY+(g&&g.scrollTop||f&&f.scrollTop||0)-(g&&g.clientTop||f&&f.clientTop||0)}!a.relatedTarget&&e&&(a.relatedTarget=e===a.target?b.toElement:e);a.which||c===m||(a.which=c&1?1:c&2?3:c&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus)try{return this.focus(),
!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===db()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(c.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return c.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==m&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,d,e){a=c.extend(new c.Event,d,{type:a,isSimulated:!0,originalEvent:{}});e?c.event.trigger(a,
null,b):c.event.dispatch.call(b,a);a.isDefaultPrevented()&&d.preventDefault()}};c.removeEvent=q.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===F&&(a[b]=null),a.detachEvent(b,c))};c.Event=function(a,b){if(!(this instanceof c.Event))return new c.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?
ya:W):this.type=a;b&&c.extend(this,b);this.timeStamp=a&&a.timeStamp||c.now();this[c.expando]=!0};c.Event.prototype={isDefaultPrevented:W,isPropagationStopped:W,isImmediatePropagationStopped:W,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ya;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ya;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
ya;this.stopPropagation()}};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={delegateType:b,bindType:b,handle:function(a){var d=a.relatedTarget,f=a.handleObj;if(!d||d!==this&&!c.contains(this,d)){a.type=f.origType;var g=f.handler.apply(this,arguments);a.type=b}return g}}});c.support.submitBubbles||(c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return!1;c.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=c.nodeName(a,
"input")||c.nodeName(a,"button")?a.form:m)&&!c._data(a,"submitBubbles")&&(c.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),c._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&c.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(c.nodeName(this,"form"))return!1;c.event.remove(this,"._submit")}});c.support.changeBubbles||(c.event.special.change={setup:function(){if(Ua.test(this.nodeName)){if("checkbox"===
this.type||"radio"===this.type)c.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),c.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);c.event.simulate("change",this,a,!0)});return!1}c.event.add(this,"beforeactivate._change",function(a){a=a.target;Ua.test(a.nodeName)&&!c._data(a,"changeBubbles")&&(c.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||
c.event.simulate("change",this.parentNode,a,!0)}),c._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){c.event.remove(this,"._change");return!Ua.test(this.nodeName)}});c.support.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){c.event.simulate(b,a.target,c.event.fix(a),!0)};c.event.special[b]=
{setup:function(){0===d++&&q.addEventListener(a,e,!0)},teardown:function(){0===--d&&q.removeEventListener(a,e,!0)}}});c.fn.extend({on:function(a,b,d,e,f){var g;if("object"===typeof a){"string"!==typeof b&&(d=d||b,b=m);for(g in a)this.on(g,b,d,a[g],f);return this}null==d&&null==e?(e=b,d=b=m):null==e&&("string"===typeof b?(e=d,d=m):(e=d,d=b,b=m));if(!1===e)e=W;else if(!e)return this;if(1===f){var h=e;e=function(a){c().off(a);return h.apply(this,arguments)};e.guid=h.guid||(h.guid=c.guid++)}return this.each(function(){c.event.add(this,
a,e,d,b)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(a,b,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;c(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if("object"===typeof a){for(e in a)this.off(e,b,a[e]);return this}if(!1===b||"function"===typeof b)d=b,b=m;!1===d&&(d=W);return this.each(function(){c.event.remove(this,a,d,b)})},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},
triggerHandler:function(a,b){var d=this[0];if(d)return c.event.trigger(a,b,d,!0)}});var cc=/^.[^:#\[\.,]*$/,Cc=/^(?:parents|prev(?:Until|All))/,Lb=c.expr.match.needsContext,Dc={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({find:function(a){var b,d=[],e=this,f=e.length;if("string"!==typeof a)return this.pushStack(c(a).filter(function(){for(b=0;b<f;b++)if(c.contains(e[b],this))return!0}));for(b=0;b<f;b++)c.find(a,e[b],d);d=this.pushStack(1<f?c.unique(d):d);d.selector=this.selector?this.selector+
" "+a:a;return d},has:function(a){var b,d=c(a,this),e=d.length;return this.filter(function(){for(b=0;b<e;b++)if(c.contains(this,d[b]))return!0})},not:function(a){return this.pushStack(Ka(this,a||[],!0))},filter:function(a){return this.pushStack(Ka(this,a||[],!1))},is:function(a){return!!Ka(this,"string"===typeof a&&Lb.test(a)?c(a):a||[],!1).length},closest:function(a,b){for(var d,e=0,f=this.length,g=[],h=Lb.test(a)||"string"!==typeof a?c(a,b||this.context):0;e<f;e++)for(d=this[e];d&&d!==b;d=d.parentNode)if(11>
d.nodeType&&(h?-1<h.index(d):1===d.nodeType&&c.find.matchesSelector(d,a))){g.push(d);break}return this.pushStack(1<g.length?c.unique(g):g)},index:function(a){return a?"string"===typeof a?c.inArray(this[0],c(a)):c.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){a="string"===typeof a?c(a,b):c.makeArray(a&&a.nodeType?[a]:a);a=c.merge(this.get(),a);return this.pushStack(c.unique(a))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});c.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",d)},next:function(a){return eb(a,"nextSibling")},prev:function(a){return eb(a,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,
"previousSibling",d)},siblings:function(a){return c.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.merge([],a.childNodes)}},function(a,b){c.fn[a]=function(d,e){var f=c.map(this,b,d);"Until"!==a.slice(-5)&&(e=d);e&&"string"===typeof e&&(f=c.filter(e,f));1<this.length&&(Dc[a]||(f=c.unique(f)),Cc.test(a)&&(f=f.reverse()));return this.pushStack(f)}});c.extend({filter:function(a,
b,d){var e=b[0];d&&(a=":not("+a+")");return 1===b.length&&1===e.nodeType?c.find.matchesSelector(e,a)?[e]:[]:c.find.matches(a,c.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,b,d){var e=[];for(a=a[b];a&&9!==a.nodeType&&(d===m||1!==a.nodeType||!c(a).is(d));)1===a.nodeType&&e.push(a),a=a[b];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var gb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
Ec=/ jQuery\d+="(?:null|\d+)"/g,Mb=new RegExp("<(?:"+gb+")[\\s/>]","i"),Va=/^\s+/,Nb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ob=/<([\w:]+)/,Pb=/<tbody/i,Fc=/<|&#?\w+;/,Gc=/<(?:script|style|link)/i,Ma=/^(?:checkbox|radio)$/i,Hc=/checked\s*(?:[^=]|=\s*.checked.)/i,Qb=/^$|\/(?:java|ecma)script/i,dc=/^true\/(.*)/,Ic=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,E={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>",
"</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:c.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Wa=fb(q).appendChild(q.createElement("div"));E.optgroup=E.option;E.tbody=E.tfoot=E.colgroup=E.caption=E.thead;E.th=E.td;c.fn.extend({text:function(a){return c.access(this,function(a){return a===m?c.text(this):
this.empty().append((this[0]&&this[0].ownerDocument||q).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||hb(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=hb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&
this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var d=a?c.filter(a,this):this,e=0;null!=(a=d[e]);e++)b||1!==a.nodeType||c.cleanData(D(a)),a.parentNode&&(b&&c.contains(a.ownerDocument,a)&&La(D(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&c.cleanData(D(a,!1));a.firstChild;)a.removeChild(a.firstChild);
a.options&&c.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return c.clone(this,a,b)})},html:function(a){return c.access(this,function(a){var b=this[0]||{},e=0,f=this.length;if(a===m)return 1===b.nodeType?b.innerHTML.replace(Ec,""):m;if(!("string"!==typeof a||Gc.test(a)||!c.support.htmlSerialize&&Mb.test(a)||!c.support.leadingWhitespace&&Va.test(a)||E[(Ob.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Nb,"<$1></$2>");
try{for(;e<f;e++)b=this[e]||{},1===b.nodeType&&(c.cleanData(D(b,!1)),b.innerHTML=a);b=0}catch(g){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=c.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;this.domManip(arguments,function(d){var e=a[b++],f=a[b++];f&&(e&&e.parentNode!==f&&(e=this.nextSibling),c(this).remove(),f.insertBefore(d,e))},!0);return b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,d){a=Cb.apply([],
a);var e,f=0,g=this.length,h=this,k=g-1,n=a[0],m=c.isFunction(n);if(m||!(1>=g||"string"!==typeof n||c.support.checkClone)&&Hc.test(n))return this.each(function(c){var e=h.eq(c);m&&(a[0]=n.call(this,c,e.html()));e.domManip(a,b,d)});if(g){var p=c.buildFragment(a,this[0].ownerDocument,!1,!d&&this);var l=p.firstChild;1===p.childNodes.length&&(p=l);if(l){var q=c.map(D(p,"script"),ib);for(e=q.length;f<g;f++)l=p,f!==k&&(l=c.clone(l,!0,!0),e&&c.merge(q,D(l,"script"))),b.call(this[f],l,f);if(e)for(p=q[q.length-
1].ownerDocument,c.map(q,jb),f=0;f<e;f++)l=q[f],Qb.test(l.type||"")&&!c._data(l,"globalEval")&&c.contains(p,l)&&(l.src?c._evalUrl(l.src):c.globalEval((l.text||l.textContent||l.innerHTML||"").replace(Ic,"")));p=l=null}}return this}});c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(a){for(var d=0,f=[],g=c(a),h=g.length-1;d<=h;d++)a=d===h?this:this.clone(!0),c(g[d])[b](a),Qa.apply(f,a.get());return this.pushStack(f)}});
c.extend({clone:function(a,b,d){var e,f,g=c.contains(a.ownerDocument,a);if(c.support.html5Clone||c.isXMLDoc(a)||!Mb.test("<"+a.nodeName+">"))var h=a.cloneNode(!0);else Wa.innerHTML=a.outerHTML,Wa.removeChild(h=Wa.firstChild);if(!(c.support.noCloneEvent&&c.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||c.isXMLDoc(a))){var k=D(h);var n=D(a);for(f=0;null!=(e=n[f]);++f)if(k[f]){var l=void 0,p=e,m=k[f];if(1===m.nodeType){var q=m.nodeName.toLowerCase();if(!c.support.noCloneEvent&&m[c.expando]){e=
c._data(m);for(l in e.events)c.removeEvent(m,l,e.handle);m.removeAttribute(c.expando)}if("script"===q&&m.text!==p.text)ib(m).text=p.text,jb(m);else if("object"===q)m.parentNode&&(m.outerHTML=p.outerHTML),c.support.html5Clone&&p.innerHTML&&!c.trim(m.innerHTML)&&(m.innerHTML=p.innerHTML);else if("input"===q&&Ma.test(p.type))m.defaultChecked=m.checked=p.checked,m.value!==p.value&&(m.value=p.value);else if("option"===q)m.defaultSelected=m.selected=p.defaultSelected;else if("input"===q||"textarea"===q)m.defaultValue=
p.defaultValue}}}if(b)if(d)for(n=n||D(a),k=k||D(h),f=0;null!=(e=n[f]);f++)kb(e,k[f]);else kb(a,h);k=D(h,"script");0<k.length&&La(k,!g&&D(a,"script"));return h},buildFragment:function(a,b,d,e){for(var f,g,h,k,n,m,l=a.length,q=fb(b),t=[],x=0;x<l;x++)if((g=a[x])||0===g)if("object"===c.type(g))c.merge(t,g.nodeType?[g]:g);else if(Fc.test(g)){h=h||q.appendChild(b.createElement("div"));k=(Ob.exec(g)||["",""])[1].toLowerCase();m=E[k]||E._default;h.innerHTML=m[1]+g.replace(Nb,"<$1></$2>")+m[2];for(f=m[0];f--;)h=
h.lastChild;!c.support.leadingWhitespace&&Va.test(g)&&t.push(b.createTextNode(Va.exec(g)[0]));if(!c.support.tbody)for(f=(g="table"!==k||Pb.test(g)?"<table>"!==m[1]||Pb.test(g)?0:h:h.firstChild)&&g.childNodes.length;f--;)c.nodeName(n=g.childNodes[f],"tbody")&&!n.childNodes.length&&g.removeChild(n);c.merge(t,h.childNodes);for(h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=q.lastChild}else t.push(b.createTextNode(g));h&&q.removeChild(h);c.support.appendChecked||c.grep(D(t,"input"),ec);
for(x=0;g=t[x++];)if(!e||-1===c.inArray(g,e))if(a=c.contains(g.ownerDocument,g),h=D(q.appendChild(g),"script"),a&&La(h),d)for(f=0;g=h[f++];)Qb.test(g.type||"")&&d.push(g);return q},cleanData:function(a,b){for(var d,e,f,g,h=0,k=c.expando,n=c.cache,m=c.support.deleteExpando,l=c.event.special;null!=(d=a[h]);h++)if(b||c.acceptData(d))if(g=(f=d[k])&&n[f]){if(g.events)for(e in g.events)l[e]?c.event.remove(d,e):c.removeEvent(d,e,g.handle);n[f]&&(delete n[f],m?delete d[k]:typeof d.removeAttribute!==F?d.removeAttribute(k):
d[k]=null,da.push(f))}},_evalUrl:function(a){return c.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});c.fn.extend({wrapAll:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapAll(a.call(this,b))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return c.isFunction(a)?
this.each(function(b){c(this).wrapInner(a.call(this,b))}):this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){var b=c.isFunction(a);return this.each(function(d){c(this).wrapAll(b?a.call(this,d):a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()}});var X,Xa=/alpha\([^)]*\)/i,Jc=/opacity\s*=\s*([^)]*)/,Kc=/^(top|right|bottom|left)$/,Lc=/^(none|table(?!-c[ea]).+)/,Rb=/^margin/,
fc=new RegExp("^("+Da+")(.*)$","i"),za=new RegExp("^("+Da+")(?!px)[a-z%]+$","i"),Mc=new RegExp("^([+-])=("+Da+")","i"),sb={BODY:"block"},Nc={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:0,fontWeight:400},ea=["Top","Right","Bottom","Left"],mb=["Webkit","O","Moz","ms"];c.fn.extend({css:function(a,b){return c.access(this,function(a,b,f){var d={},e=0;if(c.isArray(b)){var k=U(a);for(f=b.length;e<f;e++)d[b[e]]=c.css(a,b[e],!1,k);return d}return f!==m?c.style(a,b,f):c.css(a,
b)},a,b,1<arguments.length)},show:function(){return nb(this,!0)},hide:function(){return nb(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){ta(this)?c(this).show():c(this).hide()})}});c.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=ka(a,"opacity"),""===a?"1":a}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":c.support.cssFloat?"cssFloat":
"styleFloat"},style:function(a,b,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g=c.camelCase(b),h=a.style;b=c.cssProps[g]||(c.cssProps[g]=lb(h,g));var k=c.cssHooks[b]||c.cssHooks[g];if(d!==m){var n=typeof d;"string"===n&&(f=Mc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(c.css(a,b)),n="number");if(!(null==d||"number"===n&&isNaN(d)||("number"!==n||c.cssNumber[g]||(d+="px"),c.support.clearCloneStyle||""!==d||0!==b.indexOf("background")||(h[b]="inherit"),k&&"set"in k&&(d=k.set(a,d,e))===m)))try{h[b]=
d}catch(v){}}else return k&&"get"in k&&(f=k.get(a,!1,e))!==m?f:h[b]}},css:function(a,b,d,e){var f;var g=c.camelCase(b);b=c.cssProps[g]||(c.cssProps[g]=lb(a.style,g));(g=c.cssHooks[b]||c.cssHooks[g])&&"get"in g&&(f=g.get(a,!0,d));f===m&&(f=ka(a,b,e));"normal"===f&&b in Sb&&(f=Sb[b]);return""===d||d?(a=parseFloat(f),!0===d||c.isNumeric(a)?a||0:f):f}});if(l.getComputedStyle){var U=function(a){return l.getComputedStyle(a,null)};var ka=function(a,b,d){var e=(d=d||U(a))?d.getPropertyValue(b)||d[b]:m,f=
a.style;if(d&&(""!==e||c.contains(a.ownerDocument,a)||(e=c.style(a,b)),za.test(e)&&Rb.test(b))){a=f.width;b=f.minWidth;var g=f.maxWidth;f.minWidth=f.maxWidth=f.width=e;e=d.width;f.width=a;f.minWidth=b;f.maxWidth=g}return e}}else q.documentElement.currentStyle&&(U=function(a){return a.currentStyle},ka=function(a,b,c){var d,f,g=(c=c||U(a))?c[b]:m,h=a.style;null==g&&h&&h[b]&&(g=h[b]);if(za.test(g)&&!Kc.test(b)){c=h.left;if(f=(d=a.runtimeStyle)&&d.left)d.left=a.currentStyle.left;h.left="fontSize"===b?
"1em":g;g=h.pixelLeft+"px";h.left=c;f&&(d.left=f)}return""===g?"auto":g});c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(a,e,f){if(e)return 0===a.offsetWidth&&Lc.test(c.css(a,"display"))?c.swap(a,Nc,function(){return rb(a,b,f)}):rb(a,b,f)},set:function(a,e,f){var d=f&&U(a);return pb(a,e,f?qb(a,b,f,c.support.boxSizing&&"border-box"===c.css(a,"boxSizing",!1,d),d):0)}}});c.support.opacity||(c.cssHooks.opacity={get:function(a,b){return Jc.test((b&&a.currentStyle?a.currentStyle.filter:
a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var d=a.style;a=a.currentStyle;var e=c.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=a&&a.filter||d.filter||"";d.zoom=1;if((1<=b||""===b)&&""===c.trim(f.replace(Xa,""))&&d.removeAttribute&&(d.removeAttribute("filter"),""===b||a&&!a.filter))return;d.filter=Xa.test(f)?f.replace(Xa,e):f+" "+e}});c(function(){c.support.reliableMarginRight||(c.cssHooks.marginRight={get:function(a,b){if(b)return c.swap(a,{display:"inline-block"},
ka,[a,"marginRight"])}});!c.support.pixelPosition&&c.fn.position&&c.each(["top","left"],function(a,b){c.cssHooks[b]={get:function(a,e){if(e)return e=ka(a,b),za.test(e)?c(a).position()[b]+"px":e}}})});c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!c.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||c.css(a,"display"))},c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});c.each({margin:"",padding:"",border:"Width"},
function(a,b){c.cssHooks[a+b]={expand:function(c){var d=0,f={};for(c="string"===typeof c?c.split(" "):[c];4>d;d++)f[a+ea[d]+b]=c[d]||c[d-2]||c[0];return f}};Rb.test(a)||(c.cssHooks[a+b].set=pb)});var Oc=/%20/g,gc=/\[\]$/,Tb=/\r?\n/g,Pc=/^(?:submit|button|image|reset|file)$/i,Qc=/^(?:input|select|textarea|keygen)/i;c.fn.extend({serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=c.prop(this,"elements");return a?c.makeArray(a):this}).filter(function(){var a=
this.type;return this.name&&!c(this).is(":disabled")&&Qc.test(this.nodeName)&&!Pc.test(a)&&(this.checked||!Ma.test(a))}).map(function(a,b){a=c(this).val();return null==a?null:c.isArray(a)?c.map(a,function(a){return{name:b.name,value:a.replace(Tb,"\r\n")}}):{name:b.name,value:a.replace(Tb,"\r\n")}}).get()}});c.param=function(a,b){var d,e=[],f=function(a,b){b=c.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===m&&(b=c.ajaxSettings&&c.ajaxSettings.traditional);
if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){f(this.name,this.value)});else for(d in a)Na(d,a[d],b,f);return e.join("&").replace(Oc,"+")};c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){c.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});c.fn.extend({hover:function(a,
b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ya=c.now(),Za=/\?/,Rc=/#.*$/,Ub=/([?&])_=[^&]*/,Sc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Tc=/^(?:GET|HEAD)$/,Uc=/^\/\//,Vb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Wb=c.fn.load,Xb={},Oa={},Yb="*/".concat("*");
try{var ba=ic.href}catch(a){ba=q.createElement("a"),ba.href="",ba=ba.href}var ra=Vb.exec(ba.toLowerCase())||[];c.fn.load=function(a,b,d){if("string"!==typeof a&&Wb)return Wb.apply(this,arguments);var e,f,g=this,h=a.indexOf(" ");if(0<=h){var k=a.slice(h,a.length);a=a.slice(0,h)}c.isFunction(b)?(d=b,b=m):b&&"object"===typeof b&&(f="POST");0<g.length&&c.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments;g.html(k?c("<div>").append(c.parseHTML(a)).find(k):a)}).complete(d&&function(a,
b){g.each(d,e||[a.responseText,b,a])});return this};c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(a){return this.on(b,a)}});c.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ba,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ra[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Pa(Pa(a,c.ajaxSettings),b):Pa(c.ajaxSettings,a)},ajaxPrefilter:ub(Xb),ajaxTransport:ub(Oa),ajax:function(a,b,d){function e(a,b,d,e){var f=b;if(2!==O){O=2;h&&clearTimeout(h);n=m;g=e||"";
w.readyState=0<a?4:0;e=200<=a&&300>a||304===a;if(d){var l=p;for(var v=w,u,Q,C,B,N=l.contents,G=l.dataTypes;"*"===G[0];)G.shift(),Q===m&&(Q=l.mimeType||v.getResponseHeader("Content-Type"));if(Q)for(B in N)if(N[B]&&N[B].test(Q)){G.unshift(B);break}if(G[0]in d)C=G[0];else{for(B in d){if(!G[0]||l.converters[B+" "+G[0]]){C=B;break}u||(u=B)}C=C||u}C?(C!==G[0]&&G.unshift(C),l=d[C]):l=void 0}a:{d=p;u=l;Q=w;C=e;var I;v={};N=d.dataTypes.slice();if(N[1])for(A in d.converters)v[A.toLowerCase()]=d.converters[A];
for(B=N.shift();B;){d.responseFields[B]&&(Q[d.responseFields[B]]=u);!F&&C&&d.dataFilter&&(u=d.dataFilter(u,d.dataType));var F=B;if(B=N.shift())if("*"===B)B=F;else if("*"!==F&&F!==B){var A=v[F+" "+B]||v["* "+B];if(!A)for(I in v)if(l=I.split(" "),l[1]===B&&(A=v[F+" "+l[0]]||v["* "+l[0]])){!0===A?A=v[I]:!0!==v[I]&&(B=l[0],N.unshift(l[1]));break}if(!0!==A)if(A&&d["throws"])u=A(u);else try{u=A(u)}catch(vc){l={state:"parsererror",error:A?vc:"No conversion from "+F+" to "+B};break a}}}l={state:"success",
data:u}}if(e)if(p.ifModified&&((f=w.getResponseHeader("Last-Modified"))&&(c.lastModified[M]=f),(f=w.getResponseHeader("etag"))&&(c.etag[M]=f)),204===a||"HEAD"===p.type)f="nocontent";else if(304===a)f="notmodified";else{f=l.state;var K=l.data;var L=l.error;e=!L}else if(L=f,a||!f)f="error",0>a&&(a=0);w.status=a;w.statusText=(b||f)+"";e?x.resolveWith(q,[K,f,w]):x.rejectWith(q,[w,f,L]);w.statusCode(D);D=m;k&&t.trigger(e?"ajaxSuccess":"ajaxError",[w,p,e?K:L]);E.fireWith(q,[w,f]);k&&(t.trigger("ajaxComplete",
[w,p]),--c.active||c.event.trigger("ajaxStop"))}}"object"===typeof a&&(options=a,a=m);options=options||{};var f,g,h,k,n,l,p=c.ajaxSetup({},options),q=p.context||p,t=p.context&&(q.nodeType||q.jquery)?c(q):c.event,x=c.Deferred(),E=c.Callbacks("once memory"),D=p.statusCode||{},F={},A={},O=0,K="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===O){if(!l)for(l={};b=Sc.exec(g);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===
O?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();O||(a=A[c]=A[c]||a,F[a]=b);return this},overrideMimeType:function(a){O||(p.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>O)for(b in a)D[b]=[D[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){a=a||K;n&&n.abort(a);e(0,a);return this}};x.promise(w).complete=E.add;w.success=w.done;w.error=w.fail;p.url=((a||p.url||ba)+"").replace(Rc,"").replace(Uc,ra[1]+"//");p.type=options.method||options.type||p.method||
p.type;p.dataTypes=c.trim(p.dataType||"*").toLowerCase().match(T)||[""];null==p.crossDomain&&(a=Vb.exec(p.url.toLowerCase()),p.crossDomain=!(!a||a[1]===ra[1]&&a[2]===ra[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(ra[3]||("http:"===ra[1]?"80":"443"))));p.data&&p.processData&&"string"!==typeof p.data&&(p.data=c.param(p.data,p.traditional));vb(Xb,p,options,w);if(2===O)return w;(k=p.global)&&0===c.active++&&c.event.trigger("ajaxStart");p.type=p.type.toUpperCase();p.hasContent=!Tc.test(p.type);var M=p.url;
p.hasContent||(p.data&&(M=p.url+=(Za.test(M)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=Ub.test(M)?M.replace(Ub,"$1_="+Ya++):M+(Za.test(M)?"&":"?")+"_="+Ya++));p.ifModified&&(c.lastModified[M]&&w.setRequestHeader("If-Modified-Since",c.lastModified[M]),c.etag[M]&&w.setRequestHeader("If-None-Match",c.etag[M]));(p.data&&p.hasContent&&!1!==p.contentType||options.contentType)&&w.setRequestHeader("Content-Type",p.contentType);w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?
p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Yb+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)w.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(q,w,p)||2===O))return w.abort();K="abort";for(f in{success:1,error:1,complete:1})w[f](p[f]);if(n=vb(Oa,p,options,w)){w.readyState=1;k&&t.trigger("ajaxSend",[w,p]);p.async&&0<p.timeout&&(h=setTimeout(function(){w.abort("timeout")},p.timeout));try{O=1,n.send(F,e,d)}catch(Q){if(2>O)e(-1,Q);else throw Q;}}else e(-1,"No Transport");
return w},getJSON:function(a,b,d){return c.get(a,b,d,"json")},getScript:function(a,b){return c.get(a,m,b,"script")}});c.each(["get","post"],function(a,b){c[b]=function(a,e,f,g){c.isFunction(e)&&(g=g||f,f=e,e=m);return c.ajax({url:a,type:b,dataType:g,data:e,success:f})}});c.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){a.cache===m&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});c.ajaxTransport("script",function(a){if(a.crossDomain){var b,d=q.head||c("head")[0]||q.documentElement;return{send:function(c,f){b=q.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=
b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||f(200,"success")};d.insertBefore(b,d.firstChild)},abort:function(){if(b)b.onload(m,!0)}}}});var Zb=[],$a=/(=)\?(?=&|$)|\?\?/;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Zb.pop()||c.expando+"_"+Ya++;this[a]=!0;return a}});c.ajaxPrefilter("json jsonp",function(a,b,d){var e,f=!1!==a.jsonp&&($a.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&$a.test(a.data)&&
"data");if(f||"jsonp"===a.dataTypes[0]){var g=a.jsonpCallback=c.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;f?a[f]=a[f].replace($a,"$1"+g):!1!==a.jsonp&&(a.url+=(Za.test(a.url)?"&":"?")+a.jsonp+"="+g);a.converters["script json"]=function(){e||c.error(g+" was not called");return e[0]};a.dataTypes[0]="json";var h=l[g];l[g]=function(){e=arguments};d.always(function(){l[g]=h;a[g]&&(a.jsonpCallback=b.jsonpCallback,Zb.push(g));e&&c.isFunction(h)&&h(e[0]);e=h=m});return"script"}});var sa,
Vc=0,ab=l.ActiveXObject&&function(){for(var a in sa)sa[a](m,!0)};c.ajaxSettings.xhr=l.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&wb()))a:{try{a=new l.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:wb;var Ha=c.ajaxSettings.xhr();c.support.cors=!!Ha&&"withCredentials"in Ha;(Ha=c.support.ajax=!!Ha)&&c.ajaxTransport(function(a){if(!a.crossDomain||c.support.cors){var b;return{send:function(d,e,f){var g,h=a.xhr();a.username?h.open(a.type,a.url,a.async,a.username,a.password):
h.open(a.type,a.url,a.async);if(a.xhrFields)for(g in a.xhrFields)h[g]=a.xhrFields[g];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType);a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");try{for(g in d)h.setRequestHeader(g,d[g])}catch(n){}h.send(a.hasContent&&a.data||null);b=function(d,f){try{if(b&&(f||4===h.readyState))if(b=m,k&&(h.onreadystatechange=c.noop,ab&&delete sa[k]),f)4!==h.readyState&&h.abort();else{var g={};var n=h.status;var l=h.getAllResponseHeaders();
"string"===typeof h.responseText&&(g.text=h.responseText);try{var q=h.statusText}catch(Hb){q=""}n||!a.isLocal||a.crossDomain?1223===n&&(n=204):n=g.text?200:404}}catch(Hb){f||e(-1,Hb)}g&&e(n,q,g,l)};if(a.async)if(4===h.readyState)setTimeout(b);else{var k=++Vc;ab&&(sa||(sa={},c(l).unload(ab)),sa[k]=b);f||(h.onreadystatechange=b)}else b()},abort:function(){b&&b(m,!0)}}}});var la,Ia,Wc=/^(?:toggle|show|hide)$/,$b=new RegExp("^(?:([+-])=|)("+Da+")([a-z%]*)$","i"),Xc=/queueHooks$/,Aa=[function(a,b,d){var e,
f=this,g={},h=a.style,k=a.nodeType&&ta(a),n=c._data(a,"fxshow");if(!d.queue){var l=c._queueHooks(a,"fx");if(null==l.unqueued){l.unqueued=0;var m=l.empty.fire;l.empty.fire=function(){l.unqueued||m()}}l.unqueued++;f.always(function(){f.always(function(){l.unqueued--;c.queue(a,"fx").length||l.empty.fire()})})}1===a.nodeType&&("height"in b||"width"in b)&&(d.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===c.css(a,"display")&&"none"===c.css(a,"float")&&(c.support.inlineBlockNeedsLayout&&"inline"!==
ob(a.nodeName)?h.zoom=1:h.display="inline-block"));d.overflow&&(h.overflow="hidden",c.support.shrinkWrapBlocks||f.always(function(){h.overflow=d.overflow[0];h.overflowX=d.overflow[1];h.overflowY=d.overflow[2]}));for(e in b){var q=b[e];if(Wc.exec(q)){delete b[e];var t=t||"toggle"===q;q!==(k?"hide":"show")&&(g[e]=n&&n[e]||c.style(a,e))}}if(!c.isEmptyObject(g))for(e in n?"hidden"in n&&(k=n.hidden):n=c._data(a,"fxshow",{}),t&&(n.hidden=!k),k?c(a).show():f.done(function(){c(a).hide()}),f.done(function(){var b;
c._removeData(a,"fxshow");for(b in g)c.style(a,b,g[b])}),g)b=yb(k?n[e]:0,e,f),e in n||(n[e]=b.start,k&&(b.end=b.start,b.start="width"===e||"height"===e?1:0))}],fa={"*":[function(a,b){var d=this.createTween(a,b),e=d.cur(),f=(b=$b.exec(b))&&b[3]||(c.cssNumber[a]?"":"px"),g=(c.cssNumber[a]||"px"!==f&&+e)&&$b.exec(c.css(d.elem,a)),h=1,k=20;if(g&&g[3]!==f){f=f||g[3];b=b||[];g=+e||1;do h=h||".5",g/=h,c.style(d.elem,a,g+f);while(h!==(h=d.cur()/e)&&1!==h&&--k)}b&&(g=d.start=+g||+e||0,d.unit=f,d.end=b[1]?
g+(b[1]+1)*b[2]:+b[2]);return d}]};c.Animation=c.extend(zb,{tweener:function(a,b){c.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var d,e=0,f=a.length;e<f;e++)d=a[e],fa[d]=fa[d]||[],fa[d].unshift(b)},prefilter:function(a,b){b?Aa.unshift(a):Aa.push(a)}});c.Tween=A;A.prototype={constructor:A,init:function(a,b,d,e,f,g){this.elem=a;this.prop=d;this.easing=f||"swing";this.options=b;this.start=this.now=this.cur();this.end=e;this.unit=g||(c.cssNumber[d]?"":"px")},cur:function(){var a=A.propHooks[this.prop];
return a&&a.get?a.get(this):A.propHooks._default.get(this)},run:function(a){var b,d=A.propHooks[this.prop];this.pos=this.options.duration?b=c.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);d&&d.set?d.set(this):A.propHooks._default.set(this);return this}};A.prototype.init.prototype=A.prototype;A.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||
a.elem.style&&null!=a.elem.style[a.prop]?(a=c.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(c.fx.step[a.prop])c.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[c.cssProps[a.prop]]||c.cssHooks[a.prop])?c.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};c.each(["toggle","show","hide"],function(a,b){var d=c.fn[b];c.fn[b]=function(a,
c,g){return null==a||"boolean"===typeof a?d.apply(this,arguments):this.animate(Ba(b,!0),a,c,g)}});c.fn.extend({fadeTo:function(a,b,c,e){return this.filter(ta).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,d,e){var f=c.isEmptyObject(a),g=c.speed(b,d,e);b=function(){var b=zb(this,c.extend({},a),g);(f||c._data(this,"finish"))&&b.stop(!0)};b.finish=b;return f||!1===g.queue?this.each(b):this.queue(g.queue,b)},stop:function(a,b,d){var e=function(a){var b=a.stop;delete a.stop;
b(d)};"string"!==typeof a&&(d=b,b=a,a=m);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",h=c.timers,k=c._data(this);if(g)k[g]&&k[g].stop&&e(k[g]);else for(g in k)k[g]&&k[g].stop&&Xc.test(g)&&e(k[g]);for(g=h.length;g--;)h[g].elem!==this||null!=a&&h[g].queue!==a||(h[g].anim.stop(d),b=!1,h.splice(g,1));!b&&d||c.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b=c._data(this),d=b[a+"queue"];var e=b[a+"queueHooks"];
var f=c.timers,g=d?d.length:0;b.finish=!0;c.queue(this,a,[]);e&&e.stop&&e.stop.call(this,!0);for(e=f.length;e--;)f[e].elem===this&&f[e].queue===a&&(f[e].anim.stop(!0),f.splice(e,1));for(e=0;e<g;e++)d[e]&&d[e].finish&&d[e].finish.call(this);delete b.finish})}});c.each({slideDown:Ba("show"),slideUp:Ba("hide"),slideToggle:Ba("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(a,c,f){return this.animate(b,a,c,f)}});c.speed=function(a,
b,d){var e=a&&"object"===typeof a?c.extend({},a):{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};e.duration=c.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){c.isFunction(e.old)&&e.old.call(this);e.queue&&c.dequeue(this,e.queue)};return e};c.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*
Math.PI)/2}};c.timers=[];c.fx=A.prototype.init;c.fx.tick=function(){var a=c.timers,b=0;for(la=c.now();b<a.length;b++){var d=a[b];d()||a[b]!==d||a.splice(b--,1)}a.length||c.fx.stop();la=m};c.fx.timer=function(a){a()&&c.timers.push(a)&&c.fx.start()};c.fx.interval=13;c.fx.start=function(){Ia||(Ia=setInterval(c.fx.tick,c.fx.interval))};c.fx.stop=function(){clearInterval(Ia);Ia=null};c.fx.speeds={slow:600,fast:200,_default:400};c.fx.step={};c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,
function(b){return a===b.elem}).length});c.fn.offset=function(a){if(arguments.length)return a===m?this:this.each(function(b){c.offset.setOffset(this,a,b)});var b,d={top:0,left:0},e=(b=this[0])&&b.ownerDocument;if(e){var f=e.documentElement;if(!c.contains(f,b))return d;typeof b.getBoundingClientRect!==F&&(d=b.getBoundingClientRect());b=Ab(e);return{top:d.top+(b.pageYOffset||f.scrollTop)-(f.clientTop||0),left:d.left+(b.pageXOffset||f.scrollLeft)-(f.clientLeft||0)}}};c.offset={setOffset:function(a,b,
d){var e=c.css(a,"position");"static"===e&&(a.style.position="relative");var f=c(a),g=f.offset(),h=c.css(a,"top"),k=c.css(a,"left"),l={};("absolute"===e||"fixed"===e)&&-1<c.inArray("auto",[h,k])?(k=f.position(),e=k.top,k=k.left):(e=parseFloat(h)||0,k=parseFloat(k)||0);c.isFunction(b)&&(b=b.call(a,d,g));null!=b.top&&(l.top=b.top-g.top+e);null!=b.left&&(l.left=b.left-g.left+k);"using"in b?b.using.call(a,l):f.css(l)}};c.fn.extend({position:function(){if(this[0]){var a={top:0,left:0},b=this[0];if("fixed"===
c.css(b,"position"))var d=b.getBoundingClientRect();else{var e=this.offsetParent();d=this.offset();c.nodeName(e[0],"html")||(a=e.offset());a.top+=c.css(e[0],"borderTopWidth",!0);a.left+=c.css(e[0],"borderLeftWidth",!0)}return{top:d.top-a.top-c.css(b,"marginTop",!0),left:d.left-a.left-c.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Bb;a&&!c.nodeName(a,"html")&&"static"===c.css(a,"position");)a=a.offsetParent;return a||Bb})}});c.each({scrollLeft:"pageXOffset",
scrollTop:"pageYOffset"},function(a,b){var d=/Y/.test(b);c.fn[a]=function(e){return c.access(this,function(a,e,h){var f=Ab(a);if(h===m)return f?b in f?f[b]:f.document.documentElement[e]:a[e];f?f.scrollTo(d?c(f).scrollLeft():h,d?h:c(f).scrollTop()):a[e]=h},a,e,arguments.length,null)}});c.each({Height:"height",Width:"width"},function(a,b){c.each({padding:"inner"+a,content:b,"":"outer"+a},function(d,e){c.fn[e]=function(e,g){var f=arguments.length&&(d||"boolean"!==typeof e),k=d||(!0===e||!0===g?"margin":
"border");return c.access(this,function(b,d,e){return c.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(d=b.documentElement,Math.max(b.body["scroll"+a],d["scroll"+a],b.body["offset"+a],d["offset"+a],d["client"+a])):e===m?c.css(b,d,k):c.style(b,d,e,k)},b,f?e:m,f,null)}})});c.fn.size=function(){return this.length};c.fn.andSelf=c.fn.addBack;"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=c:(l.jQuery||(l.jQuery=l.$=c),l.jq=c,"function"===typeof define&&
define.amd&&define("jquery",[],function(){return c}))})(window);

(zk=function(k){return jq(k,zk).zk}).copy=function(k,m,r){k=k||{};for(var n in m)r&&(r[n]=k[n]),k[n]=m[n];return k};
(function(){function k(a){var b=function(){if(!b.$copied){b.$copied=!0;var a=b.$copyf;b.$copyf=null;a()}this.$oid=++y;this.$init.apply(this,arguments);if(a=this._$ais){this._$ais=null;for(var d=a.length;d--;)a[d].call(this)}};b.$copyf=a;b.$copied=!b.$copyf;return b}function m(a,b){var c=a.$oid=++y;zk.classes[c]=a;a.prototype.$class=a;a.$class=zk.Class;return(a._$extds=(a.superclass=b)?zk.copy({},b._$extds):{})[c]=a}function r(a){return function(b){this[a]=b;return this}}function n(a,b){return function(c,
d){var e=this[a];this[a]=c;if(e!==c||d&&d.force)this.__fname__=a.substring(1),b.apply(this,arguments),this.__fname__=null;return this}}function F(a,b){return function(){this.__fname__=a.substring(1);this[a]=b.apply(this,arguments);this.__fname__=null;return this}}function G(a,b,c){return function(d,e){var f=this[a];this.__fname__=a.substring(1);this[a]=d=b.apply(this,arguments);(f!==d||e&&e.force)&&c.apply(this,arguments);this.__fname__=null;return this}}function z(){jq.isReady||zk.Page.contained.length?
A(!0,zk.pi?"z-initing":null):setTimeout(z,10)}function H(){A(zk.processMask)}function A(a,b){var c;!zk.processing||(c=jq("#zk_proc")).length||jq("#zk_showBusy").length?"z-initing"==b&&(c=c||jq("#zk_proc"),c.length&&c.hasClass("z-loading")&&(c=c.parent()).hasClass("z-temp")&&c.append('<div class="z-initing"></div>')):zUtl.progressbox("zk_proc",window.msgzk?msgzk.PLEASE_WAIT:"Processing...",a,b)}function B(a){return a.widgetName+(a.id?"$"+a.id:"")+"#"+a.uuid+"$"+a.$oid}function C(a,b){for(var c,d=[],
e=zk.Widget,f=0,g=a.length;f<g;f++){d.length&&d.push(", ");var h=a[f];if(h&&(jq.isArray(h)||h.zk))d.push("["+C(h,b)+"]");else if(e&&e.isInstance(h))d.push(B(h));else if(h&&h.nodeType)(c=e&&e.$(h))?d.push(jq.nodeName(h),h!=c.$n()?"#"+h.id+"."+h.className:"",":",B(c)):d.push(jq.nodeName(h),"#",h.id);else if(b&&h&&"object"==typeof h&&!h.nodeType){c=["{\n"];for(var D in h)c.push(D,":",h[D],",\n");",\n"==c[c.length-1]&&c.pop();c.push("\n}");d.push(c.join(""))}else if("function"==typeof h){c=""+h;h=c.indexOf("{");
var q=0>h?c.indexOf("\n"):-1;d.push(c.substring(0,0<h?h:0<q?q:c.length))}else d.push(""+h)}return d.join("")}function I(){if(l){var a=jq("#zk_log");a.length||(jq(document.body).append('<div id="zk_logbox" class="z-log"><button class="z-button" onclick="jq(\'#zk_logbox\').remove()">X</button><br/><textarea id="zk_log" rows="10"></textarea></div>'),a=jq("#zk_log"));a=a[0];a.value+=l;a.scrollTop=a.scrollHeight;l=null}}function E(){if(zk.mounting)return zk.afterMount(E);zk.stamp("ending");zk.stamp()}
function v(a,b,c,d,e){for(var f=(a=a._$subs)?a.length:0;0<=--f;){var g=a[f];g[b]===c&&(e&&(g["$"+b]=c),g[b]=d,v(g,b,c,d,e))}}function J(a,b){return function(){return b.apply(a,arguments)}}var y=0,K=0,l,t=[],u=jq.now(),w={};zk.copy(zk,{classes:{},isClass:function(a){return a&&a.$class==zk.Class},isObject:function(a){return a&&null!=a.$supers},procDelay:900,tipDelay:800,resendTimeout:200,clickPointer:[0,0],currentPointer:[0,0],loading:0,busy:0,appName:"ZK",cut:function(a,b){if(a){var c=a[b];delete a[b]}return c},
$package:function(a,b,c){for(var d=0,e=window;;){var f=a.indexOf(".",d);d=0<=f?a.substring(d,f):a.substring(d);var g=e[d],h;if(h=!g)g=e[d]={};if(0>f)return h&&!1!==b&&zk.setLoaded(a),c&&(g.$wv=!0),g;e=g;d=f+1}},$import:function(){var a={};return function(b,c){var d;if(d=a[b])return c&&c(d),d;for(var e=0,f=window;;){d=b.indexOf(".",e);e=0<=d?b.substring(e,d):b.substring(e);f=f[e];if(0>d||!f)return c&&(f?c(f):zk.load(b.substring(0,b.lastIndexOf(".")),function(){c(zk.$import(b))})),a[b]=f;e=d+1}}}(),
$extends:function(a,b,c){if(!a)throw"unknown superclass";var d=!(zk.feature&&zk.feature.ee),e=a.prototype,f=k(function(){a.$copyf&&!a.$copied&&(a.$copyf(),a.$copied=!0);var c=b.$define,d=a.prototype,e=f.prototype;c&&delete b.$define;var h=zk.feature;if(!h||!h.ee)for(var g in d)h="|"+g+"|",0>"|_$super|_$subs|$class|_$extds|superclass|className|widgetName|blankPreserved|".indexOf(h)?e[g]=d[g]:void 0==e[g]&&0<="|className|widgetName|blankPreserved|".indexOf(h)&&(e[g]=d[g]);zk.define(f,c);zk.copy(e,b)}),
g=f.prototype;d?(f.$copyf(),f.$copied=!0):(d=function(){this.constructor=f},d.prototype=a.prototype,f.prototype=new d,g=f.prototype);for(var h in a)0>"|prototype|$copyf|$copied|".indexOf("|"+h+"|")&&(f[h]=a[h]);zk.copy(f,c);g._$super=e;g._$subs=[];e._$subs.push(g);return m(f,a)},$default:function(a,b){a=a||{};for(var c in b)void 0===a[c]&&(a[c]=b[c]);return a},override:function(a,b,c){var d=a.$class;if(d&&!1===d.$copied){var e=d.$copyf;d.$copyf=function(){e();d.$copied=!0;zk.override(a,b,c)};return a}var f=
!(zk.feature&&zk.feature.ee);switch(typeof b){case "function":return f=a,a=b,f;case "string":return f?v(a,b,a["$"+b]=a[b],a[b]=c,!0):(a["$"+b]=a[b],a[b]=c),a}if(f)for(var g in c)v(a,g,b[g]=a[g],a[g]=c[g]);else for(g in c)b[g]=a[g],a[g]=c[g];return a},define:function(a,b){for(var c in b){var d="_"+c,e=c.charAt(0).toUpperCase()+c.substring(1),f=a.prototype,g=b[c],h=null;jq.isArray(g)&&(h=g.length?g[0]:null,g=1<g.length?g[1]:null);f["set"+e]=h?g?G(d,h,g):F(d,h):g?n(d,g):r(d);f["get"+e]=f["is"+e]=new Function("return this."+
d+";")}return a},$void:function(){return!1},parseInt:function(a,b){return a&&!isNaN(a=parseInt(a,b||10))?a:0},parseFloat:function(a){return a&&!isNaN(a=parseFloat(a))?a:0},set:function(a,b,c,d){if("string"==typeof b)zk._set(a,b,c,d);else for(var e=0,f=c.length,g,h;e<f;)h=c[e++],g=b["get"+h.charAt(0).toUpperCase()+h.substring(1)],d&&!g&&void 0===b[h]||zk._set(a,h,g?g.call(b):b[h]);return a},_set:function(a,b,c,d){zk._set2(a,a["set"+b.charAt(0).toUpperCase()+b.substring(1)],b,c,d)},_set2:function(a,
b,c,d,e){b?void 0!==e?b.call(a,d,e):b.call(a,d):a[c]=d},get:function(a,b){var c=b.charAt(0).toUpperCase()+b.substring(1),d=a["get"+c];return d?d.call(a):(d=a["is"+c])?d.call(a):a[b]},startProcessing:function(a,b){zk.processing=!0;a=setTimeout(jq.isReady?H:z,0<a?a:0);b&&(w[b]=a)},endProcessing:function(a){window.zkInitCrashTimer&&(clearTimeout(window.zkInitCrashTimer),window.zkInitCrashTimer=!1);zk.processing=!1;if(a){var b=w[a];b&&clearTimeout(b);delete w[a]}zUtl.destroyProgressbox("zk_proc")},disableESC:function(){++zk._noESC},
enableESC:function(){--zk._noESC},_noESC:0,error:function(a){zAu.send(new zk.Event(null,"error",{message:a},{ignorable:!0}),800);zk._Erbx.push(a)},debugLog:function(a){zk.debugJS&&console.log(a)},errorDismiss:function(){zk._Erbx.remove()},log:function(a){var b=C(a!==zk?arguments:function(a){for(var b=[],c=a.length;0<--c;)b.unshift(a[c]);return b}(arguments),a===zk);l=(l?l+b:b)+"\n";zk.mobile?(console.log(l),l=null):setTimeout(function(){jq(I)},300)},stamp:function(a,b){if(a)b||t.length||setTimeout(E,
0),t.push({n:a,t:jq.now()});else if(t.length){for(a=u;b=t.shift();)zk.log(b.n+": "+(b.t-u)),u=b.t;zk.log("total: "+(u-a))}},ajaxURI:function(a,b){var c=zk.Desktop.$(b?b.desktop:null),d=b&&b.au;c=(c?c:zk)[d?"updateURI":"contextURI"];a=a||"";var e="/"==a.charAt(0);d&&!e&&(e=!0,a&&(a="/"+a));var f=c.indexOf(";");d=c.lastIndexOf("?");if(0>f&&0>d)return e?c+a:a;0<=d&&(0>f||d<f)&&(f=d);e=e?c.substring(0,f):"";if(b&&b.ignoreSession)return e+a;b=c.substring(f);c=a.indexOf("?");return 0<=c?0<=d?e+a.substring(0,
c)+b+"&"+a.substring(c+1):e+a.substring(0,c)+b+a.substring(c):e+a+b},stateless:function(a,b,c,d){var e=zk.Desktop,f;a=a||"z_auto"+K++;if((f=e.all[a])&&!f.stateless)throw"Desktop conflict";null==zk.updateURI&&(zk.updateURI=c);null==zk.contextURI&&(zk.contextURI=b);return f||new e(a,b,c,d,!0)},addDataHandler:function(a,b){zk.dataHandlers||(zk.dataHandlers={});zk.dataHandlers[a]=b},hasDataHandler:function(a){return zk.dataHandlers&&!!zk.dataHandlers[a]},getDataHandler:function(a){if(zk.hasDataHandler(a))return{run:function(b,
c){var d=zk.dataHandlers[a];jq.isFunction(d)||(d=jq.evalJSON(d));try{c=jq.parseJSON(c)}catch(q){zk.debugLog(q.message||q)}for(var e,f=b;f;f=f.parent)if(f.$ZKBINDER$){f._$binder||(f._$binder=new zkbind.Binder(f,this));e=f._$binder;break}else if(f.$ZKAUS$){f._$service||(f._$service=new zk.Service(f,this));e=f._$service;break}if(f&&e){$.extend(this,e);var g=this.command,h=0==a.indexOf("data-")?a.substring(5):a;this.command=function(a,b){g.call(this,h+a,b)};var k=this.after;this.after=function(a,b){k.call(this,
h+a,b)}}d.call(this,b,c)}};zk.error("not found: "+a)},$intercepts:function(a,b){if(!a)throw"unknown targetClass";if(!b)throw"unknown interceptor";if(a&&!1===a.$copied){var c=a.$copyf;a.$copyf=function(){c();a.$copied=!0;zk.$intercepts(a,b)}}else{var d=a.prototype,e;for(e in b)d[e]&&(d.$getInterceptorContext$||(d._$$interceptorContext=[],d.$getInterceptorContext$=function(){return this._$$interceptorContext[this._$$interceptorContext.length-1]}),function(a,c){d[a]=function(){var d={stop:!1,result:null,
args:arguments},e=this._$$interceptorContext;e.push(d);b[a].apply(this,arguments);var f=d.stop?d.result:c.apply(this,d.args);e.splice(e.indexOf(d),1);return f}}(e,d[e]))}}});(function(){function a(a){return parseFloat(a)||a}jq.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",
version:a[2]||"0"}};jq.browser||(matched=jq.uaMatch(navigator.userAgent),b={},matched.browser&&(b[matched.browser]=!0,b.version=matched.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),jq.browser=b);var b=jq.browser,c=zk.agent=navigator.userAgent.toLowerCase(),d;zk.opera=b.opera&&a(b.version);zk.ff=zk.gecko=b.mozilla&&0>c.indexOf("trident")&&a(b.version);zk.linux=0<=c.indexOf("linux");zk.mac=!zk.ios&&0<=c.indexOf("mac");zk.webkit=b.webkit;zk.chrome=b.chrome;zk.safari=b.webkit&&!zk.chrome;zk.edge=
zk.webkit&&zk.chrome&&0<=(d=c.indexOf("edge"))&&a(c.substring(d+5));zk.ios=zk.webkit&&/iphone|ipad|ipod/.test(c)&&((d=c.match(/version\/\d/))&&d[0].replace("version/","")||(d=c.match(/ os \d/))&&d[0].replace(" os ",""));zk.ipad=zk.webkit&&/ipad/.test(c)&&((d=c.match(/version\/\d/))&&d[0].replace("version/","")||(d=c.match(/ os \d/))&&d[0].replace(" os ",""));zk.android=zk.webkit&&0<=c.indexOf("android");zk.mobile=zk.ios||zk.android;zk.css3=!0;d=b.mozilla&&0<=c.indexOf("trident")&&a(b.version);zk.vendor=
zk.webkit?"webkit":"";var e;zk.ff?(5>zk.ff&&0<(e=c.indexOf("firefox/"))&&(zk.ff=zk.gecko=a(c.substring(e+8))),e="gecko gecko"+Math.floor(zk.ff),zk.vendor="Moz"):zk.opera?(e="opera",zk.vendor="O"):(zk.iex=b.msie&&a(b.version),!zk.iex&&d&&(zk.iex=d),zk.iex?(6>(zk.ie=document.documentMode||zk.iex)&&(zk.ie=6),11>zk.ie&&6<zk.ie&&(zk.ie7=7<=zk.ie,zk.ie8=8<=zk.ie,zk.ie9=9<=zk.ie,zk.ie10=10<=zk.ie),zk["ie"+zk.ie+"_"]=!0,zk.css3=9<=zk.ie,e="ie ie"+Math.floor(zk.ie),zk.vendor="ms"):zk.edge?e="edge":(zk.chrome?
e="webkit chrome":zk.safari?e="webkit safari":zk.webkit&&(e="webkit"),zk.mobile&&(e=(e||"")+" mobile",e=zk.ios?(e||"")+" ios":(e||"")+" android")));(zk.air=0<=c.indexOf("adobeair"))&&zk.webkit&&(e=(e||"")+" air");e&&jq(function(){jq(document.body).addClass(e)});zk.vendor_=zk.vendor.toLowerCase()})();zk.ie||zk.edge?zk.Buffer=Array:(zk.Buffer=function(){this.out=""},zk.Buffer.prototype=[],zk.copy(zk.Buffer.prototype,{push:function(){for(var a=0,b=arguments.length;a<b;a++)if(null!=arguments[a]||void 0!=
arguments[a])this.out+=arguments[a]},join:function(a){if(a)throw"Wrong usage here! Please run the script `zk.Buffer = Array;` instead.";return this.out},shift:_zkf=function(){throw"Wrong usage here! Please run the script `zk.Buffer = Array;` instead.";},unshift:_zkf,pop:_zkf,slice:_zkf,sort:_zkf}));zk.Class=function(){};m(zk.Object=k());zk.Object.prototype={$init:zk.$void,afterInit:function(a){(this._$ais=this._$ais||[]).unshift(a)},$instanceof:function(){if(this.$class)for(var a=this.$class._$extds,
b=arguments,c=b.length,d;c--;)if((d=b[c])&&a[d.$oid])return!0;return!1},$super:function(a,b){return"string"!=typeof a?this.$supers(a,b,[].slice.call(arguments,2)):this.$supers(a,[].slice.call(arguments,1))},$supers:function(a,b,c){var d,e=this._$supers;e||(e=this._$supers={});if("string"!=typeof a){var f=e[b];if(!(d=a.prototype._$super)||!(a=d[b]))throw b+" not in superclass";e[b]=d;try{return a.apply(this,c)}finally{e[b]=f}}f=e[a];var g;f?(c=f[a],d=f):(c=this[a],d=this);for(;d=d._$super;)if(c!=d[a]){(g=
d[a])&&(e[a]=d);break}if(!g)throw a+" not in superclass";try{return g.apply(this,b)}finally{e[a]=f}},_$subs:[],proxy:function(a){var b=this._$proxies,c;if(!b)this._$proxies=b={};else if(c=b[a])return c;return b[a]=J(this,a)}};_zkf={isInstance:function(a){return a&&a.$instanceof&&a.$instanceof(this)},isAssignableFrom:function(a){return a&&(a=a._$extds)&&null!=a[this.$oid]}};zk.copy(zk.Object,_zkf);zk.copy(m(zk.Class,zk.Object),_zkf);var p,x=0;zk._Erbx=zk.$extends(zk.Object,{$init:function(a){var b=
zk.mobild?" ontouchstart":" onclick";a='<div class="z-error" id="zk_err"><div id="zk_err-p"><div class="errornumbers">'+ ++x+' Errors</div><div class="button"'+b+'="zk._Erbx.remove()"><i class="z-icon-times"></i></div><div class="button"'+b+'="zk._Erbx.redraw()"><i class="z-icon-refresh"></i></div></div><div class="messagecontent"><div class="messages">'+zUtl.encodeXML(a,{multiline:!0})+"</div></div></div>";jq(document.body).append(a);p=this;this.id="zk_err";try{var c;this.dg=new zk.Draggable(null,
c=jq("#zk_err")[0],{handle:jq("#zk_err-p")[0],zIndex:c.style.zIndex,starteffect:zk.$void,endeffect:zk.$void})}catch(d){zk.debugLog(d.message||d)}jq("#zk_err").slideDown(1E3)},destroy:function(){p=null;x=0;this.dg&&this.dg.destroy();jq("#"+this.id).remove()}},{redraw:function(){zk.errorDismiss();zAu.send(new zk.Event(null,"redraw"))},push:function(a){if(!p)return new zk._Erbx(a);var b=p.id;jq("#"+b+" .errornumbers").html(++x+" Errors");jq("#"+b+" .messages").append('<div class="newmessage">'+zUtl.encodeXML(a)+
"</hr></div>");jq("#"+b+" .newmessage").removeClass("newmessage").addClass("message").slideDown(600)},remove:function(){p&&p.destroy()}})})();

if(!zk.feature)zk.feature = {standard:true,ee:true};zk.copy(String.prototype,{startsWith:function(a){return this.substring(0,a.length)==a},endsWith:function(a){return this.substring(this.length-a.length)==a},trim:function(){return jq.trim(this)},$camel:function(){var a=this.split("-"),b=a.length;if(1==b)return a[0];for(var c="-"==this.charAt(0)?a[0].charAt(0).toUpperCase()+a[0].substring(1):a[0],d=1;d<b;d++)c+=a[d].charAt(0).toUpperCase()+a[d].substring(1);return c},$inc:function(a){return String.fromCharCode(this.charCodeAt(0)+a)},$sub:function(a){return this.charCodeAt(0)-
a.charCodeAt(0)}});
zk.copy(Array.prototype,{$indexOf:function(a){return jq.inArray(a,this)},$contains:function(a){return 0<=this.$indexOf(a)},$equals:function(a){if(jq.isArray(a)&&a.length==this.length){for(var b=this.length;b--;){var c=this[b];if(!(c==a[b]||jq.isArray(c)&&c.$equals(a[b])))return!1}return!0}},$remove:function(a){for(var b=jq.isArray(a),c=0,d=this.length;c<d;++c)if(a==this[c]||b&&a.$equals(this[c]))return this.splice(c,1),!0;return!1},$addAll:function(a){return this.push.apply(this,a)},$clone:function(){return[].concat(this)}});
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]==a)return b;return-1});8!=zk.ie&&Object.defineProperties(Array.prototype,{$indexOf:{enumerable:!1},$contains:{enumerable:!1},$equals:{enumerable:!1},$remove:{enumerable:!1},$addAll:{enumerable:!1},$clone:{enumerable:!1}});

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(f,h,k){if(null==f)throw new TypeError("The 'this' value for String.prototype."+k+" must not be null or undefined");if(h instanceof RegExp)throw new TypeError("First argument to String.prototype."+k+" must not be a regular expression");return f+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,h,k){f!=Array.prototype&&f!=Object.prototype&&(f[h]=k.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(f,h,k,n){if(h){k=$jscomp.global;f=f.split(".");for(n=0;n<f.length-1;n++){var p=f[n];p in k||(k[p]={});k=k[p]}f=f[f.length-1];n=k[f];h=h(n);h!=n&&null!=h&&$jscomp.defineProperty(k,f,{configurable:!0,writable:!0,value:h})}};
$jscomp.polyfill("String.prototype.startsWith",function(f){return f?f:function(f,k){var h=$jscomp.checkStringArgs(this,f,"startsWith");f+="";var p=h.length,v=f.length;k=Math.max(0,Math.min(k|0,h.length));for(var u=0;u<v&&k<p;)if(h[k++]!=f[u++])return!1;return u>=v}},"es6","es3");zjq=function(f){this.jq=f};
(function(f,h){function k(a){if(a.offsetParent)return a.offsetParent;if(a==f.body)return a;for(;(a=a.parentNode)&&a!=f.body;)if(a.style&&"static"!=jq(a).css("position"))return a;return f.body}function n(a){zk.afterAnimate(function(){try{a.focus();var b=zk.Widget.$(a);b&&(zk.currentFocus=b);zjq.fixInput(a)}catch(c){zk.debugLog(c.message||c)}},-1)}function p(a){try{a.select()}catch(b){zk.debugLog(b.message||b)}}function v(){this.submit&&(jq.Event.fire(this,"submit"),this.submit())}function u(){var a=
jq(this);a.css("user-select","none");if(zk.ie11_||zk.edge)a.on("selectstart",zk.$void)}function E(){var a=jq(this);a.css("user-select","");(zk.ie11_||zk.edge)&&a.off("selectstart",zk.$void)}function F(a,b,c,d){if(a&&b){var e=zk(a).revisedOffset(),g=c?c.oft:zk(b).revisedOffset(),f=g[1]-e[1]+(a==t()?0:a.scrollTop);e=g[0]-e[0]+(a==t()?0:a.scrollLeft);var l=e+(c?c.w:b.offsetWidth),h=f+(c?c.h:b.offsetHeight);if(a.scrollTop>f){a.scrollTop=f;var k=!0}else h>a.clientHeight+a.scrollTop&&(a.scrollTop=c?h-(a.clientHeight+
(b.parentNode==a?0:a.scrollTop)):h,k=!0);d||(a.scrollLeft>e?(a.scrollLeft=e,k=!0):l>a.clientWidth+a.scrollLeft&&(a.scrollLeft=c?l-(a.clientWidth+(b.parentNode==a?0:a.scrollLeft)):l,k=!0));if(k||!c)c?c.oft=zk(c.el).revisedOffset():c={oft:g,h:b.offsetHeight,w:b.offsetWidth,el:b};return c}}function z(a){var b=0,c=0;if(zk.gecko)for(var d=a.parentNode;d&&d!=f.body&&1===d.nodeType;){var e=jq(d),g=e.css("position");if("relative"==g||"absolute"==g)b+=zk.parseInt(e.css("border-top-width")),c+=zk.parseInt(e.css("border-left-width"));
d=d.offsetParent}do if("fixed"==jq(a).css("position")){b+=jq.innerY()+a.offsetTop;c+=jq.innerX()+a.offsetLeft;break}else{if(zk.opera){m&&jq.nodeName(a,"div")&&0!=a.scrollTop&&(b+=a.scrollTop||0);var m=jq.nodeName(a,"span","input")}b+=a.offsetTop||0;c+=a.offsetLeft||0;a=zk.gecko&&a!=f.body?k(a):a.offsetParent}while(a);return[c,b]}function A(a,b,c){c?(a=a.revisedOffset(),b.left=a[0],b.top=a[1]):(b.left=a.offsetLeft(),b.top=a.offsetTop());return b}function B(){if(y.length){for(var a;a=y.pop();)try{zjq._fixCSS(a)}catch(b){zk.debugLog(b.message||
b)}setTimeout(B)}}var q={},w="font-family font-size font-weight font-style letter-spacing line-height text-align text-decoration text-indent text-shadow text-transform text-overflow direction word-spacing white-space".split(" "),C=["color","background-color","background"],x=[],D=0,G=0,r,y=[],H=function(){var a;return function(){if(void 0===a){if(null===f.doctype)return!1;var b=f.doctype;a="<!DOCTYPE html>"==="<!DOCTYPE "+b.name+(b.publicId?' PUBLIC"'+b.publicId+'"':"")+(!b.publicId&&b.systemId?" SYSTEM":
"")+(b.systemId?' "'+b.systemId+'"':"")+">"}return a}}(),t=function(){var a;return function(){return a||(a=zk.safari||zk.opera?f.body:f.documentElement)}}();zk.copy(zjq,{minWidth:zk.ie11_?function(a){return zk(a).offsetWidth()+1}:function(a){return zk(a).offsetWidth()},fixInput:11==zk.ie?function(a){try{var b=zk(a);if(b.isInput()){var c=b.getSelectionRange();b.setSelectionRange(c[0],c[1])}}catch(d){zk.debugLog(d.message||d)}}:zk.$void,_fixCSS:function(a){a.className+=" ";a.className.trim()},_cleanVisi:function(a){a.style.visibility=
"inherit"},_fixClick:zk.$void,_fixedVParent:zk.$void,_fixIframe:zk.$void,src0:"",eventTypes:{zmousedown:"mousedown",zmouseup:"mouseup",zmousemove:"mousemove",zdblclick:"dblclick",zcontextmenu:"contextmenu"}});jq.fn.zbind=jq.fn.bind;jq.fn.zunbind=jq.fn.unbind;zk.override(jq.fn,q,{init:function(a,b){if(b===zk){if("string"==typeof a&&zUtl.isChar(a.charAt(0),{digit:1,upper:1,lower:1,_:1})){var c=f.getElementById(a);if(!c||c.id==a)return c=jq(c||[]),c.context=f,c.selector="#"+a,c.zk=new zjq(c),c;a="#"+
a}b=null}zk.Widget&&zk.Widget.isInstance(a)&&(a=a.$n()||"#"+a.uuid);c=q.init.apply(this,arguments);c.zk=new zjq(c);return c},replaceWith:function(a,b,c){if(!zk.Widget.isInstance(a))return q.replaceWith.apply(this,arguments);var d=this[0];d&&a.replaceHTML(d,b,c);return this},bind:function(a,b,c){a=zjq.eventTypes[a]||a;return this.zbind.apply(this,arguments)},unbind:function(a,b){a=zjq.eventTypes[a]||a;return this.zunbind.apply(this,arguments)}});jq.fn.init.prototype=jq.fn;jq.each(["remove","empty",
"show","hide"],function(a,b){q[b]=jq.fn[b];jq.fn[b]=function(){return this.selector||this[0]!==f?q[b].apply(this,arguments):this}});jq.each(["before","after","append","prepend"],function(a,b){q[b]=jq.fn[b];jq.fn[b]=function(a,d){if(!zk.Widget.isInstance(a))return q[b].apply(this,arguments);if(!this.length)return this;zk.Desktop._ndt||zk.stateless();var c=q[b].call(this,a.redrawHTML_());a.z_rod||(a.bind(d),zUtl.fireSized(a));return c}});zjq.prototype={cleanVisibility:function(){return this.jq.each(function(){zjq._cleanVisi(this)})},
isVisible:function(a){var b=this.jq[0];return b&&(!b.style||"none"!=b.style.display&&(!a||"hidden"!=b.style.visibility))},isRealVisible:function(a){var b=this.jq[0];return b&&this.isVisible(a)&&(0<b.offsetWidth||0<b.offsetHeight||!b.firstChild&&(!(b=b.parentNode)||b==f.body||zk(b).isRealVisible(a)))},scrollTo:function(){if(this.jq.length){var a=this.cmOffset();scrollTo(a[0],a[1])}return this},scrollIntoView:function(a){var b=this;zk.afterAnimate(function(){b._scrollIntoView(a)},-1);return this},_scrollIntoView:function(a){var b=
this.jq[0];if(b){var c=jq("#"+b.id+"-real")[0];c&&(b=c);if(!this.isScrollIntoView(!0)){c=a;var d=b;if(!c){do{if(d==f.body)break;if("absolute"==jq(d).css("position")){c=!0;break}}while(d=d.offsetParent)}!c&&zk.isLoaded("zul.sel")&&(c=(c=zk.Widget.$(b))&&c.$instanceof(zul.sel.ItemWidget));if(c){a=a||f.documentElement;d=b;for(var e;(d=d.parentNode)&&b!=a;b=d)e=F(d,b,e,!0)}else zk.delayFunction(this.$().uuid,function(){b.scrollIntoView()},{urgent:!0})}}return this},isRealScrollIntoView:function(){var a=
this.$();if(a){var b=a.desktop;a=a.parent;var c=this.jq[0],d,e=!0;if(!zk.ie8_)for(;a&&a!=b;){if((d=a._scrollbar)&&(d.hasVScroll()||d.hasHScroll())&&(e=d.isScrollIntoView(c),!e))return e;a=a.parent}return e&&this.isScrollIntoView(!0)}},isScrollIntoView:function(){return function(a){var b=this.viewportOffset(),c=b[0];b=b[1];var d=c+this.jq[0].offsetWidth,e=b+this.jq[0].offsetHeight;if(0<=c&&0<=b&&d<=jq.innerWidth()&&e<=jq.innerHeight()){var g=this.jq[0],m,l,h=[];do{m||g!=t()&&"auto"!=g.style.overflow&&
"auto"!=g.style.overflowY&&"auto"!=jq(g).css("overflow-y")||(m=g);l||g!=t()&&g!=f.body&&"auto"!=g.style.overflow&&"auto"!=g.style.overflowX&&"auto"!=jq(g).css("overflow-x")||(l=g);if(m&&l){h.push([l,m]);if(!a)break;m=l=null}g=g.parentNode}while(g&&g!=f);m=!0;for(a=0;a<h.length&&(m=h[a],l=zk(this.jq[0]==m[0]?m[0]=m[0].parentNode:m[0]).viewportOffset()[0],g=zk(this.jq[0]==m[1]?m[1]=m[1].parentNode:m[1]).viewportOffset()[1],m=c>=l&&d<=l+m[0].offsetWidth&&b>=g&&e<=g+m[1].offsetHeight,m);a++);return m}return!1}}(),
hasVScroll:function(){var a;if((a=this.$())&&a._scrollbar)return a._scrollbar.hasVScroll();var b,c;return(b=this.jq[0])&&(c=b.clientWidth)&&11<(c=b.offsetWidth-c)?c:0},hasHScroll:function(){var a;if((a=this.$())&&a._scrollbar)return a._scrollbar.hasHScroll();var b,c;return(b=this.jq[0])&&(c=b.clientHeight)&&11<(c=b.offsetHeight-c)?c:0},isOverlapped:function(a,b){var c;if(c=this.jq[0])return jq.isOverlapped(this.revisedOffset(),[c.offsetWidth,c.offsetHeight],zk(a).revisedOffset(),[a.offsetWidth,a.offsetHeight],
b)},sumStyles:function(a,b){for(var c=0,d=0,e=a.length,g=this.jq;d<e;d++){var f=Math.round(zk.parseFloat(g.css(b[a.charAt(d)])));isNaN(f)||(c+=f)}return c},revisedOffset:function(a){var b=this.jq[0];if(!a){if(b.getBoundingClientRect){var c;if(11>zk.ie&&"none"==b.style.display){var d=(c=b.style).visibility;c.visibility="hidden";c.display=""}a=b.getBoundingClientRect();a=[a.left+jq.innerX()-b.ownerDocument.documentElement.clientLeft,a.top+jq.innerY()-b.ownerDocument.documentElement.clientTop];c&&(c.display=
"none",c.visibility=d);a[0]=Math.ceil(a[0]);a[1]=Math.ceil(a[1]);return a}a=this.cmOffset()}b=zk(b.parentNode).scrollOffset();b[0]-=jq.innerX();b[1]-=jq.innerY();return[a[0]-b[0],a[1]-b[1]]},revisedWidth:function(a,b){"border-box"!=this.jq.css("box-sizing")&&(a-=this.padBorderWidth());0<a&&b&&(a-=this.marginWidth());return 0>a?0:a},revisedHeight:function(a,b){"border-box"!=this.jq.css("box-sizing")&&(a-=this.padBorderHeight());0<a&&b&&(a-=this.marginHeight());return 0>a?0:a},contentWidth:function(a){var b=
this.jq[0].offsetWidth;b-=this.padBorderWidth();0<b&&a&&(b-=this.marginWidth());return 0>b?0:b},contentHeight:function(a){var b=this.jq[0].offsetHeight;b-=this.padBorderHeight();0<b&&a&&(b-=this.marginHeight());return 0>b?0:b},marginWidth:function(){return this.sumStyles("lr",jq.margins)},marginHeight:function(){return this.sumStyles("tb",jq.margins)},borderWidth:function(){return this.sumStyles("lr",jq.borders)},borderHeight:function(){return this.sumStyles("tb",jq.borders)},paddingWidth:function(){return this.sumStyles("lr",
jq.paddings)},paddingHeight:function(){return this.sumStyles("tb",jq.paddings)},padBorderWidth:function(){return this.borderWidth()+this.paddingWidth()},padBorderHeight:function(){return this.borderHeight()+this.paddingHeight()},vflexHeight:function(){for(var a=this.jq[0],b=a.parentNode.clientHeight,c=a;c=c.previousSibling;)c.offsetHeight&&zk(c).isVisible()&&(b-=c.offsetHeight);for(c=a;c=c.nextSibling;)c.offsetHeight&&zk(c).isVisible()&&(b-=c.offsetHeight);return b},cellIndex:function(){var a=this.jq[0];
return a?a.cellIndex:0},ncols:function(a){var b=this.jq[0],c=0,d;if(b&&(d=b.cells)){b=0;for(var e=d.length;b<e;++b){var g=d[b];if(!a||zk(g).isVisible())g=g.colSpan,1<=g?c+=g:++c}}return c},toStyleOffset:function(a,b){var c=this.jq[0],d=c.style.left,e=c.style.top,g=zk.webkit||zk.opera||zk.air||7<zk.ie;if(g||""==c.style.left||"auto"==c.style.left)c.style.left="0";if(g||""==c.style.top||"auto"==c.style.top)c.style.top="0";g=this.cmOffset();var f=zk.parseInt(c.style.left),l=zk.parseInt(c.style.top);g=
[a-g[0]+f,b-g[1]+l];c.style.left=d;c.style.top=e;return g},center:function(a){var b=this.jq[0],c=this.offsetWidth(),d=this.offsetHeight();c&&d||this.isVisible()||(b.style.left=b.style.top="-10000px",b.style.display="block",c=this.offsetWidth(),d=this.offsetHeight(),b.style.display="none");var e=jq.innerX(),g=jq.innerY();c=jq.innerWidth()-c;if(a)if(0<=a.indexOf("left"))c=e;else if(0<=a.indexOf("right"))c=e+c-1;else if(0<=a.indexOf("center"))c=e+c/2;else{c=0;var f=!0}else c=e+c/2;d=jq.innerHeight()-
d;if(a)if(0<=a.indexOf("top"))a=g;else if(0<=a.indexOf("bottom"))a=g+d-1;else if(0<=a.indexOf("center"))a=g+d/2;else{a=0;var l=!0}else a=g+d/2;c<e&&(c=e);a<g&&(a=g);e=this.toStyleOffset(c,a);f||(b.style.left=jq.px(e[0]));l||(b.style.top=jq.px(e[1]));return this},position:function(a,b,c){b=b||"overlap";if(!a){var d=jq("body")[0];a={left:0,top:0,width:d.offsetWidth,height:d.offsetHeight}}a.nodeType&&(a=zk(a).dimension(!0));d=a.left;var e=a.top,g=this.dimension(),f=g.height;g=g.width;switch(b){case "before_start":e-=
f;break;case "before_center":e-=f;d+=(a.width-g)/2|0;break;case "before_end":e-=f;d+=a.width-g;break;case "after_start":e+=a.height;break;case "after_center":e+=a.height;d+=(a.width-g)/2|0;break;case "after_end":e+=a.height;d+=a.width-g;break;case "start_before":d-=g;break;case "start_center":d-=g;e+=(a.height-f)/2|0;break;case "start_after":d-=g;e+=a.height-f;break;case "end_before":d+=a.width;break;case "end_center":d+=a.width;e+=(a.height-f)/2|0;break;case "end_after":d+=a.width;e+=a.height-f;
break;case "at_pointer":e=zk.currentPointer;d=e[0];e=e[1];break;case "after_pointer":e=zk.currentPointer;d=e[0];e=e[1]+20;break;case "top_right":case "overlap_end":d+=a.width-g;break;case "top_center":d+=(a.width-g)/2|0;break;case "middle_left":e+=(a.height-f)/2|0;break;case "middle_center":d+=(a.width-g)/2|0;e+=(a.height-f)/2|0;break;case "middle_right":d+=a.width-g;e+=(a.height-f)/2|0;break;case "bottom_left":case "overlap_before":e+=a.height-f;break;case "bottom_center":d+=(a.width-g)/2|0;e+=a.height-
f;break;case "bottom_right":case "overlap_after":d+=a.width-g,e+=a.height-f}if(!c||!c.overflow){var l=jq.innerX();var h=jq.innerY();b=l+jq.innerWidth();var k=h+jq.innerHeight();d+g>b&&(d=b-g);d<l&&(d=l);e+f>k&&(e=k-f);e<h&&(e=h)}c&&c.dodgeRef&&(h=a.left,b=a.top,k=h+a.width,a=b+a.height,d+g>h&&d<k&&e+f>b&&e<a&&(c.overflow?d=k:(l=jq.innerX(),b=l+jq.innerWidth(),c=b-k,d=c>=g||c>=h-l?Math.min(k,b-g):Math.max(h-g,l))));c=this.jq[0];d=this.toStyleOffset(d,e);c.style.left=jq.px(d[0]);c.style.top=jq.px(d[1]);
return this},scrollOffset:function(){var a=this.jq[0],b=0,c=0;do b+=a.scrollTop||0,c+=a.scrollLeft||0,a=a.parentNode;while(a);return[c,b]},cmOffset:function(){var a=this.jq[0];zk.webkit&&jq.nodeName(a,"tr")&&a.cells.length&&(a=a.cells[0]);if(!zk.gecko&&!zk.webkit||this.isVisible()||this.offsetWidth())return z(a);a.style.display="";var b=z(a);a.style.display="none";return b},$:function(){return zk.Widget.$(this.jq[0])},absolutize:function(){var a=this.jq[0];if("absolute"==a.style.position)return this;
var b,c=a;zk.webkit&&jq.nodeName(c,"tr")&&c.cells.length&&(c=c.cells[0]);var d=b=0;do if(b+=c.offsetTop||0,d+=c.offsetLeft||0,c=zk.gecko&&c!=f.body?k(c):c.offsetParent){if(jq.nodeName(c,"body"))break;var e=jq(c).css("position");if("relative"==e||"absolute"==e)break}while(c);b=[d,b];c=b[0];b=b[1];d=a.style;a._$orgLeft=c-parseFloat(d.left||0);a._$orgTop=b-parseFloat(d.top||0);d.position="absolute";d.top=jq.px(b);d.left=jq.px(c);return this},relativize:function(){var a=this.jq[0];if("relative"==a.style.position)return this;
var b=a.style;b.position="relative";var c=parseFloat(b.top||0)-(a._$orgTop||0);a=parseFloat(b.left||0)-(a._$orgLeft||0);b.top=jq.px(c);b.left=jq.px(a);return this},offsetWidth:function(){var a=this.jq[0];if("undefined"!=typeof a.getBoundingClientRect){var b=a.getBoundingClientRect();b=b.width||b.right-b.left}return Math.max(b,a.offsetWidth)},offsetHeight:function(){var a=this.jq[0];if(H()&&jq.nodeName(a,"SPAN")&&"block"!=this.jq.css("display")){var b=a.outerHTML;zk.Widget.$(a,{exact:1})&&(b=b.replace(/id="[^"]*"/g,
""));return zk(f.body).textSize(b)[1]}return a.offsetHeight},offsetTop:function(){return this.jq[0].offsetTop},offsetLeft:function(){return this.jq[0].offsetLeft},offsetWidthDoubleValue:function(){return this.jq[0].getBoundingClientRect().width},offsetHeightDoubleValue:function(){return this.jq[0].getBoundingClientRect().height},offsetTopDoubleValue:function(){return this.jq[0].getBoundingClientRect().top},offsetLeftDoubleValue:function(){return this.jq[0].getBoundingClientRect().left},viewportOffset:function(){var a=
0,b=0,c=this.jq[0],d=c;do if(a+=d.offsetTop||0,b+=d.offsetLeft||0,d.offsetParent==f.body&&"absolute"==jq(d).css("position"))break;while(d=d.offsetParent);for(;c=c.parentNode;)a-=c.scrollTop||0,b-=c.scrollLeft||0;return[b,a]},textSize:function(){var a=[],b,c={};return function(d){var e=this.jq;d=d||e[0].innerHTML;if(!b){b=f.createElement("div");b.style.cssText="left:-1000px;top:-1000px;position:absolute;visibility:hidden;border:none;display:none;";f.body.appendChild(b);for(var g=w,h=g.length;h--;)a[h]=
g[h].$camel()}var k="";g=a;for(h=g.length;h--;)k+=w[h]+":"+e.css(g[h])+";";g=k+d;(e=c[g])||(b.innerHTML=d.replace(/name="[^"]*"/g,""),b.style.cssText="left:-1000px;top:-1000px;position:absolute;visibility:hidden;border:none;display:none;"+k,b.style.display="",e=c[g]=[b.offsetWidth,b.offsetHeight],b.style.display="none",b.innerHTML="");return e}}(),dimension:function(a){var b=this.jq.css("display");if("none"!=b&&null!=b)return A(this,{width:this.offsetWidth(),height:this.offsetHeight()},a);b=this.jq[0].style;
var c={};zk.copy(b,{visibility:"hidden",position:"absolute",display:"block"},c);try{return A(this,{width:this.offsetWidth(),height:this.offsetHeight()},a)}finally{zk.copy(b,c)}},redoCSS:function(a,b){if(b&&b.fixFontIcon){if(zk.ie8_){var c=f.getElementsByTagName("head")[0],d=f.createElement("style");a=this.jq[0];b=b.selector;var e=a?a.className:"";a=a?a.id?"#"+a.id:"."+e:"";b=b?b:"*";if(""==a&&"*"==b)return this;d.type="text/css";d.styleSheet.cssText=a+" "+b+":before{content:none !important";var g=
f.documentElement.scrollTop,h=f.documentElement.scrollLeft;c.appendChild(d);setTimeout(function(){c.removeChild(d);f.documentElement.scrollTop=g;f.documentElement.scrollLeft=h},0)}return this}if(-1==a)for(b=this.jq.length;b--;)zjq._fixCSS(this.jq[b]);else{for(b=this.jq.length;b--;)y.push(this.jq[b]);setTimeout(B,0<=a?a:100)}return this},redoSrc:function(){for(var a=this.jq.length;a--;){var b=this.jq[a],c=b.src;b.src=zjq.src0;b.src=c}return this},vparentNode:function(a){var b=this.jq[0];if(b){var c=
b.z_vp;if(c)return jq("#"+c)[0];if((c=b.z_vpagt)&&(c=jq("#"+c)[0]))return c.parentNode;if(a)return b.parentNode}},makeVParent:function(){var a=this.jq[0],b=a.parentNode;if(a.z_vp||a.z_vpagt||b==f.body)return this;var c=a.nextSibling,d=f.createElement("span");d.id=a.z_vpagt="_z_vpagt"+G++;d.style.display="none";zjq._fixedVParent(a,!0);c?b.insertBefore(d,c):b.appendChild(d);a.z_vp=b.id;b=a.style;b.top||(b.top="0");f.body.appendChild(a);return this},undoVParent:function(){var a=this.jq[0];if(a.z_vp||
a.z_vpagt){var b=a.z_vp;var c=a.z_vpagt,d=jq("#"+c);a.z_vp=a.z_vpagt=null;c=d[0];if(b=b?jq("#"+b)[0]:c?c.parentNode:null){zjq._fixedVParent(a);c?(b.insertBefore(a,c),d.remove()):b.appendChild(a);var e,g;(zk.ff||zk.opera)&&(e=zk._prevFocus)&&(b=zk.Widget.$(a))&&zUtl.isAncestor(b,e)&&(e.getInputNode?jq(e.getInputNode()).trigger("blur"):(g=e.$n("a"))&&jq.nodeName(g,"button","input","textarea","a","select","iframe")?jq(g).trigger("blur"):e.$instanceof(zul.wgt.Button)&&jq(e.$n("btn")||e.$n()).trigger("blur"))}}return this},
hasVParent:function(){var a=this.jq[0];return a&&(a.z_vp||a.z_vpagt)},beforeHideOnUnbind:zk.$void,focus:function(a){var b=this.jq[0];if(!b||!b.focus||!jq.nodeName(b,"button","input","textarea","a","select","iframe"))return!1;0<=a?setTimeout(function(){n(b)},a):n(b);return!0},select:function(a){var b=this.jq[0];if(!b||"function"!=typeof b.select)return!1;0<=a?setTimeout(function(){p(b)},a):p(b);return!0},getSelectionRange:function(){var a=this.jq[0];try{if(null!=f.selection&&null==a.selectionStart){var b=
f.selection.createRange(),c=a.createTextRange(),d="";"text"==a.type.toLowerCase()?d=c.duplicate():(d=b.duplicate(),d.moveToElementText(a));d.setEndPoint("EndToEnd",b);var e=d.text.length-b.text.length;return[e,e+b.text.length]}return[a.selectionStart,a.selectionEnd]}catch(g){return[0,0]}},setSelectionRange:function(a,b){var c=this.jq[0],d=c.value?c.value.length:0;if(null==a||0>a)a=0;a>d&&(a=d);if(null==b||b>d)b=d;0>b&&(b=0);c.setSelectionRange?c.setSelectionRange(a,b):c.createTextRange&&(c=c.createTextRange(),
a!=b?(c.moveEnd("character",b-c.text.length),c.moveStart("character",a)):c.move("character",a),c.select());return this},submit:function(){this.jq.each(v);return this},disableSelection:function(){this.jq.each(u);return this},enableSelection:function(){this.jq.each(E);return this},setStyles:function(a){this.jq.css(a);return this},clearStyles:function(){var a=this.jq[0];if(a&&(a=a.style))for(var b in a)if(!(11>zk.ie&&"accelerator"==b)&&a[b]&&"string"==typeof a[b])try{a[b]=""}catch(c){zk.debugLog(c.message||
c)}return this},detachChildren:function(){var a=this.jq[0];if(a){for(var b=[],c;c=a.firstChild;)b.push(c),a.removeChild(c);return b}return null},isInput:function(){for(var a=this.jq,b=a.length,c="text password number tel url email".split(" "),d=b,e,g;d--;)if("textarea"!=(e=jq.nodeName(g=a[d]))&&("input"!=e||-1==jq.inArray(g.type,c)))return!1;return 0<b}};zk.copy(jq,{nodeName:function(a){var b=a&&a.nodeName?a.nodeName.toLowerCase():"",c=arguments.length;if(1>=c)return b;for(;--c;)if(b==arguments[c].toLowerCase())return!0;
return!1},px:function(a){return(a||0)+"px"},px0:function(a){return Math.max(a||0,0)+"px"},$$:function(a,b){return"string"==typeof a?a?f.getElementsByName(a+(b?"-"+b:"")):null:a},isAncestor:function(a,b){if(!a)return!0;for(;b;b=zk(b).vparentNode(!0))if(a==b)return!0;return!1},innerX:function(){return Math.round(h.pageXOffset||t().scrollLeft||0)},innerY:function(){return Math.round(h.pageYOffset||t().scrollTop||0)},innerWidth:function(){return jq(h).width()},innerHeight:function(){return jq(h).height()},
margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},scrollbarWidth:function(){r||(r=f.createElement("div"),r.style.cssText="top:-1000px;left:-1000px;position:absolute;visibility:hidden;border:none;width:50px;height:50px;overflow:scroll;",f.body.appendChild(r));return r._value||(r._value=r.offsetWidth-
r.clientWidth)},isOverlapped:function(a,b,c,d,e){var g=a[0],f=b[0]+g;a=a[1];b=b[1]+a;var h=c[0],k=d[0]+h;c=c[1];d=d[1]+c;return e?h<=f&&k>=g&&c<=b&&d>=a&&f-h>e&&k-g>e&&b-c>e&&d-a>e:h<=f&&k>=g&&c<=b&&d>=a},clearSelection:function(){try{return h.getSelection?zk.webkit?h.getSelection().collapse():h.getSelection().removeAllRanges():f.selection&&(f.selection.empty?f.selection.empty():f.selection.clear&&f.selection.clear()),!0}catch(a){return!1}},filterTextStyle:function(a,b){if("string"==typeof a){var c=
"";if(a)for(var d=0,e=0;0<=e;d=e+1){e=a.indexOf(";",d);d=0<=e?a.substring(d,e):a.substring(d);var g=d.indexOf(":");(g=0>g?d.trim():d.substring(0,g).trim())&&(w.$contains(g)||C.$contains(g)||b&&b.$contains(g))&&(c+=d+";")}return c}c={};for(g in a)if(w.$contains(g)||C.$contains(g)||b&&b.$contains(g))c[g]=a[g];return c},parseStyle:function(a){var b={};if(a){a=a.split(";");for(var c=0,d=a.length;c<d;){var e=a[c++].split(":"),g=0<e.length?e[0].trim():"";g&&(b[g]=1<e.length?e[1].trim():"")}}return b},newFrame:function(a,
b,c){b||(b=zjq.src0);null==c&&(c="display:none");b='<iframe id="'+a+'" name="'+a+'" src="'+b+'"'+(' style="'+c+'"></iframe>');jq(f.body).append(b);return zk(a).jq[0]},newStackup:function(a,b,c){a=jq(a||[],zk)[0];var d=f.createElement("iframe");d.id=b||(a?a.id+"-ifrstk":"z_ifrstk");d.style.cssText="position:absolute;overflow:hidden;opacity:0;filter:alpha(opacity=0)";d.frameBorder="no";d.tabIndex=-1;d.src=zjq.src0;a&&(d.style.width=a.offsetWidth+"px",d.style.height=a.offsetHeight+"px",d.style.top=a.style.top,
d.style.left=a.style.left,d.style.zIndex=a.style.zIndex,a.parentNode.insertBefore(d,c||a));return d},newHidden:function(a,b,c){var d=f.createElement("input");d.type="hidden";d.name=a;d.value=b;c&&c.appendChild(d);return d},head:function(){return f.getElementsByTagName("head")[0]||f.documentElement},confirm:function(a){zk.alerting=!0;try{return confirm(a)}finally{try{zk.alerting=!1}catch(b){zk.debugLog(b.message||b)}}},alert:function(a){zk.alerting=!0;try{alert(a)}finally{try{zk.alerting=!1}catch(b){zk.debugLog(b.message||
b)}}},onzsync:function(a){x.unshift(a)},unzsync:function(a){x.$remove(a)},zsync:function(a){++D;setTimeout(function(){if(0>=--D)for(var b=x.length;b--;)x[b].zsync(a)},50)},focusOut:11>zk.ie?function(){h.focus()}:function(){var a=jq("#z_focusOut")[0];a||(jq(f.body).append('<a href="javascript:;" style="position:absolute;left:'+zk.clickPointer[0]+"px;top:"+zk.clickPointer[1]+'px;" id="z_focusOut"/>'),a=jq("#z_focusOut")[0]);a.focus();setTimeout(function(){jq(a).remove()},500)},_syncScroll:{},onSyncScroll:function(a){var b=
this._syncScroll;b[a.uuid]||(b[a.uuid]=a)},doSyncScroll:function(){var a=this._syncScroll,b;for(b in a)a[b].doResizeScroll_();this._syncScroll={}},unSyncScroll:function(a){delete this._syncScroll[a.id]}});zk.copy(jq.Event.prototype,{stop:function(){this.preventDefault();this.stopPropagation()},mouseData:function(){return zk.copy({pageX:this.pageX,pageY:this.pageY},this.metaData())},keyData:function(){return zk.copy({keyCode:this.keyCode,charCode:this.charCode},this.metaData())},metaData:function(){var a=
{};this.altKey&&(a.altKey=!0);this.ctrlKey&&(a.ctrlKey=!0);this.shiftKey&&(a.shiftKey=!0);this.metaKey&&(a.metaKey=!0);a.which=this.which||0;return a}});zk.copy(jq.Event,{fire:f.createEvent?function(a,b){var c=f.createEvent("HTMLEvents");c.initEvent(b,!1,!1);a.dispatchEvent(c)}:function(a,b){a.fireEvent("on"+b)},stop:function(a){a.stop()},filterMetaData:function(a){var b={};a.altKey&&(b.altKey=!0);a.ctrlKey&&(b.ctrlKey=!0);a.shiftKey&&(b.shiftKey=!0);a.metaKey&&(b.metaKey=!0);b.which=a.which||0;return b},
zk:function(a,b){var c=a.type;b=zk.Widget.$(a)||b;if(c.startsWith("mouse")){5<c.length&&(c="Mouse"+c.charAt(5).toUpperCase()+c.substring(6));var d=a.mouseData()}else c.startsWith("key")?(3<c.length&&(c="Key"+c.charAt(3).toUpperCase()+c.substring(4)),d=a.keyData()):"dblclick"==c?(d=a.mouseData(),c="DoubleClick"):("click"==c&&(d=a.mouseData()),c=c.charAt(0).toUpperCase()+c.substring(1));return new zk.Event(b,"on"+c,d,{},a)}});zk.delayQue={};zk.delayFunction=function(a,b,c){if(a&&"function"==typeof b){c||
(c={});var d=c.timeout;c=c.urgent;var e=zk.delayQue[a];e&&e.length?c?e.splice(0,0,b):e.push(b):(zk.delayQue[a]=e=[b],setTimeout(function(){for(var a=e.shift();a;)a(),a=e.shift()},0<=d?d:50))}}})(document,window);

zk.Event=zk.$extends(zk.Object,{$init:function(e,m,p,r,q){this.currentTarget=this.target=e;this.name=m;(this.data=p)&&"object"==typeof p&&!jq.isArray(p)&&zk.$default(this,p);this.opts=r||{rtags:{}};if(this.domEvent=q)this.domTarget=q.target},addOptions:function(e){this.opts=zk.copy(this.opts,e)},stop:function(e){var m=!e||!e.revoke;if(!e||e.propagation)this.stopped=m;if(!e||e.dom)this.domStopped=m;e&&e.au&&(this.auStopped=m)}});
zWatch=function(){function e(a,c,b,h,d){for(var f=0,k=c.length;f<k;){var g=c[f++];var l=b;var e=a;g=jq.isArray(g)?g[1]:l[e];if(!g)throw(l.className||l)+":"+e+" not found";l=g;d?d.push([l,b]):l.apply(b,h)}"onSize"==a&&(a=b.onAfterSize)&&a.apply(b,h)}function m(a,c,b,h){var d=[],f=b.bindLevel,k=u[a]&&{},g;if(b.isWatchable_)for(var l=c.length;l--;){var e=c[l],m=e[0];if(f>m.bindLevel)break;if(!g&&k){if(!(g=b.isWatchable_&&b.isWatchable_(a)))break;k[b.uuid]=!0}a:{var n=a;for(var p=b,r=k,q=m;q;q=q.parent)if(p==
q){n=!r||m.isWatchable_(n,p,r);break a}n=!1}n&&(h&&c.splice(l,1),d.unshift(e))}return d}function p(a,c){c=c.$clone();if(u[a])for(var b=c.length;b--;){var h=c[b][0];h.isWatchable_&&h.isWatchable_(a)||c.splice(b,1)}return c}function r(a){return jq.isArray(a)?a[0]:a}function q(){if(t){t=!1;for(var a in n){var c=n[a];c.length&&null!=c[0][0].bindLevel&&c.sort(z)}}}function v(a){return null==(a=a.bindLevel)||isNaN(a)?-1:a}function z(a,c){return v(a[0])-v(c[0])}function w(a,c){if(a)for(var b=a.length,h=
b-1,d,f,k;0<=b;){if(0>--b||d!=(k=a[b][1].parent)&&d){for(d=b;++d<=h;)f=a[d],f[0].apply(f[1],c);h=b}d=k}}function x(a,c,b,h){var d=n[a];if(d&&d.length){var f=b&&b.down&&null!=c.bindLevel;f&&q();var k=[],g=b&&b.reverse?[]:null,e=new y(a,f?m(a,d,c):p(a,d),k,c,g);k.push(e);d=2;for(f=h.length;d<f;)k.push(h[d++]);b&&0<=b.timeout?setTimeout(function(){e.fire();w(g,k);zk._zsyncFns(a,c)},b.timeout):(e.fire(),w(g,k),zk._zsyncFns(a,c))}else zk._zsyncFns(a,c)}var u={onFitSize:!0,onSize:!0,onShow:!0,onHide:!0,
beforeSize:!0,afterSize:!0},n={},t,y=zk.$extends(zk.Object,{$init:function(a,c,b,h,d){this.name=a;this.xinfs=c;this.args=b;this.origin=h;this.fns=d},fire:function(a){var c=this.name,b=this.xinfs,h=this.args,d=this.fns;if(a)for(var f=0,k=b.length;f<k;++f){if(b[f][0]==a){var g=b[f][1];b.splice(f--,1);--k;e(c,g,a,h,d)}}else for(;a=b.shift();)e(c,a[1],a[0],h,d)},fireDown:function(a){a&&null!=a.bindLevel||this.fire(a);(new y(this.name,m(this.name,this.xinfs,a,!0),this.args,this.origin,this.fns)).fire()}});
zk._zsyncFns=function(a,c){if("onSize"==a||"onShow"==a||"onHide"==a)jq.zsync(c),"onSize"==a&&setTimeout("zk.doAfterResize()",20);"onResponse"==a&&jq.doSyncScroll()};return{listen:function(a){for(var c in a){var b=n[c],h=a[c],d=r(h),f=[d,[h]];if(b){var e=d.bindLevel;if(null!=e)for(var g=b.length;;){if(0>--g){b.unshift(f);break}if(b[g][0]==d){d=b[g][1];f=h;if(d)if(jq.isArray(f)){e=!1;for(var l=d.length;0<l;l--)if(jq.isArray(d[l])&&d[l].$equals(f)){e=!0;break}d=e}else d=d.$contains(f);else d=!1;d||b[g][1].push(h);
break}if(e>=b[g][0].bindLevel){b.splice(g+1,0,f);break}}else for(g=b.length;;){if(0>--g){b.push(f);break}if(b[g][0]==d){b[g][1].push(h);break}}}else n[c]=[f]}},unlisten:function(a){for(var c in a){var b=n[c];if(b)for(var e=a[c],d=r(e),f=b.length;f--;)if(b[f][0]==d&&b[f][1].$remove(e)){b[f][1].length||b.splice(f,1);break}}},unlistenAll:function(a){delete n[a]},fire:function(a,c,b){x(a,c,b,arguments)},fireDown:function(a,c,b){x(a,c,zk.copy(b,{down:!0}),arguments)},onBindLevelMove:function(){t=!0}}}();
zWatch.listen({onBindLevelMove:zWatch});

(function(){function h(b,a){for(var d=b.jq,f=a.length;f--;)null!==a[f]&&d.data("zk.cache."+a[f],d[0].style[a[f]]);return b}function n(b,a){for(var d=b.jq,f=a.length;f--;)null!==a[f]&&d.css(a[f],d.data("zk.cache."+a[f]));return b}function k(b,a,d,f){if(b.jq.is(":animated")){var c=a.uuid;b={el:b.jq[0],wgt:a,opts:d,anima:f};(a=zk._anique[c])||(a=zk._anique[c]=[]);a.push(b);return!0}return!1}function l(b,a){var d=b.jq.css("position");d&&"static"!=d||(a.position="relative");return b}var m=[],p=jq.fx.stop;
jq.fx.stop=function(){p();for(var b;b=m.shift();)b()};zk.copy(zk,{animating:function(){return!!jq.timers.length},afterAnimate:function(b,a){if(zk.animating())m.push(b);else{if(0>a)return b(),!0;setTimeout(b,a)}},_anique:{}});zk.copy(zjq.prototype,{getAnimationSpeed:function(b){var a=jq(this.$().$n()).data("animationspeed"),d=jq.fx.speeds;if("string"===typeof a){if(d[a])return d[a];a=parseInt(a)}return"number"!==typeof a||isNaN(a)?b||d._default:a+1},slideDown:function(b,a){if(k(this,b,a,"slideDown"))return this;
var d=a?a.anchor||"t":"t",f="top left height width overflow position border margin padding".split(" "),c={},g={overflow:"hidden"},e=this.dimension();a=a||{};l(h(this,f),g);switch(d){case "t":g.height="0";c.height=jq.px0(e.height);break;case "b":g.height="0";g.top=jq.px(e.top+e.height);c.height=jq.px0(e.height);c.top=jq.px(e.top);break;case "l":g.width="0";c.width=jq.px0(e.width);break;case "r":g.width="0",g.left=jq.px(e.left+e.width),c.width=jq.px0(e.width),c.left=jq.px(e.left)}return this._createWrapper(this.defaultAnimaOpts(b,
a,f,!0).jq).css(g).show().animate(c,{queue:!1,easing:a.easing,duration:this.getAnimationSpeed(a.duration||250),complete:a.afterAnima})},slideUp:function(b,a){if(k(this,b,a,"slideUp"))return this;var d=a?a.anchor||"t":"t",f="top left height width overflow position border margin padding".split(" "),c={},g={overflow:"hidden"},e=this.dimension();a=a||{};l(h(this,f),g);switch(d){case "t":c.height="hide";break;case "b":g.height=jq.px0(e.height);c.height="hide";c.top=jq.px(e.top+e.height);break;case "l":c.width=
"hide";break;case "r":g.width=jq.px0(e.width),c.width="hide",c.left=jq.px(e.left+e.width)}return this._createWrapper(this.defaultAnimaOpts(b,a,f).jq).css(g).animate(c,{queue:!1,easing:a.easing,duration:this.getAnimationSpeed(a.duration||250),complete:a.afterAnima})},slideOut:function(b,a){if(k(this,b,a,"slideOut"))return this;var d=a?a.anchor||"t":"t",f="top left position border margin padding".split(" "),c={},g={},e=this.dimension();a=a||{};l(h(this,f),g);switch(d){case "t":c.top=jq.px(e.top-e.height);
break;case "b":c.top=jq.px(e.top+e.height);break;case "l":c.left=jq.px(e.left-e.width);break;case "r":c.left=jq.px(e.left+e.width)}return this._createWrapper(this.defaultAnimaOpts(b,a,f).jq).css(g).animate(c,{queue:!1,easing:a.easing,duration:this.getAnimationSpeed(a.duration||350),complete:a.afterAnima})},slideIn:function(b,a){if(k(this,b,a,"slideIn"))return this;var d=a?a.anchor||"t":"t",f="top left position border margin padding".split(" "),c={},g={},e=this.dimension();a=a||{};l(h(this,f),g);switch(d){case "t":g.top=
jq.px(e.top-e.height);c.top=jq.px(e.top);break;case "b":g.top=jq.px(e.top+e.height);c.top=jq.px(e.top);break;case "l":g.left=jq.px(e.left-e.width);c.left=jq.px(e.left);break;case "r":g.left=jq.px(e.left+e.width),c.left=jq.px(e.left)}return this._createWrapper(this.defaultAnimaOpts(b,a,f,!0).jq).css(g).show().animate(c,{queue:!1,easing:a.easing,duration:this.getAnimationSpeed(a.duration||350),complete:a.afterAnima})},_updateProp:function(b){h(this,b)},defaultAnimaOpts:function(b,a,d,f){var c=this;
jq.timers.push(function(){f||zWatch.fireDown("onHide",b);a.beforeAnima&&a.beforeAnima.call(b,c)});var g=a.afterAnima;a.afterAnima=function(){c._removeWrapper(c.jq);d&&n(c,d);if(f){var a=zk.ie;if(a||zk.edge||zk.safari)zWatch.fireDown("onRestore",b),8!=a&&10!=a||zk(c.jq[0]).redoCSS();zUtl.fireShown(b)}else c.jq.hide();g&&g.call(b,c.jq.context);b.afterAnima_(f);setTimeout(function(){var a=b.uuid,c=zk._anique[a];if(c){for(var e=c.length;e;){var d=c.shift();if(jq(d.el).is(":animated")){c.unshift(d);break}zk(d.el)[d.anima](d.wgt,
d.opts);e--}e||delete zk._anique[a]}})};return this},_createWrapper:function(b){if(b.children(".ui-effects-wrapper").length)return b;var a=b.height(),d=b.width(),f=b.outerHeight(!0),c=b.outerWidth(!0);if(a==f&&d==c)return b;a=zk.copy({boxSizing:"border-box",height:"100%",width:"100%"},b.css("marginLeft marginRight marginTop marginBottom paddingLeft paddingRight paddingTop paddingBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth borderLeftColor borderRightColor borderTopColor borderBottomColor borderLeftStyle borderRightStyle borderTopStyle borderBottomStyle".split(" ")));
a=jq("<div></div>").addClass("ui-effects-wrapper").css(a);d=document.activeElement;try{d.id}catch(g){d=document.body}b.wrapInner(a);(b[0]===d||jq.contains(b[0],d))&&jq(d).trigger("focus");return b.css({border:"none",margin:0,padding:0})},_removeWrapper:function(b){var a=document.activeElement,d=b.children(".ui-effects-wrapper");if(d.length){var f=d.contents();f.length?f.unwrap():d.remove();(b[0]===a||jq.contains(b[0],a))&&jq(a).trigger("focus")}return b}})})();

(function(){function y(a,c,b){m=setTimeout(function(){m=null;11>zk.ie&&g&&g.node!=a.node||(g=a)},a.opts.delay);n=b}function t(){g=null;p&&setTimeout(function(){p=null},0)}function u(a){if(g&&!g.dead){var c=jq.Event.zk(a),b=[c.pageX,c.pageY];k&&k[0]==b[0]&&k[1]==b[1]||(k=b,g._updateDrag(b,c),a.stop())}}function v(a){m&&(clearTimeout(m),m=null);var c=jq.Event.zk(a),b=g;b?(k=g=null,b._endDrag(c),c.domStopped&&a.stop(),b._suicide&&(b._suicide=!1,b.destroy())):1==c.which&&(p=null)}function w(a){g&&g._keypress(a)}
function z(a){a=a.node;a._$opacity=jq(a).css("opacity");r[a]=!0;new zk.eff.Opacity(a,{duration:.2,from:a._$opacity,to:.7})}function A(a){var c=a.node;new zk.eff.Opacity(c,{duration:.2,from:.7,to:"number"==typeof c._$opacity?c._$opacity:1,queue:{scope:"_draggable",position:"end"},afterFinish:function(){delete r[c]}})}function B(a,c){var b,d;if((b=c[0])||(d=c[1])){var e=a.node,f=e.style.position;new zk.eff.Move(e,{x:-b,y:-d,duration:.02*Math.sqrt(Math.abs(d^2)+Math.abs(b^2)),queue:{scope:"_draggable",
position:"end"},afterFinish:function(){e.style.position=f}})}}function x(a){return jq.nodeName(a.target,"input","textarea")}var q=[],r={},m,l,g,n,p,k,h;zk.Draggable=zk.$extends(zk.Object,{$init:function(a,c,b){l||(jq(l=jq.newStackup(null,"z_ddstkup")).hide(),document.body.appendChild(l));this.control=a;this.node=c=c?jq(c,zk)[0]:a.node||(a.$n?a.$n():null);if(!c)throw"Handle required for "+a;b=zk.$default(b,{scrollSensitivity:20,scrollSpeed:15,initSensitivity:3,delay:0,fireOnMove:!0});null==b.reverteffect&&
(b.reverteffect=B);null==b.endeffect&&(b.endeffect=A,null==b.starteffect&&(b.starteffect=z));b.handle&&(this.handle=jq(b.handle,zk)[0]);this.handle||(this.handle=c);!b.scroll||b.scroll.scrollTo||b.scroll.outerHTML||(b.scroll=jq(b.scroll,zk)[0],this._isScrollChild=zUtl.isAncestor(b.scroll,c));this.delta=this._currentDelta();this.opts=b;this.dragging=!1;jq(this.handle).bind("zmousedown",this.proxy(this._mousedown)).bind("dragstart",x);0==q.length&&jq(document).bind("zmouseup",v).bind("zmousemove",u).keypress(w);
q.push(this)},destroy:function(){this.dragging?this._suicide=!0:(jq(this.handle).unbind("zmousedown",this.proxy(this._mousedown)).unbind("dragstart",x),q.$remove(this),0==q.length&&jq(document).unbind("zmouseup",v).unbind("zmousemove",u).unbind("keypress",w),g==this&&(g=null),this.node=this.control=this.handle=null,this.dead=!0)},_currentDelta:function(){var a=jq(this.node);return[zk.parseInt(a.css("left")),zk.parseInt(a.css("top"))]},_startDrag:function(a){zWatch.fire("onStartDrag",this,a);zk(document.body).disableSelection();
jq.clearSelection();if(this.opts.overlay){var c=document.createElement("div");document.body.appendChild(c);c.className="z-dd-stackup";zk(c).disableSelection();c=(this.stackup=c).style;c.width=jq.px0(jq(document).width());c.height=jq.px0(jq(document).height())}zk.dragging=this.dragging=!0;var b=this.node;if(c=this.opts.ghosting)if("function"==typeof c){this.delta=this._currentDelta();this.orgnode=this.node;b=zk(this.node);var d=b.cmOffset();this.z_scrl=b.scrollOffset();this.z_scrl[0]-=jq.innerX();
this.z_scrl[1]-=jq.innerY();d[0]-=this.z_scrl[0];d[1]-=this.z_scrl[1];b=this.node=c(this,d,a)}else this._clone=jq(b).clone()[0],this.z_orgpos=b.style.position,"absolute"!=this.z_orgpos&&jq(b).absolutize(),b.parentNode.insertBefore(this._clone,b);this.opts.stackup&&(zk(l).isVisible()?this._stackup=jq.newStackup(b,b.id+"-ddstk"):(this._stackup=l,this._syncStackup(),b.parentNode.insertBefore(l,b)));this.orgZ=-1;if(c=this.opts.zIndex)"function"==typeof c&&(c=c(this)),0<=c&&(this.orgZ=zk.parseInt(jq(b).css("z-index")),
b.style.zIndex=c);this.opts.scroll&&(this.opts.scroll==window?(c=this._getWndScroll(this.opts.scroll),this.orgScrlLeft=c.left,this.orgScrlTop=c.top):(this.orgScrlLeft=this.opts.scroll.scrollLeft,this.orgScrlTop=this.opts.scroll.scrollTop));this.opts.starteffect&&this.opts.starteffect(this,a)},_syncStackup:function(){if(this._stackup){var a=this.node,c=this._stackup.style;c.display="block";c.left=a.offsetLeft+"px";c.top=a.offsetTop+"px";c.width=a.offsetWidth+"px";c.height=a.offsetHeight+"px"}},_updateDrag:function(a,
c){var b;if(!this.dragging){if((b=this.opts.initSensitivity)&&a[0]<=n[0]+b&&a[0]>=n[0]-b&&a[1]<=n[1]+b&&a[1]>=n[1]-b)return;this._startDrag(c)}this._updateInnerOfs();this._draw(a,c);this.opts.change&&this.opts.change(this,a,c);this._syncStackup();if(this.opts.scroll){this._stopScrolling();if(this.opts.scroll==window){b=this._getWndScroll(this.opts.scroll);var d=[b.left,b.top,b.left+b.width,b.top+b.height]}else d=zk(this.opts.scroll).viewportOffset(),d[0]+=this.opts.scroll.scrollLeft+this._innerOfs[0],
d[1]+=this.opts.scroll.scrollTop+this._innerOfs[1],d.push(d[0]+this.opts.scroll.offsetWidth),d.push(d[1]+this.opts.scroll.offsetHeight);var e=[0,0];b=this.opts.scrollSensitivity;a[0]<d[0]+b&&(e[0]=a[0]-(d[0]+b));a[1]<d[1]+b&&(e[1]=a[1]-(d[1]+b));a[0]>d[2]-b&&(e[0]=a[0]-(d[2]-b));a[1]>d[3]-b&&(e[1]=a[1]-(d[3]-b));this._startScrolling(e)}0<navigator.appVersion.indexOf("AppleWebKit")&&window.scrollBy(0,0);c.stop()},_finishDrag:function(a,c){this.dragging=!1;this.stackup&&(jq(this.stackup).remove(),delete this.stackup);
zk(document.body).enableSelection();setTimeout(jq.clearSelection,0);if(c=this._stackup)c==l?jq(c).hide():jq(c).remove(),delete this._stackup;c=this.node;this.opts.ghosting&&("function"==typeof this.opts.ghosting?(this.opts.endghosting&&this.opts.endghosting(this,this.orgnode),c!=this.orgnode&&(jq(c).remove(),this.node=this.orgnode),delete this.orgnode):("absolute"!=this.z_orgpos&&(zk(this.node).relativize(),c.style.position=this.z_orgpos),jq(this._clone).remove(),this._clone=null));var b=[a.pageX,
a.pageY],d=this.opts.revert;d&&"function"==typeof d&&(d=d(this,b,a));b=this._currentDelta();var e=this.delta;d&&this.opts.reverteffect?this.opts.reverteffect(this,[b[0]-this.delta[0],b[1]-this.delta[1]]):this.delta=b;-1!=this.orgZ&&(c.style.zIndex=this.orgZ);this.opts.endeffect&&this.opts.endeffect(this,a);d=this.control;this.opts.fireOnMove&&zk.Widget.isInstance(d)&&(b[0]==e[0]&&b[1]==e[1]||d.fire("onMove",zk.copy({left:c.style.left,top:c.style.top},a.data),{ignorable:!0}));t(this);var f=this;setTimeout(function(){zk.dragging=
!1;zWatch.fire("onEndDrag",f,a)},zk.ios?500:0)},_mousedown:function(a){var c=this.node,b=jq.Event.zk(a),d=a.target;if(!(m||r[c]||1!=b.which||zk.webkit&&jq.nodeName(d,"select")||zk(d).isInput()&&this.control!=zk.Widget.$(d)))if(d=[b.pageX,b.pageY],this.opts.ignoredrag&&this.opts.ignoredrag(this,d,b))b.domStopped&&a.stop();else{b=zk(c).cmOffset();b=[d[0]-b[0],d[1]-b[1]];var e;(e=c.clientWidth)&&b[0]>e&&c.offsetWidth>e+3||(e=c.clientHeight)&&b[1]>e&&c.offsetHeight>e+3||(this.offset=b,y(this,a,d),zk.mobile||
(p=jq.Event.zk(a,this.control)))}},_keypress:function(a){27==a.keyCode&&(this._finishDrag(jq.Event.zk(a),!1),a.stop())},_endDrag:function(a){this.dragging?(this._stopScrolling(),this._finishDrag(a,!0),a.stop()):t(this)},_draw:function(a,c){var b=this.node,d=zk(b),e=d.cmOffset(),f=this.opts;f.ghosting&&(d=d.scrollOffset(),e[0]+=d[0]-this._innerOfs[0],e[1]+=d[1]-this._innerOfs[1]);d=this._currentDelta();var g=f.scroll;e[0]-=d[0];e[1]-=d[1];g&&g!=window&&this._isScrollChild&&(e[0]-=g.scrollLeft-this.orgScrlLeft,
e[1]-=g.scrollTop-this.orgScrlTop);a=[a[0]-e[0]-this.offset[0],a[1]-e[1]-this.offset[1]];(e=f.snap)&&(a="function"==typeof e?e(this,a):e instanceof Array?[Math.round(a[0]/e[0])*e[0],Math.round(a[1]/e[1])*e[1]]:[Math.round(a[0]/e)*e,Math.round(a[1]/e)*e]);this.z_scrl&&(a[0]-=this.z_scrl[0],a[1]-=this.z_scrl[1]);b=b.style;"function"==typeof f.draw?f.draw(this,this.snap_(a,f),c):"function"==typeof f.constraint?((c=f.constraint(this,a,c))&&(a=c),a=this.snap_(a,f),b.left=jq.px(a[0]),b.top=jq.px(a[1])):
(a=this.snap_(a,f),f.constraint&&"horizontal"!=f.constraint||(b.left=jq.px(a[0])),f.constraint&&"vertical"!=f.constraint||(b.top=jq.px(a[1])));"hidden"==b.visibility&&(b.visibility="")},_stopScrolling:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),h=this.scrollInterval=null)},_startScrolling:function(a){if(a[0]||a[1])this.scrollSpeed=[a[0]*this.opts.scrollSpeed,a[1]*this.opts.scrollSpeed],this.lastScrolled=new Date,this.scrollInterval=setInterval(this.proxy(this._scroll),10)},
_scroll:function(){var a=new Date,c=a-this.lastScrolled;this.lastScrolled=a;if(this.opts.scroll==window){if(this.scrollSpeed[0]||this.scrollSpeed[1]){a=this._getWndScroll(this.opts.scroll);var b=c/1E3;this.opts.scroll.scrollTo(a.left+b*this.scrollSpeed[0],a.top+b*this.scrollSpeed[1])}}else this.opts.scroll.scrollLeft+=this.scrollSpeed[0]*c/1E3,this.opts.scroll.scrollTop+=this.scrollSpeed[1]*c/1E3;this._updateInnerOfs();this._isScrollChild&&(h=h||k,h[0]+=this.scrollSpeed[0]*c/1E3,h[1]+=this.scrollSpeed[1]*
c/1E3,0>h[0]&&(h[0]=0),0>h[1]&&(h[1]=0),this._draw(h));this.opts.change&&(c=(c=window.event?jq.event.fix(window.event):null)?jq.Event.zk(c):null,this.opts.change(this,c?[c.pageX,c.pageY]:k,c))},_updateInnerOfs:function(){this._innerOfs=[jq.innerX(),jq.innerY()]},_getWndScroll:function(a){var c=a.document,b=c.documentElement;if(b&&b.scrollTop){var d=b.scrollTop;var e=b.scrollLeft}else a.document.body&&(d=c.body.scrollTop,e=c.body.scrollLeft);if(a.innerWidth){var f=a.innerWidth;a=a.innerHeight}else b&&
b.clientWidth?(f=b.clientWidth,a=b.clientHeight):(f=c.body.offsetWidth,a=c.body.offsetHeight);return{top:d,left:e,width:f,height:a}},snap_:function(a,c){!c.snap&&0>a[1]&&(a[1]=0);return a}},{ignoreMouseUp:function(){return zk.dragging?!0:p},ignoreClick:function(){return zk.dragging},ignoreStop:function(a){return!1}})})();

(function(){function k(){var a=this.mask,b=a.style;if("none"!=b.display){var d=zk(a).toStyleOffset(jq.innerX(),jq.innerY());b.left=jq.px(d[0]);b.top=jq.px(d[1]);b.width=jq.px0(jq.innerWidth());b.height=jq.px0(jq.innerHeight());(a=this.stackup)&&zk.set(a.style,b,["left","top","width","height"])}}var m,g;zk.eff={shallStackup:function(){return g},_skuOpts:function(a){return zk.$default(a,m||(m={stackup:zk.eff.shallStackup()}))},_onVParent:function(a,b){b&&(sdw=b.shadow)&&(stackup=sdw.stackup)&&(a=jq(stackup),
a.parent()[0]!=document.body&&a.insertBefore(sdw.node))}};zk.eff.Shadow=zk.$extends(zk.Object,{$init:function(a,b){this.wgt=zk.Widget.$(a.id);this.opts=zk.eff._skuOpts(b);this.node=a;zWatch.listen({onVParent:[this.node,zk.eff._onVParent]})},destroy:function(){jq(this.stackup).remove();jq(this.node).removeClass(this.wgt.getZclass()+"-shadow");zWatch.unlisten({onVParent:[this.node,zk.eff._onVParent]});this.wgt=this.node=this.stackup=null},hide:function(){jq(this.stackup).hide();jq(this.node).removeClass(this.wgt.getZclass()+
"-shadow")},sync:function(){var a=this.node,b=jq(a);if(!a||!b.zk.isVisible(!0))return this.opts.stackup&&a&&!this.stackup&&(this.stackup=jq.newStackup(a,a.id+"-sdwstk",a)),this.hide(),!1;b.addClass(this.wgt.getZclass()+"-shadow");var d=a.offsetLeft,c=a.offsetTop,f=a.offsetWidth,h=a.offsetHeight,e=this.stackup;this.opts.stackup&&(e||(e=this.stackup=jq.newStackup(a,a.id+"-sdwstk",a)),a=e.style,a.left=jq.px(d),a.top=jq.px(c),a.width=jq.px0(f),a.height=jq.px0(h),a.zIndex=zk.parseInt(b.css("zIndex")),
a.display="block");return!0},getBottomElement:function(){return this.stackup}});zk.eff.FullMask=zk.$extends(zk.Object,{$init:function(a){a=zk.eff._skuOpts(a);var b=this.mask=jq(a.mask||[],zk)[0];if(this.mask)a.anchor&&a.anchor.parentNode.insertBefore(b,a.anchor),a.id&&(b.id=a.id),null!=a.zIndex&&(b.style.zIndex=a.zIndex),0==a.visible&&(b.style.display="none");else{b=a.id||"z_mask";var d='<div id="'+b+'" class="z-modal-mask"';if(null!=a.zIndex||0==a.visible)d+=' style="',null!=a.zIndex&&(d+="z-index:"+
a.zIndex),0==a.visible&&(d+=";display:none"),d+='"';d+="></div>";a.anchor?jq(a.anchor,zk).before(d):jq(document.body).append(d);b=this.mask=jq(b,zk)[0]}a.stackup&&(this.stackup=jq.newStackup(b,b.id+"-mkstk"));k.call(this);var c;jq(b).click(jq.Event.stop);jq(window).resize(c=this.proxy(k)).scroll(c)},destroy:function(){var a;jq(this.mask).unbind("click",jq.Event.stop).remove();jq(window).unbind("resize",a=this.proxy(k)).unbind("scroll",a);jq(this.stackup).remove();this.mask=this.stackup=null},hide:function(){this.mask.style.display=
"none";this.stackup&&(this.stackup.style.display="none")},sync:function(a){if(zk(a).isVisible(!0)){if(this.mask.nextSibling!=a){var b=a.parentNode;b.insertBefore(this.mask,a);this.stackup&&b.insertBefore(this.stackup,this.mask)}b=this.mask.style;b.display="block";b.zIndex=a.style.zIndex;k.call(this,!0);this.stackup&&(b=this.stackup.style,b.display="block",b.zIndex=a.style.zIndex)}else this.hide()}});zk.eff.Mask=zk.$extends(zk.Object,{$init:function(a){a=a||{};var b=zk(a.anchor);this._opts=a;b.jq.length&&
b.isRealVisible(!0)&&(this._draw(a,b),this.sync())},_draw:function(a,b){var d=a.id||"z_applymask";if(jq(d,zk)[0])return this;var c=a.message||(window.msgzk?msgzk.LOADING:"Loading")+"...",f=document.createElement("div");document.body.appendChild(f);var h=a.offset||b.revisedOffset(),e=a.width||b.offsetWidth();b=a.height||b.offsetHeight();jq(f).replaceWith('<div id="'+d+'" style="display:none"><div class="z-apply-mask" style="display:block;top:'+h[1]+"px;left:"+h[0]+"px;width:"+e+"px;height:"+b+'px;"></div><div id="'+
d+'-z_loading" class="z-apply-loading"><div class="z-apply-loading-indicator"><span class="z-apply-loading-icon"></span> '+c+"</div></div></div>");this.mask=jq(d,zk)[0];if(this.wgt=zk.Widget.$(a.anchor))zWatch.listen({onHide:[this.wgt,this.onHide],onSize:[this.wgt,this.onSize]}),this.wgt.__mask=this},hide:function(){this.mask.style.display="none"},onHide:function(){this.__mask.hide()},sync:function(){var a,b=this._opts,d=b.anchor,c=zk(d);d||(d=b.id,b.anchor=d=jq("#"+d.substring(0,d.indexOf("-")))[0],
c=zk(d),this._draw(b,c));if(c.isVisible(!0)){var f=this.mask.firstChild.style;d=b.offset||c.revisedOffset();var h=b.width||c.offsetWidth();b=b.height||c.offsetHeight();f.top=jq.px(d[1]);f.left=jq.px(d[0]);f.width=jq.px(h);f.height=jq.px(b);var e=document.body,g=e.parentNode,k=c.jq;c="auto";for(var l=k.offsetParent();l[0]!=e&&l[0]!=g;l=l.offsetParent())(a=l.css("z-index"))&&"auto"!=a&&(c=zk.parseInt(a),k=l[0]);for(e=k[0];e&&e.style;e=e.parentNode)if("HTML"==e.tagName&&zk.webkit&&(e.style.zIndex="auto"),
(a=e.style.zIndex||jq(e).css("z-index"))&&"auto"!=a&&(a=zk.parseInt(a),"auto"==c||a>c))c=a;"auto"!=c&&(f.zIndex=c,this.mask.lastChild.style.zIndex=c);this.mask.style.display="block";if(a=jq(this.mask.id+"-z_loading",zk)[0])a.offsetHeight>b&&(a.style.height=jq.px0(zk(a).revisedHeight(b))),a.offsetWidth>h&&(a.style.width=jq.px0(zk(a).revisedWidth(h))),a.style.top=jq.px0(d[1]+(b-a.offsetHeight)/2),a.style.left=jq.px0(d[0]+(h-a.offsetWidth)/2);this.mask.style.visibility=""}else this.hide()},onSize:function(){this.__mask.sync()},
destroy:function(){jq(this.mask).remove();this.wgt&&(zWatch.unlisten({onHide:[this.wgt,this.onHide],onSize:[this.wgt,this.onSize]}),delete this.wgt.__mask);this.mask=this.wgt=null}});zk.eff.Actions={slideDown:function(a,b){zk(a).slideDown(this,b)},slideUp:function(a,b){zk(a).slideUp(this,b)},slideIn:function(a,b){zk(a).slideIn(this,b)},slideOut:function(a,b){zk(a).slideOut(this,b)}};jq(function(){function a(){b=!1;++d;setTimeout(function(){--d||zk._wgtutl.autohide()},100)}var b,d=0,c;g=zk.useStackup;
"auto"==g||(c="auto/gecko"==g)?zk.gecko&&c?g=!1:(c=zk.webkit||zk.opera,g=!c||zk.ie):null==g&&(g=zk.ie);var f=function(b){"onSize"!=b&&"onMove"!=b&&"onShow"!=b&&"onHide"!=b&&"onResponse"!=b||a()};zk.override(zWatch,c={},{fire:function(a){c.fire.apply(this,arguments);f(a)},fireDown:function(a){c.fireDown.apply(this,arguments);f(a)}});zWatch.listen({onFloatUp:["",function(a){var c=a.origin;++d;setTimeout(function(){--d||(c&&(c=c.getTopWidget()),c!=b&&(b=c,zk._wgtutl.autohide()))},120)}]})})})();

zk.BigDecimal=zk.$extends(zk.Object,{_precision:0,$define:{precision:null},$init:function(a){a=a?""+a:"0";for(var b=-1,c=0,d=a.length;c<d;++c){var e=a.charAt(c);if(("0">e||"9"<e)&&"-"!=e&&"+"!=e||c&&("-"==e||"+"==e))if(0>b&&"."==e)b=c;else{a=a.substring(0,c);break}}0<=b&&(a=a.substring(0,b)+a.substring(b+1),this._precision=a.length-b,this._dot=!0);this._value=a},$toNumber:function(){var a=parseFloat(this._value),b;if(b=this._precision)a/=Math.pow(10,b);return a},$toString:function(){if(0==this._value.length)return"";
var a=this._value.length-this._precision,b="";if(0>a)for(var c=-a;0<c--;)b+="0";return this._value.substring(0,a)+(this._dot||this._precision?"."+b+this._value.substring(a):"")},$toLocaleString:function(){if(0==this._value.length)return"";var a=this._value.length-this._precision;if(0>=a){var b="";for(a=-a;0<a--;)b+="0";return"0"+(this._precision?zk.DECIMAL+b+this._value:"")}return this._value.substring(0,a)+(this._precision?zk.DECIMAL+this._value.substring(a):"")}});
zk.Long=zk.$extends(zk.Object,{$init:function(a){a=a?""+a:"0";for(var b=a.length,c=0;c<b;++c){var d=a.charAt(c);if(("0">d||"9"<d)&&(0<c||"-"!=d&&"+"!=d)){a=a.substring(0,c);break}}1==b&&(a.charAt(0),"0">d||"9"<d)&&(a="NaN");this._value=a},scale:function(a){var b=this._value||"",c=b.length;if(c)if(0<a){if(1<c||"0"!=b.charAt(0))for(;0<a--;)b+="0"}else 0>a&&(this._value=0>=(c+=a)?"0":b.substring(0,c))},$toNumber:function(){return parseFloat(this._value)},$toString:zkf=function(){return this._value},
$toLocaleString:zkf});

(function(){function t(a,c){a.push(c);c=c.frames;for(var b=0,e=c.length;b<e;++b)t(a,c[b])}function v(a){for(var c=a,b=c,e=-1;b&&"min"==b._hflex&&(delete b._hflexsz,c=b,++e,!b.ignoreFlexSize_("w"));b=b.parent);for(var d=b=a,f=-1;d&&"min"==d._vflex&&(delete d._vflexsz,b=d,++f,!d.ignoreFlexSize_("h"));d=d.parent);return 0<e||0<f?e>f?c:b:a}function w(a){var c=new Image;c.onerror=c.onload=function(){delete n[a]};c.src=a}var q={lt:"<",gt:">",amp:"&",quot:'"'},u={},r;for(r in q)u[q[r]]=r;zUtl={isChar:function(a,
c){return c.digit&&"0"<=a&&"9">=a||c.upper&&"A"<=a&&"Z">=a||c.lower&&"a"<=a&&"z">=a||c.whitespace&&(" "==a||"\t"==a||"\n"==a||"\r"==a)||c[a]},parseMap:function(a,c,b){var e={};if(a){a=a.split(c||",");if(b){var d=[],f=new RegExp(b,"g");b="";for(var g,h;void 0!==(g=a.shift());)(h=(b+=g).match(f))&&1!=h.length?(b&&d.push(b),b=""):b+=c;a=d}for(c=a.length;c--;)b=a[c].trim(),h=b.indexOf("="),-1!=h&&(e[b.substring(0,h)]=b.substring(h+1,b.length).trim())}return e},encodeXMLAttribute:function(){var a={'"':"&quot;",
"'":"&#x27;","`":"&#x60;"},c=function(b){return a[b]},b=/(?:"|'|`)/,e=/(?:"|'|`)/g;return function(a){a=null!=a?String(a):"";return b.test(a)?a.replace(e,c):a}}(),encodeXML:function(){function a(a){return e.test(a)?a.replace(d,b):a}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=function(a){return c[a]},e=/(?:&|<|>|"|'|`)/,d=/(?:&|<|>|"|'|`)/g;return function(b,c){b=null!=b?String(b):"";if(!c)return a(b);var d=b.length,e=c&&c.pre,f=e||c&&c.multiline;var k=c?c.maxlength:
0;if(!f&&k&&d>k){for(;0<k&&" "==b.charAt(k-1);)--k;c.maxlength=0;return zUtl.encodeXML(b.substring(0,k)+"...",c)}c="";var g=0,n;if(f||e)for(k=0;k<d;++k){var p=b.charAt(k);(n=u[p])?(c+=b.substring(g,k)+"&"+n+";",g=k+1):f&&"\n"==p?(c+=b.substring(g,k)+"<br/>\n",g=k+1):!e||" "!=p&&"\t"!=p||(c+=b.substring(g,k)+"&nbsp;","\t"==p&&(c+="&nbsp;&nbsp;&nbsp;"),g=k+1)}else return a(b);if(!g)return b;g<d&&(c+=b.substring(g));return c}}(),decodeXML:function(a){var c="";if(!a)return c;for(var b=0,e=a.length,d=
0;d<e;++d)if("&"==a.charAt(d)){var f=a.indexOf(";",d+1);if(0<=f){var g="#"==a.charAt(d+1)?String.fromCharCode("x"==a.charAt(d+2).toLowerCase()?parseInt(a.substring(d+3,f),16):parseInt(a.substring(d+2,f),10)):q[a.substring(d+1,f)];g&&(c+=a.substring(b,d)+g,b=(d=f)+1)}}return b?b<e?c+a.substring(b):c:a},cellps0:' cellpadding="0" cellspacing="0" border="0"',img0:'<img style="height:0;width:0"/>',i0:'<i style="height:0;width:0"/>',now:jq.now,today:function(a,c){var b=Dates.newInstance().tz(c),e=0,d=0,
f=0,g=0;if("string"==typeof a){var h=a.toLowerCase();if(0<=h.indexOf("h")||0<=h.indexOf("k"))e=b.getHours();0<=a.indexOf("m")&&(d=b.getMinutes());0<=a.indexOf("s")&&(f=b.getSeconds());0<=a.indexOf("S")&&(g=b.getMilliseconds())}else if(a)return b;return Dates.newInstance([b.getFullYear(),b.getMonth(),b.getDate(),e,d,f,g],c)},isAncestor:function(a,c){if(!a)return!0;for(;c;c=c.getParent?c.getParent():c.parent)if(a==c)return!0;return!1},progressbox:function(a,c,b,e,d){if(b&&zk.Page.contained.length){d=
zk.Page.contained.length;for(var f=zk.Page.contained[--d];f;f=zk.Page.contained[--d])f._applyMask||(f._applyMask=new zk.eff.Mask({id:f.uuid+"-mask",message:c,anchor:f.$n()}))}else{d&&d.busy&&(zk.busy++,jq.focusOut());d=jq.innerX();f=jq.innerY();var g=' style="left:'+d+"px;top:"+f+'px"',h=a+"-t",l=a+"-m",m='<div id="'+a+'"';b&&(m+='><div id="'+l+'" class="z-modal-mask"'+g+"></div");m+='><div id="'+h+'" class="z-loading"'+g+'><div class="z-loading-indicator"><span class="z-loading-icon"></span> '+c+
"</div></div>";e&&(m+='<div class="'+e+'"></div>');jq(document.body).append(m+"</div>");c=jq(a,zk);e=c[0];g=jq(h,zk);a=g[0];h=a.style;b&&(m=g.css("z-index"),"auto"==m&&(m=1),e.z_mask=new zk.eff.FullMask({mask:jq(l,zk)[0],zIndex:m-1}));if(b&&g.length)h.left=jq.px((jq.innerWidth()-a.offsetWidth)/2+d),h.top=jq.px((jq.innerHeight()-a.offsetHeight)/2+f);else if(b=zk.progPos)e=jq.innerWidth(),l=jq.innerHeight(),e-=zk(a).offsetWidth(),a=l-zk(a).offsetHeight(),0<=b.indexOf("mouse")?(d=zk.currentPointer,l=
d[0]+10,b=d[1]+10):(l=0<=b.indexOf("left")?d:0<=b.indexOf("right")?d+e-1:0<=b.indexOf("center")?d+e/2:0,b=0<=b.indexOf("top")?f:0<=b.indexOf("bottom")?f+a-1:0<=b.indexOf("center")?f+a/2:0,l=l<d?d:l,b=b<f?f:b),h.left=jq.px(l),h.top=jq.px(b);c.zk.cleanVisibility()}},destroyProgressbox:function(a,c){c&&c.busy&&0>--zk.busy&&(zk.busy=0);a=jq(a,zk);var b;a.length&&((b=a[0].z_mask)&&b.destroy(),a.remove());b=zk.Page.contained.length;for(a=zk.Page.contained[--b];a;a=zk.Page.contained[--b])a._applyMask&&(a._applyMask.destroy(),
a._applyMask=null)},go:function(a,c){c=c||{};if(c.target)open(a,c.target);else if(c.overwrite)location.replace(a?a:location.href);else{if(a){location.href=a;c=a.indexOf("#");if(0>c)return;a=0<=c?a.substring(0,c):a;a:{c=location.href;var b=c.indexOf("//");if(0<b&&(b=c.indexOf("/",b+2),0<b)){b=c.substring(b);break a}b=void 0}c=b.indexOf("#");0<=c&&(b=b.substring(0,c));if(b!=a)return}location.reload()}},frames:function(a){var c=[];t(c,a);return c},intsToString:function(a){if(!a)return"";for(var c=[],
b=0,e=a.length;b<e;++b)c.push(a[b]);return c.join()},stringToInts:function(a,c){if(null==a)return null;for(var b=[],e=0;;){var d=a.indexOf(",",e);e=(0<=d?a.substring(e,d):a.substring(e)).trim();if(0==e.length){if(0>d)break;b.push(c)}else b.push(zk.parseInt(e));if(0>d)break;e=d+1}return b},mapToString:function(a,c,b){c=c||"=";b=b||" ";var e=[],d;for(d in a)e.push(b,d,c,a[d]);e[0]="";return e.join("")},appendAttr:function(a,c,b){return c||b?" "+a+'="'+c+'"':""},fireSized:function(a,c){if(a.desktop)if(zUtl.isImageLoading()||
zk.clientinfo){var b=arguments.callee;setTimeout(function(){return b(a,c)},20)}else a=v(a),0>c||zWatch.fireDown("beforeSize",a,null,0<c),zWatch.fireDown("onFitSize",a,{reverse:!0}),zWatch.fireDown("onSize",a),zWatch.fireDown("afterSize",a)},fireShown:function(a,c){zWatch.fireDown("onShow",a);zUtl.fireSized(a,c)},loadImage:function(a){n[a]||(n[a]=!0,w(a))},isImageLoading:function(){for(var a in n)return!0;return!1},getWeekOfYear:function(a,c,b,e,d){a=Dates.newInstance([a,c,b,0,0,0,0],"UTC");c=a.getDay();
a.setDate(b-d+e-(e>c?c:c-7));b=Dates.newInstance([a.getFullYear(),0,1],"UTC");return Math.ceil(((a-b)/864E5+1)/7)}};var n={}})();

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(d,e,f){if(null==d)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return d+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,e,f){d!=Array.prototype&&d!=Object.prototype&&(d[e]=f.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,e,f,h){if(e){f=$jscomp.global;d=d.split(".");for(h=0;h<d.length-1;h++){var l=d[h];l in f||(f[l]={});f=f[l]}d=d[d.length-1];h=f[d];e=e(h);e!=h&&null!=e&&$jscomp.defineProperty(f,d,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("String.prototype.startsWith",function(d){return d?d:function(d,f){var e=$jscomp.checkStringArgs(this,d,"startsWith");d+="";var l=e.length,m=d.length;f=Math.max(0,Math.min(f|0,e.length));for(var p=0;p<m&&f<l;)if(e[f++]!=d[p++])return!1;return p>=m}},"es6","es3");
(function(d){function e(a){var b;return a&&3==a.nodeType&&(b=a.nodeValue)&&!b.trim().length}function f(a,b,c,g){if("function"!=typeof c){c||(c=N[b])||(N[b]=c="_do"+b.substring(2));var d=a[c];if(!d)throw"Listener "+c+" not found in "+a.className;c=d}(d=O[b])||(d=O[b]=b.substring(2).toLowerCase());b=d;a:{d=a._$evproxs;var e;d||(a._$evproxs=d={});if(g)c.__keyword=g;else if(e=d[c]){a=e;break a}a=d[c]=h(a,c,g)}return[b,a]}function h(a,b,c){return function(g){var v=g;g=jq.Event.zk(v,a);switch(v.type){case "focus":if(a.canActivate()){zk.currentFocus=
a;zWatch.fire("onFloatUp",a,{triggerByFocus:!0});break}return;case "blur":zk._cfByMD||(zk.currentFocus=null);break;case "click":case "dblclick":case "mouseup":if(zk.Draggable.ignoreClick())return}if(c){var e=[].slice.call(arguments);e.push(c)}else e=arguments;e=b.apply(a,e);e===d&&(e=g.returnValue);g.domStopped&&v.stop();g.stopped&&(v.originalEvent.zkstopped=!0);return"dblclick"==v.type&&e===d?!1:e}}function l(a,b){var c=b.previousSibling,g=b.nextSibling;c?c.nextSibling=g:a.firstChild=g;g?g.previousSibling=
c:a.lastChild=c;b.nextSibling=b.previousSibling=b.parent=null;--a.nChildren}function m(a,b){var c=b.parent=a.parent,g=b.previousSibling=a.previousSibling;g?g.nextSibling=b:c&&(c.firstChild=b);(g=b.nextSibling=a.nextSibling)?g.previousSibling=b:c&&(c.lastChild=b)}function p(a,b){a.bindLevel=b++;for(a=a.firstChild;a;a=a.nextSibling)p(a,b)}function t(a){var b=a.parent;(b=b?b.$o():null)&&w(a,b)}function w(a,b){a.id&&(b._fellows[a.id]=a);if(!a._fellows)for(a=a.firstChild;a;a=a.nextSibling)w(a,b)}function B(a){var b=
a.parent;(b=b?b.$o():null)&&P(a,b)}function P(a,b){a.id&&delete b._fellows[a.id];if(!a._fellows)for(a=a.firstChild;a;a=a.nextSibling)P(a,b)}function Q(a){if(document.getElementById(a.uuid))return!0;for(a=a.firstChild;a;a=a.nextSibling)if(Q(a))return!0}function F(a,b){return a.shallIgnoreClick_(b)||a.fireX(b).stopped||!b.shallStop?!b.stopped:(b.stop(),!1)}function R(a,b){var c;a._visible&&(c=a.actions_.hide)?(a._rmAftAnm=function(){jq(b).remove()},b.style.visibility="",c[0].call(a,b,c[1])):jq(b).remove()}
function G(a,b){var c;return a&&(c=a.parent)&&c.dragControl&&(!b||c.dragControl(a))}function S(a){var b=zk.currentFocus;if(b&&zUtl.isAncestor(a,b))return zk.currentFocus=null,{focus:b,range:T(b)}}function T(a){return 11>zk.ie&&zk.cfrg?(a=zk.cfrg,delete zk.cfrg,a):a.getInputNode&&(a=a.getInputNode())&&zk(a).getSelectionRange()}function H(a){var b;if(a&&(b=a.focus)&&b.desktop&&!zk.currentFocus){I=!0;try{b.focus(),a.range&&b.getInputNode&&(b=b.getInputNode())&&zk(b).isRealVisible()&&zk(b).setSelectionRange(a.range[0],
a.range[1])}finally{I=!1}}}function J(a){a._flexListened||(zWatch.listen({onSize:[a,zFlex.onSize],beforeSize:[a,zFlex.beforeSize]}),"min"==a._hflex||"min"==a._vflex?a.listenOnFitSize_():a.unlistenOnFitSize_(),a._flexListened=!0)}function K(a){a._flexListened&&(zWatch.unlisten({onSize:[a,zFlex.onSize],beforeSize:[a,zFlex.beforeSize]}),a.unlistenOnFitSize_(),delete a._flexListened)}function U(a){if(a){var b;if(b=a._lastDrop)a._lastDrop=null,b.dropEffect_();a._lastDropTo=null}}function V(a,b){return zk.ios?
[a.pageX-50,a.pageY-b-30]:[a.pageX+7,a.pageY+5]}function W(a){for(var b=document.body;a&&a!=b;a=a.parentNode){var c=jq(a).css("position");if("absolute"==c||"relative"==c)return a}}function X(a,b){for(;b;b=b.parent){if(b==a)return!0;if(!b.isVisible())break}return!1}function L(a){a:{var b=null;if(document.fullscreenElement)b=":fullscreen";else if(document.mozFullScreen){b=2147483648;break a}else document.webkitIsFullScreen&&(b=":-webkit-full-screen");b?(b=jq.css(jq(b)[0],"zIndex"),b="auto"==b?2147483648:
++b):b=1800}for(var c=n.length;c--;){var g=n[c].widget,d=zk.parseInt(g.getFloatZIndex_(n[c].node));d>=b&&!zUtl.isAncestor(a,g)&&g.isVisible()&&(b=d+1)}return b}function Y(a,b){for(a=a.firstChild;a;a=a.nextSibling){var c=a.$n();c?b.push(c):Y(a,b)}}function Z(a){if(a._z$rd&&(delete a._z$rd,a._norenderdefer=!0,a.replaceHTML("#"+a.uuid,a.parent?a.parent.desktop:null,null,!0),a.parent))a.parent.onChildRenderDefer_(a)}function da(){x=null;var a;a:for(;a=q.shift();)if(a.desktop){for(var b=q.length;b--;)if(zUtl.isAncestor(a,
q[b]))q.splice(b,1);else if(zUtl.isAncestor(q[b],a))continue a;a.rerender(-1)}}function aa(a,b){for(var c=q.length;c--;)zUtl.isAncestor(a,q[c])&&(b&&b.skipped(a,q[c])||q.splice(c,1))}function C(a,b,c){if(a)for(var g;g=b.pop();)a[g.uuid]=c;return c}var r={},y={},n=[],ea=0,N={},O={onDoubleClick:"dblclick"},M={},E=[],z,A,D,q=[],x,I,fa=/\"/g;zk.DnD={getDropTarget:function(a,b){var c;zk.ff&&"hidden"==jq(a.domTarget).css("overflow")||(8<zk.ie||zk.edge)&&jq.nodeName(a.domTarget,"img")?(a=document.elementFromPoint(a.domEvent.clientX,
a.domEvent.clientY))&&(c=zk.$(a)):c=a.target;return c},getDrop:function(a,b,c){return(b=this.getDropTarget(c,a))?b.getDrop_(a.control):null},ghost:function(a,b,c){if(null!=c)return c&&(c='<span class="z-drop-text">'+c+"</span>"),jq(document.body).append('<div id="zk_ddghost" class="z-drop-ghost z-drop-disallow" style="position:absolute;top:'+b[1]+"px;left:"+b[0]+'px;"><div class="z-drop-content"><span id="zk_ddghost-img" class="z-drop-icon"></span>'+c+"</div></div>"),a._dragImg=jq("#zk_ddghost-img")[0],
jq("#zk_ddghost")[0];a=jq(a.node).clone()[0];a.id="zk_ddghost";zk.copy(a.style,{position:"absolute",left:b[0]+"px",top:b[1]+"px"});jq(a).addClass("z-drag-ghost");document.body.appendChild(a);return a}};var ha={starteffect:zk.$void,endeffect:function(a,b){U(a);var c=zk.DnD.getDrop(a,[b.pageX,b.pageY],b);if(c)c.onDrop_(a,b)},change:function(a,b,c){var g;if(c&&(g=zk.DnD.getDropTarget(c))!=a._lastDropTo){b=(c=zk.DnD.getDrop(a,b,c))&&c==a._lastDrop;b||(U(a),c&&(a._lastDrop=c,c.dropEffect_(!0),b=!0));if(c=
a._dragImg)b?(jq(a.node).removeClass("z-drop-disallow").addClass("z-drop-allow"),jq(c).removeClass("z-icon-ban").addClass("z-icon-plus-circle")):(jq(a.node).removeClass("z-drop-allow").addClass("z-drop-disallow"),jq(c).removeClass("z-icon-plus-circle").addClass("z-icon-ban"));a._lastDropTo=g;zk.mobile&&zk(a.node).redoCSS()}},ghosting:function(a,b,c){return a.control.cloneDrag_(a,V(c,jq(a.node).height()))},endghosting:function(a,b){a.control.uncloneDrag_(a);a._dragImg=null},constraint:function(a,b,
c){return V(c,jq(a.node).height())},ignoredrag:function(a,b,c){return a.control.ignoreDrag_(b,c,a)},zIndex:88800},u=zk.Widget=zk.$extends(zk.Object,{_visible:!0,nChildren:0,bindLevel:-1,_mold:"default",className:"zk.Widget",widgetName:"widget",actions_:{},_floating:!1,$init:function(a){this._asaps={};this._lsns={};this._bklsns={};this._subnodes={};this.effects_={};this._subzcls={};a!==zkac&&this.afterInit(function(){if(a&&"object"==typeof a&&!a.$oid)for(var b in a)this.set(b,a[b]);(zk.spaceless||
this.rawId)&&this.id&&(this.uuid=this.id);this.uuid||(this.uuid=u.nextUuid())})},$define:{mold:function(){this.rerender()},style:function(){this.updateDomStyle_()},sclass:function(){this.updateDomClass_()},zclass:function(){this._subzcls={};this.rerender()},width:function(a){if(!this._nhflex){var b=this.$n();b&&(b.style.width=a||"")}},height:function(a){if(!this._nvflex){var b=this.$n();b&&(b.style.height=a||"")}},left:function(a){var b=this.$n();b&&(b.style.left=a||"")},top:function(a){var b=this.$n();
b&&(b.style.top=a||"")},tooltiptext:function(a){var b=this.$n();b&&(b.title=a||"")},droppable:[function(a){return a&&"false"!=a?a:null},function(a){if(a&&"true"!=a){var b=a.split(",");for(a=b.length;a--;)(b[a]=b[a].trim())||b.splice(a,1)}this._dropTypes=b}],vflex:function(a){this.setVflex_(a);var b;this.desktop&&(b=this.parent)&&!b.isBinding()&&zUtl.fireSized(b,-1)},hflex:function(a){this.setHflex_(a);var b;this.desktop&&(b=this.parent)&&!b.isBinding()&&zUtl.fireSized(b,-1)},renderdefer:null,action:function(a){this.actions_=
{};if(a)for(var b=a.split(";"),c=b.length;c--;){var g=b[c],d=g.indexOf(":");if(0<=d){var e=g.substring(0,d).trim();g=g.substring(d+1).trim();var f,k,h;if(e&&g){d=g.indexOf("(");0<=d&&((h=g.lastIndexOf(")"))>d&&(f=jq.evalJSON(g.substring(d+1,h))),g=g.substring(0,d));(k=zk.eff.Actions[g])?this.actions_[e]=[k,f]:zk.error("Unknown action: "+g);continue}}zk.error("Illegal action: "+a+", "+this.className)}},tabindex:function(a){var b=this.$n();b&&(null==a?b.removeAttribute("tabindex"):b.tabIndex=a)}},setHflex_:function(a){this._nhflex=
!0===a||"true"==a?1:"min"==a?-65500:zk.parseInt(a);0>this._nhflex&&"min"!=a&&(this._nhflex=0);this.desktop&&(this._nhflex?J(this):(this.setFlexSize_({width:"auto"}),delete this._hflexsz,this._hflex=d,this._nvflex||K(this)))},setVflex_:function(a){this._nvflex=!0===a||"true"==a?1:"min"==a?-65500:zk.parseInt(a);0>this._nvflex&&"min"!=a&&(this._nvflex=0);this.desktop&&(this._nvflex?J(this):(this.setFlexSize_({height:"auto"}),delete this._vflexsz,this._vflex=d,this._nhflex||K(this)))},afterAnima_:function(a){if(a=
this._rmAftAnm)this._rmAftAnm=null,a()},setDraggable:function(a){a||null==a||(a="false");this._draggable=a;this.desktop&&!G(this,!0)&&(a&&"false"!=a?this.initDrag_():this.cleanDrag_())},getDraggable:function(){var a=this._draggable;return a?a:G(this)?"true":"false"},$o:function(){for(var a=this;a;a=a.parent)if(a._fellows)return a},$f:function(a,b){var c=this.$o();if(!arguments.length)return c?c._fellows:{};for(var g=a.split("/"),d=0,e=g.length;d<e;++d)if(a=g[d]){c&&(c=c._fellows[a]);!c&&b&&(c=y[a])&&
(c=c[0]);if(!c||zk.spaceless)break;b=!1}return c},getId:function(){return this.id},setId:function(a){if(a!=this.id){if(this.id){this._fellows&&delete this._fellows[this.id];var b=this.parent;b&&(b=b.$o())&&delete b._fellows[this.id];this.$class._rmGlobal(this)}a&&(zk.spaceless||this.rawId)&&zk._wgtutl.setUuid(this,a);if(this.id=a)this._fellows&&(this._fellows[this.id]=this),(a=this.parent)&&(a=a.$o())&&(a._fellows[this.id]=this),(this.desktop||this.z_rod)&&this.$class._addGlobal(this)}return this},
set:function(){function a(a){var c={name:"set"+a.charAt(0).toUpperCase()+a.substring(1)},d;"$"==(d=a.charAt(0))?c.func=function(a,b,c,g){a._setServerListener(b,c)||zk._set2(a,null,b,c,g);return a}:"o"==d&&"n"==a.charAt(1)&&"Z">=(d=a.charAt(2))&&"A"<=d?c.func=function(a,b,c,g){a.setListener(b,c);return a}:c.func=function(a,b,g,d){var e;if(e=a[c.name])return zk._set2(a,e,null,g,d),a;zk._set2(a,null,b,g,d);return a};return b[a]=c}var b={};return function(c,g,d){var e;if((e=g&&g.$u)&&!(g=u.$(e))){var v=
this;zk.afterMount(function(){var a=u.$(e);a?zk._set(v,c,a,d):setTimeout(function(){zk._set(v,c,u.$(e),d)})},-1);return this}return(b[c]||a(c)).func.call(this,this,c,g,d)}}(),_setServerListener:function(a,b){if(a.startsWith("$$")){if(a.startsWith("$$on")){var c=this.$class;var g=c._importantEvts;(g||(c._importantEvts={}))[a.substring(2)]=b;return this}if(a.startsWith("$$0on"))return c=this.$class,g=c._duplicateIgnoreEvts,(g||(c._duplicateIgnoreEvts={}))[a.substring(3)]=b,this;if(a.startsWith("$$1on"))return c=
this.$class,g=c._repeatIgnoreEvts,(g||(c._repeatIgnoreEvts={}))[a.substring(3)]=b,this}else if(a.startsWith("$on"))return this._asaps[a.substring(1)]=b,this},get:function(a){return zk.get(this,a)},getChildAt:function(a){if(0<=a&&a<this.nChildren)for(var b=this.firstChild;b;b=b.nextSibling)if(0>--a)return b},getChildIndex:function(){var a=this.parent,b=0;if(a)for(a=a.firstChild;a;a=a.nextSibling,++b)if(a==this)return b;return 0},setChildren:function(a){if(a)for(var b=0,c=a.length;b<c;)this.appendChild(a[b++]);
return this},appendChild:function(a,b){if(a==this.lastChild)return!1;var c;(c=a.parent)!=this&&a.beforeParentChanged_(this);if(c){A=!0;try{c.removeChild(a)}finally{A=!1}}a.parent=this;var g=this.lastChild;g?(g.nextSibling=a,a.previousSibling=g,this.lastChild=a):this.firstChild=this.lastChild=a;++this.nChildren;(a.id||a.firstChild)&&t(a);b||(this.shallChildROD_(a)?this.$class._bindrod(a):(b=this.desktop)&&this.insertChildHTML_(a,null,b));a.afterParentChanged_(c);if(!z)this.onChildAdded_(a);return!0},
shallChildROD_:function(a){return a.z_rod||this.z_rod},insertBefore:function(a,b,c){if(!b||b.parent!=this){this.insertingBefore_=!0;try{return this.appendChild(a,c)}finally{this.insertingBefore_=!1}}if(a==b||a.nextSibling==b)return!1;var g;(g=a.parent)!=this&&a.beforeParentChanged_(this);if(g){A=!0;try{g.removeChild(a)}finally{A=!1}}a.parent=this;var d=b.previousSibling;d?(a.previousSibling=d,d.nextSibling=a):this.firstChild=a;b.previousSibling=a;a.nextSibling=b;++this.nChildren;t(a);c||(this.shallChildROD_(a)?
this.$class._bindrod(a):(c=this.desktop)&&this.insertChildHTML_(a,b,c));a.afterParentChanged_(g);if(!z)this.onChildAdded_(a);return!0},removeChild:function(a,b){var c;if(!(c=a.parent)||this!=c)return!1;B(a);a.z_rod?(this.$class._unbindrod(a),jq(a.uuid,zk).remove()):a.desktop&&this.removeChildHTML_(a,b);A||a.beforeParentChanged_(null);l(this,a);A||a.afterParentChanged_(c);if(!z)this.onChildRemoved_(a);return!0},detach:function(){if(this.parent)this.parent.removeChild(this);else{var a=zk.currentFocus;
a&&zUtl.isAncestor(this,a)&&(zk.currentFocus=null);if(a=this.$n())this.unbind(),R(this,a)}},clear:function(){for(;this.lastChild;)this.removeChild(this.lastChild)},replaceWidget:function(a){m(this,a);B(this);t(a);var b=zk.currentFocus;if(b&&zUtl.isAncestor(this,b)){var c=b.uuid;var g=T(b);zk.currentFocus=null}b=this.$n();var d=this.parent,e,f=a.desktop||this.desktop;this.z_rod?(this.$class._unbindrod(this),(e=(f=f||(d?d.desktop:d))&&(b=jq("#"+this.uuid)))||this.$class._bindrod(a)):e=f;var k=[];e&&
(b?a.replaceHTML(b,f,null,!0,k):(this.unbind(),a.bind(f)),p(a,d?d.bindLevel+1:0),zWatch.fire("onBindLevelMove",a));if(d)d.onChildReplaced_(this,a);this.parent=this.nextSibling=this.previousSibling=null;if(k&&k.length)for(var h;(h=k.shift())&&jq.isFunction(h);)h();c&&(b=zk.Widget.$(c))&&zUtl.isAncestor(a,b)&&H({focus:b,range:g})},replaceCavedChildren_:function(a,b,c,g){var d;z=!0;try{var e=this.$n(a);var f=[];for(var k=this.firstChild;k;){var h=k.nextSibling;jq.isAncestor(e,k.$n())&&(d&&d!=k||(d=h),
this.removeChild(k,!0),f.push(k));k=h}a=0;for(var l=b.length;a<l;++a)this.insertBefore(b[a],d,!0)}finally{z=!1}if(d=this.desktop){k=new zk.Buffer;c&&k.push(c);a=0;for(l=b.length;a<l;++a)b[a].redraw(k);g&&k.push(g);jq(e).html(k.join(""));a=0;for(l=b.length;a<l;++a)b[a].bind(d),c=this._nrows,this.onChildReplaced_(f[a],b[a]),this._nrows=c}},beforeParentChanged_:function(){},afterParentChanged_:function(){},isRealVisible:function(a){var b=a&&a.dom,c=a&&a.cache,g=[],e,f=this;if(!f.desktop)return!1;for(;f;){if(c&&
(e=f.uuid)&&(e=c[e])!==d)return C(c,g,e);c&&g.push(f);if(b&&!f.z_virnd){if(!zk(f.$n()).isVisible(a.strict))return C(c,g,!1)}else if(!f.isVisible())return C(c,g,!1);var h=f.parent,k,l;if(h&&h._visible&&(l=f.$n())&&(k=zk(l).vparentNode(!0)))for(;k&&k!=l;){if(k.style&&"none"==k.style.display)return C(c,g,!1);k=zk(k).vparentNode(!0)}if(a&&a.until==f)break;f=h}return C(c,g,!0)},isVisible:function(a){var b=this._visible;return a&&b?(a=this.$n())&&zk(a).isVisible():b},setVisible:function(a){if(this._visible!=
a){this._visible=a;var b=this.parent,c;if(this.desktop){var g=!b||b.isRealVisible(),d=this.$n(),e=this._floating;if(g)if(a){var f;e&&this.setZIndex(f=L(this),{fire:!0,floatZIndex:!0});this.setDomVisible_(d,!0);g=0;for(c=n.length;g<c;++g)a=n[g].widget,d=n[g].node,this==a?a.setDomVisible_(d,!0,{visibility:1}):X(this,a)&&(f=0<=f?++f:L(a),a.setFloatZIndex_(d,f),a.setDomVisible_(d,!0,{visibility:1}));if(c=b)b.onChildVisible_(this);this.fire("onShow");var k=this;zk.afterAnimate(function(){zUtl.fireShown(k)},
-1)}else{this.fire("onHide");k=this;zWatch.fireDown("onHide",this);g=n.length;for(f=this.bindLevel;g--;){a=n[g].widget;if(f>=a.bindLevel)break;X(this,a)&&a.setDomVisible_(n[g].node,!1,{visibility:1})}this.setDomVisible_(d,!1);(k._nvflex||k._nhflex)&&zk.afterAnimate(function(){k.parent&&zUtl.fireSized(k.parent)},-1)}else e||this.setDomVisible_(d,a)}if(b&&!c)b.onChildVisible_(this);jq.onSyncScroll(this)}return this},zsync:function(){for(var a in this.effects_){var b=this.effects_[a];b&&b.sync&&b.sync()}},
show:function(){return this.setVisible(!0)},hide:function(){return this.setVisible(!1)},setDomVisible_:function(a,b,c){if(!c||c.display){var g;(g=this.actions_[b?"show":"hide"])?g[0].call(this,a,g[1]):a.style.display=b?"":"none"}c&&c.visibility&&(a.style.visibility=b?"visible":"hidden")},onChildAdded_:function(){if(this.desktop)jq.onSyncScroll(this)},onChildRemoved_:function(){if(this.desktop)jq.onSyncScroll(this)},onChildReplaced_:function(a,b){this.childReplacing_=!0;try{if(a)this.onChildRemoved_(a);
if(b)this.onChildAdded_(b)}finally{this.childReplacing_=!1}},onChildVisible_:function(){},onChildRenderDefer_:function(){},setTopmost:function(){if(!this.desktop)return-1;if(!this._userZIndex){for(var a=this;a;a=a.parent)if(a._floating){for(var b=L(a),c=0,g=n.length;c<g;++c){var d=n[c].widget,e=n[c].node;a==d?d.setFloatZIndex_(e,b):zUtl.isAncestor(a,d)&&d.isVisible()&&d.setFloatZIndex_(e,++b)}return b}return-1}},setFloatZIndex_:function(a,b){a!=this.$n()?a.style.zIndex=b:this.setZIndex(b,{fire:!0,
floatZIndex:!0})},getFloatZIndex_:function(a){return a!=this.$n()?a.style.zIndex:this._zIndex},getTopWidget:function(){for(var a=this;a;a=a.parent)if(a._floating)return a},isFloating_:function(){return this._floating},setFloating_:function(a,b){if(this._floating!=a)if(a){a={widget:this,node:b&&b.node?b.node:this.$n()};b=this.bindLevel;for(var c=n.length;;){if(0>--c){n.unshift(a);break}if(b>=n[c].widget.bindLevel){n.splice(c+1,0,a);break}}this._floating=!0}else{for(c=n.length;c--;)n[c].widget==this&&
n.splice(c,1);this._floating=!1}return this},getZIndex:_zkf=function(){return this._zIndex},getZindex:_zkf,setZIndex:_zkf=function(a,b){if(!b.floatZIndex||!this._userZIndex){b.floatZIndex||(this._userZIndex=!0);a||(this._userZIndex=!1);if(this._zIndex!=a){this._zIndex=a;var c=this.$n();c&&(c.style.zIndex=0<=a?a:"",b&&b.fire&&this.fire("onZIndex",0<a||0===a?a:-1,{ignorable:!0}))}return this}},setZindex:_zkf,getScrollTop:function(){var a=this.$n();return a?a.scrollTop:0},getScrollLeft:function(){var a=
this.$n();return a?a.scrollLeft:0},setScrollTop:function(a){var b=this.$n();b&&(b.scrollTop=a);return this},setScrollLeft:function(a){var b=this.$n();b&&(b.scrollLeft=a);return this},scrollIntoView:function(){zk(this.$n()).scrollIntoView();return this},redraw:function(a){if(!this.deferRedraw_(a)){var b;(b=this.prolog)&&a.push(b);if((b=this.$class.molds)&&(b=b[this._mold]))return b.apply(this,arguments);zk.error("Mold "+this._mold+" not found in "+this.className)}},deferRedraw_:function(a){var b;if(0<=
(b=this._renderdefer)){if(!this._norenderdefer){this.z_rod=this._z$rd=!0;this.deferRedrawHTML_(a);a=null;var c=this;setTimeout(function(){Z(c)},b);return!0}delete this._norenderdefer;delete this.z_rod}return!1},deferRedrawHTML_:function(a){a.push("<div",this.domAttrs_({domClass:1}),' class="z-renderdefer"></div>')},forcerender:function(){Z(this)},updateDomClass_:function(){if(this.desktop){var a=this.$n();a&&(a.className=this.domClass_());this.zsync()}},updateDomStyle_:function(){if(this.desktop){var a=
jq.parseStyle(this.domStyle_()),b=this.$n();!a.width&&this._hflex&&(a.width=b.style.width);!a.height&&this._vflex&&(a.height=b.style.height);zk(b).clearStyles().jq.css(a);var c=this.getTextNode();c&&c!=b&&(a=this._domTextStyle(c,a),zk(c).clearStyles().jq.css(a));this.zsync()}},_domTextStyle:function(a,b){b=jq.filterTextStyle(b);a.style.width&&(b.width=a.style.width);a.style.height&&(b.height=a.style.height);return b},getZclass:function(){var a=this._zclass;return null!=a?a:"z-"+this.widgetName},getTextNode:function(){},
domStyle_:function(a){var b="",c;(c=this.z$display)?b+="display:"+c+";":this.isVisible()||a&&a.visible||(b+="display:none;");a&&a.style||!(c=this.getStyle())||(c=c.replace(fa,"'"),b+=c,";"!=c.charAt(c.length-1)&&(b+=";"));a&&a.width||!(c=this.getWidth())||(b+="width:"+c+";");a&&a.height||!(c=this.getHeight())||(b+="height:"+c+";");a&&a.left||!(c=this.getLeft())||(b+="left:"+c+";");a&&a.top||!(c=this.getTop())||(b+="top:"+c+";");a&&a.zIndex||!(0<=(c=this.getZIndex()))||(b+="z-index:"+c+";");return b},
domClass_:function(a){var b,c;a&&a.sclass||(b=this.getSclass());a&&a.zclass||(c=this.getZclass());return b?c?b+" "+c:b:c||""},domAttrs_:function(a){var b="",c;if(a)!a.id&&(c=this.uuid)&&(b+=' id="'+c+'"'),!a.domStyle&&(c=this.domStyle_(a))&&(b+=' style="'+c+'"'),!a.domClass&&(c=this.domClass_(a))&&(b+=' class="'+c+'"'),!a.tooltiptext&&(c=this.domTooltiptext_())&&(b+=' title="'+zUtl.encodeXML(c)+'"'),a.tabindex||(c=this.getTabindex())==d||(b+=' tabindex="'+c+'"');else{if(c=this.uuid)b+=' id="'+c+'"';
if(c=this.domStyle_(a))b+=' style="'+c+'"';if(c=this.domClass_(a))b+=' class="'+c+'"';if(c=this.domTooltiptext_())b+=' title="'+zUtl.encodeXML(c)+'"';(c=this.getTabindex())!=d&&(b+=' tabindex="'+c+'"')}this.domExtraAttrs&&(b+=this.domExtraAttrs_());return b},domExtraAttrs_:function(){var a={},b=!1,c="",g;for(g in attrs=this.domExtraAttrs)zk.hasDataHandler(g)&&(b=!0,a[g]=attrs[g]),c+=" "+g+'="'+zUtl.encodeXMLAttribute(attrs[g]||"")+'"';b&&!this.z_isDataHandlerBound&&(this.z_isDataHandlerBound=function(){for(var b in a)zk.getDataHandler(b).run(this,
a[b])},this.listen({onBind:this.z_isDataHandlerBound}));return c},domTooltiptext_:function(){return this.getTooltiptext()},domTextStyleAttr_:function(){var a=this.getStyle();return a?zUtl.appendAttr("style",jq.filterTextStyle(a)):a},replaceHTML:function(a,b,c,g,d){b||(b=this.desktop,zk.Desktop._ndt||zk.stateless());var e=c?null:S(this),f=this.parent;f?f.replaceChildHTML_(this,a,b,c,g):((f=this.getOldWidget_(a))?f.unbind(c):this.z_rod&&this.$class._unbindrod(this),jq(a).replaceWith(this.redrawHTML_(c,
g)),this.bind(b,c));if(!c)if(jq.isArray(d)){var v=this;d.push(function(){zUtl.fireSized(v)})}else zUtl.fireSized(this);H(e);return this},getOldWidget_:function(a){return u.$(a,{strict:!0})},redrawHTML_:function(a,b){var c=new zk.Buffer;this.redraw(c,a);c=c.join("");return b?c.trim():c},rerender:function(a){if(this.desktop){if(!a||0<a)return a=a||0,x&&clearTimeout(x),q.push(this),x=setTimeout(da,a),this;0>a&&(a=null);var b=this.$n();if(b)try{zk._avoidRod=!0;var c;if(a&&(c=a.skip(this))){var g=S(this);
this.replaceHTML(b,null,a,!0);a.restore(this,c);zWatch.fireDown("onRestore",this);zUtl.fireSized(this);H(g)}c||this.replaceHTML(b,null,null,!0)}finally{delete zk._avoidRod}}return this},replaceChildHTML_:function(a,b,c,g,d){var e=a.getOldWidget_(b);e?e.unbind(g):this.shallChildROD_(a)&&this.$class._unbindrod(a);jq(b).replaceWith(a.redrawHTML_(g,d));a.bind(c,g)},insertChildHTML_:function(a,b,c){var g,d=a.redrawHTML_();if(b){if(b.$instanceof(zk.Native)&&(g=b.previousSibling)&&(g==a&&(g=g.previousSibling),
g&&(g=g.$n()))){jq(g).after(d);a.bind(c);return}b=b.getFirstNode_()}if(!b)for(var f=this;!(g=f.getCaveNode());){var h=f.nextSibling;if(h&&(b=h.getFirstNode_()))break;if(!(f=f.parent)){g=document.body;break}}b?(g=b.previousSibling,e(g)&&(b=g),jq(b).before(d)):jq(g).append(d);a.bind(c)},getCaveNode:function(){return this.$n("cave")||this.$n()},getFirstNode_:function(){for(var a=this;a;a=a.nextSibling){a:{var b=a;var c=b.$n();if(!c){for(b=b.firstChild;b;b=b.nextSibling)if(c=b.getFirstNode_())break a;
c=void 0}}if(c)return c}},removeChildHTML_:function(a,b){var c=zk.currentFocus;c&&zUtl.isAncestor(a,c)&&(zk.currentFocus=null);if(c=a.$n()){var g=c.previousSibling;a.prolog&&e(g)&&jq(g).remove()}else Y(a,c=[]);a.unbind();b||a.removeHTML_(c)},removeHTML_:function(a){R(this,a);this.clearCache()},$n:function(a){if(a){var b=this._subnodes[a];!b&&this.desktop&&(b=jq(this.uuid+"-"+a,zk)[0],this._subnodes[a]=b?b:"n/a");return"n/a"==b?null:b}b=this._node;b||!this.desktop||this._nodeSolved||(this._node=b=
jq(this.uuid,zk)[0],this._nodeSolved=!0);return b},$service:function(){for(var a=this;a&&!a.$ZKAUS$;a=a.parent);return a?(a._$service||(a._$service=new zk.Service(a,this)),a._$service):null},$afterCommand:function(a,b){var c=this.$service();c&&c.$doAfterCommand(a,b)},isRealElement:function(){return!0},$s:function(a){if(a){var b=this._subzcls[a];b||(b=this._subzcls[a]=this.getZclass()+"-"+a);return b}return this.getZclass()},clearCache:function(){this._node=null;this._subnodes={};this._nodeSolved=
!1},getPage:function(){var a,b;for(a=this.parent;a;a=a.parent)if(a.$instanceof(zk.Page))return a;return(a=(b=this.desktop)._bpg)?a:b._bpg=new zk.Body(b)},isBinding:function(){if(this.desktop)for(var a=this;a;a=a.parent)if(a._binding)return!0},rerenderNow_:function(a){for(var b=[],c=q.length;c--;)zUtl.isAncestor(this,q[c])&&(a&&a.skipped(this,q[c])||(b=b.concat(q.splice(c,1))));!q.length&&x&&(clearTimeout(x),x=null);a:for(;a=b.shift();)if(a.desktop){for(c=b.length;c--;)if(zUtl.isAncestor(a,b[c]))b.splice(c,
1);else if(zUtl.isAncestor(b[c],a))continue a;a.rerender(-1)}},bind:function(a,b){this._binding=!0;aa(this,b);if(this.z_rod)this.$class._bindrod(this);else{var c=[];for(this.bind_(a,b,c);a=c.shift();)a()}delete this._binding;return this},unbind:function(a,b){this._$service&&(this._$service.destroy(),this._$service=null);aa(this,a);if(this.z_rod)this.$class._unbindrod(this,b);else{var c=[];this.unbind_(a,c,b);a=0;for(b=c.length;a<b;)c[a++]()}return this},bind_:function(a,b,c){this.$class._bind0(this);
this.desktop=a||(a=zk.Desktop.$(this.parent));var g=this.parent,d;this.bindLevel=g?g.bindLevel+1:0;(d=this._draggable)&&"false"!=d&&!G(this)&&this.initDrag_();(this._nvflex||this._nhflex)&&J(this);this.bindChildren_(a,b,c);var e=this;this.isListen("onBind")&&zk.afterMount(function(){e.desktop&&e.fire("onBind")});this.isListen("onAfterSize")&&zWatch.listen({onSize:this});zk.mobile&&c.push(function(){setTimeout(function(){e.bindSwipe_();e.bindDoubleTap_();e.bindTapHold_()},300)})},bindChildren_:function(a,
b,c){for(var g=this.firstChild,d;g;g=d)d=g.nextSibling,b&&b.skipped(this,g)||(g.z_rod?this.$class._bindrod(g):g.bind_(a,null,c))},unbind_:function(a,b,c){this.$class._unbind0(this);K(this);this.unbindChildren_(a,b,c);this.cleanDrag_();this.unbindSwipe_();this.unbindDoubleTap_();this.unbindTapHold_();this.isListen("onAfterSize")&&zWatch.unlisten({onSize:this});if(this.isListen("onUnbind")){var g=this;zk.afterMount(function(){g.desktop||g.fire("onUnbind")})}for(var d in this.effects_)(a=this.effects_[d])&&
a.destroy();this.effects_={}},unbindChildren_:function(a,b,c){for(var d=this.firstChild,e;d;d=e)e=d.nextSibling,a&&a.skipped(this,d)||(d.z_rod?this.$class._unbindrod(d,c):d.desktop&&(d.unbind_(null,b,c),d.$instanceof(zk.Native)&&zAu._storeStub(d)))},extraBind_:function(a,b){0==b?delete r[a]:r[a]=this},setFlexSize_:function(a,b){var c=this.$n(),g=zk(c);a.height!==d&&("auto"==a.height?c.style.height="":""!=a.height||0===a.height&&!this.isFloating_()?this.setFlexSizeH_(c,g,a.height,b):c.style.height=
this._height||"");a.width!==d&&("auto"==a.width?c.style.width="":""!=a.width||0===a.width&&!this.isFloating_()?this.setFlexSizeW_(c,g,a.width,b):c.style.width=this._width||"")},setFlexSizeH_:function(a,b,c,d){a.style.height=jq.px0(c-(d?0:b.marginHeight()))},setFlexSizeW_:function(a,b,c,d){a.style.width=jq.px0(c-(d?0:b.marginWidth()))},beforeChildrenFlex_:function(a){return!0},afterChildrenFlex_:function(a){},afterChildMinFlexChanged_:function(a,b){},ignoreFlexSize_:function(a){return!1},ignoreChildNodeOffset_:function(a){return!1},
beforeMinFlex_:function(a){return null},beforeParentMinFlex_:function(a){},afterChildrenMinFlex_:function(){},afterResetChildSize_:function(){},isExcludedHflex_:function(){return"absolute"==jq(this.$n()).css("position")},isExcludedVflex_:function(){return"absolute"==jq(this.$n()).css("position")},getChildMinSize_:function(a,b){return"w"==a?(a=zjq.minWidth(b),8<zk.ie&&zk.isLoaded("zul.wgt")&&b.$instanceof(zul.wgt.Image)&&(a=zk(b).offsetWidth()),a):zk(b).offsetHeight()},getParentSize_:function(a){a=
zk(a);return{height:a.contentHeight(),width:a.contentWidth()}},getMarginSize_:function(a){return zk(this).sumStyles("h"==a?"tb":"lr",jq.margins)},getContentEdgeHeight_:function(a){a=this.$n();var b=this.firstChild;for(b=b&&zk.isLoaded("zul.wgt")&&b.$instanceof(zul.wgt.Caption)?b.nextSibling:b;b&&b.ignoreFlexSize_("h");)b=b.nextSibling;b=b&&b.$n()||a.firstChild;var c=zk(a).padBorderHeight();if(b)for(b=b.parentNode;b&&1==b.nodeType&&a!=b;){var d=zk(b);c+=d.padBorderHeight()+d.sumStyles("tb",jq.margins);
b=b.parentNode}return c},getContentEdgeWidth_:function(a){a=this.$n();var b=this.firstChild;for(b=b&&zk.isLoaded("zul.wgt")&&b.$instanceof(zul.wgt.Caption)?b.nextSibling:b;b&&b.ignoreFlexSize_("w");)b=b.nextSibling;b=b&&b.$n()||a.firstChild;var c=zk(a).padBorderWidth();if(b)for(b=b.parentNode;b&&1==b.nodeType&&a!=b;){var d=zk(b);c+=d.padBorderWidth()+d.sumStyles("lr",jq.margins);b=b.parentNode}return c},fixFlex_:function(){zFlex.fixFlex(this)},fixMinFlex_:function(a,b){return zFlex.fixMinFlex(this,
a,b)},clearCachedSize_:function(){delete this._hflexsz;delete this._vflexsz},resetSize_:function(a){var b=this.$n();b.scrollTop||b.scrollLeft||(b.style["w"==a?"width":"height"]="")},initDrag_:function(){var a=this.getDragNode();a&&(this._drag=new zk.Draggable(this,a,this.getDragOptions_(ha)),zk.ie9&&jq.nodeName(a,"img")&&jq(a).bind("mousedown",zk.$void))},cleanDrag_:function(){var a=this._drag;if(a){var b;zk.ie9&&(b=this.getDragNode())&&jq.nodeName(b,"img")&&jq(b).unbind("mousedown",zk.$void);this._drag=
null;a.destroy()}},getDragNode:function(){return this.$n()},getDragOptions_:function(a){return a},ignoreDrag_:function(a){return!1},getDrop_:function(a){if(this==a)return null;var b=this._droppable,c=a._draggable;if("true"==b)return this;if(b&&"true"!=c){b=this._dropTypes;for(var d=b.length;d--;)if(c==b[d])return this}return this.parent?this.parent.getDrop_(a):null},dropEffect_:function(a){jq(this.$n()||[])[a?"addClass":"removeClass"]("z-drag-over")},getDragMessage_:function(){if(jq.nodeName(this.getDragNode(),
"tr","td","th")){var a=this.$n("real")||this.getCaveNode();return(a=a?a.textContent||a.innerText||"":"")?zUtl.encodeXML(a):a}},onDrop_:function(a,b){a=zk.copy({dragged:a.control},b.data);this.fire("onDrop",a,null,u.auDelay)},cloneDrag_:function(a,b){var c=this.getDragMessage_();"string"==typeof c&&9<c.length&&(c=c.substring(0,9)+"...");b=zk.DnD.ghost(a,b,c);a._orgcursor=document.body.style.cursor;document.body.style.cursor="pointer";jq(this.getDragNode()).addClass("z-dragged");return b},uncloneDrag_:function(a){document.body.style.cursor=
a._orgcursor||"";jq(this.getDragNode()).removeClass("z-dragged")},onSize:function(){},onAfterSize:function(){if(this.desktop&&this.isListen("onAfterSize")){var a=this.getCaveNode(),b=a.offsetWidth;a=a.offsetHeight;if(this._preWidth!=b||this._preHeight!=a)this._preWidth=b,this._preHeight=a,this.fire("onAfterSize",{width:b,height:a})}},bindSwipe_:zk.$void,unbindSwipe_:zk.$void,bindDoubleTap_:zk.$void,unbindDoubleTap_:zk.$void,bindTapHold_:zk.$void,unbindTapHold_:zk.$void,focus:function(a){return this.canActivate({checkOnly:!0})&&
zk(this.$n()).isRealVisible()&&this.focus_(a)},focus_:function(a){if(zk(this.$n()).focus(a))return this.setTopmost(),!0;for(var b=this.firstChild;b;b=b.nextSibling)if(b.isRealVisible()&&b.focus_(a))return!0;return!1},canActivate:function(a){if(I)return!0;if(zk.busy&&(!a||!a.checkOnly))return jq.focusOut(),!1;var b=zk.currentModal;if(b&&!zUtl.isAncestor(b,this)&&!jq.isAncestor(b.$n(),this.$n())){var c=this.getTopWidget();if(c&&c!=b&&c.getZIndex()>b.getZIndex())return!0;if(!a||!a.checkOnly){if((a=zk.currentFocus)&&
zUtl.isAncestor(b,a)&&a.focus(0))return!0;b.focus(0)}return!1}return!0},smartUpdate:function(a,b,c){zAu.send(new zk.Event(this,"setAttr",[a,b]),0<=c?c:-1);return this},fireX:function(a,b){var c,d=a.currentTarget;a.currentTarget=this;try{var e=a.name,f=this._lsns[e],h=f?f.length:0;if(h)for(var k=0;k<h;){var l=f[k++],m=l[0];(l[1]||m[e]).call(m,a);if(a.stopped)return a}if(!a.auStopped){var n=a.opts&&a.opts.toServer;if(n||this.inServer&&this.desktop){var p=n||this._asaps[e];null==p&&(c=this.$class._importantEvts)&&
(c=c[e],null!=c&&(p=c));(null!=p||a.opts.sendAhead)&&this.sendAU_(a,p?0<=b?b:u.auDelay:-1)}}return a}finally{a.currentTarget=d}},beforeSendAU_:function(a,b){a=b.name;if("onClick"==a||"onRightClick"==a||"onDoubleClick"==a){var c=(a=b.domTarget)?zk.Widget.$(a):null;a&&(c.$instanceof(zk.Native)||zk.isLoaded("zhtml")&&c.$instanceof(zhtml.Widget)||zk.isLoaded("zul.wgt")&&c.$instanceof(zul.wgt.Html))||(b.shallStop=!0)}},sendAU_:function(a,b,c){(a.target||this).beforeSendAU_(this,a);a=new zk.Event(this,
a.name,a.data,a.opts,a.domEvent);a.opts.sendAhead?zAu.sendAhead(a,b):zAu.send(a,b)},shallIgnoreClick_:function(a){},fire:function(a,b,c,d){return this.fireX(new zk.Event(this,a,b,c),d)},listen:function(a,b){b=b?b:0;for(var c in a){var d=a[c];d=jq.isArray(d)?[d[0]||this,d[1]]:"function"==typeof d?[this,d]:[d||this,null];d.priority=b;var e=this._lsns[c];if(e)for(var f=e.length;;){if(0>--f||e[f].priority>=b){e.splice(f+1,0,d);break}}else this._lsns[c]=[d]}return this},unlisten:function(a){var b;a:for(b in a)for(var c=
a[b],d=this._lsns[b],e,f=d?d.length:0;f--;)if(e=d[f],c=jq.isArray(c)?[c[0]||this,c[1]]:"function"==typeof c?[this,c]:[c||this,null],e[0]==c[0]&&e[1]==c[1]){d.splice(f,1);continue a}return this},isListen:function(a,b){var c=this._asaps[a];if(c)return!0;if(b){if(b.asapOnly)return(c=this.$class._importantEvts)&&c[a];if(b.any&&(null!=c||(c=this.$class._importantEvts)&&null!=c[a]))return!0}return(a=this._lsns[a])&&a.length},setListeners:function(a){for(var b in a)this.setListener(b,a[b])},setListeners0:function(a){for(var b in a)this.setListener0(b,
a[b])},setListener:function(a,b){jq.isArray(a)&&(b=a[1],a=a[0]);var c=this._bklsns,d=c[a],e={};d&&(delete c[a],e[a]=d,this.unlisten(e));b&&(e[a]=c[a]="function"!=typeof b?new Function("var event=arguments[0];"+b):b,this.listen(e))},setListener0:function(a,b){jq.isArray(a)&&(b=a[1],a=a[0]);var c=this._bklsns,d={};b&&(d[a]=c[a]="function"!=typeof b?new Function("var event=arguments[0];"+b):b,this.listen(d))},setOverride:function(a,b){jq.isArray(a)&&(b=a[1],a=a[0]);if(b){var c="$"+a;null==this[c]&&this[a]&&
(this[c]=this[a]);this[a]=b}else c="$"+a,this[a]=this[c],delete this[c]},setOverrides:function(a){for(var b in a)this.setOverride(b,a[b])},doSelect_:function(a){if(!a.stopped){var b=this.parent;b&&b.doSelect_(a)}},doTooltipOver_:function(a){if(!a.stopped){var b=this.parent;b&&b.doTooltipOver_(a)}},doTooltipOut_:function(a){if(!a.stopped){var b=this.parent;b&&b.doTooltipOut_(a)}},doClick_:function(a){if(F(this,a)){var b=this.parent;b&&b.doClick_(a)}},doDoubleClick_:function(a){if(F(this,a)){var b=
this.parent;b&&b.doDoubleClick_(a)}},doRightClick_:function(a){if(F(this,a)){var b=this.parent;b&&b.doRightClick_(a)}},doMouseOver_:function(a){if(!this.fireX(a).stopped){var b=this.parent;b&&b.doMouseOver_(a)}},doMouseOut_:function(a){if(!this.fireX(a).stopped){var b=this.parent;b&&b.doMouseOut_(a)}},doMouseDown_:function(a){if(!this.fireX(a).stopped){var b=this.parent;b&&b.doMouseDown_(a)}},doMouseUp_:function(a){if(!this.fireX(a).stopped){var b=this.parent;b&&b.doMouseUp_(a)}},doMouseMove_:function(a){if(!this.fireX(a).stopped){var b=
this.parent;b&&b.doMouseMove_(a)}},doKeyDown_:function(a){if(!this.fireX(a).stopped){var b=this.parent;b&&b.doKeyDown_(a)}},doKeyUp_:function(a){if(!this.fireX(a).stopped){var b=this.parent;b&&b.doKeyUp_(a)}},doKeyPress_:function(a){if(!this.fireX(a).stopped){var b=this.parent;b&&b.doKeyPress_(a)}},doPaste_:function(a){if(!this.fireX(a).stopped){var b=this.parent;b&&b.doPaste_(a)}},doSwipe_:function(a){if(!this.fireX(a).stopped){var b=this.parent;b&&b.doSwipe_(a)}},doFocus_:function(a){if(!this.fireX(a).stopped){var b=
this.parent;b&&b.doFocus_(a)}},doBlur_:function(a){if(!this.fireX(a).stopped){var b=this.parent;b&&b.doBlur_(a)}},doResizeScroll_:function(){var a=this.parent;a&&a.doResizeScroll_()},domListen_:function(a,b,c,d){this.$weave||(b=f(this,b,c,d),jq(a,zk).bind(b[0],b[1]));return this},domUnlisten_:function(a,b,c,d){this.$weave||(b=f(this,b,c,d),jq(a,zk).unbind(b[0],b[1]));return this},listenOnFitSize_:function(){this._fitSizeListened||"min"!=this._hflex&&"min"!=this._vflex||(zWatch.listen({onFitSize:[this,
zFlex.onFitSize]}),this._fitSizeListened=!0)},unlistenOnFitSize_:function(){this._fitSizeListened&&(zWatch.unlisten({onFitSize:[this,zFlex.onFitSize]}),delete this._fitSizeListened)},fromPageCoord:function(a,b){var c=zk(this).revisedOffset();return[a-c[0],b-c[1]]},isWatchable_:function(a,b,c){a="onShow"!=a;if(b)return this.isRealVisible({dom:!0,strict:a,until:b,cache:c});for(b=this;b.$instanceof(zk.Native);){if(!b._visible)return!1;if(!(b=b.parent))return!0}return zk(b.$n()).isRealVisible(a)},toJSON:function(){return this.uuid},
ignoreDescendantFloatUp_:function(a){return!1},getDomEvtInf_:function(a,b,c,d){return f(a,b,c,d)},shallFireSizedLaterWhenAddChd_:function(){return!1}},{disableChildCallback:function(){z=!0},enableChildCallback:function(){z=!1},$:function(a,b){a&&a.zk&&a.zk.jq==a&&(a=a[0]);if(!a||u.isInstance(a))return a;var c,d;if("string"==typeof a){if("#"==(d=a.charAt(0)))a=a.substring(1);else if("$"==d)return(d=y[a.substring(1)])?d[0]:null;(c=r[a])||(c=0<=(d=a.indexOf("-"))?r[a.substring(0,d)]:null);return c?c:
jq(a).zk.$()}if(!a.nodeType){var e,f;a=((e=a.originalEvent)?e.z$target:null)||((e=a.target)&&(f=e.z$proxy)?f:e)||a}b=b||{};if(b.exact)return r[a.id];for(;a;a=zk(a).vparentNode(!0)){try{if((d=a.id||(a.getAttribute?a.getAttribute("id"):""))&&"string"==typeof d){if(c=r[d])return c;var h=d.indexOf("-");if(0<=h&&(c=r[d=d.substring(0,h)])){if(!b.child)return c;var k=c.$n();if(k&&jq.isAncestor(k,a))return c}}}catch(ba){zk.debugLog(ba.message||ba)}if(b.strict)break}return null},mimicMouseDown_:function(a,
b,c){var d=zk.currentModal;if(d&&!a)(a=zk.currentFocus)&&zUtl.isAncestor(d,a)?a.focus(0):d.focus(0);else if(!a||a.canActivate())if(b||(zk._prevFocus=zk.currentFocus,zk.currentFocus=a,zk._cfByMD=!0,setTimeout(function(){zk._cfByMD=!1;zk._prevFocus=null},0)),a)zWatch.fire("onFloatUp",a,{triggerByClick:c});else for(var e in zk.Desktop.all)zWatch.fire("onFloatUp",zk.Desktop.all[e])},getElementsByName:function(a){var b=[],c;for(c in r)if("*"==a||a==r[c].widgetName){var d=r[c].$n(),e;d&&(e=u.$(r[c]))&&
b.push({n:d,w:e})}if(b.length){b.sort(function(a,b){a=a.w;b=b.w;if(a.bindLevel<b.bindLevel){do b=b.parent;while(a&&a.bindLevel<b.bindLevel)}else if(a.bindLevel>b.bindLevel){do a=a.parent;while(b&&a.bindLevel>b.bindLevel)}for(var c=a.parent,d=b.parent;c&&d&&c!=d;)a=c,b=d,c=c.parent,d=d.parent;return a&&b?a.getChildIndex()-b.getChildIndex():0});a=[];for(c=b.length;c--;)a.unshift(b[c].n);b=a}return b},getElementsById:function(a){for(var b=[],c=y[a],d=c?c.length:0;d--;)(a=c[d].$n())&&b.unshift(a);return b},
uuid:function(a){var b="object"==typeof a?a.id||"":a,c=b.indexOf("-");return 0<=c?b.substring(0,c):a},nextUuid:function(){return"_z_"+ea++},isAutoId:function(a){return!a},register:function(a,b){var c=zk.$import(a);c.prototype.className=a;var d=a.lastIndexOf(".");0<=d&&(a=a.substring(d+1));M[c.prototype.widgetName=a.toLowerCase()]=c;b&&(c.prototype.blankPreserved=!0)},getClass:function(a){return M[a]},newInstance:function(a,b){var c=M[a];if(!c)throw zk.error(c="Unknown widget: "+a),c;return new c(b)},
auDelay:38,_bindrod:function(a){this._bind0(a);a.z_rod||(a.z_rod=9);for(a=a.firstChild;a;a=a.nextSibling)this._bindrod(a)},_bind0:function(a){r[a.uuid]=a;a.id&&this._addGlobal(a)},_addGlobal:function(a){var b=y[a.id];b?b.push(a):y[a.id]=[a]},_unbindrod:function(a,b,c){this._unbind0(a);if(!b||9===a.z_rod)for(c||delete a.z_rod,a=a.firstChild;a;a=a.nextSibling)this._unbindrod(a,!0,c),a.$instanceof(zk.Native)&&zAu._storeStub(a)},_unbind0:function(a){a.id&&this._rmGlobal(a);delete r[a.uuid];a.desktop=
null;a.clearCache()},_rmGlobal:function(a){var b=y[a.id];b&&(b.$remove(a),b.length||delete y[a.id])}});zk.$=function(a,b){return zk.Widget.$(a,b)};zkreg=u.register;zk.RefWidget=zk.$extends(zk.Widget,{className:"zk.RefWidget",widgetName:"refWidget",bind_:function(){var a=u.$(this.uuid);if(a){var b;(b=a.parent)&&l(b,a);m(this,a);this.parent=this.nextSibling=this.previousSibling=null;t(a)}else zk.error("RefWidget not found: "+this.uuid)}});zk.Desktop=zk.$extends(zk.Widget,{z_virnd:!0,bindLevel:0,className:"zk.Desktop",
widgetName:"desktop",$init:function(a,b,c,d,e){this.$super("$init",{uuid:a});var f=zk.Desktop,g=f.all,h;this._aureqs=[];(h=g[a])?(null!=c&&(h.updateURI=c),null!=b&&(h.contextURI=b)):(this.uuid=this.id=a,this.updateURI=null!=c?c:zk.updateURI,this.contextURI=null!=b?b:zk.contextURI,this.requestPath=d||"",this.stateless=e,g[a]=this,++f._ndt);f._dt=h||this;f.sync(6E4)},bind_:zk.$void,unbind_:zk.$void,setId:zk.$void,isRealVisible:function(){return!0}},{$:function(a){var b=zk.Desktop,c;if(a){if(b.isInstance(a))return a;
if(c=b.all[a])return c;for(c=u.$(a);c;c=c.parent){if(c.desktop)return c.desktop;if(c.$instanceof(b))return c}return null}if(c=b._dt)return c;for(a in b.all)return b.all[a]},all:{},_ndt:0,sync:function(a){var b=zk.Desktop,c=b.all,d;D&&(clearTimeout(D),D=null);if(0<=a)D=setTimeout(function(){D=null;b.sync()},a);else{for(var e in c)!Q(d=c[e])&&d.firstChild&&(delete c[e],--b._ndt,b._dt==d&&(b._dt=null),zAu._rmDesktop(d));if(!b._dt)for(e in c){b._dt=c[e];break}}return b._dt}});zk._wgtutl={setUuid:function(a,
b){b||(b=u.nextUuid());if(b!=a.uuid){var c=a.$n();if(c){if(!a.rawId)throw"id immutable after bound";c.id=b;delete r[a.uuid];r[b]=a;a.clearCache()}a.uuid=b}},replace:function(a,b,c){m(a,b);a.parent=a.nextSibling=a.previousSibling=null;if(c){b.lastChild=a.lastChild;for(c=b.firstChild=a.firstChild;c;c=c.nextSibling)c.parent=b;b.nChildren=a.nChildren;a.firstChild=a.lastChild=null;a.nChildren=0}a.nChildren=0},autohide:function(){if(n.length)for(var a=["IFRAME","APPLET"],b=2;b--;){var c=document.getElementsByTagName(a[b]),
d=c.length;a:for(;d--;){var e=c[d];var f=zk(e),h;if(((h=f.isVisible(!0))||E.$contains(e))&&(b||e.getAttribute("z_autohide")||e.getAttribute("z.autohide"))){for(var k=W(e),l=n.length;l--;){var m=n[l].node;var p=W(m);if(p==k||(p?zk.parseInt(p.style.zIndex):0)<(k?zk.parseInt(k.style.zIndex):0)||!f.isOverlapped(m))m=void 0;else{if(h){E.push(e);try{e.setAttribute("z_ahvis",e.style.visibility)}catch(ca){zk.debugLog(ca.message||ca)}e.style.visibility="hidden"}m=!0}if(m)continue a}E.$remove(e)&&(e.style.visibility=
e.getAttribute("z_ahvis")||"")}}}else for(;e=E.shift();)e.style.visibility=e.getAttribute("z_ahvis")||""}}})();zk.Page=zk.$extends(zk.Widget,{z_virnd:!0,_style:"width:100%;height:100%",className:"zk.Page",widgetName:"page",$init:function(d,e){this._fellows={};this.$super("$init",d);e&&zk.Page.contained.push(this)},redraw:_zkf=function(d){d.push("<div",this.domAttrs_(),">");for(var e=this.firstChild;e;e=e.nextSibling)e.redraw(d);d.push("</div>")}},{$redraw:_zkf,contained:[]});zkreg("zk.Page",!0);
zk.Body=zk.$extends(zk.Page,{$init:function(d){this.$super("$init",{});this.desktop=d},$n:function(d){return d?null:document.body},redraw:zk.$void});
zk.Native=zk.$extends(zk.Widget,{z_virnd:!0,className:"zk.Native",widgetName:"native",$n:function(d){return!d&&this.id?jq("#"+this.id):this.$supers("$n",arguments)},redraw:_zkf=function(d){var e=this.prolog,f;if(e){if(this.$instanceof(zk.Native)&&!this.id&&(f=this.parent)&&!f.z_virnd){f=0;var h=e.length,l,m;for(l={whitespace:1};f<h&&"<"!=(m=e.charAt(f));++f)if(!zUtl.isChar(m,l)){f=h;break}if(f<h){for(l={upper:1,lower:1,digit:1,"-":1};++f<h&&zUtl.isChar(e.charAt(f),l););e=e.substring(0,f)+' id="'+
this.uuid+'"'+e.substring(f)}}this.domExtraAttrs&&(f=-1==e.indexOf("/>")?">":"/>",e=e.replace(f,this.domExtraAttrs_()+f));d.push(zk.Native.replaceScriptContent(e.replace(/ sclass=/ig," class=")));this.value&&e.startsWith("<textarea")&&d.push(this.value)}for(e=this.firstChild;e;e=e.nextSibling)e.redraw(d);(e=this.epilog)&&d.push(e)}},{$redraw:_zkf,replaceScriptContent:function(){var d=new RegExp(/<script[^>]*>([\s\S]*?)<\/script>/g),e=new RegExp(/<\/(?=script>)/ig);return function(f){try{var h=f.match(d);
if(h)for(var l=0,m=h.length;l<m;l++){var p=h[l];if(17<=p.length){var t=p.substring(8,p.length-9),w=zk.Native.replaceScriptContent(t);t!=w&&(f=f.replace(t,w))}}else return f.replace(e,"<\\/");return f}catch(B){zk.debugLog(B.message||B)}return f}}()});
zk.Macro=zk.$extends(zk.Widget,{className:"zk.Macro",widgetName:"macro",_enclosingTag:"div",$init:function(){this._fellows={};this.$supers("$init",arguments)},$define:{enclosingTag:function(){this.rerender()}},redraw:function(d){d.push("<",this._enclosingTag,this.domAttrs_(),">");for(var e=this.firstChild;e;e=e.nextSibling)e.redraw(d);d.push("</",this._enclosingTag,">")}});zkservice={$:function(d,e){if(e=zk.Widget.$(d,e))return e.$service();zk.error("Not found ZK Service with ["+d+"]")}};
(function(){zk.Service=zk.$extends(zk.Object,{$init:function(d,e){this.$supers("$init",arguments);this.$view=d;this.$currentTarget=e;this._aftercmd={}},after:function(d,e){!e&&jq.isFunction(d)&&(e=d,d=this._lastcmd);var f=this._aftercmd[d];f?f.push(e):this._aftercmd[d]=[e];return this},unAfter:function(d,e){for(var f=(d=this._aftercmd[d])?d.length:0;f--;)d[f]==e&&d.splice(f,1);return this},destroy:function(){this.$currentTarget=this.$view=this._aftercmd=null},command:function(d,e,f,h){var l=this.$view;
if(f){if(f.duplicateIgnore&&f.duplicateIgnore){var m={};m["onAuServiceCommand$"+d]=!0;f.duplicateIgnore=m}f.repeatIgnore&&f.repeatIgnore&&(m={},m["onAuServiceCommand$"+d]=!0,f.repeatIgnore=m)}zAu.send(new zk.Event(l,"onAuServiceCommand$"+d,{cmd:d,args:e},zk.copy({toServer:!0},f)),void 0!=h?h:38);this._lastcmd=d;return this},$doAfterCommand:function(d,e){d=this._aftercmd[d];for(var f=0,h=d?d.length:0;f<h;f++)d[f].apply(this,[e])}})})();
zk.Skipper=zk.$extends(zk.Object,{skipped:function(d,e){return d.caption!=e},skip:function(d,e){if((d=jq(e||d.getCaveNode(),zk)[0])&&d.firstChild){var f=(e=zk.currentFocus)&&e.getInputNode;f&&11>zk.ie&&(zk.cfrg=zk(e.getInputNode()).getSelectionRange());d.parentNode.removeChild(d);f&&zk.chrome&&(zk.currentFocus=e);return d}},restore:function(d,e){if(e){d=jq(e.id,zk)[0];for(var f;f=e.firstChild;)e.removeChild(f),d.appendChild(f),zjq._fixIframe(f)}}});zk.Skipper.nonCaptionSkipper=new zk.Skipper;
zk.NoDOM={bind_:function(){if("nodom"==this.getMold()){var d=this.$getInterceptorContext$();this.$supers("bind_",d.args);var e=this.$n("tmp"),f=this.getZclass()+" "+this.uuid,h=f+" end";if(e){f=document.createComment(f+" start");h=document.createComment(h);var l=e.parentNode;l.insertBefore(f,e);var m=this.lastChild?this.lastChild.$n():null;m?l.insertBefore(h,m.nextSibling):l.insertBefore(h,e.nextSibling);this._startNode=f;this._endNode=h;f=jq("#_z_nodomfs0");0==f.length&&(f=document.createElement("div"),
f.id="_z_nodomfs0",document.body.appendChild(f),f=jq("#_z_nodomfs0"));e.id=this.uuid+"-fake";f.append(e)}d.stop=!0}},removeHTML_:function(){if("nodom"==this.getMold()){for(var d=this.$getInterceptorContext$(),e=this._startNode?this._startNode.nextSibling:null;e&&e!=this._endNode;)next=e.nextSibling,jq(e).remove(),e=next;jq(this._startNode).remove();jq(this._endNode).remove();jq(this._node).remove();this.clearCache();d.stop=!0}},setDomVisible_:function(d,e,f){if("nodom"==this.getMold()){d=this.$getInterceptorContext$();
for(var h=this.firstChild;h;h=h.nextSibling)e?h.setDomVisible_(h.$n(),h.isVisible(),f):h.setDomVisible_(h.$n(),e,f);d.stop=!0}},isRealVisible:function(){if("nodom"==this.getMold()){var d=this.$getInterceptorContext$();d.result=this._visible&&(this.parent?this.parent.isRealVisible():!0);d.stop=!0}},getFirstNode_:function(){if("nodom"==this.getMold()){var d=this.$getInterceptorContext$();d.result=this._startNode;d.stop=!0}},insertChildHTML_:function(d,e,f){"nodom"!=this.getMold()||e||(e=this.$getInterceptorContext$(),
jq(this._endNode).before(d.redrawHTML_()),d.bind(f),e.stop=!0)},detach:function(){if("nodom"==this.getMold()){var d=this.$getInterceptorContext$();if(this.parent)this.parent.removeChild(this);else{var e=zk.currentFocus;e&&zUtl.isAncestor(this,e)&&(zk.currentFocus=null);this.$n()&&(this.removeHTML_(),this.unbind())}d.stop=!0}},getOldWidget_:function(d){"nodom"==this.getMold()&&(d=this.$getInterceptorContext$(),d.result=this._oldWgt,d.stop=!0)},replaceHTML:function(d,e,f,h,l){if("nodom"==this.getMold()){var m=
this.$getInterceptorContext$();e||(e=this.desktop,zk.Desktop._ndt||zk.stateless());var p=this.getOldWidget_(d);if(p){for(var t=p.firstChild;t;t=t.nextSibling)p.removeChildHTML_(t,!1);p.unbind(f)}jq(this._endNode).remove();jq(d).remove();jq(this._startNode).replaceWith(this.redrawHTML_(f,h));this.bind(e,f);if(!f)if(jq.isArray(l)){var w=this;l.push(function(){zUtl.fireSized(w)})}else zUtl.fireSized(this);m.result=this;m.stop=!0}},replaceWidget:function(d){"nodom"==this.getMold()&&(this.$getInterceptorContext$(),
d._startNode=this._startNode,d._endNode=this._endNode,d._oldWgt=this)},$n:function(d){if(!d&&"nodom"==this.getMold()){d=this.$getInterceptorContext$();var e=this._node;e||!this.desktop||this._nodeSolved||(this._node=e=jq(this.uuid+"-fake",zk)[0],this._nodeSolved=!0);d.result=e;d.stop=!0}},redraw:function(d){if("nodom"==this.getMold()){var e=this.$getInterceptorContext$();d.push('<div id="',this.uuid,"-tmp",'" style="display:none"></div>');for(var f=this.firstChild;f;f=f.nextSibling)f.redraw(d);e.stop=
!0}},ignoreFlexSize_:function(){if("nodom"==this.getMold()){var d=this.$getInterceptorContext$();d.stop=!0;d.result=!0}},ignoreChildNodeOffset_:function(){if("nodom"==this.getMold()){var d=this.$getInterceptorContext$();d.stop=!0;d.result=!0}},isExcludedHflex_:function(){if("nodom"==this.getMold()){var d=this.$getInterceptorContext$();d.stop=!0;d.result=!0}},isExcludedVflex_:function(){if("nodom"==this.getMold()){var d=this.$getInterceptorContext$();d.stop=!0;d.result=!0}}};
function zkopt(d){for(var e in d){var f=d[e];switch(e){case "pd":zk.procDelay=f;break;case "td":zk.tipDelay=f;break;case "art":zk.resendTimeout=f;break;case "dj":zk.debugJS=f;break;case "kd":zk.keepDesktop=f;break;case "pf":zk.pfmeter=f;break;case "ta":zk.timerAlive=f;break;case "gd":zk.groupingDenied=f;break;case "to":zk.timeout=f;zAu._resetTimeout();break;case "ed":switch(f){case "e":zk.feature.ee=!0;case "p":zk.feature.pe=!0}break;case "eu":zAu.setErrorURI(f);break;case "ppos":zk.progPos=f;break;
case "eup":zAu.setPushErrorURI(f)}}};

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(b,g,d){if(null==b)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return b+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,g,d){b!=Array.prototype&&b!=Object.prototype&&(b[g]=d.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,g,d,e){if(g){d=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var h=b[e];h in d||(d[h]={});d=d[h]}b=b[b.length-1];e=d[b];g=g(e);g!=e&&null!=g&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(b,d){var e=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var g=e.length,l=b.length;d=Math.max(0,Math.min(d|0,e.length));for(var m=0;m<l&&d<g;)if(e[d++]!=b[m++])return!1;return m>=l}},"es6","es3");
zk.copy(zk,function(){function b(a){n[a]=!0;e.push(a);1==(zk.loading=e.length)&&zk.disableESC()}function g(a,c){for(var b;b=a.shift();){if((zk.loading=e.length)||c&&h.length){a.unshift(b);break}b()}}var d={zk:!0},e=[],h=[],l=[],m=[],r={},k={},v={},t={},u=[],n=zk.copy({"zul.lang":!0},d);return{setLoaded:_zkf=function(a,c){e.$remove(a);n[a]=!0;if(c)d[a]||h.push(a);else{h.$remove(a);d[a]=!0;if(c=r[a])delete r[a],l.$addAll(c);if(c=k[a])for(delete k[a];a=c.unshift();)zk.load(a)}if(!(zk.loading=e.length)){try{zk.enableESC()}catch(q){zk.debugLog(q.message||
q)}g(l);g(m,1)}},setScriptLoaded:_zkf,isLoaded:function(a,c){return c&&n[a]||d[a]},load:function(a,c,b){if("function"==typeof c){if(b)throw"At most one function allowed";b=c;c=null}b&&zk.afterLoad(a,b,!0);var d;b=a.split(",");for(var f=b.length;f--;)a=b[f].trim(),zk._load(a,c)||(d=!0);return!d},_load:function(a,c){if(!a||n[a])return!zk.loading&&!h.length;b(a);var d=zk.getVersion(a)||zk.build,p=document.createElement("script"),f=a+".wpd";a=zk.getHost(a,!0);p.type="text/javascript";p.charset="UTF-8";
"/"!=f.charAt(0)&&(f="/"+f);f=a?a+"/web/js"+f:zk.ajaxURI(d?"/web/_zv"+d+"/js"+f:"/web/js"+f,{desktop:c,au:!0});p.src=f;jq.head().appendChild(p);return!1},loadScript:function(a,c,d,p){if(c){if(!p&&zk.isLoaded(c,!0))return;b(c)}c=document.createElement("script");c.type="text/javascript";c.charset=d||"UTF-8";c.src=a;jq.head().appendChild(c);return this},loadCSS:function(a,c,b){var d=document.createElement("link");c&&(d.id=c);d.rel="stylesheet";d.type="text/css";d.href=a;b&&(d.media=b);jq.head().appendChild(d);
return this},getVersion:function(a){for(var c;a;a=a.substring(0,a.lastIndexOf(".")))if(c=v[a])return c},setVersion:function(a,c){v[a]=c},depends:function(a,c){a&&c&&(d[a]?zk.load(c):k[a]?k[a].push(c):k[a]=[c])},afterLoad:function(a,c,b){if("string"==typeof a){if(!c)return!0;for(var e=a.split(","),f=e.length;f--;){var g=e[f].trim();if(g&&!d[g]){for(;f--;){var q=e[f].trim();if(q&&!d[q]){var k=a,n=c;c=function(){zk.afterLoad(k,n,b)};break}}r[g]?r[g].push(c):r[g]=[c];return!1}}a=c}if(a){if(zk.loading||
h.length)return(b?l:m).push(a),!1;a();return!0}},getHost:function(a,c){for(var b in t)if(a.startsWith(b))return t[b][c?1:0];return u[c?1:0]},setHost:function(a,c,b){c=a+c;if(!u.length)for(var d=document.getElementsByTagName("script"),f=0,g=d.length;f<g;++f){var e=d[f].src;if(e)if(e.startsWith(a)){u=[a,c];break}else if(0<=e.indexOf("/zk.wpd"))break}for(f=0;f<b.length;++f)t[b[f]]=[a,c]}}}());

function zkpi(d,k){return zk.isLoaded(d)?null:{n:d,p:zk.$package(d,!1,k)}}function zkpb(d,k,r,q,m,n){zkx([0,d,zk.copy(n,{dt:k,cu:r,uu:q,ru:m}),{},[]])}zkpe=zk.$void;function zkver(d,k,r,q,m,n){zk.version=d;zk.build=k;zk.contextURI=r;zk.updateURI=q;for(var t in m)zk.setVersion(t,m[t]);zk.feature||(zk.feature={standard:!0});zkopt(n)}function zkmld(d,k){if(d.superclass){var r=d.molds={},q;for(q in k){var m=k[q];r[q]="function"==typeof m?m:m[0].molds[m[1]]}}else zk.afterLoad(function(){zkmld(d,k)})}
function zkamn(d,k){zk.load(d,function(){setTimeout(function(){zk.afterMount(k)},20)})}
(function(){function d(a){var c,b={};for(c=a.length;c--;){var B=a[c];B.pked||(B.pked=!0,k(b,B[0],B[1]))}for(var y in b)c=y.lastIndexOf("."),0<=c&&zk._load(y.substring(0,c),b[y])}function k(a,b,f){var c=f[0];0===c?c=f[2].wc:1===c&&(f[0]=c="zhtml.Widget");c&&(a[c]=b);f=f[4];for(c=f.length;c--;)k(a,b,f[c])}function r(){for(;;){if(zk.loading)return zk.afterLoad(r);var c=a.shift();if(!c)break;b.push([c[0],w(c[3]||c[0],c[1],!0),c[2],c[4]]);if(x(r))return}q()}function q(){for(;;){if(a.length)return;if(zk.loading)return zk.afterLoad(q);
if(11>zk.ie&&!jq.isReady)return jq(q);var c=b.shift();if(!c)break;var e=c[1];if(c[2])e.bind(c[0]);else{var f;zk.processing&&(f=jq("#zk_proc")).length&&f.hasClass("z-loading")&&f.parent().hasClass("z-temp")&&(f[0].id="zna",jq("#zk_proc").length||zUtl.progressbox("zk_proc",window.msgzk?msgzk.PLEASE_WAIT:"Processing...",!0));e.replaceHTML("#"+e.uuid,c[0])}A(c[3])}m()}function m(){if(!a.length&&!b.length&&(zk.booted=!0,zk.mounting=!1,g(m),h&&++h.s,zk.clientinfo||zk.endProcessing(),zk.bmk.onURLChange(),
zk.pfmeter)){var c=zk.Desktop.all,e;for(e in c)zAu._pfdone(c[e],e)}}function n(){for(;;){if(zk.loading)return zk.afterLoad(n);var a=u.shift(),b;if(!a)break;if(b=a[4][1])v.$=function(a,c){return b(z(a,c))};try{var f=w(null,a[1])}finally{b&&(v.$=z)}a[4][0](f);if(x(n))return}t()}function t(){zk.mounting=!1;g(t);zAu._doCmds();g(t)}function g(a){for(var c;c=l.shift();)if(c(),zk.loading)return zk.afterLoad(a),!0}function A(a){a&&a.length&&zk._apac(function(){for(var c=0;c<a.length;c+=2)zAu.process(a[c],
a[c+1])},"f0")}function w(a,b,f){var c,e,d=b[0],h=b[1],n=b[2]||{},l=b[3]||{};if(0===d){var p=(d=zk.cut(n,"wc"))?zk.$import(d):zk.Page;(e=new p({uuid:h},zk.cut(n,"ct"))).inServer=!0;a&&a.appendChild(e,f)}else{if((p="#stub"==d)||"#stubs"==d){if(!(e=z(h)||zAu._wgt$(h)))throw"Unknown stub "+h;d=new v;(e.desktop||9===e.z_rod)&&e.unbind();zk._wgtutl.replace(e,d,p)}else{p=zk.$import(d);if(!p)throw"Unknown widget: "+d;(e=new p(zkac)).inServer=!0;e.uuid=h;(c=b[5])&&e.setMold(c)}a&&a.appendChild(e,f);if(c=
zk.cut(n,"z$is"))e.z$is=!0,e._fellows={};(c=zk.cut(n,"z$al"))&&zk.afterLoad(function(){for(var a in c)e.set(a,c[a](),!0)});(c=zk.cut(l,"z$al"))&&zk.afterLoad(function(){for(var a=0,b=c.length;a<b;a++){var f=c[a],d;for(d in f)e.set(d,f[d](),!0)}})}for(var u in n)e.set(u,n[u],!0);for(u in l)for(c=l[u],f=0,a=c.length;f<a;f++)e.set(u,c[f],!0);a=0;b=b[4];for(l=b.length;a<l;++a)w(e,b[a]);return e}function x(a){var c=jq.now(),b=c-C;if(2500<b)return C=c,b>>=6,setTimeout(a,10>b?b:10),!0}var v=zk.Widget,z=
v.$,a=[],b=[],u=[],l=[],E=[],p={},h={s:0,e:-1,f0:[],f1:[]},C=jq.now();jq(function(){h.i=setInterval(function(){var a;if(!(a=zk.booted&&!zk.mounting)){a:{var b=zk.Desktop.all;for(f in b)if(b[f].stateless){var f=!0;break a}f=void 0}a=b=f}if(a)if(b||h.s==h.e)for(clearInterval(h.i),f=h.f0.concat(h.f1),h=null;b=f.shift();)b();else h.e=h.s},25)});zk._apac=function(a,b){if(h)return h[b||"f1"].push(a);zk.afterMount(a)};zk.afterMount=function(a,b){if(a)if(jq.isReady)if(zk.mounting)l.push(a);else if(zk.loading)zk.afterLoad(a);
else{if(0>b)return a(),!0;setTimeout(a,b)}else jq(function(){zk.afterMount(a)})};zk.afterResize=function(a){a&&E.push(a)};zk.doAfterResize=function(){for(var a;a=E.shift();)a()};zk.copy(window,{zkdt:function(a,b,f,d){var c=zk.Desktop.$(a);null==c?(c=new zk.Desktop(a,b,f,d),zk.pfmeter&&zAu._pfrecv(c,a)):(null!=f&&(c.updateURI=f),null!=b&&(c.contextURI=b),null!=d&&(c.requestPath=d));return p.curdt=c},zkx:function(b,e,f,h){zk.mounting=!0;try{h&&jq.globalEval(h);h=n;var c=u,l;if(!e||!e.length){var k=
e;b&&(e=f,f=null);h=r;c=a}if(b){if(0===b[0]){var m=b[2],g=zkdt(zk.cut(m,"dt"),zk.cut(m,"cu"),zk.cut(m,"uu"),zk.cut(m,"ru"));if(l=zk.cut(m,"ow"))l=v.$(l);var q;if((q=zk.feature)&&(q.pe||q.ee)&&void 0!==zk.clientinfo){if(zAu.cmd0.clientInfo(g.uuid),e){m=[];for(g=0;g<e.length;g+=2)"clientInfo"!=e[g]&&m.push(e[g],e[g+1]);e=m}}else delete zk.clientinfo}c.push([p.curdt||(p.curdt=zk.Desktop.$()),b,p.bindOnly,l,e]);d(c)}k?setTimeout(h,0):x(h)||h();A(f)}catch(D){zk.mounting=!1,zk.error("Failed to mount: "+
(D.message||D)),setTimeout(function(){throw D;},0)}},zkx_:function(a,b,d){C=jq.now();a[1]=[b,d];zkx.apply(this,a)},zkac:function(){A(arguments)},zkmx:function(){zkmb();try{zkx.apply(window,arguments)}finally{zkme()}},zkmb:function(a){p.bindOnly=a;a=390-(jq.now()-C);zk.startProcessing(0<a?a:0)},zkme:function(){p.curdt=null;p.bindOnly=!1},zkdh:function(a,b){zk.addDataHandler("data-"+a,b)}})})(window);
jq(function(){function d(a){var b=a.target;if(b&&!b.$weave){var d=a.name,l=A[d];l&&(!zk.ios||"doTooltipOver_"!=l&&"doTooltipOut_"!=l)&&b[l].call(b,a);a.stopped||a.originalEvent&&a.originalEvent.zkstopped||b["do"+d.substring(2)+"_"].call(b,a);a.domStopped&&a.domEvent.stop()}}function k(a,b,m){zk.clickPointer[0]=a.pageX;zk.clickPointer[1]=a.pageY;b||(b=a.target);var l=a.domTarget,g=a.domEvent,p=document.body,h=zk.currentFocus,k=jq(l).position(),c=l.originalEvent,e=g.offsetX;g=g.offsetY;e=e?zk.mobile?
e-k.left:e:c?c.layerX-k.left:void 0;k=g?zk.mobile?g-k.top:g:c?c.layerY-k.top:void 0;l!=p&&l!=p.parentNode&&(!l.clientWidth&&!l.clientHeight||e<l.clientWidth&&k<l.clientHeight)&&a.pageX<p.scrollWidth&&a.pageY<p.scrollHeight&&n.mimicMouseDown_(b,m,a.which);d(a);if(h&&zk.ie){var f=jq(h)[0];f&&setTimeout(function(){try{var a=zk.currentFocus;a==h||f.offsetWidth||f.offsetHeight||(zk.focusBackFix=!0,a.focus())}catch(y){zk.debugLog(y.message||y)}finally{delete zk.focusBackFix}})}}function r(){if(g.time){var a=
jq.now();if(zk.mounting||zk.loading||a<g.time||zk.animating())setTimeout(r,10);else{g.time=null;g.lastTime=a+1E3;zAu._onClientInfo();g.inResize=!0;try{zWatch.fire("beforeSize"),zWatch.fire("onFitSize",null,{reverse:!0}),zWatch.fire("onSize"),zWatch.fire("afterSize"),g.lastTime=jq.now()+8}finally{g.inResize=!1}}}}function q(a,b){if(a.afterKeyDown_)return b.target=a,a.afterKeyDown_(b,!0)}function m(){var a=!zk.opera&&!zk.keepDesktop;if(a||zk.pfmeter){zk.rmDesktoping=!0;try{var b=zk.Desktop.all,d;for(d in b)zAu._rmDesktop(b[d],
!a)}catch(l){zk.debugLog(l.message||l)}}}var n=zk.Widget,t=[],g={},A={onClick:"doSelect_",onRightClick:"doSelect_",onMouseOver:"doTooltipOver_",onMouseOut:"doTooltipOut_"};zk.copy(zk,{beforeUnload:function(a,b){b&&b.remove?t.$remove(a):t.push(a)}});var w,x;jq(document).keydown(function(a){var b=n.$(a,{child:!0}),g=new zk.Event(b,"onKeyDown",a.keyData(),null,a);if(b)d(g),!g.stopped&&b.afterKeyDown_&&(b.afterKeyDown_(g),g.domStopped&&g.domEvent.stop());else if(zk.invokeFirstRootForAfterKeyDown)a:{b=
zk.Desktop.all;var l=zk.Page,m;for(m in b)for(var k=b[m].firstChild;k;k=k.nextSibling)if(k.$instanceof(l))for(var h=k.firstChild;h;h=h.nextSibling){if(q(h,g))break a}else if(q(k,g))break a}if(27==a.keyCode&&(0<zk._noESC||zAu.shallIgnoreESC()))return!1}).keyup(function(a){var b=zk.keyCapture;b?zk.keyCapture=null:b=n.$(a,{child:!0});d(new zk.Event(b,"onKeyUp",a.keyData(),null,a))}).keypress(function(a){var b=zk.keyCapture;b||(b=n.$(a,{child:!0}));d(new zk.Event(b,"onKeyPress",a.keyData(),null,a))}).bind("paste",
function(a){var b=zk.keyCapture;b||(b=n.$(a,{child:!0}));d(new zk.Event(b,"onPaste",a.keyData(),null,a))}).bind("zcontextmenu",function(a){zk.clickPointer[0]=a.pageX;zk.clickPointer[1]=a.pageY;var b=n.$(a,{child:!0});return b&&(11>zk.ie&&(a.which=3),b=new zk.Event(b,"onRightClick",a.mouseData(),{},a),d(b),b.domStopped)?!1:!(11>zk.ie)||a.returnValue}).bind("zmousedown",function(a){zk.mobile&&(zk.currentPointer[0]=a.pageX,zk.currentPointer[1]=a.pageY);var b=n.$(a,{child:!0});k(new zk.Event(b,"onMouseDown",
a.mouseData(),null,a),b)}).bind("zmouseup",function(a){var b=zk.Draggable.ignoreMouseUp();!0!==b&&(null!=b&&k(b,null,!0),(b=zk.mouseCapture)?zk.mouseCapture=null:b=n.$(a,{child:!0}),d(new zk.Event(b,"onMouseUp",a.mouseData(),null,a)))}).bind("zmousemove",function(a){zk.currentPointer[0]=a.pageX;zk.currentPointer[1]=a.pageY;var b=zk.mouseCapture;b||(b=n.$(a,{child:!0}));d(new zk.Event(b,"onMouseMove",a.mouseData(),null,a))}).mouseover(function(a){zk.mobile||(zk.currentPointer[0]=a.pageX,zk.currentPointer[1]=
a.pageY,d(new zk.Event(n.$(a,{child:!0}),"onMouseOver",a.mouseData(),{ignorable:1},a)))}).mouseout(function(a){d(new zk.Event(n.$(a,{child:!0}),"onMouseOut",a.mouseData(),{ignorable:1},a))}).click(function(a){zk.Draggable.ignoreClick()||zk.android&&w&&w+400>a.timeStamp&&x&&x==a.target||(w=a.timeStamp,x=a.target,zjq._fixClick(a),1==a.which&&d(new zk.Event(n.$(a,{child:!0}),"onClick",a.mouseData(),{},a)))}).bind("zdblclick",function(a){if(!zk.Draggable.ignoreClick()){var b=n.$(a,{child:!0});if(b&&1==
a.which&&(a=new zk.Event(b,"onDoubleClick",a.mouseData(),{},a),d(a),a.domStopped))return!1}}).bind((void 0!==document.hidden?"":zk.vendor_)+"visibilitychange",function(a){zAu._onVisibilityChange()});var v=function(a){if(!(zk.mounting||(a=jq.now(),g.lastTime&&a<g.lastTime||g.inResize))){var b=11>zk.ie||zk.android?250:50;g.time=a+b-1;setTimeout(r,b);zk.mobile&&zAu._cInfoReg&&(jq("#zk_proc").length||jq("#zk_showBusy").length||zUtl.progressbox("zk_proc",window.msgzk?msgzk.PLEASE_WAIT:"Processing...",
!0))}};zk.mobile?(jq(window).bind("orientationchange",v),zk.ios&&jq(window).bind("pagehide",function(){zk.unloading=!0;zk.rmDesktoping||m()})):jq(window).resize(v);jq(window).scroll(function(){zWatch.fire("onScroll")}).unload(function(){zk.unloading=!0;!zk.ie&&zk.rmDesktoping||m()});var z=window.onbeforeunload;window.onbeforeunload=function(){var a;if(!zk.skipBfUnload){if(zk.confirmClose)return zk.confirmClose;for(var b=0;b<t.length;++b)if(a=t[b]())return a}if(z&&(a=z.apply(window,arguments)))return a;
zk.unloading=!0;zk.ie||m()};zk.afterMount(function(){jq("script.z-runonce").remove()})});

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,e,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,b){a!=Array.prototype&&a!=Object.prototype&&(a[e]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,e,b,f){if(e){b=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var d=a[f];d in b||(b[d]={});b=b[d]}a=a[a.length-1];f=b[a];e=e(f);e!=f&&null!=e&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,b){var e=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===b&&(b=e.length);b=Math.max(0,Math.min(b|0,e.length));for(var d=a.length;0<d&&0<b;)if(e[--b]!=a[--d])return!1;return 0>=d}},"es6","es3");
zk.bmk=function(){function a(){var c=location.hash;var a=c.indexOf("#");c=(c=0<=a?decodeURIComponent(c.substring(a+1)):"")||p;c!=d&&(d=c,zAu.send(new zk.Event(null,"onBookmarkChange",c),1),zk.bmk.onURLChange())}function e(c){var a=c.lastIndexOf(";");0<=a&&(c=c.substring(0,a));a=c.lastIndexOf("#");0<=a&&(c=c.substring(0,a));a=c.lastIndexOf("?");0<=a&&(c=c.substring(0,a));return c}function b(a,b){a=encodeURIComponent(a);return!b&&zk.webkit||!a?a:"#"+a}function f(a,e){d!=a&&(d=a,e?location.replace(location.href.replace(/#.*/,
"")+b(a,!0)):location.hash=b(a),zk.bmk.onURLChange())}var d="",p="",h=function(){h=null;a();jq(window).on("hashchange",a);setInterval(a,250)};zk._apac(h);return{checkBookmark:a,bookmark:function(a,b){h?d=p=a:(zk.bmk.bookmark=f)(a,b)},onIframeLoaded:11>zk.ie?function(c){var b=c.indexOf("?");c=0<=b?c.substring(b+1):"";location.hash=c?"#"+c:"";a()}:zk.$void,onURLChange:function(){try{var a=window.frameElement;if(parent&&parent!=window&&a){var b=parent.location,d=location,g=b.protocol!=d.protocol||b.host!=
d.host||b.port!=d.port?d.href:d.pathname,f=g.lastIndexOf(";"),m=g.lastIndexOf("?");if(0<=f&&(0>m||f<m)){var h=g.substring(0,f);g=0>m?h:h+g.substring(m)}d.hash&&"#"!=d.hash&&(g+=d.hash);var k=jq(a);if(k.attr("z_xsrc")!=a.src){var l=a.src,n=location.pathname;k.attr("z_xsrc",l);l=e(l);n=e(n);if(l.endsWith(n)||n.endsWith(l)){k.attr("z_xurl",g);return}}parent.onIframeURLChange&&k.attr("z_xurl")!=g&&(parent.onIframeURLChange(a.id,g),k.attr("z_xurl",g))}}catch(q){zk.debugLog(q.message||q)}}}}();

zk.historystate=function(){var a="state"in window.history,b=location.href;return{onPopState:function(c){var d=!a&&location.href==b;a=!0;d||(zAu.send(new zk.Event(null,"onHistoryPopState",{state:c.originalEvent.state,url:location.href},{implicit:!0}),1),zk.bmk.checkBookmark&&zk.bmk.checkBookmark())},register:function(){jq(window).bind("popstate",this.onPopState)}}}();zk._apac(function(){zk.historystate.register()});

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(e,k,h){if(null==e)throw new TypeError("The 'this' value for String.prototype."+h+" must not be null or undefined");if(k instanceof RegExp)throw new TypeError("First argument to String.prototype."+h+" must not be a regular expression");return e+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,k,h){e!=Array.prototype&&e!=Object.prototype&&(e[k]=h.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,k,h,m){if(k){h=$jscomp.global;e=e.split(".");for(m=0;m<e.length-1;m++){var l=e[m];l in h||(h[l]={});h=h[l]}e=e[e.length-1];m=h[e];k=k(m);k!=m&&null!=k&&$jscomp.defineProperty(h,e,{configurable:!0,writable:!0,value:k})}};
$jscomp.polyfill("String.prototype.startsWith",function(e){return e?e:function(e,h){var k=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var l=k.length,q=e.length;h=Math.max(0,Math.min(h|0,k.length));for(var r=0;r<q&&h<l;)if(k[h++]!=e[r++])return!1;return r>=q}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(e){return e?e:function(e,h){var k=$jscomp.checkStringArgs(this,e,"endsWith");e+="";void 0===h&&(h=k.length);h=Math.max(0,Math.min(h|0,k.length));for(var l=e.length;0<l&&0<h;)if(k[--h]!=e[--l])return!1;return 0>=l}},"es6","es3");
(function(){function e(a){zAu.processing()||(t=[],zk.clientinfo||zk.endProcessing(a),zAu.doneTime=jq.now())}function k(a,b){for(var c=0,d=b?b.length:0;c<d;++c){var f=b[c],g=f[0];f=f[1];g?a.push({cmd:g,data:f||[]}):zAu.showError("ILLEGAL_RESPONSE","command required")}n.push(a)}function h(a,b){for(var c=b.length,d,f;c--;)if(d=b[c]&&b[c].$u){if(!(f=p.$(d)))return zk.afterMount(function(){do if(d=b[c]&&b[c].$u)b[c]=p.$(d);while(c--);m(a,b)},-1),!0;b[c]=f}}function m(a,b){if(!h(a,b)){var c=zAu.cmd1[a];
if(c){if(!b.length)return zAu.showError("ILLEGAL_RESPONSE","uuid required",a);b[0]=p.$(b[0]);if(!b[0]&&"invoke"!=a&&"addChd"!=a)return}else if(c=zAu.cmd0[a],!c)return zAu.showError("ILLEGAL_RESPONSE","Unknown",a);c.apply(zAu,b)}}function l(){var a=zAu.pendingReqInf;a&&(zAu.pendingReqInf=null,zAu.seqId==a.sid&&E(a))}function q(a){var b=a.message||a,c="";a.name&&(c=" "+a.name);return b+(c?" ("+c.substring(1)+")":c)}function r(a,b,c){if(!a){for(a=b.target.parent;!a.desktop;)a=a.parent;a=a.desktop}zAu.addAuRequest(a,
b);v(a,c)}function v(a,b){b||(b=0);a&&0<=b&&setTimeout(function(){zAu.sendNow(a)},b)}function E(a){var b=zAu.ajaxSettings,c=b.xhr();zAu.sentTime=jq.now();try{zk.ausending=!0;c.onreadystatechange=zAu._onResponseReady;c.open("POST",a.uri,!0);c.setRequestHeader("Content-Type",b.contentType);c.setRequestHeader("ZK-SID",a.sid);zAu._errCode&&(c.setRequestHeader("ZK-Error-Report",zAu._errCode),zAu._errCode=null);var d=a.forceAjax;zk.pfmeter&&zAu._pfsend(a.dt,c,!1,d);zAu.ajaxReq=c;zAu.ajaxReqInf=a;!d&&"undefined"!=
typeof zWs&&zWs.ready?zWs.send(c,a):(c.send(a.content),a.implicit||zk.startProcessing(zk.procDelay,a.sid))}catch(f){try{"function"==typeof c.abort&&c.abort()}catch(g){zk.debugLog(g.message||g)}a.ignorable||zk.unloading||(b=q(f),zAu._errCode="[Send] "+b,zAu.confirmRetry("FAILED_TO_SEND",b)&&ajaxReqResend(a))}}function L(a){var b=a.rtags||{},c;try{for(;a&&a.length;){if(zk.mounting)return!1;var d=a.shift();try{m(d.cmd,d.data)}catch(f){zk.mounting=!1,zAu.showError("FAILED_TO_PROCESS",null,d.cmd,f),c||
(c=f)}}}finally{a&&a.length||(zWatch.fire("onCommandReady",null,{timeout:-1,rtags:b}),zWatch.fire("onResponse",null,{timeout:0,rtags:b}),b.onClientInfo&&(setTimeout(zk.endProcessing,50),delete zk.clientinfo)),zk.ausending=!1,zk.doAfterAuResponse()}if(c)throw c;return!0}function z(a){jq(document.body).append(a)}function M(){zAu.cmd0.clientInfo()}function N(){zAu.send(new zk.Event(null,"dummy",null,{ignorable:!0,serverAlive:!0,rtags:{isDummy:!0},forceAjax:!0}));zk.isTimeout=!0}function F(a,b){b[a.uuid]=
a;for(a=a.firstChild;a;a=a.nextSibling)F(a,b)}function w(a,b){var c;if(a._visible&&(c=a.actions_[b]))return a.z$display="none",c}function x(a,b){if(b)return delete a.z$display,b[0].call(a,a.$n(),b[1]),!0}var G={},A=[],n=[],B,u,H=[],y,O=0,t=[],p=zk.Widget,C={0:!0,180:!0},I=jq.innerWidth()>jq.innerHeight(),J=C[window.orientation],K=[];zAu={_resetTimeout:function(){y&&(clearTimeout(y),y=null);0<zk.timeout&&(y=setTimeout(N,1E3*zk.timeout))},_onClientInfo:function(){zAu._cInfoReg&&setTimeout(M,20)},_wgt$:function(a){for(var b=
t.wgts=t.wgts||{},c;c=t.shift();)F(c,b);return b[a]},_onVisibilityChange:function(){zk.visibilitychange&&zAu.cmd0.visibilityChange()},_storeStub:function(a){a&&t.push(a)},onError:function(a){A.push(a)},unError:function(a){A.$remove(a)},confirmRetry:function(a,b){var c=msgzk[a];return jq.confirm((c?c:a)+"\n"+msgzk.TRY_AGAIN+(b?"\n\n("+b+")":""))},showError:function(a,b,c,d){var f=msgzk[a];zk.error((f?f:a)+"\n"+(b?b+": ":"")+(c||"")+(d?"\n"+q(d):""))},getErrorURI:function(a){return zAu._errURIs[""+
a]},setErrorURI:function(a,b){if(1==arguments.length)for(var c in a)zAu.setErrorURI(c,a[c]);else zAu._errURIs[""+a]=b},getPushErrorURI:function(a){return G[""+a]},setPushErrorURI:function(a,b){if(1==arguments.length)for(var c in a)zAu.setPushErrorURI(c,a[c]);else G[""+a]=b},processing:function(){return zk.mounting||n.length||zAu.ajaxReq||zAu.pendingReqInf},send:function(a,b){if(!zk.unloading||!zk.rmDesktoping){0>b&&(a.opts=zk.copy(a.opts,{defer:!0}));var c=a.target;if(c)r("zk.Desktop"==c.className?
c:c.desktop,a,b);else{c=zk.Desktop.all;for(var d in c)r(c[d],a,b)}}},sendAhead:function(a,b){var c=a.target;if(c){var d="zk.Desktop"==c.className?c:c.desktop;zAu.getAuRequests(d).unshift(a);v(d,b)}else{c=zk.Desktop.all;for(var f in c)zAu.getAuRequests(d).unshift(a),v(c[f],b)}},_rmDesktop:function(a,b){jq.ajax(zk.$default({url:zk.ajaxURI(null,{desktop:a,au:!0}),data:{dtid:a.id,cmd_0:b?"dummy":"rmDesktop",opt_0:"i"},beforeSend:function(b){zk.pfmeter&&zAu._pfsend(a,b,!0,!1)},async:!!zk.ie},zAu.ajaxSettings),
null,!0);!b&&zk.portlet2Data&&zk.portlet2Data[a.id]&&delete zk.portlet2Data[a.id]},process:function(a,b){m(a,b?jq.evalJSON(b):[])},shallIgnoreESC:function(){return zAu.ajaxReq},doCmds:function(a,b){var c=[];c.dt=zk.Desktop.$(a);k(c,b);zAu._doCmds()},_doCmds:function(a){for(var b;b=H.shift();)b();for(var c,d=0,f=u;d<n.length;++d){if(zk.mounting)return;var g=n[d];if(f==g.rid||!f||!g.rid||1<zk.Desktop._ndt){n.splice(d,1);var D=f;g.rid&&(1E3<=(f=g.rid+1)&&(f=1),u=f);try{if(L(g))d=-1,zk.pfmeter&&(b=function(){zAu._pfdone(g.dt,
g.pfIds)},zk.mounting?H.push(b):b());else{u=D;n.splice(d,0,g);return}}catch(P){c||(c=P),d=-1}}}n.length?setTimeout(function(){if(n.length&&f==u){var b=n[0].rid;for(d=1;d<n.length;++d){var c=n[d].rid,g=c-b;if(500<g||0>g&&-500<g)b=c}u=b;zAu._doCmds(a)}},3600):e(a);if(c)throw c;},beforeSend:function(a,b){var c,d;(c=b.target)&&(d=c.autag)&&(d="/"+encodeURIComponent(d),0>a.indexOf("/_/")&&((b=(b=c.desktop)?b.requestPath:"")&&"/"!=b.charAt(0)&&(b="/"+b),d="/_"+b+d),b=a.lastIndexOf(";"),a=0<=b?a.substring(0,
b)+d+a.substring(b):a+d);return a},encode:function(a,b,c){var d=b.target,f=b.opts||{},g="";zk.portlet2Data&&zk.portlet2Data[c.id]&&(g=zk.portlet2Data[c.id].namespace||"");c=a?"":g+"dtid="+c.id;c+="&"+g+"cmd_"+a+"="+b.name;!f.implicit&&!f.ignorable||f.serverAlive||(c+="&"+g+"opt_"+a+"=i");d&&"zk.Desktop"!=d.className&&(c+="&"+g+"uuid_"+a+"="+d.uuid);b=b.data;f=typeof b;if("string"==f||"number"==f||"boolean"==f||jq.isArray(b))b={"":b};b&&(c+="&"+g+"data_"+a+"="+encodeURIComponent(zAu.toJSON(d,b)));
return c},sendNow:function(a){if(zAu.disabledRequest)return!1;var b=zAu.getAuRequests(a);if(0==b.length)return!1;if(zk.mounting)return zk.afterMount(function(){zAu.sendNow(a)}),!0;if(zAu.ajaxReq||zAu.pendingReqInf)return B=!0;for(var c,d,f=0,g=b.length;f<g;++f){var e=b[f];e=e.opts||{};if(e.uri!=d){if(f)break;d=e.uri}if(!(c=e.ignorable||e.implicit||e.defer))break}try{zWatch.fire("onSend",null,c)}catch(Q){zAu.showError("FAILED_TO_SEND",null,null,Q)}var h=!0;f=0;for(g=b.length;f<g&&(e=b[f],e=e.opts||
{},e.uri==d&&(h=h&&e.ignorable));++f);var k=!1;f=0;for(g=b.length;f<g;++f)if(e=b[f],e=e.opts||{},e.forceAjax){k=!0;break}var m={},l=d||zk.ajaxURI(null,{desktop:a,au:!0}),n="undefined"!=typeof zWs&&zWs.ready;var p=!k&&n?{}:"";f=0;for(g=b.length;g;++f,--g){e=b.shift();if((e.opts||{}).uri!=d){b.unshift(e);break}l=zAu.beforeSend(l,e,a);!k&&n?zk.copy(p,zWs.encode(f,e,a)):p+=zAu.encode(f,e,a);zk.copy(m,(e.opts||{}).rtags)}zk.portlet2Data&&zk.portlet2Data[a.id]&&(l=zk.portlet2Data[a.id].resourceURL);p&&
E({sid:zAu.seqId,uri:l,dt:a,content:p,implicit:c,ignorable:h,tmout:0,rtags:m,forceAjax:k});return!0},addAuRequest:function(a,b){a._aureqs.push(b)},getAuRequests:function(a){return a._aureqs},ajaxSettings:zk.$default({global:!1,contentType:"application/x-www-form-urlencoded;charset=UTF-8"},jq.ajaxSettings),_pfrecv:function(a,b){zAu.pfAddIds(a,"_pfRecvIds",b)},_pfdone:function(a,b){zAu.pfAddIds(a,"_pfDoneIds",b)},_pfsend:function(a,b,c,d){d=!d&&"undefined"!=typeof zWs&&zWs.ready;c||(c=a.id+"-"+O++ +
"="+Math.round(jq.now()),b.setRequestHeader("ZK-Client-Start",c),d&&zWs.setRequestHeaders("ZK-Client-Start",c));if(c=a._pfRecvIds)b.setRequestHeader("ZK-Client-Receive",c),d&&zWs.setRequestHeaders("ZK-Client-Receive",c),a._pfRecvIds=null;if(c=a._pfDoneIds)b.setRequestHeader("ZK-Client-Complete",c),d&&zWs.setRequestHeaders("ZK-Client-Complete",c),a._pfDoneIds=null},createWidgets:function(a,b,c){var d=[],f=a.length;if(0<f)for(var e=0;e<f;++e)zkx_(a[e],function(a){d.push(a);d.length==f&&b(d)},c);else b(d)},
wrongValue_:function(a,b){!1!==b&&jq.alert(b)},_onResponseReady:function(){var a=zAu.ajaxReq,b=zAu.ajaxReqInf;try{if(a&&4==a.readyState){zAu.ajaxReq=zAu.ajaxReqInf=null;zk.pfmeter&&zAu._pfrecv(b.dt,zAu.pfGetIds(a));var c=a.getResponseHeader("ZK-SID");var d;if(200==(d=a.status)){if(zAu._respSuccess(a,b,c))return}else if(!(c&&c!=zAu.seqId||zAu.onResponseError(a,zAu._errCode=d))&&zAu._respFailure(a,b,d))return}}catch(f){if(zAu._respException(a,b,f))return}zAu.afterResponse(c)},_respSuccess:function(a,
b,c){if(c&&c!=zAu.seqId)return zAu._errCode="ZK-SID "+(c?"mismatch":"required"),zAu.afterResponse(),!0;var d;if((d=a.getResponseHeader("ZK-Error"))&&!zAu.onResponseError(a,d=zk.parseInt(d)||d)&&(5501==d||5502==d)&&zAu.confirmRetry("FAILED_TO_RESPONSE",5501==d?"Request out of sequence":"Activation timeout"))return zAu.ajaxReqResend(b),!0;410==d||b.rtags&&b.rtags.isDummy||b.rtags&&b.rtags.onTimer&&!zk.timerAlive||zAu._resetTimeout();zAu.pushReqCmds(b,a)&&(c&&9999<++zAu.seqId&&(zAu.seqId=1),zAu.ajaxReqTries=
0,zAu.pendingReqInf=null)},_respFailure:function(a,b,c){var d=zAu._errURIs[""+c];if("string"==typeof d)return zUtl.go(d),!0;if("function"==typeof zAu.ajaxErrorHandler){if(zAu.ajaxReqTries=zAu.ajaxErrorHandler(a,c,a.statusText,zAu.ajaxReqTries),0<zAu.ajaxReqTries)return zAu.ajaxReqTries--,zAu.ajaxReqResend(b,zk.resendTimeout),!0}else{switch(c){default:if(!zAu.ajaxReqTries)break;case 12002:case 12030:case 12031:case 12152:case 12159:case 13030:case 503:if(zAu.ajaxReqTries||(zAu.ajaxReqTries=3),--zAu.ajaxReqTries)return zAu.ajaxReqResend(b,
zk.resendTimeout),!0}if(!b.ignorable&&!zk.unloading&&(a=a.statusText,zAu.confirmRetry("FAILED_TO_RESPONSE",c+(a?": "+a:""))))return zAu.ajaxReqTries=2,zAu.ajaxReqResend(b),!0}},_respException:function(a,b,c){if(!window.zAu)return!0;zAu.ajaxReq=zAu.ajaxReqInf=null;try{a&&"function"==typeof a.abort&&a.abort()}catch(d){zk.debugLog(d.message||d)}if(b&&!b.ignorable&&!zk.unloading&&(a=q(c),zAu._errCode="[Receive] "+a,zAu.confirmRetry("FAILED_TO_RESPONSE",a&&0>a.indexOf("NOT_AVAILABLE")?a:"")))return zAu.ajaxReqResend(b),
!0},pushReqCmds:function(a,b){var c=a.dt,d=b.responseText;if(!d)return zk.pfmeter&&zAu._pfdone(c,zAu.pfGetIds(b)),!1;var f=[];f.rtags=a.rtags;zk.pfmeter&&(f.dt=c,f.pfIds=zAu.pfGetIds(b));d=jq.evalJSON(d);if(a=d.rid)a=parseInt(a),isNaN(a)||(f.rid=a);k(f,d.rs);return!0},afterResponse:function(a){zAu._doCmds(a);if(B&&!zAu.ajaxReq&&!zAu.pendingReqInf){B=!1;a=zk.Desktop.all;for(var b in a)v(a[b],0)}},toJSON:function(a,b){if(!jq.isArray(b)){null!=b.pageX&&null==b.x&&(a=a&&a.desktop?a.fromPageCoord(b.pageX,
b.pageY):[b.pageX,b.pageY],b.x=a[0],b.y=a[1]);var c,d;for(d in b)(c=b[d])instanceof DateImpl&&(b[d]="$z!t#d:"+jq.d2j(c))}return jq.toJSON(b)},ajaxReq:null,ajaxReqInf:null,ajaxReqTries:null,seqId:jq.now()%9999+1,pendingReqInf:null,_errCode:null,_errURIs:{},pfGetIds:function(a){return a.getResponseHeader("ZK-Client-Complete")},pfAddIds:function(a,b,c){c&&(c=c.trim())&&(c=c+"="+Math.round(jq.now()),a[b]=a[b]?a[b]+(","+c):c)},ajaxReqResend:function(a,b){zAu.seqId==a.sid&&(zAu.pendingReqInf=a,setTimeout(l,
b?b:0))},onResponseError:function(a,b){for(var c=A.$clone(),d;d=c.shift();)if(d(a,b))return!0}};zAu.cmd0={bookmark:function(a,b){zk.bmk.bookmark(a,b)},obsolete:function(a,b){if(b.startsWith("script:"))return $eval(b.substring(7));if(!zk._isReloadingInObsolete){var c=zk.Desktop.$(a);c&&(c=c.requestPath)&&(b=b.replace(a,c+" ("+a+")"));zAu.disabledRequest=!0;jq.alert(b,{icon:"ERROR",button:{Reload:function(){zk._isReloadingInObsolete=!0;location.reload()},Cancel:!0}})}},alert:function(a,b,c,d){d&&(zAu.disabledRequest=
!0);jq.alert(a,{icon:c||"ERROR",title:b})},redirect:function(a,b){try{zUtl.go(a,{target:b});var c;if(a&&!a.startsWith("/")&&0<=(c=a.indexOf("#"))){var d=a.substring(0,c);a.substring(c+1);var f=window.location.hash,e=window.location.href;f&&(e=e.substring(0,e.length-f.length));if(e.endsWith(d))return}b||(zAu.disabledRequest=!0)}catch(D){if(!zk.confirmClose)throw D;}},title:function(a){document.title=a},log:zk.log,script:function(a){jq.globalEval(a)},echo:function(a){a=zk.Desktop.$(a);for(var b=zAu.getAuRequests(a),
c=0,d=b.length;c<d;c++){var f=b[c];if((!f.target||f.target.$instanceof(zk.Desktop))&&"dummy"==f.name)return}zAu.send(new zk.Event(a,"dummy",null,{ignorable:!0,rtags:{isDummy:!0}}))},clientInfo:function(a){zAu._cInfoReg=!0;var b="",c=1;if(zk.mobile){if(I&&J||!I&&!J)C={"-90":!0,90:!0};b=C[window.orientation]?"portrait":"landscape"}else b=jq.innerWidth()>jq.innerHeight()?"landscape":"portrait";window.devicePixelRatio&&(c=window.devicePixelRatio);var d=[(new Date).getTimezoneOffset(),screen.width,screen.height,
screen.colorDepth,jq.innerWidth(),jq.innerHeight(),jq.innerX(),jq.innerY(),c.toFixed(1),b];b=zAu._clientInfo;b&&b.every(function(a,b){return a===d[b]})||(zAu._clientInfo=d,zAu.send(new zk.Event(zk.Desktop.$(a),"onClientInfo",zAu._clientInfo,{implicit:!0,rtags:{onClientInfo:1}})))},visibilityChange:function(a){var b=!(!document.hidden&&!document[zk.vendor_+"Hidden"]),c=document.visibilityState||document[zk.vendor_+"VisibilityState"];zAu.send(new zk.Event(zk.Desktop.$(a),"onVisibilityChange",{hidden:b,
visibilityState:c},{implicit:!0,ignorable:!0}))},download:function(a){if(a){var b=jq("#zk_download")[0];b?b.src=a:(a='<iframe src="'+a+'" id="zk_download" name="zk_download" style="display:none;width:0;height:0;border:0" frameborder="0"></iframe>',jq(document.body).append(a))}},print:function(){window.print()},scrollBy:function(a,b){window.scrollBy(a,b)},scrollTo:function(a,b){window.scrollTo(a,b)},resizeBy:function(a,b){window.resizeBy(a,b)},resizeTo:function(a,b){window.resizeTo(a,b)},moveBy:function(a,
b){window.moveBy(a,b)},moveTo:function(a,b){window.moveTo(a,b)},cfmClose:function(a){zk.confirmClose=a},showNotification:function(a,b,c,d,f,e,h,k){var g=zul&&zul.wgt?zul.wgt.Notification:null;if(g){var l={ref:d,pos:f,off:e,dur:h,type:b,closable:k};zk.delayFunction(d?d.uuid:"nouuid",function(){g.show(a,c,l)})}else jq.alert(a)},showBusy:function(a,b){1==arguments.length&&(b=a,a=null);zAu.cmd0.clearBusy(a);var c=a?p.$(a):null;a?c&&zk.delayFunction(a,function(){c.effects_.showBusy=new zk.eff.Mask({id:c.uuid+
"-shby",anchor:c.$n(),message:b})}):zUtl.progressbox("zk_showBusy",b||msgzk.PLEASE_WAIT,!0,null,{busy:!0})},clearBusy:function(a){a?zk.delayFunction(a,function(){var b=p.$(a);(b=b?b.effects_:null)&&b.showBusy&&(b.showBusy.destroy(),delete b.showBusy)}):zUtl.destroyProgressbox("zk_showBusy",{busy:!0})},clearWrongValue:function(){for(var a=arguments.length;a--;){var b=p.$(arguments[a]);b&&zk.delayFunction(b.uuid,function(a){return function(){a.clearErrorMessage?a.clearErrorMessage():zAu.wrongValue_(a,
!1)}}(b))}},wrongValue:function(){for(var a=arguments,b=0,c=a.length-1;b<c;b+=2){var d=a[b],f=a[b+1],e=p.$(d);e?zk.delayFunction(d,function(a,b){return function(){a.setErrorMessage?a.setErrorMessage(b):zAu.wrongValue_(a,b)}}(e,f)):d||jq.alert(f)}},submit:function(a){setTimeout(function(){var b=p.$(a);b&&b.submit?b.submit():zk(a).submit()},50)},scrollIntoView:function(a){if(a){var b=p.$(a);if(b)zk.delayFunction(b.uuid,function(){b.scrollIntoView()});else{var c=zk(a);c.$()&&zk.delayFunction(c.$().uuid,
function(){c.scrollIntoView()})}}},loadScript:function(a,b,c){jq.ajax({dataType:"script",cache:c,url:a}).done(function(){jq.isFunction(b)?b():jq.globalEval(b)})},loadCSS:zk.loadCSS,historyState:function(a,b,c,d){a&&window.history.replaceState&&window.history.replaceState(b,c,d);!a&&window.history.pushState&&window.history.pushState(b,c,d)},syncAllErrorbox:function(){jq(".z-errorbox").toArray().forEach(function(a){a=jq(a).zk.$();a.reposition();a._fixarrow()})}};zAu.cmd1={setAttr:function(a,b,c){a&&
("z$al"==b?zk.afterLoad(function(){for(b in c)a.set(b,c[b](),!0)}):(a.rerenderNow_(null),a.set(b,c,!0)))},outer:function(a,b){zkx_(b,function(b){var c=w(b,"invalidate");a.replaceWidget(b);x(b,c)},function(b){for(var c=b;c;c=c.parent)if(c==a)return null;return b})},addAft:function(a){for(var b=function(b){var c=a.parent,d=w(b,"show");c?(c.insertBefore(b,a.nextSibling),c.$instanceof(zk.Desktop)&&z(b)):(c=a.$n())?jq(c).after(b,a.desktop):z(b);x(b,d)||b.z_rod||zUtl.fireSized(b)},c=arguments,d=c.length;--d;)zkx_(c[d],
b)},addBfr:function(a){for(var b=function(b){var c=w(b,"show");a.parent.insertBefore(b,a);x(b,c)||b.z_rod||zUtl.fireSized(b)},c=arguments,d=1;d<c.length;++d)zkx_(c[d],b)},addChd:function(a){if(a)for(var b=function(b){var c=w(b,"show"),d=a.shallFireSizedLaterWhenAddChd_();a.appendChild(b);x(b,c)||b.z_rod||d||zUtl.fireSized(b)},c=arguments,d=1;d<c.length;++d)zkx_(c[d],b);else for(c=arguments,d=1;d<c.length;++d)zkx_(c[d],z)},rm:function(a){a&&(a.detach(),t.push(a))},uuid:function(a,b){a&&zk._wgtutl.setUuid(a,
b)},focus:function(a){a&&setTimeout(function(){zk.afterAnimate(function(){zk.ie9_?a.focus(100):a.focus(0)},-1)})},select:function(a,b,c){a.select&&a.select(b,c)},invoke:function(a,b){for(var c=[],d=arguments.length;1<--d;)c.unshift(arguments[d]);a?a[b].apply(a,c):((d=zk.$import(b))||zk.error("not found: "+b),d.apply(null,c))},echo2:function(a,b,c){zAu.send(new zk.Event(a,"echo",null!=c?[b,c]:[b],{ignorable:!0}))},resizeWgt:function(a){zUtl.fireSized(a,1)},syncErrorbox:function(a){a._errbox&&(a._errbox.reposition(),
a._errbox._fixarrow())}};zk.afterAuResponse=function(a){a&&K.push(a)};zk.doAfterAuResponse=function(){for(var a;a=K.shift();)a()}})();function onIframeURLChange(e,k){zk.unloading||(e=zk.Widget.$(e))&&e.fire("onURIChange",k)};

(function(){function F(b,a,d){var n=b.jq,r=n.prev(),h=[0,0];if(r.length){var y=r[0].style;if(zk(r[0]).isRealVisible()){var t=n[0].style;var u={};var v={};a=["marginTop","marginBottom","marginLeft","marginRight"];for(d=a.length;0<d--;)u[a[d]]=t[a[d]],v[a[d]]=y[a[d]],t[a[d]]=y[a[d]]="0px";a=r.zk.revisedOffset();h[0]=a[0]+r.zk.offsetWidth();h[1]=a[1]+r.zk.offsetHeight()}else return h}else h[0]=d[0]+a.sumStyles("l",jq.paddings)+a.sumStyles("l",jq.borders),h[1]=d[1]+a.sumStyles("t",jq.paddings)+a.sumStyles("t",
jq.borders);a=b.revisedOffset();h[0]=a[0]-h[0];h[1]=a[1]-h[1];zk.copy(t,u);zk.copy(y,v);return[Math.max(0,h[0]),Math.max(0,h[1])]}function D(b,a,d){if(d)return d=b._hgh||(b._hgh=b.top+b.height),b=b._wdh||(b._wdh=b.left+b.width),10!=zk.ie?a.top>=d||a.left<b:Math.round(a.top)>=d||Math.round(a.left)<b;d=b._hgh||(b._hgh=b.top+b.height);b=b._wdh||(b._wdh=b.left+b.width);return 10!=zk.ie?a.left>=b||a.top<d:Math.round(a.left)>=b||Math.round(a.top)<d}function E(b){if(b){var a="_vflexsz";var d="height";var n=
"_vflex";var r="offsetHeight";var h="marginHeight";var y="_maxFlexHeight";var t="_sumFlexHeight";var u=1;var v="getContentEdgeHeight_"}else a="_hflexsz",d="width",n="_hflex",r="offsetWidth",h="marginWidth",y="_maxFlexWidth",t="_sumFlexWidth",u=0,v="getContentEdgeWidth_";return function(e,c,f,q){var p,x,l,k;if(void 0===e[a]){var g=e.firstChild;var w=zk(c);var m=0;if(null!=q)m=q;else{q={};q[d]="auto";e.setFlexSize_(q,!0);var B=q=0;if(g&&g.desktop){for(l=g;l&&l.ignoreFlexSize_(f);)l=l.nextSibling;for(;g;g=
g.nextSibling)if(!g.ignoreFlexSize_(f)&&(k=g.$n())&&(c=k.style.position,"absolute"!=c&&"fixed"!=c)){var z=zk(k);c=0;"min"==g[n]?z.isVisible()&&(c+=void 0===g[a]?zFlex.fixMinFlex(g,k,f):g[a]):(g.beforeParentMinFlex_(f),c+=e.getChildMinSize_(f,g)+z[h]());g[y]&&c>B?B=c:g[t]?q+=c:!g[y]&&l!=g&&D(x||(x=zk(l).dimension(!0)),z.dimension(!0),b)?m+=c:c>m&&(m=c)}}else if(k=c.firstChild)for(g=e.ignoreChildNodeOffset_(f),l=k;k;k=k.nextSibling){var C=3==k.nodeType;if(!C&&(c=k.style.position,"absolute"==c||"fixed"==
c))continue;z=zk(k);c=0;if(g)for(var A=k.firstChild;A;A=A.nextSibling)(p=A&&3==A.nodeType?A.nodeValue:null)?(p=z.textSize(p),p[1]>c&&(c=p[1])):(p=zk(A)).isVisible()&&(p=p[r]()+p[h](),p>c&&(c=p));else c=C?k.nodeValue?w.textSize(k.nodeValue)[u]:0:z[r]()+z[h]();C?c>m&&(m=c):(z=z.dimension(!0),D(x||(x=zk(l).dimension(!0)),z,b)?m+=c:c>m&&(m=c))}else m=w[r]();B&&(q+=B);q>m&&(m=q)}x=e.getMarginSize_(f);zk.webkit&&0>x&&(x=0);q={};w=e.$n();m=zk.isLoaded("zul.wgt")&&e.$instanceof(zul.wgt.Caption)&&0<e.nChildren?
zk(e.$n("cave"))[r]():m;q[d]=m+e[v](m);p=e.setFlexSize_(q,!0);(c={height:w.offsetHeight,width:p&&p.width||w.offsetWidth},0<=c[d])&&(e[a]=c[d]+x);(m=e.ebody)&&"min"==e[n]&&(e[a]+=zk(m)[b?"hasHScroll":"hasVScroll"]()?jq.scrollbarWidth():0);e.afterChildrenMinFlex_(f);e.parent&&"min"!=e.parent[n]&&e.parent.afterChildMinFlexChanged_(e,f)}return e[a]}}function G(){return 0}var H=E(!0),I=E();zFlex={beforeSize:function(b,a,d){var n;d&&this.clearCachedSize_();!zk.mounting&&this.isRealVisible()&&(this._hflex&&
"min"!=this._hflex&&(this.resetSize_("w"),delete this._flexFixed,(n=this.parent)&&n.afterResetChildSize_("w")),this._vflex&&"min"!=this._vflex&&(this.resetSize_("h"),delete this._flexFixed,(n=this.parent)&&n.afterResetChildSize_("h")))},onSize:function(){zFlex.fixFlex(this)},fixFlex:function(b){var a;if(b._flexFixed||!b._nvflex&&!b._nhflex)delete b._flexFixed;else if(!((void 0===b._vflex||b._vflexsz&&"min"==b._vflex)&&(void 0===b._hflex||b._hflexsz&&"min"==b._hflex)||b.ignoreFlexSize_("w")&&b.ignoreFlexSize_("h"))&&
b.parent.beforeChildrenFlex_(b)){b._flexFixed=!0;var d=!1,n=[],r=0,h=[],y=0,t=b.$n().parentNode,u=zk(t),v=b.getParentSize_(t),e=v.height,c=v.width,f=t.firstChild,q=[],p=u.hasVScroll(),x=u.hasHScroll();p&&(c-=a=jq.scrollbarWidth());for(x&&(e-=a||jq.scrollbarWidth());f&&3==f.nodeType;f=f.nextSibling);for(var l;f;f=f.nextSibling)if(3===f.nodeType)d=!0;else if(a=f.style.position,"absolute"!=a&&"fixed"!=a){var k=zk(f);if(k.isVisible(!0)){var g=k.offsetHeight(),w=0<g?k.offsetWidth():0;a=zk.Widget.$(f,{exact:1});
var m=zk.isLoaded("zul.mesh");if(!(a&&m&&a.$instanceof(zul.mesh.Auxheader))){0==w&&a&&m&&a.$instanceof(zul.mesh.HeaderWidget)&&(w=(w=a.$n("hdfaker"))?zk.parseInt(w.style.width)||w.offsetWidth:0);d&&(l||(l=u.revisedOffset()),d=F(k,u,l),a&&a.isExcludedHflex_()||(c-=d[0]),a&&a.isExcludedVflex_()||(e-=d[1]));if(a&&a._nhflex)a!==b&&(a._flexFixed=!0),"min"==a._hflex?c-=zFlex.fixMinFlex(a,f,"w"):(h.push(a),y+=a._nhflex);else if(!(a||zk.isLoaded("zul.wnd")&&b.$instanceof(zul.wnd.Panelchildren))||a&&!a.isExcludedHflex_())c-=
w,c-=k.marginWidth();a&&a._nvflex?(a!==b&&(a._flexFixed=!0),"min"==a._vflex?e-=zFlex.fixMinFlex(a,f,"h"):(n.push(a),q.push(a),r+=a._nvflex)):a&&a.isExcludedVflex_()||(e-=g,e-=k.marginHeight());d=!1}}}f=function(a,b,d){for(var c,e=a.length-1;0<e;--e){c=a.shift();var f=c.isExcludedVflex_()?b:c._nvflex*b/r|0;c.setFlexSize_({height:f});c._vflexsz=f;c.isExcludedVflex_()||(d-=f)}a.length&&(c=a.shift(),c.setFlexSize_({height:d}),c._vflexsz=d)};l=e=Math.max(e,0);f(n,e,l);n=b.getParentSize_(t);n.width>v.width&&
(c+=n.width-v.width);l=c=Math.max(c,0);for(t=h.length-1;0<t;--t)a=h.shift(),d=a.isExcludedHflex_()?c:a._nhflex*c/y|0,a.setFlexSize_({width:d}),a._hflexsz=d,a.isExcludedHflex_()||(l-=d);h.length&&(a=h.shift(),a.setFlexSize_({width:l}),a._hflexsz=l);n.height>v.height&&(e+=n.height-v.height,l=e=Math.max(e,0),f(q,e,l));b.parent.afterChildrenFlex_(b);b._flexFixed=!1;u.hasVScroll()==p&&u.hasHScroll()==x||zFlex.fixFlex(b)}},onFitSize:function(){var b=this.$n();b&&zk(b).isVisible()&&("min"==this._hflex&&
void 0===this._hflexsz&&this.isRealVisible()&&!this.ignoreFlexSize_("w")&&zFlex.fixMinFlex(this,b,"w"),"min"==this._vflex&&void 0===this._vflexsz&&this.isRealVisible()&&!this.ignoreFlexSize_("h")&&zFlex.fixMinFlex(this,b,"h"))},fixMinFlex:function(b,a,d){return("h"==d?H:"w"==d?I:G)(b,a,d,b.beforeMinFlex_(d))}}})();

var Dates={newInstance:function(a,c){c=c?parseTzId(c):zk.mm.tz.guess();if(0==arguments.length)var b=zk.mm();else"number"==typeof a?b=zk.mm(a):a instanceof DateImpl?(b=zk.mm(a._moment),c=a._timezone):a instanceof Array&&(b=new Date(Date.UTC.apply(null,a)),b=zk.mm.tz([b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds()],c));return new DateImpl(b,c)}};function DateImpl(a,c){this._moment=a;this._timezone=c}
function parseTzId(a){return/^GMT\+([0]\d|[1][0-2]):[0]{2}$/i.test(a)?"Etc/GMT-"+parseInt(a.substring(4,6)):/^GMT-([0]\d|[1][0-4]):[0]{2}$/i.test(a)?"Etc/GMT+"+parseInt(a.substring(4,6)):a}
DateImpl.prototype={tz:function(a){a&&(this._timezone=parseTzId(a));return this},_getTzMoment:function(){return this._moment.tz(this._timezone)},_getUTCMoment:function(){return this._moment.tz("UTC")},getTimeZone:function(){return this._timezone},getDate:function(){return this._getTzMoment().date()},getDay:function(){return this._getTzMoment().day()},getFullYear:function(){return this._getTzMoment().year()},getHours:function(){return this._getTzMoment().hour()},getMilliseconds:function(){return this._getTzMoment().millisecond()},
getMinutes:function(){return this._getTzMoment().minute()},getMonth:function(){return this._getTzMoment().month()},getSeconds:function(){return this._getTzMoment().second()},getTime:function(){return this._moment.valueOf()},getTimezoneOffset:function(){return-this._getTzMoment().utcOffset()},getUTCDate:function(){return this._getUTCMoment().date()},getUTCDay:function(){return this._getUTCMoment().day()},getUTCFullYear:function(){return this._getUTCMoment().year()},getUTCHours:function(){return this._getUTCMoment().hour()},
getUTCMilliseconds:function(){return this._getUTCMoment().millisecond()},getUTCMinutes:function(){return this._getUTCMoment().minute()},getUTCMonth:function(){return this._getUTCMoment().month()},getUTCSeconds:function(){return this._getUTCMoment().second()},getYear:function(){return this._getTzMoment().year()-1900},setDate:function(a){return this._getTzMoment().date(a).valueOf()},setFullYear:function(a,c,b){var d=this._getTzMoment();d.year(a);null!=c&&(d.month(c),null!=b&&d.date(b));return d.valueOf()},
setHours:function(a,c,b,d){var e=this._getTzMoment();e.hour(a);null!=c&&(e.minute(c),null!=b&&(e.second(b),null!=d&&e.millisecond(d)));return e.valueOf()},setMilliseconds:function(a){return this._getTzMoment().millisecond(a).valueOf()},setMinutes:function(a){return this._getTzMoment().minute(a).valueOf()},setMonth:function(a){return this._getTzMoment().month(a).valueOf()},setSeconds:function(a){return this._getTzMoment().second(a).valueOf()},setTime:function(a){this._moment=zk.mm(a);return this._moment.valueOf()},
setUTCDate:function(a){return this._getUTCMoment().date(a).valueOf()},setUTCFullYear:function(a){return this._getUTCMoment().year(a).valueOf()},setUTCHours:function(a){return this._getUTCMoment().hour(a).valueOf()},setUTCMilliseconds:function(a){return this._getUTCMoment().millisecond(a).valueOf()},setUTCMinutes:function(a){return this._getUTCMoment().minute(a).valueOf()},setUTCMonth:function(a){return this._getUTCMoment().month(a).valueOf()},setUTCSeconds:function(a){return this._getUTCMoment().second(a).valueOf()},
setYear:function(a){return this._getTzMoment().year(a).valueOf()},toString:function(){return this._getTzMoment().toString()},valueOf:function(){return this._moment.valueOf()}};

(function(g){function e(a){return 10>a?"0"+a:a}function m(a){h.lastIndex=0;return h.test(a)?'"'+a.replace(h,function(a){var c=n[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function k(a,c){var f,e=d,b=c[a];b&&"object"===typeof b&&"function"===typeof b.toJSON&&(b=b.toJSON(a));"function"===typeof l&&(b=l.call(c,a,b));switch(typeof b){case "string":return m(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);
case "object":if(!b)return"null";a=[];if("[object Array]"===Object.prototype.toString.apply(b)){c=b.length;for(f=0;f<c;f+=1)a[f]=k(f,b)||"null";c=0===a.length?"[]":d?"[\n"+d+a.join(",\n"+d)+"\n"+e+"]":"["+a.join(",")+"]";d=e;return c}for(f in b)Object.hasOwnProperty.call(b,f)&&(c=k(f,b))&&a.push(m(f)+(d?": ":":")+c);c=0===a.length?"{}":d?"{\n"+d+a.join(",\n"+d)+"\n"+e+"}":"{"+a.join(",")+"}";d=e;return c}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return this.valueOf()?
this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;g.toJSON=function(a,
c){d="";l=c;return k("",{"":a})};g.evalJSON=function(a){return(new Function("return ("+a+")"))()};g.j2d=function(a){if(null==a)return null;a=a.split(".");return Dates.newInstance([parseInt(a[0],10),parseInt(a[1])-1,parseInt(a[2]),parseInt(a[3]),parseInt(a[4]),parseInt(a[5]),parseInt(a[6])],"UTC")};g.d2j=function(a){return a?[a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()].join("."):null}})(jq);

(function(d){function e(a){var b=a||window.event,c=[].slice.call(arguments,1),f=0,e=0;a=d.event.fix(b);a.type="mousewheel";b.wheelDelta&&(f=b.wheelDelta/120);b.detail&&(f=-b.detail/3);var g=f;void 0!==b.axis&&b.axis===b.HORIZONTAL_AXIS&&(g=0,e=-1*f);void 0!==b.wheelDeltaY&&(g=b.wheelDeltaY/120);void 0!==b.wheelDeltaX&&(e=(zk.safari_?1:-1)*b.wheelDeltaX/120);c.unshift(a,f,e,g);return(d.event.dispatch||d.event.handle).apply(this,c)}var c=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks)for(var h=
c.length;h;)d.event.fixHooks[c[--h]]=d.event.mouseHooks;d.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],e,!1);else this.onmousewheel=null}};d.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",
a)}})})(jq);

/*
 jQuery Transit - CSS3 transitions and transformations
 (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>
 MIT Licensed.

 http://ricostacruz.com/jquery.transit
 http://github.com/rstacruz/jquery.transit
*/
(function(c){function n(a){if(a in k.style)return a;var b=["Moz","Webkit","O","ms"],e=a.charAt(0).toUpperCase()+a.substr(1);if(a in k.style)return a;for(a=0;a<b.length;++a){var c=b[a]+e;if(c in k.style)return c}}function m(a){"string"===typeof a&&this.parse(a);return this}function t(a,b,e){!0===b?a.queue(e):b?a.queue(b,e):e()}function v(a){var b=[];c.each(a,function(a){a=c.camelCase(a);a=c.transit.propertyMap[a]||c.cssProps[a]||a;a=w(a);-1===c.inArray(a,b)&&b.push(a)});return b}function u(a,b,e,d){a=
v(a);c.cssEase[e]&&(e=c.cssEase[e]);var h=""+q(b)+" "+e;0<parseInt(d,10)&&(h+=" "+q(d));var p=[];c.each(a,function(a,b){p.push(b+" "+h)});return p.join(", ")}function f(a,b){b||(c.cssNumber[a]=!0);c.transit.propertyMap[a]=d.transform;c.cssHooks[a]={get:function(b){return c(b).css("transit:transform").get(a)},set:function(b,d){var e=c(b).css("transit:transform");e.setFromString(a,d);c(b).css({"transit:transform":e})}}}function w(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}
function g(a,b){return"string"!==typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function q(a){c.fx.speeds[a]&&(a=c.fx.speeds[a]);return g(a,"ms")}c.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var k=document.createElement("div"),d={},x=-1<navigator.userAgent.toLowerCase().indexOf("chrome");d.transition=n("transition");
d.transitionDelay=n("transitionDelay");d.transform=n("transform");d.transformOrigin=n("transformOrigin");k.style[d.transform]="";k.style[d.transform]="rotateY(90deg)";d.transform3d=""!==k.style[d.transform];var r=d.transitionEnd={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[d.transition]||null,l;for(l in d)d.hasOwnProperty(l)&&"undefined"===typeof c.support[l]&&(c.support[l]=d[l]);k=null;
c.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",
easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",
easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};c.cssHooks["transit:transform"]={get:function(a){return c(a).data("transform")||new m},set:function(a,b){b instanceof m||(b=new m(b));a.style[d.transform]="WebkitTransform"!==d.transform||x?b.toString():b.toString(!0);c(a).data("transform",b)}};c.cssHooks.transform={set:c.cssHooks["transit:transform"].set};"1.8">c.fn.jquery&&(c.cssHooks.transformOrigin={get:function(a){return a.style[d.transformOrigin]},
set:function(a,b){a.style[d.transformOrigin]=b}},c.cssHooks.transition={get:function(a){return a.style[d.transition]},set:function(a,b){a.style[d.transition]=b}});f("scale");f("translate");f("rotate");f("rotateX");f("rotateY");f("rotate3d");f("perspective");f("skewX");f("skewY");f("x",!0);f("y",!0);m.prototype={setFromString:function(a,b){b="string"===typeof b?b.split(","):b.constructor===Array?b:[b];b.unshift(a);m.prototype.set.apply(this,b)},set:function(a){var b=Array.prototype.slice.apply(arguments,
[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=g(a,"deg")},rotateX:function(a){this.rotateX=g(a,"deg")},rotateY:function(a){this.rotateY=g(a,"deg")},scale:function(a,b){void 0===b&&(b=a);this.scale=a+","+b},skewX:function(a){this.skewX=g(a,"deg")},skewY:function(a){this.skewY=g(a,"deg")},perspective:function(a){this.perspective=g(a,"px")},x:function(a){this.set("translate",
a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0);void 0===this._translateY&&(this._translateY=0);null!==a&&void 0!==a&&(this._translateX=g(a,"px"));null!==b&&void 0!==b&&(this._translateY=g(b,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");a[0]&&(a[0]=parseFloat(a[0]));
a[1]&&(a[1]=parseFloat(a[1]));return a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));a[3]&&(a[3]=g(a[3],"deg"));return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[],c;for(c in this)this.hasOwnProperty(c)&&(d.transform3d||"rotateX"!==c&&"rotateY"!==c&&"perspective"!==c&&"transformOrigin"!==c)&&"_"!==c[0]&&(a&&"scale"===c?
b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"));return b.join(" ")}};c.fn.transition=c.fn.transit=function(a,b,e,f){var h=this,g=0,k=!0;"function"===typeof b&&(f=b,b=void 0);"function"===typeof e&&(f=e,e=void 0);"undefined"!==typeof a.easing&&(e=a.easing,delete a.easing);"undefined"!==typeof a.duration&&(b=a.duration,delete a.duration);"undefined"!==typeof a.complete&&(f=a.complete,delete a.complete);"undefined"!==typeof a.queue&&(k=a.queue,
delete a.queue);"undefined"!==typeof a.delay&&(g=a.delay,delete a.delay);"undefined"===typeof b&&(b=c.fx.speeds._default);"undefined"===typeof e&&(e=c.cssEase._default);b=q(b);var m=u(a,b,e,g),l=c.transit.enabled&&d.transition?parseInt(b,10)+parseInt(g,10):0;if(0===l)return t(h,k,function(b){h.css(a);f&&f.apply(h);b&&b()}),h;var n={},p=function(b){var e=!1,g=function(){e&&h.unbind(r,g);0<l&&h.each(function(){this.style[d.transition]=n[this]||null});"function"===typeof f&&f.apply(h);"function"===typeof b&&
b()};0<l&&r&&c.transit.useTransitionEnd?(e=!0,h.bind(r,g)):window.setTimeout(g,l);h.each(function(){0<l&&(this.style[d.transition]=m);c(this).css(a)})};t(h,k,function(a){this.offsetWidth;p(a)});return this};c.transit.getTransitionValue=u})(jq);

if (!zk.mm) { var temp; if (window.moment) { temp = window.moment; }(function(g,B){"object"===typeof exports&&"undefined"!==typeof module?module.exports=B():"function"===typeof define&&define.amd?define(B):g.moment=B()})(this,function(){function g(){return dc.apply(null,arguments)}function B(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function ka(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function ec(a){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(a).length;for(var b in a)if(a.hasOwnProperty(b))return!1;
return!0}function z(a){return void 0===a}function da(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}function ta(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function kb(a,b){var c=[],d;for(d=0;d<a.length;++d)c.push(b(a[d],d));return c}function u(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function R(a,b){for(var c in b)u(b,c)&&(a[c]=b[c]);u(b,"toString")&&(a.toString=b.toString);u(b,"valueOf")&&(a.valueOf=b.valueOf);
return a}function J(a,b,c,d){return lb(a,b,c,d,!0).utc()}function n(a){null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1});return a._pf}function Ka(a){if(null==a._isValid){var b=n(a),c=fc.call(b.parsedDateParts,function(a){return null!=a});c=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&
!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);a._strict&&(c=c&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour);if(null!=Object.isFrozen&&Object.isFrozen(a))return c;a._isValid=c}return a._isValid}function ua(a){var b=J(NaN);null!=a?R(n(b),a):n(b).userInvalidated=!0;return b}function La(a,b){var c;z(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject);z(b._i)||(a._i=b._i);z(b._f)||(a._f=b._f);z(b._l)||(a._l=b._l);z(b._strict)||
(a._strict=b._strict);z(b._tzm)||(a._tzm=b._tzm);z(b._isUTC)||(a._isUTC=b._isUTC);z(b._offset)||(a._offset=b._offset);z(b._pf)||(a._pf=n(b));z(b._locale)||(a._locale=b._locale);if(0<Ma.length)for(c=0;c<Ma.length;c++){var d=Ma[c];var f=b[d];z(f)||(a[d]=f)}return a}function la(a){La(this,a);this._d=new Date(null!=a._d?a._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Na&&(Na=!0,g.updateOffset(this),Na=!1)}function S(a){return a instanceof la||null!=a&&null!=a._isAMomentObject}function D(a){return 0>
a?Math.ceil(a)||0:Math.floor(a)}function m(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=D(a));return b}function mb(a,b,c){var d=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),nb=0,e;for(e=0;e<d;e++)(c&&a[e]!==b[e]||!c&&m(a[e])!==m(b[e]))&&nb++;return nb+f}function pb(a){!1===g.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function E(a,b){var c=!0;return R(function(){null!=g.deprecationHandler&&g.deprecationHandler(null,a);if(c){for(var d=
[],f,e=0;e<arguments.length;e++){f="";if("object"===typeof arguments[e]){f+="\n["+e+"] ";for(var ob in arguments[0])f+=ob+": "+arguments[0][ob]+", ";f=f.slice(0,-2)}else f=arguments[e];d.push(f)}pb(a+"\nArguments: "+Array.prototype.slice.call(d).join("")+"\n"+Error().stack);c=!1}return b.apply(this,arguments)},b)}function qb(a,b){null!=g.deprecationHandler&&g.deprecationHandler(a,b);rb[a]||(pb(b),rb[a]=!0)}function K(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}
function sb(a,b){var c=R({},a),d;for(d in b)u(b,d)&&(ka(a[d])&&ka(b[d])?(c[d]={},R(c[d],a[d]),R(c[d],b[d])):null!=b[d]?c[d]=b[d]:delete c[d]);for(d in a)u(a,d)&&!u(b,d)&&ka(a[d])&&(c[d]=R({},c[d]));return c}function Oa(a){null!=a&&this.set(a)}function A(a,b){var c=a.toLowerCase();ma[c]=ma[c+"s"]=ma[b]=a}function F(a){return"string"===typeof a?ma[a]||ma[a.toLowerCase()]:void 0}function Pa(a){var b={},c,d;for(d in a)u(a,d)&&(c=F(d))&&(b[c]=a[d]);return b}function gc(a){var b=[],c;for(c in a)b.push({unit:c,
priority:y[c]});b.sort(function(a,b){return a.priority-b.priority});return b}function N(a,b,c){var d=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-d.length)).toString().substr(1)+d}function l(a,b,c,d){var f=d;"string"===typeof d&&(f=function(){return this[d]()});a&&(ea[a]=f);b&&(ea[b[0]]=function(){return N(f.apply(this,arguments),b[1],b[2])});c&&(ea[c]=function(){return this.localeData().ordinal(f.apply(this,arguments),a)})}function hc(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,
""):a.replace(/\\/g,"")}function ic(a){var b=a.match(tb),c;var d=0;for(c=b.length;d<c;d++)b[d]=ea[b[d]]?ea[b[d]]:hc(b[d]);return function(d){var f="",e;for(e=0;e<c;e++)f+=K(b[e])?b[e].call(d,a):b[e];return f}}function Qa(a,b){if(!a.isValid())return a.localeData().invalidDate();b=ub(b,a.localeData());Ra[b]=Ra[b]||ic(b);return Ra[b](a)}function ub(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(va.lastIndex=0;0<=d&&va.test(a);)a=a.replace(va,c),va.lastIndex=0,--d;return a}function h(a,
b,c){Sa[a]=K(b)?b:function(a,f){return a&&c?c:b}}function jc(a,b){return u(Sa,a)?Sa[a](b._strict,b._locale):new RegExp(kc(a))}function kc(a){return Y(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,d,f,e){return c||d||f||e}))}function Y(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(a,b){var c,d=b;"string"===typeof a&&(a=[a]);da(b)&&(d=function(a,c){c[b]=m(a)});for(c=0;c<a.length;c++)Ta[a[c]]=d}function na(a,b){q(a,function(a,d,f,e){f._w=f._w||{};b(a,
f._w,f,e)})}function T(a){return 0===a%4&&0!==a%100||0===a%400}function fa(a,b){return function(c){return null!=c?(vb(this,a,c),g.updateOffset(this,b),this):wa(this,a)}}function wa(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function vb(a,b,c){if(a.isValid()&&!isNaN(c))if("FullYear"===b&&T(a.year())&&1===a.month()&&29===a.date())a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),xa(c,a.month()));else a._d["set"+(a._isUTC?"UTC":"")+b](c)}function xa(a,b){if(isNaN(a)||isNaN(b))return NaN;
var c=(b%12+12)%12;return 1===c?T(a+(b-c)/12)?29:28:31-c%7%2}function wb(a,b){if(!a.isValid())return a;if("string"===typeof b)if(/^\d+$/.test(b))b=m(b);else if(b=a.localeData().monthsParse(b),!da(b))return a;var c=Math.min(a.date(),xa(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function xb(a){return null!=a?(wb(this,a),g.updateOffset(this,!0),this):wa(this,"Month")}function yb(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],f;for(f=0;12>f;f++){var e=J([2E3,f]);
b.push(this.monthsShort(e,""));c.push(this.months(e,""));d.push(this.months(e,""));d.push(this.monthsShort(e,""))}b.sort(a);c.sort(a);d.sort(a);for(f=0;12>f;f++)b[f]=Y(b[f]),c[f]=Y(c[f]);for(f=0;24>f;f++)d[f]=Y(d[f]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+d.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+b.join("|")+")","i")}function lc(a,b,c,d,f,e,g){b=new Date(a,b,c,d,f,e,g);100>a&&0<=a&&isFinite(b.getFullYear())&&
b.setFullYear(a);return b}function oa(a){var b=new Date(Date.UTC.apply(null,arguments));100>a&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a);return b}function ya(a,b,c){c=7+b-c;return-((7+oa(a,0,c).getUTCDay()-b)%7)+c-1}function zb(a,b,c,d,f){c=(7+c-d)%7;d=ya(a,d,f);d=1+7*(b-1)+c+d;0>=d?(b=a-1,a=(T(b)?366:365)+d):d>(T(a)?366:365)?(b=a+1,a=d-(T(a)?366:365)):(b=a,a=d);return{year:b,dayOfYear:a}}function pa(a,b,c){var d=ya(a.year(),b,c);d=Math.floor((a.dayOfYear()-d-1)/7)+1;1>d?(a=a.year()-
1,b=d+Z(a,b,c)):d>Z(a.year(),b,c)?(b=d-Z(a.year(),b,c),a=a.year()+1):(a=a.year(),b=d);return{week:b,year:a}}function Z(a,b,c){var d=ya(a,b,c);b=ya(a+1,b,c);return((T(a)?366:365)-d+b)/7}function mc(a,b,c){var d;a=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;7>d;++d){var f=J([2E3,1]).day(d);this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase();this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase();
this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase()}if(c)b="dddd"===b?v.call(this._weekdaysParse,a):"ddd"===b?v.call(this._shortWeekdaysParse,a):v.call(this._minWeekdaysParse,a);else if("dddd"===b){b=v.call(this._weekdaysParse,a);if(-1!==b)return b;b=v.call(this._shortWeekdaysParse,a);if(-1!==b)return b;b=v.call(this._minWeekdaysParse,a)}else if("ddd"===b){b=v.call(this._shortWeekdaysParse,a);if(-1!==b)return b;b=v.call(this._weekdaysParse,a);if(-1!==b)return b;b=v.call(this._minWeekdaysParse,
a)}else{b=v.call(this._minWeekdaysParse,a);if(-1!==b)return b;b=v.call(this._weekdaysParse,a);if(-1!==b)return b;b=v.call(this._shortWeekdaysParse,a)}return-1!==b?b:null}function Ua(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],f=[],e;for(e=0;7>e;e++){var g=J([2E3,1]).day(e);var h=this.weekdaysMin(g,"");var l=this.weekdaysShort(g,"");g=this.weekdays(g,"");b.push(h);c.push(l);d.push(g);f.push(h);f.push(l);f.push(g)}b.sort(a);c.sort(a);d.sort(a);f.sort(a);for(e=0;7>e;e++)c[e]=Y(c[e]),
d[e]=Y(d[e]),f[e]=Y(f[e]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+f.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+b.join("|")+")","i")}function Va(){return this.hours()%12||12}function Ab(a,b){l(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Bb(a,b){return b._meridiemParse}
function Cb(a){return a?a.toLowerCase().replace("_","-"):a}function Wa(a){var b=null;if(!w[a]&&"undefined"!==typeof module&&module&&module.exports)try{b=za._abbr,require("./locale/"+a),ha(b)}catch(c){}return w[a]}function ha(a,b){a&&(a=z(b)?U(a):Xa(a,b))&&(za=a);return za._abbr}function Xa(a,b){if(null!==b){var c=Db;b.abbr=a;if(null!=w[a])qb("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),
c=w[a]._config;else if(null!=b.parentLocale)if(null!=w[b.parentLocale])c=w[b.parentLocale]._config;else return qa[b.parentLocale]||(qa[b.parentLocale]=[]),qa[b.parentLocale].push({name:a,config:b}),null;w[a]=new Oa(sb(c,b));qa[a]&&qa[a].forEach(function(a){Xa(a.name,a.config)});ha(a);return w[a]}delete w[a];return null}function U(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return za;if(!B(a)){if(b=Wa(a))return b;a=[a]}a:{b=0;for(var c,d,f,e;b<a.length;){e=Cb(a[b]).split("-");
c=e.length;for(d=(d=Cb(a[b+1]))?d.split("-"):null;0<c;){if(f=Wa(e.slice(0,c).join("-"))){a=f;break a}if(d&&d.length>=c&&mb(e,d,!0)>=c-1)break;c--}b++}a=null}return a}function Ya(a){var b;(b=a._a)&&-2===n(a).overflow&&(b=0>b[O]||11<b[O]?O:1>b[L]||b[L]>xa(b[G],b[O])?L:0>b[x]||24<b[x]||24===b[x]&&(0!==b[H]||0!==b[P]||0!==b[aa])?x:0>b[H]||59<b[H]?H:0>b[P]||59<b[P]?P:0>b[aa]||999<b[aa]?aa:-1,n(a)._overflowDayOfYear&&(b<G||b>L)&&(b=L),n(a)._overflowWeeks&&-1===b&&(b=nc),n(a)._overflowWeekday&&-1===b&&(b=
oc),n(a).overflow=b);return a}function ia(a,b,c){return null!=a?a:null!=b?b:c}function Za(a){var b=[];if(!a._d){var c=new Date(g.now());c=a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()];if(a._w&&null==a._a[L]&&null==a._a[O]){var d=a._w;if(null!=d.GG||null!=d.W||null!=d.E){var f=1;var e=4;var h=ia(d.GG,a._a[G],pa(t(),1,4).year);var l=ia(d.W,1);var m=ia(d.E,1);if(1>m||7<m)var k=!0}else if(f=a._locale._week.dow,e=a._locale._week.doy,l=pa(t(),f,
e),h=ia(d.gg,a._a[G],l.year),l=ia(d.w,l.week),null!=d.d){if(m=d.d,0>m||6<m)k=!0}else if(null!=d.e){if(m=d.e+f,0>d.e||6<d.e)k=!0}else m=f;1>l||l>Z(h,f,e)?n(a)._overflowWeeks=!0:null!=k?n(a)._overflowWeekday=!0:(k=zb(h,l,m,f,e),a._a[G]=k.year,a._dayOfYear=k.dayOfYear)}if(null!=a._dayOfYear){k=ia(a._a[G],c[G]);if(a._dayOfYear>(T(k)?366:365)||0===a._dayOfYear)n(a)._overflowDayOfYear=!0;k=oa(k,0,a._dayOfYear);a._a[O]=k.getUTCMonth();a._a[L]=k.getUTCDate()}for(k=0;3>k&&null==a._a[k];++k)a._a[k]=b[k]=c[k];
for(;7>k;k++)a._a[k]=b[k]=null==a._a[k]?2===k?1:0:a._a[k];24===a._a[x]&&0===a._a[H]&&0===a._a[P]&&0===a._a[aa]&&(a._nextDay=!0,a._a[x]=0);a._d=(a._useUTC?oa:lc).apply(null,b);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[x]=24);a._w&&"undefined"!==typeof a._w.d&&a._w.d!==a._d.getDay()&&(n(a).weekdayMismatch=!0)}}function Eb(a){var b;var c=a._i;var d=pc.exec(c)||qc.exec(c);if(d){n(a).iso=!0;c=0;for(b=Aa.length;c<b;c++)if(Aa[c][1].exec(d[1])){var f=Aa[c][0];var e=!1!==
Aa[c][2];break}if(null==f)a._isValid=!1;else{if(d[3]){c=0;for(b=$a.length;c<b;c++)if($a[c][1].exec(d[3])){var g=(d[2]||" ")+$a[c][0];break}if(null==g){a._isValid=!1;return}}if(e||null==g){if(d[4])if(rc.exec(d[4]))var h="Z";else{a._isValid=!1;return}a._f=f+(g||"")+(h||"");ab(a)}else a._isValid=!1}}else a._isValid=!1}function Fb(a){var b=sc.exec(a._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(b){var c=b[3],d=b[2],f=b[5],e=b[6],g=b[7],h=parseInt(b[4],10);c=[49>=h?2E3+h:999>=
h?1900+h:h,Gb.indexOf(c),parseInt(d,10),parseInt(f,10),parseInt(e,10)];g&&c.push(parseInt(g,10));a:{if(g=b[1])if(g=Hb.indexOf(g),d=(new Date(c[0],c[1],c[2])).getDay(),g!==d){n(a).weekdayMismatch=!0;g=a._isValid=!1;break a}g=!0}g&&(a._a=c,(g=b[8])?b=tc[g]:b[9]?b=0:(b=parseInt(b[10],10),g=b%100,b=(b-g)/100*60+g),a._tzm=b,a._d=oa.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),n(a).rfc2822=!0)}else a._isValid=!1}function uc(a){var b=vc.exec(a._i);null!==b?a._d=new Date(+b[1]):(Eb(a),
!1===a._isValid&&(delete a._isValid,Fb(a),!1===a._isValid&&(delete a._isValid,g.createFromInputFallback(a))))}function ab(a){if(a._f===g.ISO_8601)Eb(a);else if(a._f===g.RFC_2822)Fb(a);else{a._a=[];n(a).empty=!0;var b=""+a._i,c,d,f=b.length,e=0;var h=ub(a._f,a._locale).match(tb)||[];for(c=0;c<h.length;c++){var k=h[c];if(d=(b.match(jc(k,a))||[])[0]){var l=b.substr(0,b.indexOf(d));0<l.length&&n(a).unusedInput.push(l);b=b.slice(b.indexOf(d)+d.length);e+=d.length}if(ea[k]){if(d?n(a).empty=!1:n(a).unusedTokens.push(k),
l=a,null!=d&&u(Ta,k))Ta[k](d,l._a,l,k)}else a._strict&&!d&&n(a).unusedTokens.push(k)}n(a).charsLeftOver=f-e;0<b.length&&n(a).unusedInput.push(b);12>=a._a[x]&&!0===n(a).bigHour&&0<a._a[x]&&(n(a).bigHour=void 0);n(a).parsedDateParts=a._a.slice(0);n(a).meridiem=a._meridiem;b=a._a;c=x;f=a._locale;h=a._a[x];e=a._meridiem;null!=e&&(null!=f.meridiemHour?h=f.meridiemHour(h,e):null!=f.isPM&&((f=f.isPM(e))&&12>h&&(h+=12),f||12!==h||(h=0)));b[c]=h;Za(a);Ya(a)}}function wc(a){if(!a._d){var b=Pa(a._i);a._a=kb([b.year,
b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)});Za(a)}}function Ib(a){var b=a._i,c=a._f;a._locale=a._locale||U(a._l);if(null===b||void 0===c&&""===b)return ua({nullInput:!0});"string"===typeof b&&(a._i=b=a._locale.preparse(b));if(S(b))return new la(Ya(b));if(ta(b))a._d=b;else if(B(c))if(0===a._f.length)n(a).invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++){c=0;var d=La({},a);null!=a._useUTC&&(d._useUTC=a._useUTC);d._f=a._f[b];
ab(d);if(Ka(d)&&(c+=n(d).charsLeftOver,c+=10*n(d).unusedTokens.length,n(d).score=c,null==f||c<f)){var f=c;var e=d}}R(a,e||d)}else c?ab(a):xc(a);Ka(a)||(a._d=null);return a}function xc(a){var b=a._i;z(b)?a._d=new Date(g.now()):ta(b)?a._d=new Date(b.valueOf()):"string"===typeof b?uc(a):B(b)?(a._a=kb(b.slice(0),function(a){return parseInt(a,10)}),Za(a)):ka(b)?wc(a):da(b)?a._d=new Date(b):g.createFromInputFallback(a)}function lb(a,b,c,d,e){var f={};if(!0===c||!1===c)d=c,c=void 0;if(ka(a)&&ec(a)||B(a)&&
0===a.length)a=void 0;f._isAMomentObject=!0;f._useUTC=f._isUTC=e;f._l=c;f._i=a;f._f=b;f._strict=d;a=new la(Ya(Ib(f)));a._nextDay&&(a.add(1,"d"),a._nextDay=void 0);return a}function t(a,b,c,d){return lb(a,b,c,d,!1)}function Jb(a,b){var c;1===b.length&&B(b[0])&&(b=b[0]);if(!b.length)return t();var d=b[0];for(c=1;c<b.length;++c)if(!b[c].isValid()||b[c][a](d))d=b[c];return d}function yc(a){for(var b in a)if(-1===v.call(ra,b)||null!=a[b]&&isNaN(a[b]))return!1;b=!1;for(var c=0;c<ra.length;++c)if(a[ra[c]]){if(b)return!1;
parseFloat(a[ra[c]])!==m(a[ra[c]])&&(b=!0)}return!0}function Ba(a){a=Pa(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,f=a.week||0,e=a.day||0,g=a.hour||0,h=a.minute||0,k=a.second||0,l=a.millisecond||0;this._isValid=yc(a);this._milliseconds=+l+1E3*k+6E4*h+36E5*g;this._days=+e+7*f;this._months=+d+3*c+12*b;this._data={};this._locale=U();this._bubble()}function bb(a){return a instanceof Ba}function cb(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function Kb(a,b){l(a,0,0,function(){var a=this.utcOffset(),
d="+";0>a&&(a=-a,d="-");return d+N(~~(a/60),2)+b+N(~~a%60,2)})}function db(a,b){a=(b||"").match(a);if(null===a)return null;a=((a[a.length-1]||[])+"").match(zc)||["-",0,0];b=+(60*a[1])+m(a[2]);return 0===b?0:"+"===a[0]?b:-b}function eb(a,b){return b._isUTC?(b=b.clone(),a=(S(a)||ta(a)?a.valueOf():t(a).valueOf())-b.valueOf(),b._d.setTime(b._d.valueOf()+a),g.updateOffset(b,!1),b):t(a).local()}function Lb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function I(a,b){var c=a;bb(a)?c={ms:a._milliseconds,
d:a._days,M:a._months}:da(a)?(c={},b?c[b]=a:c.milliseconds=a):(b=Ac.exec(a))?(c="-"===b[1]?-1:1,c={y:0,d:m(b[L])*c,h:m(b[x])*c,m:m(b[H])*c,s:m(b[P])*c,ms:m(cb(1E3*b[aa]))*c}):(b=Bc.exec(a))?(c="-"===b[1]?-1:1,c={y:ba(b[2],c),M:ba(b[3],c),w:ba(b[4],c),d:ba(b[5],c),h:ba(b[6],c),m:ba(b[7],c),s:ba(b[8],c)}):null==c?c={}:"object"===typeof c&&("from"in c||"to"in c)&&(b=t(c.from),c=t(c.to),b.isValid()&&c.isValid()?(c=eb(c,b),b.isBefore(c)?c=Mb(b,c):(c=Mb(c,b),c.milliseconds=-c.milliseconds,c.months=-c.months),
b=c):b={milliseconds:0,months:0},c={},c.ms=b.milliseconds,c.M=b.months);c=new Ba(c);bb(a)&&u(a,"_locale")&&(c._locale=a._locale);return c}function ba(a,b){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*b}function Mb(a,b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function Nb(a,b){return function(c,d){if(null!==d&&!isNaN(+d)){qb(b,"moment()."+
b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");var f=c;c=d;d=f}c=I("string"===typeof c?+c:c,d);Ob(this,c,a);return this}}function Ob(a,b,c,d){var f=b._milliseconds,e=cb(b._days);b=cb(b._months);a.isValid()&&(d=null==d?!0:d,b&&wb(a,wa(a,"Month")+b*c),e&&vb(a,"Date",wa(a,"Date")+e*c),f&&a._d.setTime(a._d.valueOf()+f*c),d&&g.updateOffset(a,e||b))}function fb(a,b){var c=12*(b.year()-a.year())+
(b.month()-a.month()),d=a.clone().add(c,"months");0>b-d?(a=a.clone().add(c-1,"months"),b=(b-d)/(d-a)):(a=a.clone().add(c+1,"months"),b=(b-d)/(a-d));return-(c+b)||0}function Pb(a){if(void 0===a)return this._locale._abbr;a=U(a);null!=a&&(this._locale=a);return this}function Qb(){return this._locale}function Ca(a,b){l(0,[a,a.length],0,b)}function Rb(a,b,c,d,e){if(null==a)return pa(this,d,e).year;var f=Z(a,d,e);b>f&&(b=f);a=zb(a,b,c,d,e);a=oa(a.year,0,a.dayOfYear);this.year(a.getUTCFullYear());this.month(a.getUTCMonth());
this.date(a.getUTCDate());return this}function Cc(a,b){b[aa]=m(1E3*("0."+a))}function Sb(a){return a}function Da(a,b,c,d){var e=U();b=J().set(d,b);return e[c](b,a)}function Tb(a,b,c){da(a)&&(b=a,a=void 0);a=a||"";if(null!=b)return Da(a,b,c,"month");var d=[];for(b=0;12>b;b++)d[b]=Da(a,b,c,"month");return d}function gb(a,b,c,d){"boolean"!==typeof a&&(c=b=a,a=!1);da(b)&&(c=b,b=void 0);b=b||"";var e=U();a=a?e._week.dow:0;if(null!=c)return Da(b,(c+a)%7,d,"day");e=[];for(c=0;7>c;c++)e[c]=Da(b,(c+a)%7,d,
"day");return e}function Ub(a,b,c,d){b=I(b,c);a._milliseconds+=d*b._milliseconds;a._days+=d*b._days;a._months+=d*b._months;return a._bubble()}function Vb(a){return 0>a?Math.floor(a):Math.ceil(a)}function V(a){return function(){return this.as(a)}}function ca(a){return function(){return this.isValid()?this._data[a]:NaN}}function Dc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ja(a){return(0<a)-(0>a)||+a}function Ea(){if(!this.isValid())return this.localeData().invalidDate();var a=hb(this._milliseconds)/
1E3,b=hb(this._days),c=hb(this._months);var d=D(a/60);var e=D(d/60);a%=60;d%=60;var g=D(c/12);c%=12;a=a?a.toFixed(3).replace(/\.?0+$/,""):"";var h=this.asSeconds();if(!h)return"P0D";var k=0>h?"-":"",l=ja(this._months)!==ja(h)?"-":"",m=ja(this._days)!==ja(h)?"-":"";h=ja(this._milliseconds)!==ja(h)?"-":"";return k+"P"+(g?l+g+"Y":"")+(c?l+c+"M":"")+(b?m+b+"D":"")+(e||d||a?"T":"")+(e?h+e+"H":"")+(d?h+d+"M":"")+(a?h+a+"S":"")}var fc=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),
c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var Ma=g.momentProperties=[],Na=!1,rb={};g.suppressDeprecationWarnings=!1;g.deprecationHandler=null;var Ec=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)u(a,b)&&c.push(b);return c};var ma={},y={},tb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,va=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
Ra={},ea={},Wb=/\d/,C=/\d\d/,Xb=/\d{3}/,ib=/\d{4}/,Fa=/[+-]?\d{6}/,r=/\d\d?/,Yb=/\d\d\d\d?/,Zb=/\d\d\d\d\d\d?/,Ga=/\d{1,3}/,jb=/\d{1,4}/,Ha=/[+-]?\d{1,6}/,Fc=/\d+/,Ia=/[+-]?\d+/,Gc=/Z|[+-]\d\d:?\d\d/gi,Ja=/Z|[+-]\d\d(?::?\d\d)?/gi,sa=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Sa={},Ta={},G=0,O=1,L=2,x=3,H=4,P=5,aa=6,nc=7,oc=8;l("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a});l(0,["YY",
2],0,function(){return this.year()%100});l(0,["YYYY",4],0,"year");l(0,["YYYYY",5],0,"year");l(0,["YYYYYY",6,!0],0,"year");A("year","y");y.year=1;h("Y",Ia);h("YY",r,C);h("YYYY",jb,ib);h("YYYYY",Ha,Fa);h("YYYYYY",Ha,Fa);q(["YYYYY","YYYYYY"],G);q("YYYY",function(a,b){b[G]=2===a.length?g.parseTwoDigitYear(a):m(a)});q("YY",function(a,b){b[G]=g.parseTwoDigitYear(a)});q("Y",function(a,b){b[G]=parseInt(a,10)});g.parseTwoDigitYear=function(a){return m(a)+(68<m(a)?1900:2E3)};var $b=fa("FullYear",!0);var v=
Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};l("M",["MM",2],"Mo",function(){return this.month()+1});l("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});l("MMMM",0,0,function(a){return this.localeData().months(this,a)});A("month","M");y.month=8;h("M",r);h("MM",r,C);h("MMM",function(a,b){return b.monthsShortRegex(a)});h("MMMM",function(a,b){return b.monthsRegex(a)});q(["M","MM"],function(a,b){b[O]=m(a)-
1});q(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[O]=d:n(c).invalidMonth=a});var ac=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Gb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");l("w",["ww",2],"wo","week");l("W",["WW",2],"Wo","isoWeek");A("week","w");A("isoWeek","W");y.week=5;y.isoWeek=5;h("w",r);h("ww",r,C);h("W",r);h("WW",r,C);na(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=m(a)});l("d",0,"do","day");l("dd",0,0,function(a){return this.localeData().weekdaysMin(this,
a)});l("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});l("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});l("e",0,0,"weekday");l("E",0,0,"isoWeekday");A("day","d");A("weekday","e");A("isoWeekday","E");y.day=11;y.weekday=11;y.isoWeekday=11;h("d",r);h("e",r);h("E",r);h("dd",function(a,b){return b.weekdaysMinRegex(a)});h("ddd",function(a,b){return b.weekdaysShortRegex(a)});h("dddd",function(a,b){return b.weekdaysRegex(a)});na(["dd","ddd","dddd"],function(a,b,
c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:n(c).invalidWeekday=a});na(["d","e","E"],function(a,b,c,d){b[d]=m(a)});var Hb="Sun Mon Tue Wed Thu Fri Sat".split(" ");l("H",["HH",2],0,"hour");l("h",["hh",2],0,Va);l("k",["kk",2],0,function(){return this.hours()||24});l("hmm",0,0,function(){return""+Va.apply(this)+N(this.minutes(),2)});l("hmmss",0,0,function(){return""+Va.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)});l("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),
2)});l("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)});Ab("a",!0);Ab("A",!1);A("hour","h");y.hour=13;h("a",Bb);h("A",Bb);h("H",r);h("h",r);h("k",r);h("HH",r,C);h("hh",r,C);h("kk",r,C);h("hmm",Yb);h("hmmss",Zb);h("Hmm",Yb);h("Hmmss",Zb);q(["H","HH"],x);q(["k","kk"],function(a,b,c){a=m(a);b[x]=24===a?0:a});q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});q(["h","hh"],function(a,b,c){b[x]=m(a);n(c).bigHour=!0});q("hmm",function(a,b,c){var d=
a.length-2;b[x]=m(a.substr(0,d));b[H]=m(a.substr(d));n(c).bigHour=!0});q("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[x]=m(a.substr(0,d));b[H]=m(a.substr(d,2));b[P]=m(a.substr(e));n(c).bigHour=!0});q("Hmm",function(a,b,c){c=a.length-2;b[x]=m(a.substr(0,c));b[H]=m(a.substr(c))});q("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[x]=m(a.substr(0,c));b[H]=m(a.substr(c,2));b[P]=m(a.substr(d))});var Hc=fa("Hours",!0),Db={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",
lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),
monthsShort:Gb,week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:Hb,meridiemParse:/[ap]\.?m?\.?/i},w={},qa={},za,pc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
rc=/Z|[+-]\d\d(?::?\d\d)?/,Aa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],$a=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",
/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vc=/^\/?Date\((\-?\d+)/i,sc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,tc={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};g.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});g.ISO_8601=function(){};g.RFC_2822=function(){};var Ic=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=t.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:ua()}),Jc=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=t.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:
a:ua()}),ra="year quarter month week day hour minute second millisecond".split(" ");Kb("Z",":");Kb("ZZ","");h("Z",Ja);h("ZZ",Ja);q(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=db(Ja,a)});var zc=/([\+\-]|\d\d)/gi;g.updateOffset=function(){};var Ac=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Bc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;I.fn=Ba.prototype;I.invalid=
function(){return I(NaN)};var Kc=Nb(1,"add"),Lc=Nb(-1,"subtract");g.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";g.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var bc=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});l(0,["gg",2],0,function(){return this.weekYear()%100});l(0,["GG",2],0,function(){return this.isoWeekYear()%100});Ca("gggg","weekYear");
Ca("ggggg","weekYear");Ca("GGGG","isoWeekYear");Ca("GGGGG","isoWeekYear");A("weekYear","gg");A("isoWeekYear","GG");y.weekYear=1;y.isoWeekYear=1;h("G",Ia);h("g",Ia);h("GG",r,C);h("gg",r,C);h("GGGG",jb,ib);h("gggg",jb,ib);h("GGGGG",Ha,Fa);h("ggggg",Ha,Fa);na(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=m(a)});na(["gg","GG"],function(a,b,c,d){b[d]=g.parseTwoDigitYear(a)});l("Q",0,"Qo","quarter");A("quarter","Q");y.quarter=7;h("Q",Wb);q("Q",function(a,b){b[O]=3*(m(a)-1)});l("D",
["DD",2],"Do","date");A("date","D");y.date=9;h("D",r);h("DD",r,C);h("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient});q(["D","DD"],L);q("Do",function(a,b){b[L]=m(a.match(r)[0],10)});var cc=fa("Date",!0);l("DDD",["DDDD",3],"DDDo","dayOfYear");A("dayOfYear","DDD");y.dayOfYear=4;h("DDD",Ga);h("DDDD",Xb);q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=m(a)});l("m",["mm",2],0,"minute");A("minute","m");y.minute=14;h("m",r);h("mm",r,C);q(["m","mm"],H);
var Mc=fa("Minutes",!1);l("s",["ss",2],0,"second");A("second","s");y.second=15;h("s",r);h("ss",r,C);q(["s","ss"],P);var Nc=fa("Seconds",!1);l("S",0,0,function(){return~~(this.millisecond()/100)});l(0,["SS",2],0,function(){return~~(this.millisecond()/10)});l(0,["SSS",3],0,"millisecond");l(0,["SSSS",4],0,function(){return 10*this.millisecond()});l(0,["SSSSS",5],0,function(){return 100*this.millisecond()});l(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});l(0,["SSSSSSS",7],0,function(){return 1E4*
this.millisecond()});l(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});l(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});A("millisecond","ms");y.millisecond=16;h("S",Ga,Wb);h("SS",Ga,C);h("SSS",Ga,Xb);var W;for(W="SSSS";9>=W.length;W+="S")h(W,Fc);for(W="S";9>=W.length;W+="S")q(W,Cc);var Oc=fa("Milliseconds",!1);l("z",0,0,"zoneAbbr");l("zz",0,0,"zoneName");var e=la.prototype;e.add=Kc;e.calendar=function(a,b){a=a||t();var c=eb(a,this).startOf("day");c=g.calendarFormat(this,
c)||"sameElse";b=b&&(K(b[c])?b[c].call(this,a):b[c]);return this.format(b||this.localeData().calendar(c,this,t(a)))};e.clone=function(){return new la(this)};e.diff=function(a,b,c){if(!this.isValid())return NaN;a=eb(a,this);if(!a.isValid())return NaN;var d=6E4*(a.utcOffset()-this.utcOffset());b=F(b);switch(b){case "year":b=fb(this,a)/12;break;case "month":b=fb(this,a);break;case "quarter":b=fb(this,a)/3;break;case "second":b=(this-a)/1E3;break;case "minute":b=(this-a)/6E4;break;case "hour":b=(this-
a)/36E5;break;case "day":b=(this-a-d)/864E5;break;case "week":b=(this-a-d)/6048E5;break;default:b=this-a}return c?b:D(b)};e.endOf=function(a){a=F(a);if(void 0===a||"millisecond"===a)return this;"date"===a&&(a="day");return this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")};e.format=function(a){a||(a=this.isUtc()?g.defaultFormatUtc:g.defaultFormat);a=Qa(this,a);return this.localeData().postformat(a)};e.from=function(a,b){return this.isValid()&&(S(a)&&a.isValid()||t(a).isValid())?I({to:this,
from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};e.fromNow=function(a){return this.from(t(),a)};e.to=function(a,b){return this.isValid()&&(S(a)&&a.isValid()||t(a).isValid())?I({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};e.toNow=function(a){return this.to(t(),a)};e.get=function(a){a=F(a);return K(this[a])?this[a]():this};e.invalidAt=function(){return n(this).overflow};e.isAfter=function(a,b){a=S(a)?a:t(a);if(!this.isValid()||!a.isValid())return!1;
b=F(z(b)?"millisecond":b);return"millisecond"===b?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(b).valueOf()};e.isBefore=function(a,b){a=S(a)?a:t(a);if(!this.isValid()||!a.isValid())return!1;b=F(z(b)?"millisecond":b);return"millisecond"===b?this.valueOf()<a.valueOf():this.clone().endOf(b).valueOf()<a.valueOf()};e.isBetween=function(a,b,c,d){d=d||"()";return("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))};e.isSame=function(a,b){a=
S(a)?a:t(a);if(!this.isValid()||!a.isValid())return!1;b=F(b||"millisecond");if("millisecond"===b)return this.valueOf()===a.valueOf();a=a.valueOf();return this.clone().startOf(b).valueOf()<=a&&a<=this.clone().endOf(b).valueOf()};e.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};e.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};e.isValid=function(){return Ka(this)};e.lang=bc;e.locale=Pb;e.localeData=Qb;e.max=Jc;e.min=Ic;e.parsingFlags=function(){return R({},
n(this))};e.set=function(a,b){if("object"===typeof a){a=Pa(a);b=gc(a);for(var c=0;c<b.length;c++)this[b[c].unit](a[b[c].unit])}else if(a=F(a),K(this[a]))return this[a](b);return this};e.startOf=function(a){a=F(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&this.weekday(0);"isoWeek"===a&&this.isoWeekday(1);
"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this};e.subtract=Lc;e.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};e.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};e.toDate=function(){return new Date(this.valueOf())};e.toISOString=function(){if(!this.isValid())return null;
var a=this.clone().utc();return 0>a.year()||9999<a.year()?Qa(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(Date.prototype.toISOString)?this.toDate().toISOString():Qa(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")};e.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");a="["+a+'("]';var c=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(a+c+"-MM-DD[T]HH:mm:ss.SSS"+(b+'[")]'))};
e.toJSON=function(){return this.isValid()?this.toISOString():null};e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};e.unix=function(){return Math.floor(this.valueOf()/1E3)};e.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};e.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};e.year=$b;e.isLeapYear=function(){return T(this.year())};e.weekYear=function(a){return Rb.call(this,
a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};e.isoWeekYear=function(a){return Rb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};e.quarter=e.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};e.month=xb;e.daysInMonth=function(){return xa(this.year(),this.month())};e.week=e.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};e.isoWeek=e.isoWeeks=function(a){var b=
pa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};e.weeksInYear=function(){var a=this.localeData()._week;return Z(this.year(),a.dow,a.doy)};e.isoWeeksInYear=function(){return Z(this.year(),1,4)};e.date=cc;e.day=e.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){var c=this.localeData();"string"===typeof a&&(isNaN(a)?(a=c.weekdaysParse(a),a="number"===typeof a?a:null):a=parseInt(a,10));return this.add(a-b,"d")}return b};
e.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};e.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=this.localeData();a="string"===typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a;return this.day(this.day()%7?a:a-7)}return this.day()||7};e.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:
this.add(a-b,"d")};e.hour=e.hours=Hc;e.minute=e.minutes=Mc;e.second=e.seconds=Nc;e.millisecond=e.milliseconds=Oc;e.utcOffset=function(a,b,c){var d=this._offset||0,e;if(!this.isValid())return null!=a?this:NaN;if(null!=a){if("string"===typeof a){if(a=db(Ja,a),null===a)return this}else 16>Math.abs(a)&&!c&&(a*=60);!this._isUTC&&b&&(e=15*-Math.round(this._d.getTimezoneOffset()/15));this._offset=a;this._isUTC=!0;null!=e&&this.add(e,"m");d!==a&&(!b||this._changeInProgress?Ob(this,I(a-d,"m"),1,!1):this._changeInProgress||
(this._changeInProgress=!0,g.updateOffset(this,!0),this._changeInProgress=null));return this}return this._isUTC?d:15*-Math.round(this._d.getTimezoneOffset()/15)};e.utc=function(a){return this.utcOffset(0,a)};e.local=function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(15*-Math.round(this._d.getTimezoneOffset()/15),"m"));return this};e.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var a=db(Gc,this._i);null!=a?this.utcOffset(a):
this.utcOffset(0,!0)}return this};e.hasAlignedHourOffset=function(a){if(!this.isValid())return!1;a=a?t(a).utcOffset():0;return 0===(this.utcOffset()-a)%60};e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};e.isLocal=function(){return this.isValid()?!this._isUTC:!1};e.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};e.isUtc=Lb;e.isUTC=Lb;e.zoneAbbr=function(){return this._isUTC?"UTC":""};e.zoneName=function(){return this._isUTC?
"Coordinated Universal Time":""};e.dates=E("dates accessor is deprecated. Use date instead.",cc);e.months=E("months accessor is deprecated. Use month instead",xb);e.years=E("years accessor is deprecated. Use year instead",$b);e.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(a,b){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});e.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",
function(){if(!z(this._isDSTShifted))return this._isDSTShifted;var a={};La(a,this);a=Ib(a);if(a._a){var b=a._isUTC?J(a._a):t(a._a);this._isDSTShifted=this.isValid()&&0<mb(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var p=Oa.prototype;p.calendar=function(a,b,c){a=this._calendar[a]||this._calendar.sameElse;return K(a)?a.call(b,c):a};p.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];if(b||!c)return b;this._longDateFormat[a]=
c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)});return this._longDateFormat[a]};p.invalidDate=function(){return this._invalidDate};p.ordinal=function(a){return this._ordinal.replace("%d",a)};p.preparse=Sb;p.postformat=Sb;p.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return K(e)?e(a,b,c,d):e.replace(/%d/i,a)};p.pastFuture=function(a,b){a=this._relativeTime[0<a?"future":"past"];return K(a)?a(b):a.replace(/%s/i,b)};p.set=function(a){var b;for(b in a){var c=a[b];K(c)?this[b]=
c:this["_"+b]=c}this._config=a;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};p.months=function(a,b){return a?B(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||ac).test(b)?"format":"standalone"][a.month()]:B(this._months)?this._months:this._months.standalone};p.monthsShort=function(a,b){return a?B(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[ac.test(b)?"format":"standalone"][a.month()]:
B(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};p.monthsParse=function(a,b,c){var d;if(this._monthsParseExact){a:{a=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;12>d;++d){var e=J([2E3,d]);this._shortMonthsParse[d]=this.monthsShort(e,"").toLocaleLowerCase();this._longMonthsParse[d]=this.months(e,"").toLocaleLowerCase()}if(c)b="MMM"===b?v.call(this._shortMonthsParse,a):v.call(this._longMonthsParse,a);
else if("MMM"===b){b=v.call(this._shortMonthsParse,a);if(-1!==b)break a;b=v.call(this._longMonthsParse,a)}else{b=v.call(this._longMonthsParse,a);if(-1!==b)break a;b=v.call(this._shortMonthsParse,a)}b=-1!==b?b:null}return b}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if(e=J([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+
this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(e="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(e.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a)||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};p.monthsRegex=function(a){if(this._monthsParseExact)return u(this,"_monthsRegex")||yb.call(this),a?this._monthsStrictRegex:this._monthsRegex;u(this,"_monthsRegex")||(this._monthsRegex=
sa);return this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex};p.monthsShortRegex=function(a){if(this._monthsParseExact)return u(this,"_monthsRegex")||yb.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex;u(this,"_monthsShortRegex")||(this._monthsShortRegex=sa);return this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex};p.week=function(a){return pa(a,this._week.dow,this._week.doy).week};p.firstDayOfYear=function(){return this._week.doy};
p.firstDayOfWeek=function(){return this._week.dow};p.weekdays=function(a,b){return a?B(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:B(this._weekdays)?this._weekdays:this._weekdays.standalone};p.weekdaysMin=function(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin};p.weekdaysShort=function(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort};p.weekdaysParse=function(a,b,c){var d;if(this._weekdaysParseExact)return mc.call(this,
a,b,c);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(d=0;7>d;d++){var e=J([2E3,1]).day(d);c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i"));this._weekdaysParse[d]||
(e="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(e.replace(".",""),"i"));if(c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a)||c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a)||c&&"dd"===b&&this._minWeekdaysParse[d].test(a)||!c&&this._weekdaysParse[d].test(a))return d}};p.weekdaysRegex=function(a){if(this._weekdaysParseExact)return u(this,"_weekdaysRegex")||Ua.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex;u(this,"_weekdaysRegex")||
(this._weekdaysRegex=sa);return this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex};p.weekdaysShortRegex=function(a){if(this._weekdaysParseExact)return u(this,"_weekdaysRegex")||Ua.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=sa);return this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex};p.weekdaysMinRegex=function(a){if(this._weekdaysParseExact)return u(this,
"_weekdaysRegex")||Ua.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=sa);return this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex};p.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};p.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};ha("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;b=1===m(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":
"th";return a+b}});g.lang=E("moment.lang is deprecated. Use moment.locale instead.",ha);g.langData=E("moment.langData is deprecated. Use moment.localeData instead.",U);var Q=Math.abs,Pc=V("ms"),Qc=V("s"),Rc=V("m"),Sc=V("h"),Tc=V("d"),Uc=V("w"),Vc=V("M"),Wc=V("y"),Xc=ca("milliseconds"),Yc=ca("seconds"),Zc=ca("minutes"),$c=ca("hours"),ad=ca("days"),bd=ca("months"),cd=ca("years"),X=Math.round,M={ss:44,s:45,m:45,h:22,d:26,M:11},hb=Math.abs,k=Ba.prototype;k.isValid=function(){return this._isValid};k.abs=
function(){var a=this._data;this._milliseconds=Q(this._milliseconds);this._days=Q(this._days);this._months=Q(this._months);a.milliseconds=Q(a.milliseconds);a.seconds=Q(a.seconds);a.minutes=Q(a.minutes);a.hours=Q(a.hours);a.months=Q(a.months);a.years=Q(a.years);return this};k.add=function(a,b){return Ub(this,a,b,1)};k.subtract=function(a,b){return Ub(this,a,b,-1)};k.as=function(a){if(!this.isValid())return NaN;var b=this._milliseconds;a=F(a);if("month"===a||"year"===a){var c=this._days+b/864E5;c=this._months+
4800*c/146097;return"month"===a?c:c/12}c=this._days+Math.round(146097*this._months/4800);switch(a){case "week":return c/7+b/6048E5;case "day":return c+b/864E5;case "hour":return 24*c+b/36E5;case "minute":return 1440*c+b/6E4;case "second":return 86400*c+b/1E3;case "millisecond":return Math.floor(864E5*c)+b;default:throw Error("Unknown unit "+a);}};k.asMilliseconds=Pc;k.asSeconds=Qc;k.asMinutes=Rc;k.asHours=Sc;k.asDays=Tc;k.asWeeks=Uc;k.asMonths=Vc;k.asYears=Wc;k.valueOf=function(){return this.isValid()?
this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*m(this._months/12):NaN};k._bubble=function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;0<=a&&0<=b&&0<=c||0>=a&&0>=b&&0>=c||(a+=864E5*Vb(146097*c/4800+b),c=b=0);d.milliseconds=a%1E3;a=D(a/1E3);d.seconds=a%60;a=D(a/60);d.minutes=a%60;a=D(a/60);d.hours=a%24;b+=D(a/24);a=D(4800*b/146097);c+=a;b-=Vb(146097*a/4800);a=D(c/12);d.days=b;d.months=c%12;d.years=a;return this};k.clone=function(){return I(this)};k.get=function(a){a=
F(a);return this.isValid()?this[a+"s"]():NaN};k.milliseconds=Xc;k.seconds=Yc;k.minutes=Zc;k.hours=$c;k.days=ad;k.weeks=function(){return D(this.days()/7)};k.months=bd;k.years=cd;k.humanize=function(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData();var c=!a;var d=I(this).abs(),e=X(d.as("s")),g=X(d.as("m")),h=X(d.as("h")),k=X(d.as("d")),l=X(d.as("M"));d=X(d.as("y"));e=e<=M.ss&&["s",e]||e<M.s&&["ss",e]||1>=g&&["m"]||g<M.m&&["mm",g]||1>=h&&["h"]||h<M.h&&["hh",h]||1>=
k&&["d"]||k<M.d&&["dd",k]||1>=l&&["M"]||l<M.M&&["MM",l]||1>=d&&["y"]||["yy",d];e[2]=c;e[3]=0<+this;e[4]=b;c=Dc.apply(null,e);a&&(c=b.pastFuture(+this,c));return b.postformat(c)};k.toISOString=Ea;k.toString=Ea;k.toJSON=Ea;k.locale=Pb;k.localeData=Qb;k.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ea);k.lang=bc;l("X",0,0,"unix");l("x",0,0,"valueOf");h("x",Ia);h("X",/[+-]?\d+(\.\d{1,3})?/);q("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});
q("x",function(a,b,c){c._d=new Date(m(a))});g.version="2.19.3";var dc=t;g.fn=e;g.min=function(){var a=[].slice.call(arguments,0);return Jb("isBefore",a)};g.max=function(){var a=[].slice.call(arguments,0);return Jb("isAfter",a)};g.now=function(){return Date.now?Date.now():+new Date};g.utc=J;g.unix=function(a){return t(1E3*a)};g.months=function(a,b){return Tb(a,b,"months")};g.isDate=ta;g.locale=ha;g.invalid=ua;g.duration=I;g.isMoment=S;g.weekdays=function(a,b,c){return gb(a,b,c,"weekdays")};g.parseZone=
function(){return t.apply(null,arguments).parseZone()};g.localeData=U;g.isDuration=bb;g.monthsShort=function(a,b){return Tb(a,b,"monthsShort")};g.weekdaysMin=function(a,b,c){return gb(a,b,c,"weekdaysMin")};g.defineLocale=Xa;g.updateLocale=function(a,b){if(null!=b){var c=Db;var d=Wa(a);null!=d&&(c=d._config);b=sb(c,b);b=new Oa(b);b.parentLocale=w[a];w[a]=b;ha(a)}else null!=w[a]&&(null!=w[a].parentLocale?w[a]=w[a].parentLocale:null!=w[a]&&delete w[a]);return w[a]};g.locales=function(){return Ec(w)};
g.weekdaysShort=function(a,b,c){return gb(a,b,c,"weekdaysShort")};g.normalizeUnits=F;g.relativeTimeRounding=function(a){return void 0===a?X:"function"===typeof a?(X=a,!0):!1};g.relativeTimeThreshold=function(a,b){if(void 0===M[a])return!1;if(void 0===b)return M[a];M[a]=b;"s"===a&&(M.ss=b-1);return!0};g.calendarFormat=function(a,b){a=a.diff(b,"days",!0);return-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse"};g.prototype=e;return g});
(function(g,p){"function"===typeof define&&define.amd?define(["moment"],p):"object"===typeof module&&module.exports?module.exports=p(require("moment")):p(g.moment)})(this,function(g){function p(a){return 96<a?a-87:64<a?a-29:a-48}function C(a){var b=0,c=a.split("."),d=c[0];c=c[1]||"";var e=1,h=0,f=1;45===a.charCodeAt(0)&&(b=1,f=-1);for(b;b<d.length;b++)a=p(d.charCodeAt(b)),h=60*h+a;for(b=0;b<c.length;b++)e/=60,a=p(c.charCodeAt(b)),h+=a*e;return h*f}function w(a){for(var b=0;b<a.length;b++)a[b]=C(a[b])}
function D(a,b){var c=[],d;for(d=0;d<b.length;d++)c[d]=a[b[d]];return c}function E(a){a=a.split("|");var b=a[2].split(" "),c=a[3].split(""),d=a[4].split(" ");w(b);w(c);w(d);for(var e=c.length,h=0;h<e;h++)d[h]=Math.round((d[h-1]||0)+6E4*d[h]);d[e-1]=Infinity;return{name:a[0],abbrs:D(a[1].split(" "),c),offsets:D(b,c),untils:d,population:a[5]|0}}function u(a){a&&this._set(E(a))}function q(a){var b=a.toTimeString(),c=b.match(/\([a-z ]+\)/i);c=c&&c[0]?(c=c[0].match(/[A-Z]/g))?c.join(""):void 0:(c=b.match(/[A-Z]{3,5}/g))?
c[0]:void 0;"GMT"===c&&(c=void 0);this.at=+a;this.abbr=c;this.offset=a.getTimezoneOffset()}function F(a){this.zone=a;this.abbrScore=this.offsetScore=0}function L(a,b){return a.offsetScore!==b.offsetScore?a.offsetScore-b.offsetScore:a.abbrScore!==b.abbrScore?a.abbrScore-b.abbrScore:b.zone.population-a.zone.population}function v(a){return(a||"").toLowerCase().replace(/\//g,"_")}function G(a){var b;"string"===typeof a&&(a=[a]);for(b=0;b<a.length;b++){var c=a[b].split("|");var d=c[0];var e=v(d);n[e]=
a[b];l[e]=d;d=e;var h=c[2].split(" ");w(h);for(e=0;e<h.length;e++)c=h[e],x[c]=x[c]||{},x[c][d]=!0}}function m(a,b){a=v(a);var c=n[a],d;return c instanceof u?c:"string"===typeof c?(c=new u(c),n[a]=c):r[a]&&b!==m&&(d=m(r[a],m))?(c=n[a]=new u,c._set(d),c.name=l[a],c):null}function H(a){var b;"string"===typeof a&&(a=[a]);for(b=0;b<a.length;b++){var c=a[b].split("|");var d=v(c[0]);var e=v(c[1]);r[d]=e;l[d]=c[0];r[e]=d;l[e]=c[1]}}function I(a){G(a.zones);H(a.links);f.dataVersion=a.version}function A(a){A.didShowError||
(A.didShowError=!0,t("moment.tz.zoneExists('"+a+"') has been deprecated in favor of !moment.tz.zone('"+a+"')"));return!!m(a)}function B(a){var b="X"===a._f||"x"===a._f;return!(!a._a||void 0!==a._tzm||b)}function t(a){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(a)}function f(a){var b=Array.prototype.slice.call(arguments,0,-1),c=arguments[arguments.length-1],d=m(c);b=g.utc.apply(null,b);d&&!g.isMoment(a)&&B(b)&&b.add(d.parse(b),"minutes");b.tz(c);return b}function J(a){return function(){return this._z?
this._z.abbr(this):a.call(this)}}var n={},r={},l={},x={},y,k=g.version.split("."),z=+k[0],K=+k[1];(2>z||2===z&&6>K)&&t("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+g.version+". See momentjs.com");u.prototype={_set:function(a){this.name=a.name;this.abbrs=a.abbrs;this.untils=a.untils;this.offsets=a.offsets;this.population=a.population},_index:function(a){a=+a;var b=this.untils,c;for(c=0;c<b.length;c++)if(a<b[c])return c},parse:function(a){a=+a;var b=this.offsets,c=this.untils,
d=c.length-1,e;for(e=0;e<d;e++){var h=b[e];var g=b[e+1];var k=b[e?e-1:e];h<g&&f.moveAmbiguousForward?h=g:h>k&&f.moveInvalidForward&&(h=k);if(a<c[e]-6E4*h)return b[e]}return b[d]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){t("zone.offset has been deprecated in favor of zone.utcOffset");return this.offsets[this._index(a)]},utcOffset:function(a){return this.offsets[this._index(a)]}};F.prototype.scoreOffsetAt=function(a){this.offsetScore+=Math.abs(this.zone.utcOffset(a.at)-
a.offset);this.zone.abbr(a.at).replace(/[^A-Z]/g,"")!==a.abbr&&this.abbrScore++};f.version="0.5.14";f.dataVersion="";f._zones=n;f._links=r;f._names=l;f.add=G;f.link=H;f.load=I;f.zone=m;f.zoneExists=A;f.guess=function(a){if(!y||a)a:{try{var b=Intl.DateTimeFormat().resolvedOptions().timeZone;if(b&&3<b.length){var c=l[v(b)];if(c){y=c;break a}t("Moment Timezone found "+b+" from the Intl api, but did not have that data loaded.")}}catch(M){}b=(new Date).getFullYear()-2;var d=new q(new Date(b,0,1));a=[d];
var e;for(e=1;48>e;e++){c=new q(new Date(b,e,1));if(c.offset!==d.offset){for(var h,f=c;h=6E4*((f.at-d.at)/12E4|0);)h=new q(new Date(d.at+h)),h.offset===d.offset?d=h:f=h;a.push(d);a.push(new q(new Date(d.at+6E4)))}d=c}for(e=0;4>e;e++)a.push(new q(new Date(b+e,0,1))),a.push(new q(new Date(b+e,6,1)));e=b=a.length;d={};c=[];for(f=0;f<e;f++)for(g in h=x[a[f].offset]||{},h)h.hasOwnProperty(g)&&(d[g]=!0);for(f in d)d.hasOwnProperty(f)&&c.push(l[f]);var g=[];for(d=0;d<c.length;d++){e=new F(m(c[d]),b);for(f=
0;f<b;f++)e.scoreOffsetAt(a[f]);g.push(e)}g.sort(L);y=0<g.length?g[0].zone.name:void 0}return y};f.names=function(){var a,b=[];for(a in l)l.hasOwnProperty(a)&&(n[a]||n[r[a]])&&l[a]&&b.push(l[a]);return b.sort()};f.Zone=u;f.unpack=E;f.unpackBase60=C;f.needsOffset=B;f.moveInvalidForward=!0;f.moveAmbiguousForward=!1;k=g.fn;g.tz=f;g.defaultZone=null;g.updateOffset=function(a,b){var c=g.defaultZone;void 0===a._z&&(c&&B(a)&&!a._isUTC&&(a._d=g.utc(a._a)._d,a.utc().add(c.parse(a),"minutes")),a._z=c);a._z&&
(c=a._z.utcOffset(a),16>Math.abs(c)&&(c/=60),void 0!==a.utcOffset?a.utcOffset(-c,b):a.zone(c,b))};k.tz=function(a,b){if(a)return(this._z=m(a))?g.updateOffset(this,b):t("Moment Timezone has no data for "+a+". See http://momentjs.com/timezone/docs/#/data-loading/."),this;if(this._z)return this._z.name};k.zoneName=J(k.zoneName);k.zoneAbbr=J(k.zoneAbbr);k.utc=function(a){return function(){this._z=null;return a.apply(this,arguments)}}(k.utc);g.tz.setDefault=function(a){(2>z||2===z&&9>K)&&t("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+
g.version+".");g.defaultZone=a?m(a):null;return g};k=g.momentProperties;"[object Array]"===Object.prototype.toString.call(k)?(k.push("_z"),k.push("_a")):k&&(k._z=null);I({version:"2017c",zones:"Africa/Abidjan|LMT GMT|g.8 0|01|-2ldXH.Q|48e5;Africa/Accra|LMT GMT +0020|.Q 0 -k|012121212121212121212121212121212121212121212121|-26BbX.8 6tzX.8 MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE|41e5;Africa/Nairobi|LMT EAT +0230 +0245|-2r.g -30 -2u -2J|01231|-1F3Cr.g 3Dzr.g okMu MFXJ|47e5;Africa/Algiers|PMT WET WEST CET CEST|-9.l 0 -10 -10 -20|0121212121212121343431312123431213|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 DA0 Imo0 rd0 De0 9Xz0 1fb0 1ap0 16K0 2yo0 mEp0 hwL0 jxA0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0|26e5;Africa/Lagos|LMT WAT|-d.A -10|01|-22y0d.A|17e6;Africa/Bissau|LMT -01 GMT|12.k 10 0|012|-2ldWV.E 2xonV.E|39e4;Africa/Maputo|LMT CAT|-2a.k -20|01|-2GJea.k|26e5;Africa/Cairo|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1bIO0 vb0 1ip0 11z0 1iN0 1nz0 12p0 1pz0 10N0 1pz0 16p0 1jz0 s3d0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0|15e6;Africa/Casablanca|LMT WET WEST CET|u.k 0 -10 -10|0121212121212121213121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2gMnt.E 130Lt.E rb0 Dd0 dVb0 b6p0 TX0 EoB0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00 1a00 1fA0 17c0 1io0 14o0 1lc0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1lc0 14o0 1fA0|32e5;Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|010101010101010101010232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-25KN0 11z0 drd0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1y7o0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|85e3;Africa/El_Aaiun|LMT -01 WET WEST|Q.M 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1rDz7.c 1GVA7.c 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00 1a00 1fA0 17c0 1io0 14o0 1lc0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1lc0 14o0 1fA0|20e4;Africa/Johannesburg|SAST SAST SAST|-1u -20 -30|012121|-2GJdu 1Ajdu 1cL0 1cN0 1cL0|84e5;Africa/Juba|LMT CAT CAST EAT|-26.s -20 -30 -30|01212121212121212121212121212121213|-1yW26.s 1zK06.s 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0;Africa/Khartoum|LMT CAT CAST EAT|-2a.8 -20 -30 -30|012121212121212121212121212121212131|-1yW2a.8 1zK0a.8 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0 HjL0|51e5;Africa/Monrovia|MMT MMT GMT|H.8 I.u 0|012|-23Lzg.Q 28G01.m|11e5;Africa/Ndjamena|LMT WAT WAST|-10.c -10 -20|0121|-2le10.c 2J3c0.c Wn0|13e5;Africa/Tripoli|LMT CET CEST EET|-Q.I -10 -20 -20|012121213121212121212121213123123|-21JcQ.I 1hnBQ.I vx0 4iP0 xx0 4eN0 Bb0 7ip0 U0n0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00|11e5;Africa/Tunis|PMT CET CEST|-9.l -10 -20|0121212121212121212121212121212121|-2nco9.l 18pa9.l 1qM0 DA0 3Tc0 11B0 1ze0 WM0 7z0 3d0 14L0 1cN0 1f90 1ar0 16J0 1gXB0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00|20e5;Africa/Windhoek|+0130 SAST SAST CAT WAT WAST|-1u -20 -30 -20 -10 -20|01213454545454545454545454545454545454545454545454543|-2GJdu 1Ajdu 1cL0 1SqL0 9Io0 16P0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4;America/Adak|NST NWT NPT BST BDT AHST HST HDT|b0 a0 a0 b0 a0 a0 a0 90|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326;America/Anchorage|AST AWT APT AHST AHDT YST AKST AKDT|a0 90 90 a0 90 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T00 8wX0 iA0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4;America/Port_of_Spain|LMT AST|46.4 40|01|-2kNvR.U|43e3;America/Araguaina|LMT -03 -02|3c.M 30 20|0121212121212121212121212121212121212121212121212121|-2glwL.c HdKL.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0|14e4;America/Argentina/Buenos_Aires|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 A4p0 uL0 1qN0 WL0;America/Argentina/Catamarca|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 7B0 8zb0 uL0;America/Argentina/Cordoba|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0 1qN0 WL0;America/Argentina/Jujuy|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 A4p0 uL0;America/Argentina/La_Rioja|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0;America/Argentina/Mendoza|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232312121321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 ri10 Op0 7TX0 uL0;America/Argentina/Rio_Gallegos|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0;America/Argentina/Salta|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0;America/Argentina/San_Juan|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rld0 m10 8lb0 uL0;America/Argentina/San_Luis|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121212321212|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 vDb0 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0;America/Argentina/Tucuman|CMT -04 -03 -02|4g.M 40 30 20|0121212121212121212121212121212121212121212323232313232123232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 4N0 8BX0 uL0 1qN0 WL0;America/Argentina/Ushuaia|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rkN0 8p0 8zb0 uL0;America/Curacao|LMT -0430 AST|4z.L 4u 40|012|-2kV7o.d 28KLS.d|15e4;America/Asuncion|AMT -04 -03|3O.E 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-1x589.k 1DKM9.k 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5;America/Atikokan|CST CDT CWT CPT EST|60 50 50 50 50|0101234|-25TQ0 1in0 Rnb0 3je0 8x30 iw0|28e2;America/Bahia|LMT -03 -02|2y.4 30 20|01212121212121212121212121212121212121212121212121212121212121|-2glxp.U HdLp.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0|27e5;America/Bahia_Banderas|LMT MST CST PST MDT CDT|71 70 60 80 60 50|0121212131414141414141414141414141414152525252525252525252525252525252525252525252525252525252|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|84e3;America/Barbados|LMT BMT AST ADT|3W.t 3W.t 40 30|01232323232|-1Q0I1.v jsM0 1ODC1.v IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0|28e4;America/Belem|LMT -03 -02|3d.U 30 20|012121212121212121212121212121|-2glwK.4 HdKK.4 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|20e5;America/Belize|LMT CST -0530 CDT|5Q.M 60 5u 50|01212121212121212121212121212121212121212121212121213131|-2kBu7.c fPA7.c Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1f0Mu qn0 lxB0 mn0|57e3;America/Blanc-Sablon|AST ADT AWT APT|40 30 30 30|010230|-25TS0 1in0 UGp0 8x50 iu0|11e2;America/Boa_Vista|LMT -04 -03|42.E 40 30|0121212121212121212121212121212121|-2glvV.k HdKV.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0|62e2;America/Bogota|BMT -05 -04|4U.g 50 40|0121|-2eb73.I 38yo3.I 2en0|90e5;America/Boise|PST PDT MST MWT MPT MDT|80 70 70 60 60 60|0101023425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-261q0 1nX0 11B0 1nX0 8C10 JCL0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e4;America/Cambridge_Bay|-00 MST MWT MPT MDDT MDT CST CDT EST|0 70 60 60 50 60 60 50 50|0123141515151515151515151515151515151515151515678651515151515151515151515151515151515151515151515151515151515151515151515151|-21Jc0 RO90 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e2;America/Campo_Grande|LMT -04 -03|3C.s 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwl.w HdLl.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0|77e4;America/Cancun|LMT CST EST EDT CDT|5L.4 60 50 40 50|0123232341414141414141414141414141414141412|-1UQG0 2q2o0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4;America/Caracas|CMT -0430 -04|4r.E 4u 40|01212|-2kV7w.k 28KM2.k 1IwOu kqo0|29e5;America/Cayenne|LMT -04 -03|3t.k 40 30|012|-2mrwu.E 2gWou.E|58e3;America/Panama|CMT EST|5j.A 50|01|-2uduE.o|15e5;America/Chicago|CST CDT EST CWT CPT|60 50 50 50 50|01010101010101010101010101010101010102010101010103401010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 1wp0 TX0 WN0 1qL0 1cN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 11B0 1Hz0 14p0 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5;America/Chihuahua|LMT MST CST CDT MDT|74.k 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|81e4;America/Costa_Rica|SJMT CST CDT|5A.d 60 50|0121212121|-1Xd6n.L 2lu0n.L Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0|12e5;America/Creston|MST PST|70 80|010|-29DR0 43B0|53e2;America/Cuiaba|LMT -04 -03|3I.k 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwf.E HdLf.E 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0|54e4;America/Danmarkshavn|LMT -03 -02 GMT|1e.E 30 20 0|01212121212121212121212121212121213|-2a5WJ.k 2z5fJ.k 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0|8;America/Dawson|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 jrA0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|13e2;America/Dawson_Creek|PST PDT PWT PPT MST|80 70 70 70 70|0102301010101010101010101010101010101010101010101010101014|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 ML0|12e3;America/Denver|MST MDT MWT MPT|70 60 60 60|01010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 11B0 1qL0 WN0 mn0 Ord0 8x20 ix0 LCN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5;America/Detroit|LMT CST EST EWT EPT EDT|5w.b 60 50 40 40 40|012342525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2Cgir.N peqr.N 156L0 8x40 iv0 6fd0 11z0 XQp0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e5;America/Edmonton|LMT MST MDT MWT MPT|7x.Q 70 60 60 60|01212121212121341212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2yd4q.8 shdq.8 1in0 17d0 hz0 2dB0 1fz0 1a10 11z0 1qN0 WL0 1qN0 11z0 IGN0 8x20 ix0 3NB0 11z0 LFB0 1cL0 3Cp0 1cL0 66N0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|10e5;America/Eirunepe|LMT -05 -04|4D.s 50 40|0121212121212121212121212121212121|-2glvk.w HdLk.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0|31e3;America/El_Salvador|LMT CST CDT|5U.M 60 50|012121|-1XiG3.c 2Fvc3.c WL0 1qN0 WL0|11e5;America/Tijuana|LMT MST PST PDT PWT PPT|7M.4 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOO0 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|20e5;America/Fort_Nelson|PST PDT PWT PPT MST|80 70 70 70 70|01023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010104|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2;America/Fort_Wayne|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010101023010101010101010101040454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 QI10 Db0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 5Tz0 1o10 qLb0 1cL0 1cN0 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/Fortaleza|LMT -03 -02|2y 30 20|0121212121212121212121212121212121212121|-2glxq HdLq 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0|34e5;America/Glace_Bay|LMT AST ADT AWT APT|3X.M 40 30 30 30|012134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsI0.c CwO0.c 1in0 UGp0 8x50 iu0 iq10 11z0 Jg10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3;America/Godthab|LMT -03 -02|3q.U 30 20|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5Ux.4 2z5dx.4 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e3;America/Goose_Bay|NST NDT NST NDT NWT NPT AST ADT ADDT|3u.Q 2u.Q 3u 2u 2u 2u 40 30 20|010232323232323245232323232323232323232323232323232323232326767676767676767676767676767676767676767676768676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-25TSt.8 1in0 DXb0 2HbX.8 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 S10 g0u 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2;America/Grand_Turk|KMT EST EDT AST|57.b 50 40 40|01212121212121212121212121212121212121212121212121212121212121212121212121232121212121212121212121212121212121212121|-2l1uQ.N 2HHBQ.N 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 5Ip0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2;America/Guatemala|LMT CST CDT|62.4 60 50|0121212121|-24KhV.U 2efXV.U An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0|13e5;America/Guayaquil|QMT -05 -04|5e 50 40|0121|-1yVSK 2uILK rz0|27e5;America/Guyana|LMT -0345 -03 -04|3Q.E 3J 30 40|0123|-2dvU7.k 2r6LQ.k Bxbf|80e4;America/Halifax|LMT AST ADT AWT APT|4e.o 40 30 30 30|0121212121212121212121212121212121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsHJ.A xzzJ.A 1db0 3I30 1in0 3HX0 IL0 1E10 ML0 1yN0 Pb0 1Bd0 Mn0 1Bd0 Rz0 1w10 Xb0 1w10 LX0 1w10 Xb0 1w10 Lz0 1C10 Jz0 1E10 OL0 1yN0 Un0 1qp0 Xb0 1qp0 11X0 1w10 Lz0 1HB0 LX0 1C10 FX0 1w10 Xb0 1qp0 Xb0 1BB0 LX0 1td0 Xb0 1qp0 Xb0 Rf0 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 6i10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4;America/Havana|HMT CST CDT|5t.A 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Meuu.o 72zu.o ML0 sld0 An0 1Nd0 Db0 1Nd0 An0 6Ep0 An0 1Nd0 An0 JDd0 Mn0 1Ap0 On0 1fd0 11X0 1qN0 WL0 1wp0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5;America/Hermosillo|LMT MST CST PST MDT|7n.Q 70 60 80 60|0121212131414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0|64e4;America/Indiana/Knox|CST CDT CWT CPT EST|60 50 50 50 50|0101023010101010101010101010101010101040101010101010101010101010101010101010101010101010141010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 3Cn0 8wp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/Indiana/Marengo|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010104545454545414545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 dyN0 11z0 6fd0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/Indiana/Petersburg|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010104010101010101010101010141014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 3Fb0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/Indiana/Tell_City|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/Indiana/Vevay|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010102304545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 kPB0 Awn0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/Indiana/Vincennes|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/Indiana/Winamac|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010101010454541054545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/Inuvik|-00 PST PDDT MST MDT|0 80 60 70 60|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-FnA0 tWU0 1fA0 wPe0 2pz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|35e2;America/Iqaluit|-00 EWT EPT EST EDDT EDT CST CDT|0 40 40 50 30 40 60 50|01234353535353535353535353535353535353535353567353535353535353535353535353535353535353535353535353535353535353535353535353|-16K00 7nX0 iv0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|67e2;America/Jamaica|KMT EST EDT|57.b 50 40|0121212121212121212121|-2l1uQ.N 2uM1Q.N 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0|94e4;America/Juneau|PST PWT PPT PDT YDT YST AKST AKDT|80 70 70 70 80 90 90 80|01203030303030303030303030403030356767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|33e3;America/Kentucky/Louisville|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101010102301010101010101010101010101454545454545414545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 3Fd0 Nb0 LPd0 11z0 RB0 8x30 iw0 Bb0 10N0 2bB0 8in0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 xz0 gso0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/Kentucky/Monticello|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 SWp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/La_Paz|CMT BOST -04|4w.A 3w.A 40|012|-1x37r.o 13b0|19e5;America/Lima|LMT -05 -04|58.A 50 40|0121212121212121|-2tyGP.o 1bDzP.o zX0 1aN0 1cL0 1cN0 1cL0 1PrB0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0|11e6;America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp1 1VaX 3dA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6;America/Maceio|LMT -03 -02|2m.Q 30 20|012121212121212121212121212121212121212121|-2glxB.8 HdLB.8 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0|93e4;America/Managua|MMT CST EST CDT|5J.c 60 50 50|0121313121213131|-1quie.M 1yAMe.M 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0|22e5;America/Manaus|LMT -04 -03|40.4 40 30|01212121212121212121212121212121|-2glvX.U HdKX.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0|19e5;America/Martinique|FFMT AST ADT|44.k 40 30|0121|-2mPTT.E 2LPbT.E 19X0|39e4;America/Matamoros|LMT CST CDT|6E 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|45e4;America/Mazatlan|LMT MST CST PST MDT|75.E 70 60 80 60|0121212131414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|44e4;America/Menominee|CST CDT CWT CPT EST|60 50 50 50 50|01010230101041010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 LCN0 1fz0 6410 9Jb0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|85e2;America/Merida|LMT CST EST CDT|5W.s 60 50 50|0121313131313131313131313131313131313131313131313131313131313131313131313131313131313131|-1UQG0 2q2o0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|11e5;America/Metlakatla|PST PWT PPT PDT AKST AKDT|80 70 70 70 90 80|0120303030303030303030303030303030454545454545454545454545454545454545454545454|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1hU10 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2;America/Mexico_City|LMT MST CST CDT CWT|6A.A 70 60 50 50|012121232324232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 gEn0 TX0 3xd0 Jb0 6zB0 SL0 e5d0 17b0 1Pff0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|20e6;America/Miquelon|LMT AST -03 -02|3I.E 40 30 20|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2mKkf.k 2LTAf.k gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2;America/Moncton|EST AST ADT AWT APT|50 40 30 30 30|012121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsH0 CwN0 1in0 zAo0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1K10 Lz0 1zB0 NX0 1u10 Wn0 S20 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|64e3;America/Monterrey|LMT CST CDT|6F.g 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|41e5;America/Montevideo|MMT -0330 -03 -02 -0230|3I.I 3u 30 20 2u|012121212121212121212121213232323232324242423243232323232323232323232323232323232323232|-20UIf.g 8jzJ.g 1cLu 1dcu 1cLu 1dcu 1cLu ircu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu WLu 1qMu WLu 1qMu 11zu 1o0u 11zu NAu 11bu 2iMu zWu Dq10 19X0 pd0 jz0 cm10 19X0 1fB0 1on0 11d0 1oL0 1nB0 1fzu 1aou 1fzu 1aou 1fzu 3nAu Jb0 3MN0 1SLu 4jzu 2PB0 Lb0 3Dd0 1pb0 ixd0 An0 1MN0 An0 1wp0 On0 1wp0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5;America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e5;America/Nassau|LMT EST EDT|59.u 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2kNuO.u 26XdO.u 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|24e4;America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6;America/Nipigon|EST EDT EWT EPT|50 40 40 40|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 Rnb0 3je0 8x40 iv0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|16e2;America/Nome|NST NWT NPT BST BDT YST AKST AKDT|b0 a0 a0 b0 a0 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|38e2;America/Noronha|LMT -02 -01|29.E 20 10|0121212121212121212121212121212121212121|-2glxO.k HdKO.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|30e2;America/North_Dakota/Beulah|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/North_Dakota/Center|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/North_Dakota/New_Salem|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;America/Ojinaga|LMT MST CST CDT MDT|6V.E 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3;America/Pangnirtung|-00 AST AWT APT ADDT ADT EDT EST CST CDT|0 40 30 30 20 30 40 50 60 50|012314151515151515151515151515151515167676767689767676767676767676767676767676767676767676767676767676767676767676767676767|-1XiM0 PnG0 8x50 iu0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1o00 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2;America/Paramaribo|LMT PMT PMT -0330 -03|3E.E 3E.Q 3E.A 3u 30|01234|-2nDUj.k Wqo0.c qanX.I 1yVXN.o|24e4;America/Phoenix|MST MDT MWT|70 60 60|01010202010|-261r0 1nX0 11B0 1nX0 SgN0 4Al1 Ap0 1db0 SWqX 1cL0|42e5;America/Port-au-Prince|PPMT EST EDT|4N 50 40|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-28RHb 2FnMb 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5;America/Rio_Branco|LMT -05 -04|4v.c 50 40|01212121212121212121212121212121|-2glvs.M HdLs.M 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0|31e4;America/Porto_Velho|LMT -04 -03|4f.A 40 30|012121212121212121212121212121|-2glvI.o HdKI.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|37e4;America/Puerto_Rico|AST AWT APT|40 30 30|0120|-17lU0 7XT0 iu0|24e5;America/Punta_Arenas|SMT -05 -04 -03|4G.K 50 40 30|0102021212121212121232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 blz0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0;America/Rainy_River|CST CDT CWT CPT|60 50 50 50|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TQ0 1in0 Rnb0 3je0 8x30 iw0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|842;America/Rankin_Inlet|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313131313131313131313131313131313131313131313131313131313131313131|-vDc0 keu0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e2;America/Recife|LMT -03 -02|2j.A 30 20|0121212121212121212121212121212121212121|-2glxE.o HdLE.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|33e5;America/Regina|LMT MST MDT MWT MPT CST|6W.A 70 60 60 60 60|012121212121212121212121341212121212121212121212121215|-2AD51.o uHe1.o 1in0 s2L0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 66N0 1cL0 1cN0 19X0 1fB0 1cL0 1fB0 1cL0 1cN0 1cL0 M30 8x20 ix0 1ip0 1cL0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 3NB0 1cL0 1cN0|19e4;America/Resolute|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313431313131313131313131313131313131313131313131313131313131313131|-SnA0 GWS0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|229;America/Santarem|LMT -04 -03|3C.M 40 30|0121212121212121212121212121212|-2glwl.c HdLl.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0|21e4;America/Santiago|SMT -05 -04 -03|4G.K 50 40 30|010202121212121212321232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 9Bz0 jb0 1oN0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|62e5;America/Santo_Domingo|SDMT EST EDT -0430 AST|4E 50 40 4u 40|01213131313131414|-1ttjk 1lJMk Mn0 6sp0 Lbu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00|29e5;America/Sao_Paulo|LMT -03 -02|36.s 30 20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwR.w HdKR.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 pTd0 PX0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0|20e6;America/Scoresbysund|LMT -02 -01 +00|1r.Q 20 10 0|0121323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2a5Ww.8 2z5ew.8 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|452;America/Sitka|PST PWT PPT PDT YST AKST AKDT|80 70 70 70 90 90 80|01203030303030303030303030303030345656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|90e2;America/St_Johns|NST NDT NST NDT NWT NPT NDDT|3u.Q 2u.Q 3u 2u 2u 2u 1u|01010101010101010101010101010101010102323232323232324523232323232323232323232323232323232323232323232323232323232323232323232323232323232326232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-28oit.8 14L0 1nB0 1in0 1gm0 Dz0 1JB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1fB0 19X0 1fB0 19X0 10O0 eKX.8 19X0 1iq0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4;America/Swift_Current|LMT MST MDT MWT MPT CST|7b.k 70 60 60 60 60|012134121212121212121215|-2AD4M.E uHdM.E 1in0 UGp0 8x20 ix0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 isN0 1cL0 3Cp0 1cL0 1cN0 11z0 1qN0 WL0 pMp0|16e3;America/Tegucigalpa|LMT CST CDT|5M.Q 60 50|01212121|-1WGGb.8 2ETcb.8 WL0 1qN0 WL0 GRd0 AL0|11e5;America/Thule|LMT AST ADT|4z.8 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5To.Q 31NBo.Q 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|656;America/Thunder_Bay|CST EST EWT EPT EDT|60 50 40 40 40|0123141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-2q5S0 1iaN0 8x40 iv0 XNB0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4;America/Vancouver|PST PDT PWT PPT|80 70 70 70|0102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TO0 1in0 UGp0 8x10 iy0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5;America/Whitehorse|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 3NA0 vrd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3;America/Winnipeg|CST CDT CWT CPT|60 50 50 50|010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aIi0 WL0 3ND0 1in0 Jap0 Rb0 aCN0 8x30 iw0 1tB0 11z0 1ip0 11z0 1o10 11z0 1o10 11z0 1rd0 10L0 1op0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 1cL0 1cN0 11z0 6i10 WL0 6i10 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|66e4;America/Yakutat|YST YWT YPT YDT AKST AKDT|90 80 80 80 90 80|01203030303030303030303030303030304545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-17T10 8x00 iz0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|642;America/Yellowknife|-00 MST MWT MPT MDDT MDT|0 70 60 60 50 60|012314151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151|-1pdA0 hix0 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3;Antarctica/Casey|-00 +08 +11|0 -80 -b0|0121212|-2q00 1DjS0 T90 40P0 KL0 blz0|10;Antarctica/Davis|-00 +07 +05|0 -70 -50|01012121|-vyo0 iXt0 alj0 1D7v0 VB0 3Wn0 KN0|70;Antarctica/DumontDUrville|-00 +10|0 -a0|0101|-U0o0 cfq0 bFm0|80;Antarctica/Macquarie|AEST AEDT -00 +11|-a0 -b0 0 -b0|0102010101010101010101010101010101010101010101010101010101010101010101010101010101010101013|-29E80 19X0 4SL0 1ayy0 Lvs0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0|1;Antarctica/Mawson|-00 +06 +05|0 -60 -50|012|-CEo0 2fyk0|60;Pacific/Auckland|NZMT NZST NZST NZDT|-bu -cu -c0 -d0|01020202020202020202020202023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1GCVu Lz0 1tB0 11zu 1o0u 11zu 1o0u 11zu 1o0u 14nu 1lcu 14nu 1lcu 1lbu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1qLu WMu 1qLu 11Au 1n1bu IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|14e5;Antarctica/Palmer|-00 -03 -04 -02|0 30 40 20|0121212121213121212121212121212121212121212121212121212121212121212121212121212121|-cao0 nD0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40;Antarctica/Rothera|-00 -03|0 30|01|gOo0|130;Antarctica/Syowa|-00 +03|0 -30|01|-vs00|20;Antarctica/Troll|-00 +00 +02|0 0 -20|01212121212121212121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|40;Antarctica/Vostok|-00 +06|0 -60|01|-tjA0|25;Europe/Oslo|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2awM0 Qm0 W6o0 5pf0 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 wJc0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1qM0 WM0 zpc0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e4;Asia/Riyadh|LMT +03|-36.Q -30|01|-TvD6.Q|57e5;Asia/Almaty|LMT +05 +06 +07|-57.M -50 -60 -70|012323232323232323232321232323232323232323232323232|-1Pc57.M eUo7.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|15e5;Asia/Amman|LMT EET EEST|-2n.I -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1yW2n.I 1HiMn.I KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e5;Asia/Anadyr|LMT +12 +13 +14 +11|-bN.U -c0 -d0 -e0 -b0|01232121212121212121214121212121212121212121212121212121212141|-1PcbN.U eUnN.U 23CL0 1db0 2q10 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|13e3;Asia/Aqtau|LMT +04 +05 +06|-3l.4 -40 -50 -60|012323232323232323232123232312121212121212121212|-1Pc3l.4 eUnl.4 24PX0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|15e4;Asia/Aqtobe|LMT +04 +05 +06|-3M.E -40 -50 -60|0123232323232323232321232323232323232323232323232|-1Pc3M.E eUnM.E 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|27e4;Asia/Ashgabat|LMT +04 +05 +06|-3R.w -40 -50 -60|0123232323232323232323212|-1Pc3R.w eUnR.w 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0|41e4;Asia/Atyrau|LMT +03 +05 +06 +04|-3r.I -30 -50 -60 -40|01232323232323232323242323232323232324242424242|-1Pc3r.I eUor.I 24PW0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 2sp0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0;Asia/Baghdad|BMT +03 +04|-2V.A -30 -40|012121212121212121212121212121212121212121212121212121|-26BeV.A 2ACnV.A 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0|66e5;Asia/Qatar|LMT +04 +03|-3q.8 -40 -30|012|-21Jfq.8 27BXq.8|96e4;Asia/Baku|LMT +03 +04 +05|-3j.o -30 -40 -50|01232323232323232323232123232323232323232323232323232323232323232|-1Pc3j.o 1jUoj.o WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 9Je0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5;Asia/Bangkok|BMT +07|-6G.4 -70|01|-218SG.4|15e6;Asia/Barnaul|LMT +06 +07 +08|-5z -60 -70 -80|0123232323232323232323212323232321212121212121212121212121212121212|-21S5z pCnz 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 p90 LE0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0;Asia/Beirut|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-21aq0 1on0 1410 1db0 19B0 1in0 1ip0 WL0 1lQp0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 q6N0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|22e5;Asia/Bishkek|LMT +05 +06 +07|-4W.o -50 -60 -70|012323232323232323232321212121212121212121212121212|-1Pc4W.o eUnW.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2e00 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|87e4;Asia/Brunei|LMT +0730 +08|-7D.E -7u -80|012|-1KITD.E gDc9.E|42e4;Asia/Kolkata|MMT IST +0630|-5l.a -5u -6u|012121|-2zOtl.a 1r2LP.a 1un0 HB0 7zX0|15e6;Asia/Chita|LMT +08 +09 +10|-7x.Q -80 -90 -a0|012323232323232323232321232323232323232323232323232323232323232312|-21Q7x.Q pAnx.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3re0|33e4;Asia/Choibalsan|LMT +07 +08 +10 +09|-7C -70 -80 -a0 -90|0123434343434343434343434343434343434343434343424242|-2APHC 2UkoC cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0 h1f0 1cJ0 1cP0 1cJ0|38e3;Asia/Shanghai|CST CDT|-80 -90|01010101010101010|-1c1I0 LX0 16p0 1jz0 1Myp0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0|23e6;Asia/Colombo|MMT +0530 +06 +0630|-5j.w -5u -60 -6u|01231321|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu|22e5;Asia/Dhaka|HMT +0630 +0530 +06 +07|-5R.k -6u -5u -60 -70|0121343|-18LFR.k 1unn.k HB0 m6n0 2kxbu 1i00|16e6;Asia/Damascus|LMT EET EEST|-2p.c -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-21Jep.c Hep.c 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1xRB0 11X0 1oN0 10L0 1pB0 11b0 1oN0 10L0 1mp0 13X0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|26e5;Asia/Dili|LMT +08 +09|-8m.k -80 -90|01212|-2le8m.k 1dnXm.k 1nfA0 Xld0|19e4;Asia/Dubai|LMT +04|-3F.c -40|01|-21JfF.c|39e5;Asia/Dushanbe|LMT +05 +06 +07|-4z.c -50 -60 -70|012323232323232323232321|-1Pc4z.c eUnz.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2hB0|76e4;Asia/Famagusta|LMT EET EEST +03|-2f.M -20 -30 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212312121212121212121212121212121212121212121|-1Vc2f.M 2a3cf.M 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00;Asia/Gaza|EET EEST IST IDT|-20 -30 -20 -30|010101010101010101010101010101012323232323232323232323232320101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0|18e5;Asia/Hebron|EET EEST IST IDT|-20 -30 -20 -30|01010101010101010101010101010101232323232323232323232323232010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0|25e4;Asia/Ho_Chi_Minh|LMT PLMT +07 +08 +09|-76.E -76.u -70 -80 -90|0123423232|-2yC76.E bK00.a 1h7b6.u 5lz0 18o0 3Oq0 k5b0 aW00 BAM0|90e5;Asia/Hong_Kong|LMT HKT HKST JST|-7A.G -80 -90 -90|0121312121212121212121212121212121212121212121212121212121212121212121|-2CFHA.G 1sEP6.G 1cL0 ylu 93X0 1qQu 1tX0 Rd0 1In0 NB0 1cL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1kL0 14N0 1nX0 U10 1tz0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|73e5;Asia/Hovd|LMT +06 +07 +08|-66.A -60 -70 -80|012323232323232323232323232323232323232323232323232|-2APG6.A 2Uko6.A cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|81e3;Asia/Irkutsk|IMT +07 +08 +09|-6V.5 -70 -80 -90|01232323232323232323232123232323232323232323232323232323232323232|-21zGV.5 pjXV.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4;Europe/Istanbul|IMT EET EEST +04 +03|-1U.U -20 -30 -40 -30|012121212121212121212121212121212121212121212121212121234343434342121212121212121212121212121212121212121212121212121212121212124|-2ogNU.U dzzU.U 11b0 8tB0 1on0 1410 1db0 19B0 1in0 3Rd0 Un0 1oN0 11b0 zSp0 CL0 mN0 1Vz0 1gN0 1pz0 5Rd0 1fz0 1yp0 ML0 1kp0 17b0 1ip0 17b0 1fB0 19X0 1jB0 18L0 1ip0 17z0 qdd0 xX0 3S10 Tz0 dA10 11z0 1o10 11z0 1qN0 11z0 1ze0 11B0 WM0 1qO0 WI0 1nX0 1rB0 10L0 11B0 1in0 17d0 1in0 2pX0 19E0 1fU0 16Q0 1iI0 16Q0 1iI0 1Vd0 pb0 3Kp0 14o0 1de0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1a00 1fA0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6;Asia/Jakarta|BMT +0720 +0730 +09 +08 WIB|-77.c -7k -7u -90 -80 -70|01232425|-1Q0Tk luM0 mPzO 8vWu 6kpu 4PXu xhcu|31e6;Asia/Jayapura|LMT +09 +0930 WIT|-9m.M -90 -9u -90|0123|-1uu9m.M sMMm.M L4nu|26e4;Asia/Jerusalem|JMT IST IDT IDDT|-2k.E -20 -30 -40|01212121212132121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-26Bek.E SyMk.E 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 3LB0 Em0 or0 1cn0 1dB0 16n0 10O0 1ja0 1tC0 14o0 1cM0 1a00 11A0 1Na0 An0 1MP0 AJ0 1Kp0 LC0 1oo0 Wl0 EQN0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0|81e4;Asia/Kabul|+04 +0430|-40 -4u|01|-10Qs0|46e5;Asia/Kamchatka|LMT +11 +12 +13|-ay.A -b0 -c0 -d0|012323232323232323232321232323232323232323232323232323232323212|-1SLKy.A ivXy.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|18e4;Asia/Karachi|LMT +0530 +0630 +05 PKT PKST|-4s.c -5u -6u -50 -50 -60|012134545454|-2xoss.c 1qOKW.c 7zX0 eup0 LqMu 1fy00 1cL0 dK10 11b0 1610 1jX0|24e6;Asia/Urumqi|LMT +06|-5O.k -60|01|-1GgtO.k|32e5;Asia/Kathmandu|LMT +0530 +0545|-5F.g -5u -5J|012|-21JhF.g 2EGMb.g|12e5;Asia/Khandyga|LMT +08 +09 +10 +11|-92.d -80 -90 -a0 -b0|0123232323232323232323212323232323232323232323232343434343434343432|-21Q92.d pAp2.d 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|66e2;Asia/Krasnoyarsk|LMT +06 +07 +08|-6b.q -60 -70 -80|01232323232323232323232123232323232323232323232323232323232323232|-21Hib.q prAb.q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5;Asia/Kuala_Lumpur|SMT +07 +0720 +0730 +09 +08|-6T.p -70 -7k -7u -90 -80|0123435|-2Bg6T.p 17anT.p l5XE 17bO 8Fyu 1so1u|71e5;Asia/Kuching|LMT +0730 +08 +0820 +09|-7l.k -7u -80 -8k -90|0123232323232323242|-1KITl.k gDbP.k 6ynu AnE 1O0k AnE 1NAk AnE 1NAk AnE 1NAk AnE 1O0k AnE 1NAk AnE pAk 8Fz0|13e4;Asia/Macau|LMT CST CDT|-7y.k -80 -90|012121212121212121212121212121212121212121|-2le7y.k 1XO34.k 1wn0 Rd0 1wn0 R9u 1wqu U10 1tz0 TVu 1tz0 17gu 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cOu 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cL0|57e4;Asia/Magadan|LMT +10 +11 +12|-a3.c -a0 -b0 -c0|012323232323232323232321232323232323232323232323232323232323232312|-1Pca3.c eUo3.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Cq0|95e3;Asia/Makassar|LMT MMT +08 +09 WITA|-7V.A -7V.A -80 -90 -80|01234|-21JjV.A vfc0 myLV.A 8ML0|15e5;Asia/Manila|+08 +09|-80 -90|010101010|-1kJI0 AL0 cK10 65X0 mXB0 vX0 VK10 1db0|24e6;Asia/Nicosia|LMT EET EEST|-2d.s -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Vc2d.s 2a3cd.s 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|32e4;Asia/Novokuznetsk|LMT +06 +07 +08|-5M.M -60 -70 -80|012323232323232323232321232323232323232323232323232323232323212|-1PctM.M eULM.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|55e4;Asia/Novosibirsk|LMT +06 +07 +08|-5v.E -60 -70 -80|0123232323232323232323212323212121212121212121212121212121212121212|-21Qnv.E pAFv.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 4eN0|15e5;Asia/Omsk|LMT +05 +06 +07|-4R.u -50 -60 -70|01232323232323232323232123232323232323232323232323232323232323232|-224sR.u pMLR.u 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|12e5;Asia/Oral|LMT +03 +05 +06 +04|-3p.o -30 -50 -60 -40|01232323232323232424242424242424242424242424242|-1Pc3p.o eUop.o 23CK0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 1cM0 IM0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|27e4;Asia/Pontianak|LMT PMT +0730 +09 +08 WITA WIB|-7h.k -7h.k -7u -90 -80 -80 -70|012324256|-2ua7h.k XE00 munL.k 8Rau 6kpu 4PXu xhcu Wqnu|23e4;Asia/Pyongyang|LMT KST JST KST|-8n -8u -90 -90|01231|-2um8n 97XR 1lTzu 2Onc0|29e5;Asia/Qyzylorda|LMT +04 +05 +06|-4l.Q -40 -50 -60|0123232323232323232323232323232323232323232323|-1Pc4l.Q eUol.Q 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3ao0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|73e4;Asia/Rangoon|RMT +0630 +09|-6o.L -6u -90|0121|-21Jio.L SmnS.L 7j9u|48e5;Asia/Sakhalin|LMT +09 +11 +12 +10|-9u.M -90 -b0 -c0 -a0|01232323232323232323232423232323232424242424242424242424242424242|-2AGVu.M 1BoMu.M 1qFa0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 2pB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|58e4;Asia/Samarkand|LMT +04 +05 +06|-4r.R -40 -50 -60|01232323232323232323232|-1Pc4r.R eUor.R 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|36e4;Asia/Seoul|LMT KST JST KST KDT KDT|-8r.Q -8u -90 -90 -9u -a0|0123141414141414135353|-2um8r.Q 97XV.Q 1m1zu kKo0 2I0u OL0 1FB0 Rb0 1qN0 TX0 1tB0 TX0 1tB0 TX0 1tB0 TX0 2ap0 12FBu 11A0 1o00 11A0|23e6;Asia/Srednekolymsk|LMT +10 +11 +12|-ae.Q -a0 -b0 -c0|01232323232323232323232123232323232323232323232323232323232323232|-1Pcae.Q eUoe.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|35e2;Asia/Taipei|CST JST CDT|-80 -90 -90|01020202020202020202020202020202020202020|-1iw80 joM0 1yo0 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 10N0 1BX0 10p0 1pz0 10p0 1pz0 10p0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1BB0 ML0 1Bd0 ML0 uq10 1db0 1cN0 1db0 97B0 AL0|74e5;Asia/Tashkent|LMT +05 +06 +07|-4B.b -50 -60 -70|012323232323232323232321|-1Pc4B.b eUnB.b 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0|23e5;Asia/Tbilisi|TBMT +03 +04 +05|-2X.b -30 -40 -50|0123232323232323232323212121232323232323232323212|-1Pc2X.b 1jUnX.b WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cK0 1cL0 1cN0 1cL0 1cN0 2pz0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0|11e5;Asia/Tehran|LMT TMT +0330 +04 +05 +0430|-3p.I -3p.I -3u -40 -50 -4u|01234325252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2btDp.I 1d3c0 1huLT.I TXu 1pz0 sN0 vAu 1cL0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6;Asia/Thimphu|LMT +0530 +06|-5W.A -5u -60|012|-Su5W.A 1BGMs.A|79e3;Asia/Tokyo|JST JDT|-90 -a0|010101010|-QJH0 QL0 1lB0 13X0 1zB0 NX0 1zB0 NX0|38e6;Asia/Tomsk|LMT +06 +07 +08|-5D.P -60 -70 -80|0123232323232323232323212323232323232323232323212121212121212121212|-21NhD.P pxzD.P 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 co0 1bB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Qp0|10e5;Asia/Ulaanbaatar|LMT +07 +08 +09|-77.w -70 -80 -90|012323232323232323232323232323232323232323232323232|-2APH7.w 2Uko7.w cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|12e5;Asia/Ust-Nera|LMT +08 +09 +12 +11 +10|-9w.S -80 -90 -c0 -b0 -a0|012343434343434343434345434343434343434343434343434343434343434345|-21Q9w.S pApw.S 23CL0 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|65e2;Asia/Vladivostok|LMT +09 +10 +11|-8L.v -90 -a0 -b0|01232323232323232323232123232323232323232323232323232323232323232|-1SJIL.v itXL.v 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4;Asia/Yakutsk|LMT +08 +09 +10|-8C.W -80 -90 -a0|01232323232323232323232123232323232323232323232323232323232323232|-21Q8C.W pAoC.W 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|28e4;Asia/Yekaterinburg|LMT PMT +04 +05 +06|-42.x -3J.5 -40 -50 -60|012343434343434343434343234343434343434343434343434343434343434343|-2ag42.x 7mQh.s qBvJ.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|14e5;Asia/Yerevan|LMT +03 +04 +05|-2W -30 -40 -50|0123232323232323232323212121212323232323232323232323232323232|-1Pc2W 1jUnW WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 4RX0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|13e5;Atlantic/Azores|HMT -02 -01 +00 WET|1S.w 20 10 0 0|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121232323232323232323232323232323234323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2ldW5.s aPX5.s Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|25e4;Atlantic/Bermuda|LMT AST ADT|4j.i 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1BnRE.G 1LTbE.G 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e3;Atlantic/Canary|LMT -01 WET WEST|11.A 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UtaW.o XPAW.o 1lAK0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4;Atlantic/Cape_Verde|LMT -02 -01|1y.4 20 10|01212|-2xomp.U 1qOMp.U 7zX0 1djf0|50e4;Atlantic/Faroe|LMT WET WEST|r.4 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2uSnw.U 2Wgow.U 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|49e3;Atlantic/Madeira|FMT -01 +00 +01 WET WEST|17.A 10 0 -10 0 -10|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2ldWQ.o aPWQ.o Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e4;Atlantic/Reykjavik|LMT -01 +00 GMT|1s 10 0 0|012121212121212121212121212121212121212121212121212121212121212121213|-2uWmw mfaw 1Bd0 ML0 1LB0 Cn0 1LB0 3fX0 C10 HrX0 1cO0 LB0 1EL0 LA0 1C00 Oo0 1wo0 Rc0 1wo0 Rc0 1wo0 Rc0 1zc0 Oo0 1zc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0|12e4;Atlantic/South_Georgia|-02|20|0||30;Atlantic/Stanley|SMT -04 -03 -02|3P.o 40 30 20|012121212121212323212121212121212121212121212121212121212121212121212|-2kJw8.A 12bA8.A 19X0 1fB0 19X0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 Cn0 1Cc10 WL0 1qL0 U10 1tz0 2mN0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10|21e2;Australia/Sydney|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|40e5;Australia/Adelaide|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|11e5;Australia/Brisbane|AEST AEDT|-a0 -b0|01010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0|20e5;Australia/Broken_Hill|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|18e3;Australia/Currie|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|746;Australia/Darwin|ACST ACDT|-9u -au|010101010|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0|12e4;Australia/Eucla|+0845 +0945|-8J -9J|0101010101010101010|-293kI xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|368;Australia/Hobart|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 VfB0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|21e4;Australia/Lord_Howe|AEST +1030 +1130 +11|-a0 -au -bu -b0|0121212121313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu|347;Australia/Lindeman|AEST AEDT|-a0 -b0|010101010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0|10;Australia/Melbourne|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|39e5;Australia/Perth|AWST AWDT|-80 -90|0101010101010101010|-293jX xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|18e5;CET|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00;CST6CDT|CST CDT CWT CPT|60 50 50 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;Pacific/Easter|EMT -07 -06 -05|7h.s 70 60 50|012121212121212121212121212123232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1uSgG.w 1s4IG.w WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 2pA0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|30e2;EET|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00;EST|EST|50|0|;EST5EDT|EST EDT EWT EPT|50 40 40 40|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 SgN0 8x40 iv0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;Europe/Dublin|DMT IST GMT BST IST|p.l -y.D 0 -10 -10|01232323232324242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242|-2ax9y.D Rc0 1fzy.D 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 g600 14o0 1wo0 17c0 1io0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5;Etc/GMT+0|GMT|0|0|;Etc/GMT+1|-01|10|0|;Etc/GMT+10|-10|a0|0|;Etc/GMT+11|-11|b0|0|;Etc/GMT+12|-12|c0|0|;Etc/GMT+3|-03|30|0|;Etc/GMT+4|-04|40|0|;Etc/GMT+5|-05|50|0|;Etc/GMT+6|-06|60|0|;Etc/GMT+7|-07|70|0|;Etc/GMT+8|-08|80|0|;Etc/GMT+9|-09|90|0|;Etc/GMT-1|+01|-10|0|;Pacific/Port_Moresby|+10|-a0|0||25e4;Pacific/Pohnpei|+11|-b0|0||34e3;Pacific/Tarawa|+12|-c0|0||29e3;Etc/GMT-13|+13|-d0|0|;Etc/GMT-14|+14|-e0|0|;Etc/GMT-2|+02|-20|0|;Etc/GMT-3|+03|-30|0|;Etc/GMT-4|+04|-40|0|;Etc/GMT-5|+05|-50|0|;Etc/GMT-6|+06|-60|0|;Indian/Christmas|+07|-70|0||21e2;Etc/GMT-8|+08|-80|0|;Pacific/Palau|+09|-90|0||21e3;Etc/UCT|UCT|0|0|;Etc/UTC|UTC|0|0|;Europe/Amsterdam|AMT NST +0120 +0020 CEST CET|-j.w -1j.w -1k -k -20 -10|010101010101010101010101010101010101010101012323234545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2aFcj.w 11b0 1iP0 11A0 1io0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1co0 1io0 1yo0 Pc0 1a00 1fA0 1Bc0 Mo0 1tc0 Uo0 1tA0 U00 1uo0 W00 1s00 VA0 1so0 Vc0 1sM0 UM0 1wo0 Rc0 1u00 Wo0 1rA0 W00 1s00 VA0 1sM0 UM0 1w00 fV0 BCX.w 1tA0 U00 1u00 Wo0 1sm0 601k WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|16e5;Europe/Andorra|WET CET CEST|0 -10 -20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-UBA0 1xIN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|79e3;Europe/Astrakhan|LMT +03 +04 +05|-3c.c -30 -40 -50|012323232323232323212121212121212121212121212121212121212121212|-1Pcrc.c eUMc.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0;Europe/Athens|AMT EET EEST CEST CET|-1y.Q -20 -30 -20 -10|012123434121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a61x.Q CNbx.Q mn0 kU10 9b0 3Es0 Xa0 1fb0 1dd0 k3X0 Nz0 SCp0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|35e5;Europe/London|GMT BST BDST|0 -10 -20|0101010101010101010101010101010101010101010101010121212121210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|10e6;Europe/Belgrade|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19RC0 3IP0 WM0 1fA0 1cM0 1cM0 1rc0 Qo0 1vmo0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5;Europe/Berlin|CET CEST CEMT|-10 -20 -30|01010101010101210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 kL0 Nc0 m10 WM0 1ao0 1cp0 dX0 jz0 Dd0 1io0 17c0 1fA0 1a00 1ehA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e5;Europe/Prague|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 16M0 1lc0 1tA0 17A0 11c0 1io0 17c0 1io0 17c0 1fc0 1ao0 1bNc0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|13e5;Europe/Brussels|WET CET CEST WEST|0 -10 -20 -10|0121212103030303030303030303030303030303030303030303212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ehc0 3zX0 11c0 1iO0 11A0 1o00 11A0 my0 Ic0 1qM0 Rc0 1EM0 UM0 1u00 10o0 1io0 1io0 17c0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a30 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 y00 5Wn0 WM0 1fA0 1cM0 16M0 1iM0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|21e5;Europe/Bucharest|BMT EET EEST|-1I.o -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1xApI.o 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Axc0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|19e5;Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5;Europe/Zurich|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19Lc0 11A0 1o00 11A0 1xG10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e4;Europe/Chisinau|CMT BMT EET EEST CEST CET MSK MSD|-1T -1I.o -20 -30 -20 -10 -30 -40|012323232323232323234545467676767676767676767323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-26jdT wGMa.A 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 27A0 2en0 39g0 WM0 1fA0 1cM0 V90 1t7z0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 gL0 WO0 1cM0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11D0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|67e4;Europe/Copenhagen|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 Tz0 VuO0 60q0 WM0 1fA0 1cM0 1cM0 1cM0 S00 1HA0 Nc0 1C00 Dc0 1Nc0 Ao0 1h5A0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5;Europe/Gibraltar|GMT BST BDST CET CEST|0 -10 -20 -10 -20|010101010101010101010101010101010101010101010101012121212121010121010101010101010101034343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 10Jz0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|30e3;Europe/Helsinki|HMT EET EEST|-1D.N -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1WuND.N OULD.N 1dA0 1xGq0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5;Europe/Kaliningrad|CET CEST CET CEST MSK MSD EEST EET +03|-10 -20 -20 -30 -30 -40 -30 -20 -30|0101010101010232454545454545454546767676767676767676767676767676767676767676787|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 Am0 Lb0 1en0 op0 1pNz0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|44e4;Europe/Kiev|KMT EET MSK CEST CET MSD EEST|-22.4 -20 -30 -20 -10 -40 -30|0123434252525252525252525256161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc22.4 eUo2.4 rnz0 2Hg0 WM0 1fA0 da0 1v4m0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|34e5;Europe/Kirov|LMT +03 +04 +05|-3i.M -30 -40 -50|01232323232323232321212121212121212121212121212121212121212121|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|48e4;Europe/Lisbon|LMT WET WEST WEMT CET CEST|A.J 0 -10 -20 -10 -20|012121212121212121212121212121212121212121212321232123212321212121212121212121212121212121212121214121212121212121212121212121212124545454212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ldXn.f aPWn.f Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 pvy0 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e5;Europe/Luxembourg|LMT CET CEST WET WEST WEST WET|-o.A -10 -20 0 -10 -20 -10|0121212134343434343434343434343434343434343434343434565651212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2DG0o.A t6mo.A TB0 1nX0 Up0 1o20 11A0 rW0 CM0 1qP0 R90 1EO0 UK0 1u20 10m0 1ip0 1in0 17e0 19W0 1fB0 1db0 1cp0 1in0 17d0 1fz0 1a10 1in0 1a10 1in0 17f0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 vA0 60L0 WM0 1fA0 1cM0 17c0 1io0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4;Europe/Madrid|WET WEST WEMT CET CEST|0 -10 -20 -10 -20|010101010101010101210343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-25Td0 19B0 1cL0 1dd0 b1z0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1in0 17d0 iIn0 Hd0 1cL0 bb0 1200 2s20 14n0 5aL0 Mp0 1vz0 17d0 1in0 17d0 1in0 17d0 1in0 17d0 6hX0 11B0 XHX0 1a10 1fz0 1a10 19X0 1cN0 1fz0 1a10 1fC0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e5;Europe/Malta|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1co0 17c0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1co0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4;Europe/Minsk|MMT EET MSK CEST CET MSD EEST +03|-1O -20 -30 -20 -10 -40 -30 -30|01234343252525252525252525261616161616161616161616161616161616161617|-1Pc1O eUnO qNX0 3gQ0 WM0 1fA0 1cM0 Al0 1tsn0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0|19e5;Europe/Monaco|PMT WET WEST WEMT CET CEST|-9.l 0 -10 -20 -10 -20|01212121212121212121212121212121212121212121212121232323232345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 2RV0 11z0 11B0 1ze0 WM0 1fA0 1cM0 1fa0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e3;Europe/Moscow|MMT MMT MST MDST MSD MSK +05 EET EEST MSK|-2u.h -2v.j -3v.j -4v.j -40 -30 -50 -20 -30 -40|012132345464575454545454545454545458754545454545454545454545454545454545454595|-2ag2u.h 2pyW.W 1bA0 11X0 GN0 1Hb0 c4v.j ik0 3DA0 dz0 15A0 c10 2q10 iM10 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|16e6;Europe/Paris|PMT WET WEST CEST CET WEMT|-9.l 0 -10 -20 -10 -20|0121212121212121212121212121212121212121212121212123434352543434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2nco8.l cNb8.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 Ik0 5M30 WM0 1fA0 1cM0 Vx0 hB0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e6;Europe/Riga|RMT LST EET MSK CEST CET MSD EEST|-1A.y -2A.y -20 -30 -20 -10 -40 -30|010102345454536363636363636363727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272|-25TzA.y 11A0 1iM0 ko0 gWm0 yDXA.y 2bX0 3fE0 WM0 1fA0 1cM0 1cM0 4m0 1sLy0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|64e4;Europe/Rome|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1cM0 16M0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1C00 LA0 1zc0 Oo0 1C00 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|39e5;Europe/Samara|LMT +03 +04 +05|-3k.k -30 -40 -50|0123232323232323232121232323232323232323232323232323232323212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2y10 14m0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|12e5;Europe/Saratov|LMT +03 +04 +05|-34.i -30 -40 -50|012323232323232321212121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 5810;Europe/Simferopol|SMT EET MSK CEST CET MSD EEST MSK|-2g -20 -30 -20 -10 -40 -30 -40|012343432525252525252525252161616525252616161616161616161616161616161616172|-1Pc2g eUog rEn0 2qs0 WM0 1fA0 1cM0 3V0 1u0L0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eL0 1cL0 1cN0 1cL0 1cN0 dX0 WL0 1cN0 1cL0 1fB0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4;Europe/Sofia|EET CET CEST EEST|-20 -10 -20 -30|01212103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030|-168L0 WM0 1fA0 1cM0 1cM0 1cN0 1mKH0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5;Europe/Stockholm|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 TB0 2yDe0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|15e5;Europe/Tallinn|TMT CET CEST EET MSK MSD EEST|-1D -10 -20 -20 -30 -40 -30|012103421212454545454545454546363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363|-26oND teD 11A0 1Ta0 4rXl KSLD 2FX0 2Jg0 WM0 1fA0 1cM0 18J0 1sTX0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e4;Europe/Tirane|LMT CET CEST|-1j.k -10 -20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glBj.k 14pcj.k 5LC0 WM0 4M0 1fCK0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4;Europe/Ulyanovsk|LMT +03 +04 +05 +02|-3d.A -30 -40 -50 -20|01232323232323232321214121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0;Europe/Uzhgorod|CET CEST MSK MSD EET EEST|-10 -20 -30 -40 -20 -30|010101023232323232323232320454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-1cqL0 6i00 WM0 1fA0 1cM0 1ml0 1Cp0 1r3W0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 1Nf0 2pw0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e4;Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 3KM0 14o0 LA00 6i00 WM0 1fA0 1cM0 1cM0 1cM0 400 2qM0 1a00 1cM0 1cM0 1io0 17c0 1gHa0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|18e5;Europe/Vilnius|WMT KMT CET EET MSK CEST MSD EEST|-1o -1z.A -10 -20 -30 -20 -40 -30|012324525254646464646464646473737373737373737352537373737373737373737373737373737373737373737373737373737373737373737373|-293do 6ILM.o 1Ooz.A zz0 Mfd0 29W0 3is0 WM0 1fA0 1cM0 LV0 1tgL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4;Europe/Volgograd|LMT +03 +04 +05|-2V.E -30 -40 -50|01232323232323232121212121212121212121212121212121212121212121|-21IqV.E psLV.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5;Europe/Warsaw|WMT CET CEST EET EEST|-1o -10 -20 -20 -30|012121234312121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ctdo 1LXo 11d0 1iO0 11A0 1o00 11A0 1on0 11A0 6zy0 HWP0 5IM0 WM0 1fA0 1cM0 1dz0 1mL0 1en0 15B0 1aq0 1nA0 11A0 1io0 17c0 1fA0 1a00 iDX0 LA0 1cM0 1cM0 1C00 Oo0 1cM0 1cM0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1C00 LA0 uso0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5;Europe/Zaporozhye|+0220 EET MSK CEST CET MSD EEST|-2k -20 -30 -20 -10 -40 -30|01234342525252525252525252526161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc2k eUok rdb0 2RE0 WM0 1fA0 8m0 1v9a0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|77e4;HST|HST|a0|0|;Indian/Chagos|LMT +05 +06|-4N.E -50 -60|012|-2xosN.E 3AGLN.E|30e2;Indian/Cocos|+0630|-6u|0||596;Indian/Kerguelen|-00 +05|0 -50|01|-MG00|130;Indian/Mahe|LMT +04|-3F.M -40|01|-2yO3F.M|79e3;Indian/Maldives|MMT +05|-4S -50|01|-olgS|35e4;Indian/Mauritius|LMT +04 +05|-3O -40 -50|012121|-2xorO 34unO 14L0 12kr0 11z0|15e4;Indian/Reunion|LMT +04|-3F.Q -40|01|-2mDDF.Q|84e4;Pacific/Kwajalein|+11 -12 +12|-b0 c0 -c0|012|-AX0 W9X0|14e3;MET|MET MEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00;MST|MST|70|0|;MST7MDT|MST MDT MWT MPT|70 60 60 60|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;Pacific/Chatham|+1215 +1245 +1345|-cf -cJ -dJ|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-WqAf 1adef IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|600;PST8PDT|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0;Pacific/Apia|LMT -1130 -11 -10 +14 +13|bq.U bu b0 a0 -e0 -d0|01232345454545454545454545454545454545454545454545454545454|-2nDMx.4 1yW03.4 2rRbu 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|37e3;Pacific/Bougainville|+10 +09 +11|-a0 -90 -b0|0102|-16Wy0 7CN0 2MQp0|18e4;Pacific/Efate|LMT +11 +12|-bd.g -b0 -c0|0121212121212121212121|-2l9nd.g 2Szcd.g 1cL0 1oN0 10L0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0|66e3;Pacific/Enderbury|-12 -11 +13|c0 b0 -d0|012|nIc0 B8n0|1;Pacific/Fakaofo|-11 +13|b0 -d0|01|1Gfn0|483;Pacific/Fiji|LMT +12 +13|-bT.I -c0 -d0|0121212121212121212121212121212121212121212121212121212121212121|-2bUzT.I 3m8NT.I LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0|88e4;Pacific/Galapagos|LMT -05 -06|5W.o 50 60|01212|-1yVS1.A 2dTz1.A gNd0 rz0|25e3;Pacific/Gambier|LMT -09|8X.M 90|01|-2jof0.c|125;Pacific/Guadalcanal|LMT +11|-aD.M -b0|01|-2joyD.M|11e4;Pacific/Guam|GST ChST|-a0 -a0|01|1fpq0|17e4;Pacific/Honolulu|HST HDT HST|au 9u a0|010102|-1thLu 8x0 lef0 8Pz0 46p0|37e4;Pacific/Kiritimati|-1040 -10 +14|aE a0 -e0|012|nIaE B8nk|51e2;Pacific/Kosrae|+11 +12|-b0 -c0|010|-AX0 1bdz0|66e2;Pacific/Majuro|+11 +12|-b0 -c0|01|-AX0|28e3;Pacific/Marquesas|LMT -0930|9i 9u|01|-2joeG|86e2;Pacific/Pago_Pago|LMT SST|bm.M b0|01|-2nDMB.c|37e2;Pacific/Nauru|LMT +1130 +09 +12|-b7.E -bu -90 -c0|01213|-1Xdn7.E PvzB.E 5RCu 1ouJu|10e3;Pacific/Niue|-1120 -1130 -11|bk bu b0|012|-KfME 17y0a|12e2;Pacific/Norfolk|+1112 +1130 +1230 +11|-bc -bu -cu -b0|01213|-Kgbc W01G On0 1COp0|25e4;Pacific/Noumea|LMT +11 +12|-b5.M -b0 -c0|01212121|-2l9n5.M 2EqM5.M xX0 1PB0 yn0 HeP0 Ao0|98e3;Pacific/Pitcairn|-0830 -08|8u 80|01|18Vku|56;Pacific/Rarotonga|-1030 -0930 -10|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu|13e3;Pacific/Tahiti|LMT -10|9W.g a0|01|-2joe1.I|18e4;Pacific/Tongatapu|+1220 +13 +14|-ck -d0 -e0|0121212121|-1aB0k 2n5dk 15A0 1wo0 xz0 1Q10 xz0 zWN0 s00|75e3;WET|WET WEST|0 -10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00".split(";"),
links:"Africa/Abidjan|Africa/Bamako Africa/Abidjan|Africa/Banjul Africa/Abidjan|Africa/Conakry Africa/Abidjan|Africa/Dakar Africa/Abidjan|Africa/Freetown Africa/Abidjan|Africa/Lome Africa/Abidjan|Africa/Nouakchott Africa/Abidjan|Africa/Ouagadougou Africa/Abidjan|Africa/Sao_Tome Africa/Abidjan|Africa/Timbuktu Africa/Abidjan|Atlantic/St_Helena Africa/Cairo|Egypt Africa/Johannesburg|Africa/Maseru Africa/Johannesburg|Africa/Mbabane Africa/Lagos|Africa/Bangui Africa/Lagos|Africa/Brazzaville Africa/Lagos|Africa/Douala Africa/Lagos|Africa/Kinshasa Africa/Lagos|Africa/Libreville Africa/Lagos|Africa/Luanda Africa/Lagos|Africa/Malabo Africa/Lagos|Africa/Niamey Africa/Lagos|Africa/Porto-Novo Africa/Maputo|Africa/Blantyre Africa/Maputo|Africa/Bujumbura Africa/Maputo|Africa/Gaborone Africa/Maputo|Africa/Harare Africa/Maputo|Africa/Kigali Africa/Maputo|Africa/Lubumbashi Africa/Maputo|Africa/Lusaka Africa/Nairobi|Africa/Addis_Ababa Africa/Nairobi|Africa/Asmara Africa/Nairobi|Africa/Asmera Africa/Nairobi|Africa/Dar_es_Salaam Africa/Nairobi|Africa/Djibouti Africa/Nairobi|Africa/Kampala Africa/Nairobi|Africa/Mogadishu Africa/Nairobi|Indian/Antananarivo Africa/Nairobi|Indian/Comoro Africa/Nairobi|Indian/Mayotte Africa/Tripoli|Libya America/Adak|America/Atka America/Adak|US/Aleutian America/Anchorage|US/Alaska America/Argentina/Buenos_Aires|America/Buenos_Aires America/Argentina/Catamarca|America/Argentina/ComodRivadavia America/Argentina/Catamarca|America/Catamarca America/Argentina/Cordoba|America/Cordoba America/Argentina/Cordoba|America/Rosario America/Argentina/Jujuy|America/Jujuy America/Argentina/Mendoza|America/Mendoza America/Atikokan|America/Coral_Harbour America/Chicago|US/Central America/Curacao|America/Aruba America/Curacao|America/Kralendijk America/Curacao|America/Lower_Princes America/Denver|America/Shiprock America/Denver|Navajo America/Denver|US/Mountain America/Detroit|US/Michigan America/Edmonton|Canada/Mountain America/Fort_Wayne|America/Indiana/Indianapolis America/Fort_Wayne|America/Indianapolis America/Fort_Wayne|US/East-Indiana America/Halifax|Canada/Atlantic America/Havana|Cuba America/Indiana/Knox|America/Knox_IN America/Indiana/Knox|US/Indiana-Starke America/Jamaica|Jamaica America/Kentucky/Louisville|America/Louisville America/Los_Angeles|US/Pacific America/Los_Angeles|US/Pacific-New America/Manaus|Brazil/West America/Mazatlan|Mexico/BajaSur America/Mexico_City|Mexico/General America/New_York|US/Eastern America/Noronha|Brazil/DeNoronha America/Panama|America/Cayman America/Phoenix|US/Arizona America/Port_of_Spain|America/Anguilla America/Port_of_Spain|America/Antigua America/Port_of_Spain|America/Dominica America/Port_of_Spain|America/Grenada America/Port_of_Spain|America/Guadeloupe America/Port_of_Spain|America/Marigot America/Port_of_Spain|America/Montserrat America/Port_of_Spain|America/St_Barthelemy America/Port_of_Spain|America/St_Kitts America/Port_of_Spain|America/St_Lucia America/Port_of_Spain|America/St_Thomas America/Port_of_Spain|America/St_Vincent America/Port_of_Spain|America/Tortola America/Port_of_Spain|America/Virgin America/Regina|Canada/Saskatchewan America/Rio_Branco|America/Porto_Acre America/Rio_Branco|Brazil/Acre America/Santiago|Chile/Continental America/Sao_Paulo|Brazil/East America/St_Johns|Canada/Newfoundland America/Tijuana|America/Ensenada America/Tijuana|America/Santa_Isabel America/Tijuana|Mexico/BajaNorte America/Toronto|America/Montreal America/Toronto|Canada/Eastern America/Vancouver|Canada/Pacific America/Whitehorse|Canada/Yukon America/Winnipeg|Canada/Central Asia/Ashgabat|Asia/Ashkhabad Asia/Bangkok|Asia/Phnom_Penh Asia/Bangkok|Asia/Vientiane Asia/Dhaka|Asia/Dacca Asia/Dubai|Asia/Muscat Asia/Ho_Chi_Minh|Asia/Saigon Asia/Hong_Kong|Hongkong Asia/Jerusalem|Asia/Tel_Aviv Asia/Jerusalem|Israel Asia/Kathmandu|Asia/Katmandu Asia/Kolkata|Asia/Calcutta Asia/Kuala_Lumpur|Asia/Singapore Asia/Kuala_Lumpur|Singapore Asia/Macau|Asia/Macao Asia/Makassar|Asia/Ujung_Pandang Asia/Nicosia|Europe/Nicosia Asia/Qatar|Asia/Bahrain Asia/Rangoon|Asia/Yangon Asia/Riyadh|Asia/Aden Asia/Riyadh|Asia/Kuwait Asia/Seoul|ROK Asia/Shanghai|Asia/Chongqing Asia/Shanghai|Asia/Chungking Asia/Shanghai|Asia/Harbin Asia/Shanghai|PRC Asia/Taipei|ROC Asia/Tehran|Iran Asia/Thimphu|Asia/Thimbu Asia/Tokyo|Japan Asia/Ulaanbaatar|Asia/Ulan_Bator Asia/Urumqi|Asia/Kashgar Atlantic/Faroe|Atlantic/Faeroe Atlantic/Reykjavik|Iceland Atlantic/South_Georgia|Etc/GMT+2 Australia/Adelaide|Australia/South Australia/Brisbane|Australia/Queensland Australia/Broken_Hill|Australia/Yancowinna Australia/Darwin|Australia/North Australia/Hobart|Australia/Tasmania Australia/Lord_Howe|Australia/LHI Australia/Melbourne|Australia/Victoria Australia/Perth|Australia/West Australia/Sydney|Australia/ACT Australia/Sydney|Australia/Canberra Australia/Sydney|Australia/NSW Etc/GMT+0|Etc/GMT Etc/GMT+0|Etc/GMT-0 Etc/GMT+0|Etc/GMT0 Etc/GMT+0|Etc/Greenwich Etc/GMT+0|GMT Etc/GMT+0|GMT+0 Etc/GMT+0|GMT-0 Etc/GMT+0|GMT0 Etc/GMT+0|Greenwich Etc/UCT|UCT Etc/UTC|Etc/Universal Etc/UTC|Etc/Zulu Etc/UTC|UTC Etc/UTC|Universal Etc/UTC|Zulu Europe/Belgrade|Europe/Ljubljana Europe/Belgrade|Europe/Podgorica Europe/Belgrade|Europe/Sarajevo Europe/Belgrade|Europe/Skopje Europe/Belgrade|Europe/Zagreb Europe/Chisinau|Europe/Tiraspol Europe/Dublin|Eire Europe/Helsinki|Europe/Mariehamn Europe/Istanbul|Asia/Istanbul Europe/Istanbul|Turkey Europe/Lisbon|Portugal Europe/London|Europe/Belfast Europe/London|Europe/Guernsey Europe/London|Europe/Isle_of_Man Europe/London|Europe/Jersey Europe/London|GB Europe/London|GB-Eire Europe/Moscow|W-SU Europe/Oslo|Arctic/Longyearbyen Europe/Oslo|Atlantic/Jan_Mayen Europe/Prague|Europe/Bratislava Europe/Rome|Europe/San_Marino Europe/Rome|Europe/Vatican Europe/Warsaw|Poland Europe/Zurich|Europe/Busingen Europe/Zurich|Europe/Vaduz Indian/Christmas|Etc/GMT-7 Pacific/Auckland|Antarctica/McMurdo Pacific/Auckland|Antarctica/South_Pole Pacific/Auckland|NZ Pacific/Chatham|NZ-CHAT Pacific/Easter|Chile/EasterIsland Pacific/Guam|Pacific/Saipan Pacific/Honolulu|Pacific/Johnston Pacific/Honolulu|US/Hawaii Pacific/Kwajalein|Kwajalein Pacific/Pago_Pago|Pacific/Midway Pacific/Pago_Pago|Pacific/Samoa Pacific/Pago_Pago|US/Samoa Pacific/Palau|Etc/GMT-9 Pacific/Pohnpei|Etc/GMT-11 Pacific/Pohnpei|Pacific/Ponape Pacific/Port_Moresby|Etc/GMT-10 Pacific/Port_Moresby|Pacific/Chuuk Pacific/Port_Moresby|Pacific/Truk Pacific/Port_Moresby|Pacific/Yap Pacific/Tarawa|Etc/GMT-12 Pacific/Tarawa|Pacific/Funafuti Pacific/Tarawa|Pacific/Wake Pacific/Tarawa|Pacific/Wallis".split(" ")});
return g});
zk.mm = window.moment; window.moment = temp; }
zkver('8.5.2.1','2018082816','','/zkau',{'ckez':'4.4.6.3','zss':'3.9.2','otr':'1.4'},{ed:'e',eu:{},eup:{}});}zk.load('zul.lang',function(){if(zk._p=zkpi('zul'))try{
(function(){function e(c,a){return new zul.wgt.Button({label:msgzul[c.toUpperCase()]||c,listeners:{onClick:function(b){"function"==typeof a&&a.call(this,b);b=this.desktop;this.$o().detach();zAu.disabledRequest&&(zAu.disabledRequest=!1,zAu.sendNow(b))}}})}function g(c){var a=[],b;for(b in c){var d=c[b];a.push(e(b,"function"==typeof d?d:null))}a.length||a.push(e(msgzul.OK));return a}jq(function(){var c=zk.themeName,a="iceblue";c&&(a=c);jq(document.body).addClass(a)});var h=jq.alert,f={QUESTION:"z-messagebox-icon z-messagebox-question",
EXCLAMATION:"z-messagebox-icon z-messagebox-exclamation",INFORMATION:"z-messagebox-icon z-messagebox-information",ERROR:"z-messagebox-icon z-messagebox-error",NONE:"z-messagebox z-messagebox-none"};jq.alert=function(c,a){if(a&&"os"==a.mode)return h(c);a=a||{};zk.load("zul.wnd,zul.wgt,zul.box",function(){var b;if(b=zk.Widget.$(jq("$aualert"))){b=b.$f("msg");var d=b.parent;d=d.$n();b.setValue(b.getValue()+"\n"+c);!d.style.height&&d.offsetHeight>=.6*jq.innerHeight()&&(d.style.height=jq.px0(.6*jq.innerHeight()))}else b=
new zul.wnd.Window({id:"aualert",closable:!0,width:"250pt",sclass:"z-messagebox-window",title:a.title||zk.appName,border:"normal",listeners:{onClose:function(){zAu.disabledRequest&&(zAu.disabledRequest=!1,zAu.sendNow(this.desktop))}},children:[new zul.box.Box({mold:"horizontal",children:[new zul.wgt.Div({sclass:f[(a.icon||"").toUpperCase()]||a.icon||f.INFORMATION}),new zul.wgt.Div({id:"content",sclass:"z-messagebox",style:"overflow:auto",children:[new zul.wgt.Label({id:"msg",value:c,multiline:!0})]})]}),
new zul.wgt.Separator,new zul.box.Hlayout({sclass:"z-messagebox-buttons",children:g(a.button)})],mode:a.mode||"modal"}),(d=a.desktop||zk.Desktop.$())&&(d=d.firstChild)&&d.desktop?d.appendChild(b):jq(document.body).append(b)})};zAu.wrongValue_=function(c,a){var b=c.effects_;b.errMesg&&(b.errMesg.destroy(),delete b.errMesg);!1!==a&&(b.errMesg={destroy:zk.$void},zk.load("zul.inp",function(){b.errMesg&&(b.errMesg=new zul.inp.Errorbox(c,a)).show()}))}})();

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(d,h,f){if(null==d)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(h instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return d+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,h,f){d!=Array.prototype&&d!=Object.prototype&&(d[h]=f.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,h,f,m){if(h){f=$jscomp.global;d=d.split(".");for(m=0;m<d.length-1;m++){var k=d[m];k in f||(f[k]={});f=f[k]}d=d[d.length-1];m=f[d];h=h(m);h!=m&&null!=h&&$jscomp.defineProperty(f,d,{configurable:!0,writable:!0,value:h})}};
$jscomp.polyfill("String.prototype.startsWith",function(d){return d?d:function(d,f){var h=$jscomp.checkStringArgs(this,d,"startsWith");d+="";var k=h.length,q=d.length;f=Math.max(0,Math.min(f|0,h.length));for(var n=0;n<q&&f<k;)if(h[f++]!=d[n++])return!1;return n>=q}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(d){return d?d:function(d,f){var h=$jscomp.checkStringArgs(this,d,"endsWith");d+="";void 0===f&&(f=h.length);f=Math.max(0,Math.min(f|0,h.length));for(var k=d.length;0<k&&0<f;)if(h[--f]!=d[--k])return!1;return 0>=k}},"es6","es3");
(function(){function d(a,e,b,c){l!=a||p!=e?(m(),n={tip:a,ref:e,params:b,timer:setTimeout(function(){var a=n;if(a){l=a.tip;p=a.ref;n=null;var b=p.$n();if(b&&zk(b).isRealVisible()){a=a.params;b=a.x;var e=a.y;b&&(a.x=q(c,b));e&&(a.y=q(c,e));l.open(p,void 0!==a.x?[a.x,a.y]:zk.currentPointer,a.position?a.position:null===a.x?"after_pointer":null,{sendOnOpen:!0})}else l=p=null}},void 0!==b.delay?b.delay:zk.tipDelay)}):f()}function h(){var a=n;a&&(n=null,clearTimeout(a.timer))}function f(){var a=r;a&&(r=
null,clearTimeout(a))}function m(){h();f();var a=l;if(a&&a.desktop){var e=jq(a.$n()),b=e.offset(),c=zk.currentPointer;c[0]>=b.left&&c[0]<=b.left+e.width()&&c[1]>=b.top&&c[1]<=b.top+e.height()||(l=p=null,a.close({sendOnOpen:!0}))}}function k(a){zk.error("setCtrlKeys: "+a)}function q(a,e){return-1!=e.indexOf("(")&&-1!=e.indexOf(")")?(new Function("event","return "+e+";"))(a):zk.parseInt(e)}var n,r,l,p;zul.Widget=zk.$extends(zk.Widget,{getContext:function(){return this._context},setContext:function(a){zk.Widget.isInstance(a)&&
(a="uuid("+a.uuid+")");this._context=a;return this},getPopup:function(){return this._popup},setPopup:function(a){zk.Widget.isInstance(a)&&(a="uuid("+a.uuid+")");this._popup=a;return this},getTooltip:function(){return this._tooltip},setTooltip:function(a){zk.Widget.isInstance(a)&&(a="uuid("+a.uuid+")");this._tooltip=a;return this},getCtrlKeys:function(){return this._ctrlKeys},setCtrlKeys:function(a){if(this._ctrlKeys!=a){if(a){for(var e=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],b=0,c=0,d=a.length;c<
d;++c){var g=a.charAt(c);switch(g){case "^":case "@":case "$":case "%":var f="^"==g?1:"@"==g?2:"$"==g?4:8;if(0!=(b&f))return k("Unexpected key combination: "+a);b|=f;break;case "#":for(f=c+1;f<d;++f){var h=a.charAt(f);if(("Z"<h||"A">h)&&("z"<h||"a">h)&&("9"<h||"0">h))break}if(f==c+1)return k("Unexpected character "+g+" in "+a);c=a.substring(c+1,f).toLowerCase();if("pgup"==c)g=33;else if("pgdn"==c)g=34;else if("end"==c)g=35;else if("home"==c)g=36;else if("left"==c)g=37;else if("up"==c)g=38;else if("right"==
c)g=39;else if("down"==c)g=40;else if("ins"==c)g=45;else if("del"==c)g=46;else if("bak"==c)g=8;else if(1<c.length&&"f"==c.charAt(0)){c=zk.parseInt(c.substring(1));if(0==c||12<c)return k("Unsupported function key: #f"+c);g=112+c-1}else return k("Unknown #"+c+" in "+a);e[b][g]=!0;b=0;c=f-1;break;default:if(!b||("Z"<g||"A">g)&&("z"<g||"a">g)&&("9"<g||"0">g))return k("Unexpected character "+g+" in "+a);if(4==b)return k("$a - $z not supported (found in "+a+"). Allowed: $#f1, $#home and so on.");"z">=g&&
"a"<=g&&(g=g.toUpperCase());e[b][g.charCodeAt(0)]=!0;b=0}}this._parsedCtlKeys=e;this._ctrlKeys=a;return this}this._ctrlKeys=this._parsedCtlKeys=null}},_parsePopParams:function(a,e){var b={},c=a.indexOf(","),d=a.indexOf("="),g=a;-1!=d&&(g=a.substring(0,a.substring(0,d).lastIndexOf(",")));if(-1!=c){b.id=g.substring(0,c).trim();if(c=g.substring(c+1,g.length))b.position=c.trim();zk.copy(b,zUtl.parseMap(a.substring(g.length,a.length)))}else b.id=a.trim();if(this._popup||this._context)a=b.x,g=b.y,a&&(b.x=
q(e,a)),g&&(b.y=q(e,g));b.delay&&(b.delay=zk.parseInt(b.delay));return b},doClick_:function(a,e){if(!this.shallIgnoreClick_(a)&&!a.contextSelected){var b=this._popup?this._parsePopParams(this._popup,a):{},c=this._smartFellow(b.id);if(c){a.contextSelected=!0;var d=this,g=void 0!==b.x?[b.x,b.y]:[a.pageX,a.pageY];b.type&&"toggle"==b.type&&c.isOpen()?c.close({sendOnOpen:!0}):(c._fakeParent=this,setTimeout(function(){d.desktop&&c.open(d,g,b.position?b.position:null,{sendOnOpen:!0,type:b.type,which:1})},
0));a.stop({dom:!0})}}!0!==e&&this.$supers("doClick_",arguments)},doRightClick_:function(a){if(!this.shallIgnoreClick_(a)&&!a.contextSelected){var e=this._context?this._parsePopParams(this._context,a):{},b=this._smartFellow(e.id);if(b){a.contextSelected=!0;var c=this,d=void 0!==e.x?[e.x,e.y]:[a.pageX,a.pageY];e.type&&"toggle"==e.type&&b.isOpen()?b.close({sendOnOpen:!0}):(b._fakeParent=this,setTimeout(function(){c.desktop&&b.open(c,d,e.position?e.position:null,{sendOnOpen:!0,type:e.type,which:3})},
0));a.stop({dom:!0})}}this.$supers("doRightClick_",arguments)},doTooltipOver_:function(a){var e;if(e=!a.tooltipped)l&&!l.isOpen()&&(h(),f(),l=p=null),(e=l&&zUtl.isAncestor(l,this))&&f(),e=!e;if(e){e=this._tooltip?this._parsePopParams(this._tooltip):{};var b=this._smartFellow(e.id);b&&(a.tooltipped=!0,d(b,this,e,a))}this.$supers("doTooltipOver_",arguments)},doTooltipOut_:function(a){p==this||l==this?(f(),r=setTimeout(m,100)):h();this.$supers("doTooltipOut_",arguments)},_smartFellow:function(a){return a?
a.startsWith("uuid(")&&a.endsWith(")")?zk.Widget.$(a.substring(5,a.length-1)):this.$f(a,!0):null},doKeyDown_:function(a){this.getCtrlKeys()||this.isListen("onOK")||this.isListen("onCancel")?this.afterKeyDown_(a)||this.$supers("doKeyDown_",arguments):this.$supers("doKeyDown_",arguments)},afterKeyDown_:function(a){var e=a.keyCode,b="onCtrlKey",c=zk.mac&&a.metaKey;switch(e){case 13:var d=a.domTarget;var g=jq.nodeName(d);if("textarea"==g||!("button"!=g||d.id&&d.id.endsWith("-a"))||"input"==g&&"button"==
d.type.toLowerCase())return;g=b="onOK";break;case 27:g=b="onCancel";break;case 16:case 17:case 18:return;case 45:case 46:case 8:break;default:if(!(33<=e&&40>=e||112<=e&&123>=e||a.ctrlKey||a.altKey||c))return}for(var f=d=a.target;;f=f.parent){if(!f)return;if(f.isListen(b,{any:!0})){if(g)break;var h=f._parsedCtlKeys,k=0;if(h&&(a.ctrlKey&&(k|=1),a.altKey&&(k|=2),a.shiftKey&&(k|=4),c&&(k|=8),h[k][e]))break}}setTimeout(function(){for(var c=d;;c=c.parent){if(c.beforeCtrlKeys_&&c.beforeCtrlKeys_(a))return;
if(c==f)break}f.fire(b,zk.copy({reference:d},a.data))},0);a.stop();jq.nodeName(a.domTarget,"select")&&a.stop({dom:!0,revoke:!0});11>zk.ie&&112==e&&(zk._oldOnHelp=window.onhelp,window.onhelp=function(){return!1},setTimeout(function(){window.onhelp=zk._oldOnHelp;zk._oldOnHelp=null},200));return!0},beforeCtrlKeys_:function(a){}},{getOpenTooltip:function(){return l&&l.isOpen()?l:null}})})();

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
zul.LabelImageWidget=zk.$extends(zul.Widget,{_label:"",$define:{label:_zkf=function(){this.desktop&&this.updateDomContent_()},iconSclass:_zkf,image:function(a){a&&this._preloadImage&&zUtl.loadImage(a);var b=this.getImageNode(),c=jq(b);b?(a=a||"",jq.nodeName(b,"img")?b.src=a:c.css("background-image","url("+a+")"),c[a?"show":"hide"]()):this.desktop&&this.updateDomContent_()},hoverImage:null},updateDomContent_:function(){this.rerender()},domImage_:function(){var a=this._image;return a?'<img src="'+a+
'" align="absmiddle" />':""},domIcon_:function(){var a=this.getIconSclass(),b="";if(a){b=a.split(",");var c=b.length;if(1<c){a=['<span class="z-icon-stack">'];for(var d=0;d<c;d++){var e=b[d];e&&a.push('<i class="'+e+'"></i>')}a.push("</span>");b=a.join("")}else b='<i class="'+a+'"></i>'}return b},domLabel_:function(){return zUtl.encodeXML(this.getLabel())},domContent_:function(){var a=this.domLabel_(),b=this.domIcon_(),c=this.domImage_();return c?b?c+" "+b+(a?" "+a:""):a?c+" "+a:c:b?a?b+" "+a:b:a},
doMouseOver_:function(){this._updateHoverImage(!0);this.$supers("doMouseOver_",arguments)},doMouseOut_:function(){this._updateHoverImage();this.$supers("doMouseOut_",arguments)},getImageNode:function(){if(!this._eimg&&this._image){var a=this.$n();a&&(this._eimg=jq(a).find("img:first")[0])}return this._eimg},_updateHoverImage:function(a){var b=this.getImageNode();a=a?this._hoverImage:this._image;b&&this._hoverImage&&(jq.nodeName(b,"img")?b.src=a:jq(b).css("background-image","url("+a+")"))},clearCache:function(){this._eimg=
null;this.$supers("clearCache",arguments)}});

zul.ContainerWidget=zk.$extends(zul.Widget,{bind_:function(){this.$supers(zul.ContainerWidget,"bind_",arguments);jq(this).data("scrollable")&&this.domListen_(this.getCaveNode(),"onScroll")},_doScroll:function(){jq(this).data("scrollable")&&zWatch.fireDown("onScroll",this)},unbind_:function(){jq(this).data("scrollable")&&this.domUnlisten_(this.getCaveNode(),"onScroll");this.$supers(zul.ContainerWidget,"unbind_",arguments)}});

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(d,g,e){if(null==d)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return d+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,g,e){d!=Array.prototype&&d!=Object.prototype&&(d[g]=e.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,g,e,h){if(g){e=$jscomp.global;d=d.split(".");for(h=0;h<d.length-1;h++){var k=d[h];k in e||(e[k]={});e=e[k]}d=d[d.length-1];h=e[d];g=g(h);g!=h&&null!=g&&$jscomp.defineProperty(e,d,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("String.prototype.startsWith",function(d){return d?d:function(d,e){var h=$jscomp.checkStringArgs(this,d,"startsWith");d+="";var g=h.length,l=d.length;e=Math.max(0,Math.min(e|0,h.length));for(var m=0;m<l&&e<g;)if(h[e++]!=d[m++])return!1;return m>=l}},"es6","es3");
(function(){function d(a,b,c){b=a.getKey(b);var f=a.uploaders[b];f&&f.destroy(c);delete a.uploaders[b]}function g(a){var b=this._ctrl;a=b._wgt;var c=a.desktop;c=zk.ajaxURI("/upload?uuid="+a.uuid+"&dtid="+c.id+"&sid="+b.sid+(b.isNative?"&native=true":""),{desktop:c,au:!0});a=this.form;a.action=c;c=a.parentNode;c.parentNode.removeChild(c);b._formDetached=!0;if(this.files&&1!=this.files.length){b=this.files;c=[];for(var f=b.length;f--;)c.unshift(b[f].name);c=c.join(",")}else c=this.value;b=this._ctrl;
f=c;c=b.getKey(b.sid);a=new zul.Uploader(b,c,a,f);zul.Upload.start(a);b.uploaders[c]=a;b.sid++;b.initContent()}function e(a,b){b=zul.UploadViewer.flman;b&&b.desktop||(b&&b.detach(),zul.UploadViewer.flman=b=new zul.UploadManager,a.getWidget().getPage().appendChild(b));b.removeFile(a);b.addFile(a)}function h(a,b){if(zul.UploadManager)return e(a,b);zk.load("zul.wgt,zul.box",function(){zul.UploadManager=zk.$extends(zul.wgt.Popup,{$init:function(){this.$supers("$init",arguments);this._files={};this.setSclass("z-fileupload-manager")},
onFloatUp:function(a){this.isVisible()&&this.setTopmost()},getFileItem:function(a){return this._files[a]||zk.Widget.$(a)},addFile:function(a){var b=a.id;a=a.flnm;var c=this.getFileItem(b);if(!c){c=new zul.wgt.Div({uuid:b,children:[new zul.wgt.Label({value:a+":"}),new zul.box.Box({mold:"horizontal",children:[new zul.wgt.Progressmeter({id:b,sclass:"z-fileupload-progress"}),new zul.wgt.Div({sclass:"z-fileupload-remove z-icon-times",listeners:{onClick:function(){var a=b.substring(0,b.indexOf("_uplder_"));
zul.Uploader.clearInterval(b);(a=zk.Widget.$(a))&&a._uplder.cancel(b.substring(b.lastIndexOf("_")+1,b.length))}}})]}),new zul.wgt.Label({id:b+"_total"}),new zul.wgt.Separator]});try{this.appendChild(c)}catch(n){zk.debugLog(n.message||n)}this._files[b]=c}return c},updateFile:function(a,b,d){a=a.id;var c=this.getFileItem(a);c&&(c.$f(a).setValue(b),c.$f(a+"_total").setValue(d))},removeFile:function(a){a=a.id;var b=this.getFileItem(a);b&&b.detach();delete this._files[a];a=!0;for(var c in this._files){a=
!1;break}a&&this.close()},open:function(a,b){this.$super("open",a,null,b||"after_start",{sendOnOpen:!1,disableMask:!0})}});e(a,b)})}if(zk.opera){var k=[],l,m=function(){for(var a=k.length;a--;)k[a].sync()};var p=function(a){k.length||(l=setInterval(m,1500));k.push(a)};var q=function(a){k.$remove(a);l&&!k.length&&(clearInterval(l),l=null)}}zul.Upload=zk.$extends(zk.Object,{sid:0,$init:function(a,b,c){this.uploaders={};var f;c=c.split(",");for(var d=0,n=c.length;d<n;d++){var e=c[d].trim();e.startsWith("maxsize=")?
this.maxsize=e.match(new RegExp(/maxsize=([^,]*)/))[1]:e.startsWith("multiple=")?this.multiple=e.match(new RegExp(/multiple=([^,]*)/))[1]:e.startsWith("accept=")?this.accept=e.match(new RegExp(/accept=([^,]*)/))[1]:"native"==e?this.isNative=!0:"true"!=e&&(f=e)}this._clsnm=f||"";this._wgt=a;this._parent=b;a._tooltiptext&&(this._tooltiptext=a._tooltiptext);this.initContent()},sync:function(){if(!this._formDetached){var a=this._wgt.$n(),b=this._parent,c=b?b.lastChild:a.nextSibling;b=c.firstChild.firstChild;
var f=zk(a).revisedOffset(),d=jq(c).css({top:"0",left:"0"}).zk.revisedOffset(),e=b.offsetWidth-a.offsetWidth;c=c.style;c.top=f[1]-d[1]+"px";c.left=f[0]-d[0]-e+"px";b.style.height=a.offsetHeight+"px";b.style.clip="rect(auto,auto,auto,"+e+"px)"}},initContent:function(){var a=this._wgt,b=this._parent,c=a.$n(),f='<span class="z-upload"'+(this._tooltiptext?' title="'+zUtl.encodeXML(this._tooltiptext)+'"':"")+'><form enctype="multipart/form-data" method="POST"><input name="file" type="file"'+("true"==this.multiple?
' multiple="" multiple':"")+(this.accept?' accept="'+this.accept.replace(/\|/g,",")+'"':"")+' hidefocus="true" style="height:'+c.offsetHeight+'px"/></form></span>';b?jq(b).append(f):jq(a).after(f);delete this._formDetached;if(!a._autodisable_self){var d=this;setTimeout(function(){d.sync()},50)}b=this._outer=b?b.lastChild:c.nextSibling;this._inp=f=b.firstChild.firstChild;zk.opera&&(b.style.position="absolute",p(this));f.z$proxy=c;f._ctrl=this;jq(f).change(g);10>=zk.ie&&jq(f).hover(function(){jq(a).addClass("z-upload-hover")},
function(){jq(a).removeClass("z-upload-hover")})},openFileDialog:function(){jq(this._inp).click()},destroy:function(){zk.opera&&q(this);jq(this._outer).remove();this._wgt=this._parent=this._inp=null;for(var a in this.uploaders){var b=this.uploaders[a];b&&(delete this.uploaders[a],b.destroy())}},getKey:function(a){return(this._wgt?this._wgt.uuid:"")+"_uplder_"+a},cancel:function(a){d(this,a)},finish:function(a){d(this,a,!0)}},{error:function(a,b,c){var d=zk.Widget.$(b);d&&(jq.alert(a,{desktop:d.desktop,
icon:"ERROR"}),zul.Upload.close(b,c))},close:function(a,b){(a=zk.Widget.$(a))&&a._uplder&&a._uplder.cancel(b)},sendResult:function(a,b,c){(a=zk.Widget.$(a))&&a._uplder&&(a._uplder.finish(c),zAu.send(new zk.Event(a.desktop,"updateResult",{contentId:b,wid:a.uuid,sid:c})))},isFinish:function(a){a=("string"==typeof a?a:a.uuid)+"_uplder_";for(var b=zul.Upload.files,c=b.length;c--;)if(b[0].id.startsWith(a))return!1;return!0},start:function(a){var b=zul.Upload.files;a&&b.push(a);b[0]&&!b[0].isStart&&(b[0].isStart=
!0,b[0].start())},destroy:function(a){for(var b=zul.Upload.files,c=b.length;c--;)if(b[c].id==a.id){b.splice(c,1);break}zul.Upload.start()},files:[]});zul.Uploader=zk.$extends(zk.Object,{$init:function(a,b,c,d){this.id=b;this.flnm=d;this._upload=a;this._form=c;this._parent=c.parentNode;this._sid=a.sid;this._wgt=a._wgt;var f,e=this;a._clsnm?zk.$import(a._clsnm,function(a){f=new a(e,d)}):f=new zul.UploadViewer(this,d);this.viewer=f},getWidget:function(){return this._wgt},destroy:function(a){this.end(a);
this._form&&(jq(this._form.parentNode).remove(),jq("#"+this.id+"_ifm").remove());this._form=this._upload=this._wgt=null},start:function(){function a(){jq.ajax({type:"POST",url:zk.ajaxURI("/upload",{desktop:b.desktop,au:!0}),data:e,dataType:"text",success:function(a){var c=a.split(",");a.startsWith("error:")?(d._echo=!0,zul.Uploader.clearInterval(d.id),b&&(d.cancel(),zul.Upload.error(a.substring(6,a.length),b.uuid,d._sid))):a.startsWith("ignore")||d.update(zk.parseInt(c[0]),zk.parseInt(c[1]))||zul.Uploader.clearInterval(d.id)},
complete:function(a,b){var c;if("404"==(c=a.getResponseHeader("ZK-Error"))||"410"==c||"error"==b||404==b||405==b||410==b)if(zul.Uploader.clearInterval(d.id),a=d.getWidget())d.cancel(),zul.Upload.error(msgzk.FAILED_TO_RESPONSE,a.uuid,d._sid)}})}var b=this._wgt,c=this.id+"_ifm";document.body.appendChild(this._parent);jq("#"+c).length||jq.newFrame(c);this._form.target=c;this._form.submit();this._form.style.display="none";var d=this,e="cmd=uploadInfo&dtid="+b.desktop.id+"&wid="+b.uuid+"&sid="+this._sid;
zul.Uploader._tmupload&&clearInterval(zul.Uploader._tmupload);a.id=this.id;zul.Uploader.clearInterval=function(b){a.id==b&&(clearInterval(zul.Uploader._tmupload),zul.Uploader._tmupload=void 0)};zul.Uploader._tmupload=setInterval(a,100);zul.wgt.ADBS.autodisable(b)},cancel:function(){zul.Uploader.clearInterval(this.id);this._upload&&this._upload.cancel(this._sid)},update:function(a,b){if(!this.getWidget()||0>=b)if(this._echo)this.end();else return!0;else if(zul.Uploader._tmupload)return this._echo=
!0,0<=a&&100>=a&&this.viewer.update(a,b),0<=a&&100>a;return!1},end:function(a){this.viewer.destroy(a);zul.Upload.destroy(this);this._echo=!0;var b,c,d;(a=this._wgt)&&(b=this._upload)&&(c=b._aded)&&(a._uplder=null,c.onResponse(),b._aded=null,a._uplder.destroy(),(d=b._parent)&&!jq(d).parents("html").length&&(b._parent=a._getUploadRef(),b.initContent()),a._uplder=b,a._uplder.sync(),delete a._autodisable_self)}});zul.UploadViewer=zk.$extends(zk.Object,{$init:function(a,b){this._uplder=a;h(a,b)},update:function(a,
b){var c=zul.UploadViewer.flman;c&&(c.isOpen()||c.open(this._uplder.getWidget()),c.updateFile(this._uplder,a,msgzk.FILE_SIZE+Math.round(b/1024)+msgzk.KBYTES))},destroy:function(){var a=zul.UploadViewer.flman;a&&a.removeFile(this._uplder)}})})();

(function(f){function q(a,d){if(a._isVer){var b=d[1];0>b-a._start?b=d[1]=a._start:b>a._end&&(b=d[1]=a._end)}else b=d[0],0>b-a._start?b=d[0]=a._start:b>a._end&&(b=d[0]=a._end);if(a._lastPos&&3>Math.abs(a._lastPos-b))return d;a._lastPos=b;return d}function r(a){var d=a.control,b=d.opts;a._steps=b.startStep;a._endStep=b.endStep-b.viewport;a._scale=d._scale;a._epos=d.epos;a._lastP=a._start;d._isVer?(a._isVer=!0,a._start=b.startPosition,f(d.eend).isVisible()?(a._end=d.eend.offsetTop+Math.ceil(a.handle.offsetHeight/
2),a._end>b.viewportSize+a._start&&(a._end=b.viewportSize+a._start)):a._end=b.viewportSize+a._start,a._end-=a.node.offsetHeight-d._gap):(a._isVer=!1,a._start=b.startPosition,f(d.eend).isVisible()?(a._end=d.eend.offsetLeft+Math.ceil(a.handle.offsetWidth/2),a._end>b.viewportSize+a._start&&(a._end=b.viewportSize+a._start)):a._end=b.viewportSize+a._start,a._end-=a.node.offsetWidth-d._gap);jq(a._epos).show().delay(200).fadeIn(500);a._timer&&clearTimeout(a._timer);var c,e=[],g=10,m=function(b){var h=f.parseFloat(a.node.style[b]),
l=h-f.parseFloat(a._epos.style[b]);if(c==h){if(e.push(a._lastSteps),4<e.length&&e.shift()==a._lastSteps){e[0]=a._lastSteps;clearTimeout(a._timer);a._timer=setTimeout(function(){m(b)},100);return}}else g=10;c=h;var n=0<l,p=n?Math.max(0,l/a._scale):Math.min(0,l/a._scale),k=Math.round(d.$class.easing(g/600,g,0,p,600));n?1<p&&(k=Math.max(1,k)):1<-p&&(k=Math.min(-1,k));0==l&&0==k&&(h==a._start?k=-a._steps:h==a._end&&(k=a._endStep-a._steps));a._steps+=k;n?a._steps>a._endStep&&(a._steps=a._endStep):0>a._steps&&
(a._steps=0);a._epos.style[b]=a._start+a._scale*a._steps+"px";g+=30;a._lastSteps!=a._steps&&(a._lastSteps=a._steps,h="top"==b?d.opts.onScrollY:d.opts.onScrollX,"function"==typeof h&&h.call(a.control.widget,a._steps+d.opts.offset));clearTimeout(a._timer);a._timer=setTimeout(function(){m(b)},30)};a._timer=setTimeout(function(){m(a._isVer?"top":"left")},50)}function t(a,d){d=a.control;a._timer&&clearTimeout(a._timer);if(a._isVer){var b=f.parseInt(a._epos.style.top);end=a._end;b>end&&(b=end);jq(a.node).animate({top:b+
"px"},400,"swing")}else b=f.parseInt(a._epos.style.left),end=a._end,b>end&&(b=end),jq(a.node).animate({left:b+"px"},400,"swing");d.opts.startStep=a._steps;d._syncButtonStatus();d=jq(a._epos).css("opacity");jq(a._epos).delay(300).fadeOut(500).css("opacity",d)}function u(a,d,b){return a.control.edragBody!=b.domTarget}zul.WScroll=f.$extends(f.Object,{_gap:0,$init:function(a,d){this.control=a;this.opts=f.$default(d,{orient:"horizontal",startPosition:0,startStep:0,offset:0});this.anchor=this.opts.anchor||
a.parentNode;this.widget=f.Widget.$(a);this.uid=this.widget.uuid;this.zcls=this.widget.getZclass();this._isVer="vertical"==d.orient;if(!d.viewportSize&&0!=d.viewportSize)throw"Handle required for a viewport size: {viewportSize: size}";this.redraw(this.anchor);this._initDragdrop();this._listenMouseEvent();!1!==this.opts.syncSize&&this.syncSize();this._syncButtonStatus()},syncSize:function(a){a&&(this.opts=f.copy(this.opts,a));this.edrag.style.display="";if(this._isVer){a=this.opts;var d=a.startPosition;
var b=a.startStep;var c=a.viewport;var e=a.endStep;var g=a.viewportSize;e-=c;c=this.edrag.offsetHeight-this._gap;0>=e?(this.eend.style.display=this.edrag.style.display="none","function"==typeof this.opts.onScrollY&&this.opts.onScrollY.call(this.widget,a.offset)):(g-=c,g>e?(this.epos.style.height=c+"px",this._scale=1,a=this.eend.style,a.display="",a.top=d+c+e+"px"):(a=g/e,this.epos.style.height=Math.max(c*a,5)+"px",this._scale=a,this.eend.style.display="none",10>g&&(this.edrag.style.display="none")),
b=d+this._scale*b,g=d+g,b>g&&(b=g),this.epos.style.top=this.edrag.style.top=b+"px")}else a=this.opts,d=a.startPosition,b=a.startStep,c=a.viewport,e=a.endStep,g=a.viewportSize,e-=c,c=this.edrag.offsetWidth-this._gap,0>=e?(this.eend.style.display=this.edrag.style.display="none","function"==typeof this.opts.onScrollX&&this.opts.onScrollX.call(this.widget,a.offset)):(g-=c,g>e?(this.epos.style.width=c+"px",this._scale=1,a=this.eend.style,a.display="",a.left=d+c+e+"px"):(a=g/e,this.epos.style.width=Math.max(c*
a,5)+"px",this._scale=a,this.eend.style.display="none",10>g&&(this.edrag.style.display="none")),b=d+this._scale*b,g=d+g,b>g&&(b=g),this.epos.style.left=this.edrag.style.left=b+"px")},_listenMouseEvent:function(){this._isVer?jq(this.control).mousewheel(this.proxy(this._mousewheelY)):11>f.ie&&f.opera||jq(this.control).mousewheel(this.proxy(this._mousewheelX));var a=jq(this.edrag);a.children("div").mouseover(this.proxy(this._mouseOver)).mouseout(this.proxy(this._mouseOut)).bind("mouseup",this.proxy(this._mouseUp)).bind("mousedown",
this.proxy(this._mouseDown));a.click(f.$void)},_unlistenMouseEvent:function(){this._isVer?jq(this.control).unmousewheel(this.proxy(this._mousewheelY)):11>f.ie&&f.opera||jq(this.control).unmousewheel(this.proxy(this._mousewheelX));var a=jq(this.edrag);a.children("div").unbind("mouseover",this.proxy(this._mouseOver)).unbind("mouseout",this.proxy(this._mouseOut)).unbind("mouseup",this.proxy(this._mouseUp)).unbind("mousedown",this.proxy(this._mouseDown));a.unbind("click",f.$void)},_mouseOver:function(a){a=
a.target.className;var d=a.lastIndexOf("-"),b=a.substring(d+1);d=jq(this.edrag);d.hasClass(a+"-clk")&&d.removeClass(a+"-clk");switch(b){case "home":case "up":0<this.opts.startStep&&d.addClass(a+"-over");break;case "down":case "end":b=this.opts,b.startStep<b.endStep-b.viewport&&d.addClass(a+"-over")}},_mouseOut:function(a){a=a.target.className;var d=jq(this.edrag);d.removeClass(a+"-over");d.hasClass(a+"-clk")&&d.removeClass(a+"-clk")},_mouseUp:function(a){jq(this.edrag).removeClass(a.target.className+
"-clk")},_mouseDown:function(a){a=a.target.className;var d=a.lastIndexOf("-");var b=a.substring(d+1);d=jq(this.edrag);if(d.hasClass(a+"-over")||f.mobile){d.addClass(a+"-clk");var c=this.opts;switch(b){case "home":0<c.startStep&&(c.startStep=0,this._isVer?(b=c.startPosition+"px",this.epos.style.top=b,d.animate({top:b},500),"function"==typeof this.opts.onScrollY&&this.opts.onScrollY.call(this.widget,c.startStep+c.offset)):(b=c.startPosition+"px",this.epos.style.left=b,d.animate({left:b},500),"function"==
typeof this.opts.onScrollX&&this.opts.onScrollX.call(this.widget,c.startStep+c.offset)),d.removeClass(a+"-over"));break;case "up":if(0<c.startStep){--c.startStep;var e=c.startPosition+c.startStep*this._scale;this._isVer?(b=f(this.eend).isVisible()?this.eend.offsetTop:c.viewportSize+c.startPosition,b-=this.edrag.offsetHeight-this._gap,this.epos.style.top=e+"px",this.edrag.style.top=b<e?b+"px":e+"px","function"==typeof this.opts.onScrollY&&this.opts.onScrollY.call(this.widget,c.startStep+c.offset)):
(b=f(this.eend).isVisible()?this.eend.offsetLeft:c.viewportSize+c.startPosition,b-=this.edrag.offsetWidth-this._gap,this.epos.style.left=e+"px",this.edrag.style.left=b<e?b+"px":e+"px","function"==typeof this.opts.onScrollX&&this.opts.onScrollX.call(this.widget,c.startStep+c.offset));0==c.startStep&&d.removeClass(a+"-over")}break;case "down":c.startStep<c.endStep-c.viewport&&(c.startStep+=1,e=c.startPosition+c.startStep*this._scale,this._isVer?(b=f(this.eend).isVisible()?this.eend.offsetTop:c.viewportSize+
c.startPosition,b-=this.edrag.offsetHeight-this._gap,this.epos.style.top=e+"px",this.edrag.style.top=b<e?b+"px":e+"px","function"==typeof this.opts.onScrollY&&this.opts.onScrollY.call(this.widget,c.startStep+c.offset)):(b=f(this.eend).isVisible()?this.eend.offsetLeft:c.viewportSize+c.startPosition,b-=this.edrag.offsetWidth-this._gap,this.epos.style.left=e+"px",this.edrag.style.left=b<e?b+"px":e+"px","function"==typeof this.opts.onScrollX&&this.opts.onScrollX.call(this.widget,c.startStep+c.offset)),
c.startStep==c.endStep-c.viewport&&d.removeClass(a+"-over"));break;case "end":c.startStep<c.endStep-c.viewport&&(c.startStep=c.endStep-c.viewport,this._isVer?(b=f(this.eend).isVisible()?this.eend.offsetTop-(this.edrag.offsetHeight-this._gap):c.startPosition+c.viewportSize-(this.edrag.offsetHeight-this._gap),this.epos.style.top=b,d.animate({top:b},500),"function"==typeof this.opts.onScrollY&&this.opts.onScrollY.call(this.widget,c.startStep+c.offset)):(b=f(this.eend).isVisible()?this.eend.offsetLeft-
(this.edrag.offsetWidth-this._gap):c.startPosition+c.viewportSize-(this.edrag.offsetWidth-this._gap),this.epos.style.left=b,d.animate({left:b},500),"function"==typeof this.opts.onScrollX&&this.opts.onScrollX.call(this.widget,c.startStep+c.offset)),d.removeClass(a+"-over"))}this._syncButtonStatus()}},_mousewheelY:function(a,d,b,c){if(c){a.stop();a=this.opts;d=a.startStep;b=a.endStep-a.viewport;var e=this._scale,g=this.widget;0<c?(a.startStep-=Math.max(Math.round(g._cols/5),1),0>a.startStep&&(a.startStep=
0)):(a.startStep+=Math.max(Math.round(g._cols/5),1),a.startStep>b&&(a.startStep=b));d!=a.startStep&&(c=a.startPosition+a.startStep*e,d=f(this.eend).isVisible()?this.eend.offsetTop-(this.edrag.offsetHeight-this._gap):a.startPosition+a.viewportSize-(this.edrag.offsetHeight-this._gap),this.epos.style.top=c+"px",c>d&&(c=d),this.edrag.style.top=c+"px","function"==typeof this.opts.onScrollY&&this.opts.onScrollY.call(this.widget,a.startStep+a.offset),this._syncButtonStatus())}},_mousewheelX:function(a,d,
b,c){if(b){a.stop();a=this.opts;d=a.startStep;c=a.endStep-a.viewport;var e=this._scale,g=this.widget;0>b?(a.startStep-=Math.max(Math.round(g._cols/5),1),0>a.startStep&&(a.startStep=0)):(a.startStep+=Math.max(Math.round(g._cols/5),1),a.startStep>c&&(a.startStep=c));d!=a.startStep&&(b=a.startPosition+a.startStep*e,d=f(this.eend).isVisible()?this.eend.offsetLeft-(this.edrag.offsetWidth-this._gap):a.startPosition+a.viewportSize-(this.edrag.offsetWidth-this._gap),this.epos.style.left=b+"px",b>d&&(b=d),
this.edrag.style.left=b+"px","function"==typeof this.opts.onScrollX&&this.opts.onScrollX.call(this.widget,a.startStep+a.offset),this._syncButtonStatus())}},_initDragdrop:function(){this.node=jq(this.uid+"-"+(this._isVer?"v":"h")+"bar",f)[0];this.edrag=this.node.firstChild;this.edragBody=this.edrag.childNodes[2];this.epos=this.edrag.nextSibling;this.eend=this.node.lastChild;var a=this.epos.style,d=a.display;a.display="block";this._gap=this._isVer?this.edrag.offsetHeight-this.epos.offsetHeight:this.edrag.offsetWidth-
this.epos.offsetWidth;a.display=d;this.drag=new f.Draggable(this,this.edrag,{constraint:this._isVer?"vertical":"horizontal",snap:q,starteffect:r,zIndex:12E3,ignoredrag:u,endeffect:t});jq(this.epos).hide()},destroy:function(){this.drag.destroy();this._unlistenMouseEvent();jq(this.node).remove();this.node=this.edrag=this.epos=this.drag=null},redraw:function(a){var d=this._isVer?"vertical":"horizontal",b=this.uid+"-"+(this._isVer?"v":"h")+"bar",c=this.widget.$s("wscroll");jq(a).append('<div id="'+b+
'" class="'+c+"-"+d+'"><div class="'+c+'-drag"><div class="'+c+'-home" title="'+msgzul.WS_HOME+'"></div><div class="'+c+'-up" title="'+msgzul.WS_PREV+'"></div><div class="'+c+'-body"></div><div class="'+c+'-down" title="'+msgzul.WS_NEXT+'"></div><div class="'+c+'-end" title="'+msgzul.WS_END+'"></div></div><div class="'+c+'-pos"></div><div class="'+c+'-endbar"></div></div>')},_syncButtonStatus:function(){var a=this.zcls+"-wscroll",d=jq(this.edrag),b=this.opts;d.toggleClass(a+"-head",0==b.startStep);
d.toggleClass(a+"-tail",b.startStep==b.endStep-b.viewport)}},{easing:function(a,d,b,c,e){return-c*((d=d/e-1)*d*d*d-1)+b}})})(zk);

(function(m){function t(b,a,c){var e=0==c,d=b.$n(a);b=b.$n(a+"-embed");d&&(d=d.style,d.display=e?"none":"block",d.opacity=c,9>m.ie&&(d.filter="alpha(opacity="+100*c+")"));b&&(d=b.style,d.display=e?"block":"none")}function w(b,a,c){if(a>c)return b;b<a&&(b=a);b>c&&(b=c);return b}zul.Scrollbar=m.$extends(m.Object,{_pos:null,_barPos:null,_pressTimer:null,_frozenScroll:0,_frozenLimit:!1,$n:function(b){return jq(this.uid+"-"+b,m)[0]},$init:function(b,a,c){if(!b||!a)throw"Both wrapper and scroller dom element are required to generate scrollbar";
this.cave=b;var e=b.style;e.position="relative";e.overflow="hidden";this.scroller=a;this.opts=m.$default(c,{embed:!1,step:20,wheelAmountStep:3,startPositionX:0,startPositionY:0});this.widget=m.Widget.$(b);this.uid=this.widget.uuid;this._pos=[0,0];this._barPos=[0,0];this.currentPos={x:this._pos[0],y:this._pos[1]};jq(b).bind("scroll",this.proxy(this._fixScroll)).bind("mouseenter",this.proxy(this._mouseEnter)).bind("mouseleave",this.proxy(this._mouseLeave))},destroy:function(){jq(this.cave).unbind("scroll",
this.proxy(this._fixScroll)).unbind("mouseenter",this.proxy(this._mouseEnter)).unbind("mouseleave",this.proxy(this._mouseLeave));this._unbindMouseEvent("hor");this._unbindMouseEvent("ver");var b=this.$n("hor"),a=this.$n("ver");b&&jq(b).remove();a&&jq(a).remove();this.opts.embed&&(b=this.$n("hor-embed"),a=this.$n("ver-embed"),b&&jq(b).remove(),a&&jq(a).remove());this._pos=this._barPos=this.currentPos=null},hasVScroll:function(){return this.needV},hasHScroll:function(){return this.needH},syncSize:function(b){this._checkBarRequired();
var a=this.widget;var c=a.frozen;var e=0;var d=a.$n("tpad");var f=a.$n("bpad");var g=this.cave,h=this.scroller,r=this.$n("hor");a=this.$n("ver");var y=this.needH,n=this.needV,u=this.opts,v=h.scrollHeight;d&&f&&(v+=d.offsetHeight+f.offsetHeight);c&&(e=50*(c._scrollScale||0));if(y){c=r.style.display;r.style.display="block";d=this.$n("hor-embed");var m=this.$n("hor-left"),w=this.$n("hor-right");f=this.$n("hor-wrapper");var p=f.style;var k=u.startPositionX,q=g.offsetWidth-k;h=h.scrollWidth-k+e;var x=
m.offsetWidth,z=w.offsetWidth,l=q-x-z;h<q&&(h=q+e);k&&(m.style.left=jq.px(k),p.left=jq.px(k+x),d&&(d.style.left=jq.px(k)));n?(p.width=jq.px(l-z),w.style.right=jq.px(z),p=a.style.display,a.style.display="block",h+=a.offsetWidth,a.style.display=p):p.width=jq.px(l);p=this.$n("hor-indicator");f=f.offsetWidth;e=Math.round(f*q/h);e=15<e?e:15;p.style.width=e+"px";d&&(d.style.width=e+x+z+"px");this.hLimit=h-q;d=f-e;0>=d?(this.hBarLimit=0,p.style.display="none"):this.hBarLimit=d;this.hRatio=Math.abs(this.hLimit/
this.hBarLimit);this.needH=p.offsetHeight;r.style.display=c}n&&(c=a.style.display,a.style.display="block",d=this.$n("ver-embed"),n=this.$n("ver-up"),q=this.$n("ver-down"),f=this.$n("ver-wrapper"),p=f.style,h=u.startPositionY,u=g.offsetHeight-h,v-=h,n=n.offsetHeight,e=q.offsetHeight,x=u-n-e,h&&(a.style.top=jq.px(g.offsetTop+h),q.style.bottom=jq.px(h),d&&(d.style.top=a.style.top)),y?(p.height=jq.px0(x-e),q.style.bottom=jq.px(h+e),g=r.style.display,r.style.display="block",v+=r.offsetHeight,r.style.display=
g):p.height=jq.px(x),p=this.$n("ver-indicator"),r=f.offsetHeight,g=Math.round(r*u/v),g=15<g?g:15,p.style.height=g+"px",d&&(d.style.height=g+n+e+"px"),this.vLimit=v-u,d=r-g,0>=d?(this.vBarLimit=0,p.style.display="none"):this.vBarLimit=d,this.vRatio=Math.abs(this.vLimit/this.vBarLimit),this.needV=p.offsetWidth,a.style.display=c);this.scrollTo(this._pos[0],this._pos[1]);b&&(t(this,"hor",1),t(this,"ver",1))},scrollTo:function(b,a){if(this.needH){b=w(b,0,this.hLimit);var c=b/this.hRatio;this._syncPosition("hor",
b);this._syncBarPosition("hor",c);this._syncEmbedBarPosition("hor",b+c)}this.needV&&(a=w(a,0,this.vLimit),c=a/this.vRatio,this._syncPosition("ver",a),this._syncBarPosition("ver",c),this._syncEmbedBarPosition("ver",a+c));this._onScrollEnd()},scrollToElement:function(b){var a=this.cave,c=jq(b).offset().top,e=c+b.offsetHeight,d=jq(b).offset().left,f=d+b.offsetWidth,g=jq(a).offset().top,h=g+a.offsetHeight,r=jq(a).offset().left,y=r+a.offsetWidth,n=!0;a=b.offsetWidth==a.offsetWidth;(f>=r&&f<=y||d>=r&&d<=
y||d<=r&&f>=y)&&(c>=g&&c<=h||e>=g&&e<=h||c<=g&&e>=h)||(c<g&&(n=!1),d<r&&(a=!1),c=n?e-h:g-c,n=this._pos[1]+(n?c:-c),d=a?f-y:r-d,d=this._pos[0]+(a?d:-d),this.needV&&(n=w(n,0,this.vLimit),f=n/this.vRatio,this._syncPosition("ver",n),this._syncBarPosition("ver",f),this._syncEmbedBarPosition("ver",n+f)),this.needH&&(d=w(d,0,this.hLimit),f=d/this.hRatio,this._syncPosition("hor",d),this._syncBarPosition("hor",f),this._syncEmbedBarPosition("hor",d+f)),this._onScrollEnd(),m(b).scrollIntoView())},isScrollIntoView:function(b){var a=
this.cave,c=jq(b).offset().top,e=c+b.offsetHeight,d=jq(b).offset().left;b=d+b.offsetWidth;var f=jq(a).offset().top,g=f+a.offsetHeight,h=jq(a).offset().left;a=h+a.offsetWidth;return this.needV&&e<=g&&c>=f||this.needH&&b<=a&&d>=h?!0:!1},getCurrentPosition:function(){return this.currentPos},setBarPosition:function(b){var a=this.widget.frozen;a&&this.needH&&(b*=this.hBarLimit/a._scrollScale,this._syncBarPosition("hor",b),this._syncEmbedBarPosition("hor",b))},_checkBarRequired:function(){var b=this.cave,
a=this.scroller;this.needH=this.widget.frozen?!0:b.offsetWidth<a.scrollWidth;var c=this.$n("hor");this.needH?this.$n("hor")||(this.redraw(b,"hor"),this._bindMouseEvent("hor")):c&&(this._unbindMouseEvent("hor"),this._syncPosition("hor",0),jq(c).remove(),this.opts.embed&&(c=this.$n("hor-embed"))&&jq(c).remove());this.needV=b.offsetHeight<a.offsetHeight;a=this.$n("ver");this.needV?a||(this.redraw(b,"ver"),this._bindMouseEvent("ver")):a&&(this._unbindMouseEvent("ver"),this._syncPosition("ver",0),jq(a).remove(),
this.opts.embed&&(b=this.$n("ver-embed"))&&jq(b).remove())},_bindMouseEvent:function(b){var a=this.cave,c="hor"==b,e=this.$n(b),d=this.$n(b+"-indicator"),f=this.$n(b+"-rail"),g=this.$n(b+(c?"-left":"-up"));b=this.$n(b+(c?"-right":"-down"));!c||11>m.ie&&m.opera?jq(a).mousewheel(this.proxy(this._mousewheelY)):jq(a).mousewheel(this.proxy(this._mousewheelX));jq(e).click(m.$void);jq(d).bind("mousedown",this.proxy(this._dragStart));jq(f).bind("mousedown",this.proxy(this._mouseDown)).bind("mouseup",this.proxy(this._mouseUp));
jq(g).bind("mousedown",this.proxy(this._mouseDown)).bind("mouseup",this.proxy(this._mouseUp));jq(b).bind("mousedown",this.proxy(this._mouseDown)).bind("mouseup",this.proxy(this._mouseUp))},_unbindMouseEvent:function(b){var a=this.cave,c="hor"==b,e=this.$n(b),d=this.$n(b+"-indicator"),f=this.$n(b+"-rail"),g=this.$n(b+(c?"-left":"-up"));b=this.$n(b+(c?"-right":"-down"));!c||11>m.ie&&m.opera?jq(a).unmousewheel(this.proxy(this._mousewheelY)):jq(a).unmousewheel(this.proxy(this._mousewheelX));jq(e).unbind("click",
m.$void);jq(d).unbind("mousedown",this.proxy(this._dragStart));jq(f).unbind("mousedown",this.proxy(this._mouseDown)).unbind("mouseup",this.proxy(this._mouseUp));jq(g).unbind("mousedown",this.proxy(this._mouseDown)).unbind("mouseup",this.proxy(this._mouseUp));jq(b).unbind("mousedown",this.proxy(this._mouseDown)).unbind("mouseup",this.proxy(this._mouseUp))},_fixScroll:function(b){b=this.cave;this.dragging||this.scrollTo(b.scrollLeft,b.scrollTop)},_mouseEnter:function(b){t(this,"hor",1);t(this,"ver",
1)},_mouseLeave:function(b){this.dragging||(t(this,"hor",0),t(this,"ver",0))},_dragStart:function(b){this._pressTimer&&(clearInterval(this._pressTimer),this._pressTimer=null);b.preventDefault();var a=this.$n("hor-indicator")==b.currentTarget?"hor":"ver",c="hor"==a;b={orient:a,point:c?b.pageX:b.pageY,pos:c?this._barPos[0]:this._barPos[1]};jq(document).bind("mousemove",b,this.proxy(this._dragMove)).bind("mouseup",this.proxy(this._dragEnd))},_dragEnd:function(b){var a=b.pageX;b=b.pageY;var c=this.cave,
e=jq(c).offset().left,d=jq(c).offset().top;jq(document).unbind("mousemove",this.proxy(this._dragMove)).unbind("mouseup",this.proxy(this._dragEnd));this.dragging=!1;if(a<e||a>e+c.offsetWidth||b<d||b>d+c.offsetHeight)t(this,"hor",0),t(this,"ver",0)},_dragMove:function(b){var a=b.data;var c=a.orient,e=a.point;a=a.pos;var d="hor"==c,f=(d?b.pageX:b.pageY)-e;b=d?this.hBarLimit:this.vBarLimit;e=d?this.hRatio:this.vRatio;var g=this.widget.frozen;this.dragging=!0;f=w(a+f,0,b);this._syncBarPosition(c,f);g&&
d?(g._doScroll(f/(b/g._scrollScale)),this._syncEmbedBarPosition("hor",f)):(a=f*e,this._syncPosition(c,a),this._syncEmbedBarPosition(c,a+f),this._onScrollEnd())},_mousewheelX:function(b,a,c,e){a=this.opts;a=a.step*a.wheelAmountStep;e=this._pos[0];c&&(b.stop(),e=w(e+(0<c?-a:a)+a,0,this.hLimit),b=this.widget.frozen,c=e/this.hRatio,b?(a=this.hBarLimit/b._scrollScale,c/=a,b._doScroll(c),this._syncEmbedBarPosition("hor",c)):(this._syncPosition("hor",e),this._syncEmbedBarPosition("hor",e+c)),this._syncBarPosition("hor",
c),this._onScrollEnd())},_mousewheelY:function(b,a,c,e){a=this.opts;c=a.step*a.wheelAmountStep;a=this._pos[1];e&&(e=0<e,e&&0==a||!e&&a==this.vLimit||(b.stop(),a=w(a+(e?-c:c),0,this.vLimit),b=a/this.vRatio,this._syncPosition("ver",a),this._syncBarPosition("ver",b),this._syncEmbedBarPosition("ver",a+b),this._onScrollEnd()))},_mouseUp:function(b){clearInterval(this._pressTimer);this._pressTimer=null},_mouseDown:function(b){var a;this._pressTimer&&(clearInterval(this._pressTimer),this._pressTimer=null);
var c=b.currentTarget,e=this.$n("hor-rail"),d=this.$n("ver-rail"),f=this.$n("ver-up"),g=this.$n("ver-down"),h=this.$n("hor-left"),r=this.$n("hor-right"),m=this.widget.frozen,n=this.hBarLimit,u=m?n/m._scrollScale:this.opts.step;if(c==e||c==d){var v=(a=c==e)?"hor":"ver";e=jq(c).offset();e=a?e.left:e.top;d=this.$n(v+"-indicator");var t=(a?b.pageX:b.pageY)-e-(a?d.offsetWidth:d.offsetHeight)/2;var A=a?this.hLimit:this.vLimit;var p=a?this.hRatio:this.vRatio;var k=a?this._pos[0]:this._pos[1];var q=a?this._barPos[0]:
this._barPos[1];var x=t*p,z=10*u;var l=this;m?(t=w(t,0,n),l._syncBarPosition("hor",t),l._syncEmbedBarPosition("hor",t),m._doScroll(t/u)):l._pressTimer=setInterval(function(){var a=t>q;var b=a?k:x;b=0>b?0:b;var c=a?x:k;c=c>A?A:c;k+=a?z:-z;k=w(k,b,c);a=k/p;if(k==x||k<=b||k>=c)clearInterval(l._pressTimer),l._pressTimer=null;l._syncPosition(v,k);l._syncBarPosition(v,a);l._syncEmbedBarPosition(v,k+a);l._onScrollEnd()},50)}if(c==h||c==r||c==f||c==g)l=this,v=(a=c==h||c==r)?"hor":"ver",A=a?l.hLimit:l.vLimit,
p=a?l.hRatio:l.vRatio,k=a?l._pos[0]:l._pos[1],q=l._barPos[0],l._pressTimer=setInterval(function(){m&&a?(q+=c==h?-u:u,q=w(q,0,n),l._syncBarPosition(v,q),l._syncEmbedBarPosition(v,q),m._doScroll(q/u)):(k=a?k+(c==h?-u:u):k+(c==f?-u:u),k=w(k,0,A),q=k/p,l._syncPosition(v,k),l._syncBarPosition(v,q),l._syncEmbedBarPosition(v,k+q),l._onScrollEnd())},50)},_syncPosition:function(b,a){if(this._pos){var c="hor"==b,e=this.cave;b=this.$n(b);var d=this.opts.embed;b&&(a=Math.round(a),this._pos[c?0:1]=a,b.style[c?
"left":"top"]=a+"px",c&&this.needV&&(this.$n("ver").style.right=-a+"px",d&&(this.$n("ver-embed").style.right=-a+"px")),!c&&this.needH&&(this.$n("hor").style.bottom=-a+"px",d&&(this.$n("hor-embed").style.bottom=-a+"px")),e[c?"scrollLeft":"scrollTop"]=a,a=this.opts.onSyncPosition)&&(this.currentPos={x:this._pos[0],y:this._pos[1]},a.call(this))}},_syncBarPosition:function(b,a){var c="hor"==b;b=this.$n(b+"-indicator");this._barPos[c?0:1]=a;b.style[c?"left":"top"]=a+"px"},_syncEmbedBarPosition:function(b,
a){if(this.opts.embed){var c="hor"==b;b=this.$n(b+"-embed");var e=this.opts;b.style[c?"left":"top"]=a+(c?e.startPositionX:e.startPositionY)+"px"}},_onScrollEnd:function(){var b=this.opts.onScrollEnd;b&&(this.currentPos={x:this._pos[0],y:this._pos[1]},b.call(this))},redraw:function(b,a){var c="hor"==a;a=this.uid+"-"+a;var e=c?"horizontal":"vertical",d=c?"left":"up";c=c?"right":"down";var f="";this.opts.embed&&(f+='<div id="'+a+'-embed" class="z-scrollbar-'+e+'-embed"></div>');f+='<div id="'+a+'" class="z-scrollbar z-scrollbar-'+
e+'"><div id="'+a+"-"+d+'" class="z-scrollbar-'+d+'"><i class="z-icon-caret-'+d+'"></i></div><div id="'+a+'-wrapper" class="z-scrollbar-wrapper"><div id="'+a+'-indicator" class="z-scrollbar-indicator"><i class="z-scrollbar-icon z-icon-reorder"></i></div><div id="'+a+'-rail" class="z-scrollbar-rail"></div></div><div id="'+a+"-"+c+'" class="z-scrollbar-'+c+'"><i class="z-icon-caret-'+c+'"></i></div></div>';jq(b).append(f)}})})(zk);


}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul',1);zk.load('zul',function(){if(zk._p=zkpi('zul.wgt'))try{
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,g=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var f=0;f<g&&c<e;)if(b[c++]!=a[f++])return!1;return f>=g}},"es6","es3");
zul.wgt.A=zk.$extends(zul.LabelImageWidget,{_dir:"normal",$define:{disabled:[function(a,b){b&&b.adbs?this._adbs=!0:b&&void 0!==b.adbs||(this._adbs=!1);if(!a)if(this._adbs)this._adbs=!1;else if(b&&!1===b.adbs)return this._disabled;return a},function(a){this.desktop&&jq(this.$n()).attr("disabled",a)}],dir:_zkf=function(){var a=this.$n();a&&(a.innerHTML=this.domContent_())},href:function(a){var b=this.$n();b&&(b.href=a||"")},target:function(a){var b=this.$n();b&&(b.target=a||"")},autodisable:null},bind_:function(){this.$supers(zul.wgt.A,
"bind_",arguments);if(!this._disabled){var a=this.$n();this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_")}},unbind_:function(){var a=this.$n();this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_");this.$supers(zul.wgt.A,"unbind_",arguments)},domContent_:function(){var a=zUtl.encodeXML(this.getLabel()),b=this.getImage(),c=this.domIcon_();if(!b&&!c)return a;b=b?'<img src="'+b+'" align="absmiddle" />'+(c?" "+c:""):c;return"reverse"==this.getDir()?a+b:b+a},
domAttrs_:function(a){var b=this.$supers("domAttrs_",arguments),c;if(c=this.getTarget())b+=' target="'+c+'"';b=(c=this.getHref())?b+(' href="'+c+'"'):b+' href="javascript:;"';this._disabled&&(b+=' disabled="disabled"');return b},doClick_:function(a){var b=this.getHref();if(b&&b.toLowerCase().startsWith("mailto:")){var c=jq.newFrame("mailtoFrame",b,null);zk.chrome?setTimeout(function(){jq(c).remove()},100):jq(c).remove();a.stop()}11>zk.ie&&!b&&a.stop({dom:!0});this._disabled?a.stop():(zul.wgt.ADBS.autodisable(this),
this.fireX(a),a.stopped||this.$super("doClick_",a,!0))}});

zkreg('zul.wgt.A',true);
zk._m={};
zk._m['default']=a$mold$=function(b){b.push("<a ",this.domAttrs_(),">",this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</a>")};

;zkmld(zk._p.p.A,zk._m);
zul.wgt.Cell=zk.$extends(zul.Widget,{_colspan:1,_rowspan:1,_rowType:0,_boxType:1,$define:{colspan:function(b){var a=this.$n();a&&(a.colSpan=b)},rowspan:function(b){var a=this.$n();a&&(a.rowSpan=b)},align:function(b){var a=this.$n();a&&(a.align=b)},valign:function(b){var a=this.$n();a&&(a.valign=b)}},_getParentType:function(){return zk.isLoaded("zul.grid")&&this.parent.$instanceof(zul.grid.Row)?this._rowType:zk.isLoaded("zul.box")&&this.parent.$instanceof(zul.box.Box)?this._boxType:null},_getRowAttrs:function(){return this.parent._childAttrs(this,
this.getChildIndex(),!this._headerVisible)},_getBoxAttrs:function(){return this.parent._childInnerAttrs(this)},_colHtmlPre:function(){var b="",a=this.parent;zk.isLoaded("zkex.grid")&&a.$instanceof(zkex.grid.Group)&&this==a.firstChild&&(b+=a.domContent_());return b},domStyle_:function(b){var a=this.$supers("domStyle_",arguments);this._align&&(a+=" text-align:"+this._align+";");this._valign&&(a+=" vertical-align:"+this._valign+";");return a},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments),
c;1!=(c=this._colspan)&&(a+=' colspan="'+c+'"');1!=(c=this._rowspan)&&(a+=' rowspan="'+c+'"');a=zUtl.parseMap(a," ",'"');switch(this._getParentType()){case this._rowType:var d=zUtl.parseMap(this._getRowAttrs()," ",'"');break;case this._boxType:d=zUtl.parseMap(this._getBoxAttrs()," ",'"')}if(d){c=d.style;var e=a.style;if(c&&e){c=zUtl.parseMap(c.replace(/"/g,"").replace(/:/g,"="),";");e=zUtl.parseMap(e.replace(/"/g,"").replace(/:/g,"="),";");zk.copy(c,e);var f=zUtl.mapToString(c,":",";")}zk.copy(d,
a);f&&(d.style='"'+f+'"')}return" "+zUtl.mapToString(d)},setVisible:function(b){this.$supers("setVisible",arguments);zk.ie10_&&b&&zk(this.$n()).redoCSS()},deferRedrawHTML_:function(b){b.push("<td",this.domAttrs_({domClass:1}),' class="z-renderdefer"></td>')}});

zkreg('zul.wgt.Cell');
zk._m={};
zk._m['default']=cell$mold$=function(b){b.push("<td",this.domAttrs_(),">",this._colHtmlPre());for(var c=0,a=this.firstChild;a;a=a.nextSibling,c++)a.redraw(b);b.push("</td>")};

;zkmld(zk._p.p.Cell,zk._m);
zul.wgt.Div=zk.$extends(zul.Widget,{$define:{align:function(b){var a=this.$n();a&&(a.align=b)}},domAttrs_:function(b){var a=this._align,c=this.$supers("domAttrs_",arguments);return null!=a?c+' align="'+a+'"':c}});

zkreg('zul.wgt.Div',true);
zk._m={};
zk._m['default']=div$mold$=zk.Page.$redraw;

;zkmld(zk._p.p.Div,zk._m);
zul.wgt.Span=zk.$extends(zul.Widget,{});

zkreg('zul.wgt.Span',true);
zk._m={};
zk._m['default']=span$mold$=function(b){b.push("<span",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</span>")};

;zkmld(zk._p.p.Span,zk._m);
zul.wgt.Idspace=zk.$extends(zul.wgt.Div,{$init:function(){this._fellows={};this.$supers("$init",arguments)}});zk.$intercepts(zul.wgt.Idspace,zk.NoDOM);

zkreg('zul.wgt.Idspace',true);
zk._m={};
zk._m['nodom']=idspace$mold$=zk.Page.$redraw;

;zk._m['default']=[zk._p.p.Idspace,'nodom'];
zkmld(zk._p.p.Idspace,zk._m);
zul.wgt.Include=zk.$extends(zul.Widget,{_enclosingTag:"div",$init:function(){this._fellows={};this.$supers("$init",arguments)},$define:{comment:null},getEnclosingTag:function(){return this._enclosingTag},setEnclosingTag:function(a){this._enclosingTag=a},domStyle_:function(a){var b=this.$supers("domStyle_",arguments);this.previousSibling||this.nextSibling||(a&&a.width||this.getWidth()||(b+="width:100%;"),a&&a.height||this.getHeight()||(b+="height:100%;"));return b},bind_:function(){this.$supers(zul.wgt.Include,
"bind_",arguments);var a;if(a=this._childjs)a(),this._childjs=this._xcnt=null;if(jq.isArray(a=this._xcnt))for(var b=this.$n(),c=0;c<a.length;++c)b.appendChild(a[c])},unbind_:function(){if(jq.isArray(this._xcnt))for(var a=this.$n();a.firstChild;)a.removeChild(a.firstChild);this.$supers(zul.wgt.Include,"unbind_",arguments)}});

zkreg('zul.wgt.Include');
zk._m={};
zk._m['default']=include$mold$=function(b){b.push("<",this._enclosingTag,this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);this._comment&&b.push("\x3c!--\n");(a=this._xcnt)&&!jq.isArray(a)&&b.push(a);this._comment&&b.push("\n--\x3e");b.push("</",this._enclosingTag,">")};

;zkmld(zk._p.p.Include,zk._m);
zul.wgt.Label=zk.$extends(zul.Widget,{_value:"",_maxlength:0,$define:{value:_zkf=function(){var a=this.$n();a&&(a.innerHTML=this.getEncodedText())},multiline:_zkf,pre:_zkf,maxlength:_zkf},getEncodedText:function(){return zUtl.encodeXML(this._value,{multiline:this._multiline,pre:this._pre,maxlength:this._maxlength})},getMarginSize_:function(a){var b=this.$supers("getMarginSize_",arguments);if("h"==a){var c=this.$n(),d=zk(c).offsetHeight();return b+d-c.offsetHeight}return b}});

zkreg('zul.wgt.Label');
zk._m={};
zk._m['default']=label$mold$=function(a){a.push("<span",this.domAttrs_(),">",this.getEncodedText(),"</span>")};

;zkmld(zk._p.p.Label,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(c,d,e){if(null==c)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return c+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,d,e){c!=Array.prototype&&c!=Object.prototype&&(c[d]=e.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,d,e,a){if(d){e=$jscomp.global;c=c.split(".");for(a=0;a<c.length-1;a++){var b=c[a];b in e||(e[b]={});e=e[b]}c=c[c.length-1];a=e[c];d=d(a);d!=a&&null!=d&&$jscomp.defineProperty(e,c,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("String.prototype.startsWith",function(c){return c?c:function(c,e){var a=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var b=a.length,f=c.length;e=Math.max(0,Math.min(e|0,a.length));for(var d=0;d<f&&e<b;)if(a[e++]!=c[d++])return!1;return d>=f}},"es6","es3");
(function(){function c(a){var b;if(b=a._upload)a._uplder=new zul.Upload(a,null,b)}function d(a){var b;if(b=a._uplder)a._uplder=null,b.destroy()}var e=zul.wgt.Button=zk.$extends(zul.LabelImageWidget,{_orient:"horizontal",_dir:"normal",_type:"button",$define:{href:null,target:null,dir:_zkf=function(){this.updateDomContent_()},orient:_zkf,type:_zkf,disabled:[function(a,b){b&&b.adbs?this._adbs=!0:b&&void 0!==b.adbs||(this._adbs=!1);if(!a)if(this._adbs)this._adbs=!1;else if(b&&!1===b.adbs)return this._disabled;
return a},function(a){var b=this,f=function(){b.desktop&&(jq(b.$n()).attr("disabled",a),b._upload&&(a?d(b):c(b)))};"submit"==this._type?setTimeout(f,50):f()}],autodisable:null,upload:function(a){this.$n()&&!this._disabled&&(d(this),a&&"false"!=a&&c(this))}},focus_:function(a){var b=this;if(this.$n().disabled)return b._delayFocus||(b._delayFocus=!0,setTimeout(function(){b.desktop&&!b.isDisabled()&&(zk.focusBackFix&&b._upload||zk(b.$n()).focus(a));b._delayFocus=null},0)),!1;zk.focusBackFix&&this._upload||
zk(this.$n()).focus(a);return!0},domContent_:function(){var a=zUtl.encodeXML(this.getLabel()),b=this.getImage(),c=this.domIcon_();if(!b&&!c)return a;b=b?'<img class="'+this.$s("image")+'" src="'+b+'" />'+(c?" "+c:""):c;c="vertical"==this.getOrient()?"<br/>":" ";return"reverse"==this.getDir()?a+c+b:b+c+a},onShow:function(){this.$n()&&!this._disabled&&this._uplder&&this._uplder.sync()},bind_:function(){this.$supers(e,"bind_",arguments);var a=this.$n();this.domListen_(a,"onFocus","doFocus_").domListen_(a,
"onBlur","doBlur_");zWatch.listen({onShow:this});!this._disabled&&this._upload&&c(this)},unbind_:function(){d(this);var a=this.$n();this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_");zWatch.unlisten({onShow:this});this.$supers(e,"unbind_",arguments)},doClick_:function(a){if(a.domEvent&&!this._disabled&&(this._upload?(!zk.ie||10<zk.ie)&&this._uplder.openFileDialog():zul.wgt.ADBS.autodisable(this),this.fireX(a),!a.stopped)){var b=this._href,c=b?b.toLowerCase().startsWith("mailto:"):
!1;b&&(c?(b=jq.newFrame("mailtoFrame",b,null),jq(b).remove()):zUtl.go(b,{target:this._target||(a.data.ctrlKey?"_blank":"")}));this.$super("doClick_",a,!0)}},setFlexSize_:function(a){var b=this.$n();void 0!==a.height&&(b.style.height="auto"==a.height?"":""!=a.height?jq.px0(a.height):this._height?this._height:"");void 0!==a.width&&(b.style.width="auto"==a.width?"":""!=a.width?jq.px0(a.width):this._width?this._width:"")}});zul.wgt.ADBS=zk.$extends(zk.Object,{$init:function(a){this._ads=a},onResponse:function(){for(var a=
this._ads,b;b=a.shift();)b.setDisabled(!1,{adbs:!1,skip:!0}),zk.chrome&&b.domListen_(b.$n(),"onBlur","doBlur_");zWatch.unlisten({onResponse:this})}},{autodisable:function(a){var b=a._autodisable,c;if(b){zk.chrome&&a.domUnlisten_(a.$n(),"onBlur","doBlur_");b=b.split(",");for(var e=b.length;e--;){var d=b[e].trim();if(d){var h;if(h="+"==d.charAt(0))d=d.substring(1);d="self"==d?a:a.$f(d);if(d==a){var g=a._uplder;a._uplder=null;a._autodisable_self=!0}d&&!d._disabled&&(d.setDisabled(!0,{adbs:!0,skip:!0}),
a.inServer&&(h?d.smartUpdate("disabled",!0):c?c.push(d):c=[d]))}}}c&&(c=new zul.wgt.ADBS(c),g?(g._aded=c,a._uplder=g):a.isListen("onClick",{asapOnly:!0})?zWatch.listen({onResponse:c}):setTimeout(function(){c.onResponse()},800))}})})();

zkreg('zul.wgt.Button');
zk._m={};
zk._m['os']=button$mold$=function(a){a.push('<button type="',this._type,'"',this.domAttrs_());this._disabled&&a.push(' disabled="disabled"');a.push(">",this.domContent_(),"</button>")};

;zk._m['trendy']=[zk._p.p.Button,'os'];
zk._m['default']=[zk._p.p.Button,'os'];
zkmld(zk._p.p.Button,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(b,c,a){if(null==b)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return b+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,a){b!=Array.prototype&&b!=Object.prototype&&(b[c]=a.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,c,a,d){if(c){a=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var e=b[d];e in a||(a[e]={});a=a[e]}b=b[b.length-1];d=a[b];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(c,a){var b=$jscomp.checkStringArgs(this,c,"endsWith");c+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var e=c.length;0<e&&0<a;)if(b[--a]!=c[--e])return!1;return 0>=e}},"es6","es3");
(function(){var b=zk.gecko?function(c){var a;return(a=c._spacing)&&a.endsWith("%")}:zk.$void;zul.wgt.Separator=zk.$extends(zul.Widget,{_orient:"horizontal",$define:{orient:function(){this.updateDomClass_()},bar:function(){this.updateDomClass_()},spacing:function(){this.updateDomStyle_()}},isVertical:function(){return"vertical"==this._orient},bind_:function(){this.$supers(zul.wgt.Separator,"bind_",arguments)},getZclass:function(){return"z-separator"},domClass_:function(c){var a=this.$supers("domClass_",
arguments),b=this.isBar();c&&c.zclass||(a+=" "+this.$s(this.isVertical()?"vertical"+(b?"-bar":""):"horizontal"+(b?"-bar":"")));return a},domStyle_:function(){var c=this.$supers("domStyle_",arguments);if(!b(this))return c;var a=this._spacing;a=zk.parseInt(a.substring(0,a.length-1).trim());if(0>=a)return c;a=2<=a?a/2+"%":"1%";return"margin:"+(this.isVertical()?"0 "+a:a+" 0")+";"+c},getWidth:function(){var c=this.$supers("getWidth",arguments);return!this.isVertical()||null!=c&&0<c.length||b(this)?c:
this._spacing},getHeight:function(){var c=this.$supers("getHeight",arguments);return this.isVertical()||null!=c&&0<c.length||b(this)?c:this._spacing}})})();

zkreg('zul.wgt.Separator');
zk._m={};
zk._m['default']=separator$mold$=function(a){a.push("<div",this.domAttrs_(),">&nbsp;</div>")};

;zkmld(zk._p.p.Separator,zk._m);
zul.wgt.Space=zk.$extends(zul.wgt.Separator,{_orient:"vertical"});

zkreg('zul.wgt.Space');
zk._m={};
zk._m['default']=space$mold$=zul.wgt.Separator.molds["default"];

;zkmld(zk._p.p.Space,zk._m);
zul.wgt.Caption=zk.$extends(zul.LabelImageWidget,{$define:{},domDependent_:!0,rerender:function(){var a=this.parent;a&&a.clearCache();this.$supers("rerender",arguments)},domContent_:function(){var a=this.getLabel(),b=this.getImage(),c=this.parent?this.parent._title:"",e=this.domIcon_();c&&(a=a?c+" - "+a:c);a=zUtl.encodeXML(a);if(!b&&!e)return a;b=b?'<img id="'+this.uuid+'-img" src="'+b+'" class="'+this.$s("image")+'" />'+(e?" "+e:""):e;return a?b+' <span class="'+this.$s("label")+'">'+a+"</span>":
b},updateDomContent_:function(){var a=this.domContent_(),b=this.$n("cave");if(b){var c;this.firstChild&&(c=this.firstChild.$n());for(var e=b.firstChild,d;e&&e!==c;e=d)d=e.nextSibling,jq(e).remove();this.clearCache();jq(b).prepend(a?a:"&nbsp;")}},domClass_:function(a){var b=this.$supers("domClass_",arguments),c=this.parent;return c.$instanceof(zul.wgt.Groupbox)?b+(c._closable?"":" "+this.$s("readonly")):b},doClick_:function(){this.parent.$instanceof(zul.wgt.Groupbox)&&this.parent.isClosable()&&this.parent.setOpen(!this.parent.isOpen());
this.$supers("doClick_",arguments)},_getBlank:function(){return"&nbsp;"},_isCollapsibleVisible:function(){var a=this.parent;return a.isCollapsible&&a.getCollapseOpenIconClass_&&a.isCollapsible()},_isCloseVisible:function(){var a=this.parent;return a.isClosable&&a.getClosableIconClass_&&a.isClosable()},_isMinimizeVisible:function(){var a=this.parent;return a.isMinimizable&&a.getMinimizableIconClass_&&a.isMinimizable()},_isMaximizeVisible:function(){var a=this.parent;return a.isMaximizable&&a.getMaximizableIconClass_&&
a.isMaximizable()},beforeMinFlex_:function(a){"w"==a&&(this.$n().width="")},setFlexSizeW_:function(a,b,c,e){if(e){if(this._isCloseVisible()){var d=this.parent.$n("close");c+=d.offsetWidth+zk(d).marginWidth()}this._isMaximizeVisible()&&(d=this.parent.$n("max"),c+=d.offsetWidth+zk(d).marginWidth());this._isMinimizeVisible()&&(d=this.parent.$n("min"),c+=d.offsetWidth+zk(d).marginWidth());this._isCollapsibleVisible()&&(d=this.parent.$n("exp"),c+=d.offsetWidth+zk(d).marginWidth())}this.$supers("setFlexSizeW_",
arguments)},getImageNode:function(){if(!this._eimg&&this._image){var a=this.$n("img");a&&(this._eimg=a)}return this._eimg}});

zkreg('zul.wgt.Caption',true);
zk._m={};
zk._m['default']=caption$mold$=function(b){var a=this.parent,c=this.domContent_(),e=this._tabindex||0;b.push("<div",this.domAttrs_(),">",'<div id="',this.uuid,'-cave" class="',this.$s("content"),'">',c?c:this.firstChild?"":this._getBlank());for(c=this.firstChild;c;c=c.nextSibling)c.redraw(b);b.push("</div>");if(!a._isDefault||!a._isDefault()){c=a.uuid;var f=a.$s("icon");this._isCloseVisible()&&(b.push('<div id="',c,'-close" class="',f," ",a.$s("close"),'" tabindex="',e,'"'),b.push(' title="',msgzul.PANEL_CLOSE,'"><i class="',
a.getClosableIconClass_(),'"></i></div>'));if(this._isMaximizeVisible()){var d=this._maximized;b.push('<div id="',c,'-max" class="',f," ",a.$s("maximize"),'" tabindex="',e,'"');d&&b.push(" ",a.$s("maximized"));d=d?a.getMaximizedIconClass_():a.getMaximizableIconClass_();b.push('" title="',msgzul.PANEL_MAXIMIZE,'"><i class="',d,'"></i></div>')}this._isMinimizeVisible()&&(b.push('<div id="',c,'-min" class="',f," ",a.$s("minimize"),'" tabindex="',e,'"'),b.push(' title="',msgzul.PANEL_MINIMIZE,'"><i class="',
a.getMinimizableIconClass_(),'"></i></div>'));this._isCollapsibleVisible()&&(d=a._open?a.getCollapseOpenIconClass_():a.getCollapseCloseIconClass_(),b.push('<div id="',c,'-exp" class="',f," ",a.$s("expand"),'" tabindex="',e,'"'),d?b.push(' title="',msgzul.PANEL_COLLAPSE,'"'):b.push(' title="',msgzul.PANEL_EXPAND,'"'),b.push('><i class="',d,'"></i></div>'))}b.push("</div>")};

;zkmld(zk._p.p.Caption,zk._m);
(function(){function d(b){return(b=b.domEvent)&&jq.nodeName(b.target,"label")}var e=zul.wgt.Checkbox=zk.$extends(zul.LabelImageWidget,{_checked:!1,$define:{disabled:[function(b,a){a&&a.adbs?this._adbs=!0:a&&void 0!==a.adbs||(this._adbs=!1);if(!b)if(this._adbs)this._adbs=!1;else if(a&&!1===a.adbs)return this._disabled;return b},function(b){var a=this.$n("real");a&&(a.disabled=b)}],checked:function(b){var a=this.$n("real");a&&jq(a).prop("checked",b)},name:function(b){var a=this.$n("real");a&&(a.name=
b||"")},tabindex:function(b){var a=this.$n("real");a&&(null==tabindex?a.removeAttribute("tabindex"):a.tabIndex=b)},value:function(b){var a=this.$n("real");a&&(a.value=b||"")},autodisable:null},focus_:function(b){zk(this.$n("real")||this.$n()).focus(b);return!0},contentAttrs_:function(){var b="",a;if(a=this.getName())b+=' name="'+a+'"';this._disabled&&(b+=' disabled="disabled"');this._checked&&(b+=' checked="checked"');if(a=this._tabindex)b+=' tabindex="'+a+'"';if(a=this.getValue())b+=' value="'+a+
'"';return b},bind_:function(b){this.$supers(e,"bind_",arguments);var a=this.$n("real");a.checked!=a.defaultChecked&&(a.checked=a.defaultChecked);this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_")},unbind_:function(){var b=this.$n("real");this.domUnlisten_(b,"onFocus","doFocus_").domUnlisten_(b,"onBlur","doBlur_");this.$supers(e,"unbind_",arguments)},doSelect_:function(b){d(b)||this.$supers("doSelect_",arguments)},doClick_:function(b){if(!d(b)){zul.wgt.ADBS.autodisable(this);
var a=this.$n("real"),c=a.checked;c!=this._checked&&(this.setChecked(c),this.fireOnCheck_(c));zk.webkit&&!zk.mobile&&zk(a).focus();b.stop({propagation:!0});this.$supers("doClick_",arguments);this.$instanceof(zul.wgt.Radio)&&(a=this.getRadiogroup())&&a.doClick_(b)}},fireOnCheck_:function(b){this.fire("onCheck",b)},beforeSendAU_:function(b,a){"onClick"!=a.name&&this.$supers("beforeSendAU_",arguments)},getTextNode:function(){return this.$n("cnt")},shallIgnoreClick_:function(b){return this.isDisabled()}})})();

zkreg('zul.wgt.Checkbox');
zk._m={};
zk._m['default']=checkbox$mold$=function(b){var a=this.uuid;this.domContent_();b.push("<span",this.domAttrs_({tabindex:1}),'><input type="checkbox" id="',a,'-real"',this.contentAttrs_(),'/><label for="',a,'-real" id="',a,'-cnt"',this.domTextStyleAttr_(),' class="',this.$s("content"),'">',this.domContent_(),"</label></span>")};

;zkmld(zk._p.p.Checkbox,zk._m);
zul.wgt.Groupbox=zk.$extends(zul.ContainerWidget,{_open:!0,_closable:!0,$define:{open:function(a,b){var c=this.$n();c&&this._closable&&(a&&(jq(c).removeClass(this.$s("collapsed")),zk(this).redoCSS(-1,{fixFontIcon:!0})),zk(this.getCaveNode())[a?"slideDown":"slideUp"](this),b||this.fire("onOpen",{open:a}))},closable:_zkf=function(){this._updDomOuter()},contentStyle:_zkf,contentSclass:_zkf,title:_zkf},_isDefault:function(){return"default"==this._mold},_updDomOuter:function(){this.rerender(zk.Skipper.nonCaptionSkipper)},
_contentAttrs:function(){var a=' class="',b=this._contentSclass;b&&(a+=b+" ");a+=this.$s("content")+'"';b=this._contentStyle;if(this.caption||this.getTitle())b="border-top:0;"+(b||"");this._open||(b="display:none;"+(b||""));b&&(a+=' style="'+b+'"');return a},_redrawCave:function(a,b){a.push('<div id="',this.uuid,'-cave"',this._contentAttrs(),">");if(!b){b=this.firstChild;for(var c=this.caption;b;b=b.nextSibling)b!=c&&b.redraw(a)}a.push("</div>")},setHeight:function(){this.$supers("setHeight",arguments);
this.desktop&&this._fixHgh()},_fixHgh:function(){var a=this.$n().style.height;if(a&&"auto"!=a&&this.isOpen()&&(a=this.$n("cave"))){var b=zk(a);a.style.height=b.revisedHeight(b.vflexHeight(),!0)-(this._isDefault()?parseInt(jq(this).css("padding-top")):0)+"px"}if(this._isDefault()){a=this.$n("title");if(b=this.caption)b.$n().style.top=jq.px(zk(b.$n("cave")).offsetHeight()/2*-1);a&&(a.style.top=jq.px(zk(this.$n("title-cnt")).offsetHeight()/2*-1))}},setFlexSizeH_:function(a,b,c,e){if(e&&(this.caption||
this._title)){this.$n();var d;c=this._isDefault()?parseInt(jq(this).css("padding-top")):0;for(d=a.firstChild;d;d=d.nextSibling)c+=jq(d).outerHeight()}this.$supers("setFlexSizeH_",arguments)},onSize:function(){this._fixHgh()},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop)this.onSize()},focus_:function(a){for(var b=this.caption,c=this.firstChild;c;c=c.nextSibling)if(c!=b&&c.focus_(a))return!0;return b&&b.focus_(a)},bind_:function(){this.$supers(zul.wgt.Groupbox,
"bind_",arguments);zWatch.listen({onSize:this});var a;this.getTitle()&&(a=this.$n("title"))&&this.domListen_(a,"onClick","_doTitleClick");8==zk.ie&&zk(this).redoCSS()},unbind_:function(){zWatch.unlisten({onSize:this});var a;(a=this.$n("title"))&&this.domUnlisten_(a,"onClick","_doTitleClick");this.$supers(zul.wgt.Groupbox,"unbind_",arguments)},_doTitleClick:function(){this._closable&&this.setOpen(!this.isOpen());this.$supers("doClick_",arguments)},onChildAdded_:function(a){this.$supers("onChildAdded_",
arguments);a.$instanceof(zul.wgt.Caption)&&(this.caption=a,this.rerender())},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);a==this.caption&&(this.caption=null,this.rerender())},getChildMinSize_:function(a,b){if(!b.$instanceof(zul.wgt.Caption))return this.$supers("getChildMinSize_",arguments)},domClass_:function(){var a=this.$supers("domClass_",arguments);this._isDefault()||(a&&(a+=" "),a+=this.$s("3d"));this.caption||this.getTitle()||(a&&(a+=" "),a+=" "+this.$s("notitle"));
!this._open&&this._isDefault()&&(a&&(a+=" "),a+=this.$s("collapsed"));return a},afterAnima_:function(a){!a&&this._isDefault()&&jq(this.$n()).addClass(this.$s("collapsed"));this.$supers("afterAnima_",arguments);var b=this.parent;if(b.getHflex()&&"min"!=b.getHflex()||b.getVflex()&&"min"!=b.getVflex())zUtl.fireSized(b);else for(var c=b.firstChild;c;c=c.nextSibling)if(c!=this){var e=c.getVflex();if(e&&"min"!=e){zUtl.fireSized(b);break}}this.doResizeScroll_()}});

zkreg('zul.wgt.Groupbox',true);
zk._m={};
zk._m['3d']=groupbox$mold$=function(a,e){var d=this.uuid,c=this.caption,b=this.getTitle();b=b&&!c?zUtl.encodeXML(b):null;a.push("<div ",this.domAttrs_(),">");if(b||c)a.push('<div id="',d,'-header" class="',this.$s("header"),this._closable?"":" "+this.$s("readonly"),'">'),c?c.redraw(a):a.push('<div id="',d,'-title" class="',this.$s("title"),'"><div id="',d,'-title-cnt" class="',this.$s("title-content"),'">',b,"</div></div>"),a.push("</div>");this._redrawCave(a,e);a.push("</div>")};

;zk._m['default']=[zk._p.p.Groupbox,'3d'];
zkmld(zk._p.p.Groupbox,zk._m);
zul.wgt.Html=zk.$extends(zul.Widget,{_content:"",$define:{content:function(a){var b=this.$n();b&&(b.innerHTML=a||"")}},bind_:function(){this.$supers(zul.wgt.Html,"bind_",arguments);if(jq.isArray(this._content))for(var a=this._content,b=this.$n(),c=0;c<a.length;++c)b.appendChild(a[c])},unbind_:function(){if(jq.isArray(this._content))for(var a=this.$n();a.firstChild;)a.removeChild(a.firstChild);this.$supers(zul.wgt.Html,"unbind_",arguments)}});

zkreg('zul.wgt.Html');
zk._m={};
zk._m['default']=html$mold$=function(a){a.push("<span",this.domAttrs_(),">",jq.isArray(this._content)?"":this._content,"</span>")};

;zkmld(zk._p.p.Html,zk._m);
zul.wgt.Popup=zk.$extends(zul.Widget,{_visible:!1,isOpen:function(){return this.isVisible()},open:function(a,b,c,e){var d=this._posInfo(a,b,c),f=this.$n();f=jq(f);0!=arguments.length&&(this._openInfo=arguments);this._shallToggle=e&&"toggle"==e.type;f.css({position:"absolute"}).zk.makeVParent();zWatch.fire("onVParent",this);d&&f.zk.position(d.dim,d.pos,e);this.setFloating_(!0);this.setTopmost();this.openAnima_(a,b,c,e)},openAnima_:function(a,b,c,e){this.afterOpenAnima_(a,b,c,e)},afterOpenAnima_:function(a,
b,c,e){b=this.$n();c=e&&e.sendOnOpen;if((a=zk.Widget.$(a))&&a.desktop&&this.desktop){var d=zk(a).dimension(!0),f=zk(this).dimension(!0);d&&f&&(this._adjustLeft=f.left-d.left,this._adjustTop=f.top-d.top);this._keepVisible=!0}this.setVisible(!0);e&&e.disableMask||!this.isListen("onOpen",{asapOnly:!0})||(this.mask&&this.mask.destroy(),c&&(this.mask=new zk.eff.Mask({id:this.uuid+"-mask",anchor:b}),zWatch.listen({onResponse:this})));this.shallStackup_()&&b&&(this._stackup?((e=this._stackup.style).top=
(d=b.style).top,e.left=d.left,e.zIndex=d.zIndex,e.display="block"):this._stackup=jq.newStackup(b,b.id+"-stk"));(e=this._openInfo)&&this.position.apply(this,e);c&&this.fire("onOpen",{open:!0,reference:a});jq(b).addClass(this.$s("open"))},shallStackup_:function(){return zk.eff.shallStackup()},position:function(a,b,c,e){(a=this._posInfo(a,b,c))&&zk(this.$n()).position(a.dim,a.pos,e)},onScroll:function(a){a&&(this.isInView_()?(a=this.getPositionArgs_(),!this.isOpen()&&this._keepVisible?this.open.apply(this,
a):this.position.apply(this,a)):this.isOpen()&&this.close({keepVisible:!0}))},_posInfo:function(a,b,c,e){var d;if(c)if(a){if("string"==typeof a&&(a=zk.Widget.$(a)),a)if(d=zul.Widget.isInstance(a)?a.$n():a){var f=c;d=zk(d).dimension(!0)}else return{pos:c}}else return{pos:c};else jq.isArray(b)&&(d={left:zk.parseInt(b[0]),top:zk.parseInt(b[1]),width:0,height:0});if(d)return c=zk(this.$n()),d.top+=c.sumStyles("t",jq.margins),d.left+=c.sumStyles("l",jq.margins),{pos:f,dim:d}},onResponse:function(){this.mask&&
this.mask.destroy();var a=this._openInfo;a&&(this.position.apply(this,a),this._openInfo=null);zWatch.unlisten({onResponse:this});this.mask=null},close:function(a){this._stackup&&(this._stackup.style.display="none");this._shallToggle=!1;try{if((zk.ie||zk.ff||zk.safari)&&zk.currentFocus){var b=zk.currentFocus.getInputNode?zk.currentFocus.getInputNode():zk.currentFocus.$n();jq.nodeName(b,"input")&&((zk.ff||zk.safari)&&jq.isAncestor(this.$n(),b)?jq(b).blur():zk.ie&&document.activeElement!==b&&zk(b).focus())}}catch(c){zk.debugLog(c.message||
c)}this.closeAnima_(a);a&&a.keepVisible||(this._keepVisible=!1,this._fakeParent=null)},closeAnima_:function(a){this.afterCloseAnima_(a)},afterCloseAnima_:function(a){this.setVisible(!1);var b=this.$n();zk(b).undoVParent();zWatch.fireDown("onVParent",this);this.setFloating_(!1);a&&a.sendOnOpen&&this.fire("onOpen",{open:!1});if(11>zk.ie){var c=this;setTimeout(function(){c.replaceHTML(b)},50)}jq(b).removeClass(this.$s("open"))},onFloatUp:function(a,b){this._keepVisible=!1;if(this.isVisible()){var c=
this._openInfo;this._shallToggle&&c&&b&&(void 0===b.triggerByClick||c[3].which==b.triggerByClick&&zUtl.isAncestor(this._openInfo[0],a.origin))||this._doFloatUp(a)}},_doFloatUp:function(a){if(this.isVisible()){a=a.origin;for(var b;a;a=a.parent){if(a==this){b||this.setTopmost();return}if(a==this.parent&&a.ignoreDescendantFloatUp_(this))return;b=b||a.isFloating_()}this.close({sendOnOpen:!0})}},setFloatZIndex_:function(a,b){this.$supers("setFloatZIndex_",arguments);this._stackup&&(this._stackup.style.zIndex=
b)},onVParent:function(a){this._shallToggle&&this._doFloatUp(a)},bind_:function(){this.$supers(zul.wgt.Popup,"bind_",arguments);zWatch.listen({onFloatUp:this,onShow:this,onVParent:this,afterSize:this,onScroll:this});this.setFloating_(!0)},unbind_:function(){zk(this.$n()).undoVParent();this._stackup&&(jq(this._stackup).remove(),this._stackup=null);this._openInfo&&(this._openInfo=null);this._shallToggle=null;zWatch.unlisten({onFloatUp:this,onShow:this,onVParent:this,afterSize:this,onScroll:this});this.setFloating_(!1);
this.$supers(zul.wgt.Popup,"unbind_",arguments)},afterSize:function(){this.reposition()},reposition:function(){if(this._fakeParent)this.position.apply(this,this.getPositionArgs_());else{var a=this._openInfo;if(a){var b=this._posInfo(a[0],a[1],a[2]);b&&jq(this.$n()).zk.position(b.dim,b.pos,a[3])}}},onShow:function(a){a.fire(this.firstChild);zk(this).redoCSS(-1,{fixFontIcon:!0})},setHeight:function(a){this.$supers("setHeight",arguments);this.desktop&&zUtl.fireShown(this)},setWidth:function(a){this.$supers("setWidth",
arguments);this.desktop&&zWatch.fireDown("onShow",this)},prologHTML_:function(a){},epilogHTML_:function(a){},isInView_:function(){return this._fakeParent?zk(this._fakeParent).isRealScrollIntoView(!0):!1},getPositionArgs_:function(){var a=this._fakeParent,b=zk(a).dimension(!0);return[a,[b.left+this._adjustLeft,b.top+this._adjustTop],null,{dodgeRef:!1}]}});

zkreg('zul.wgt.Popup',true);
zk._m={};
zk._m['default']=popup$mold$=function(a){var b=this.uuid;a.push("<div",this.domAttrs_(),">");this._fixarrow&&a.push("<div id=",b,'-p class="z-pointer"></div>');a.push('<div id="',b,'-cave" class="',this.$s("content"),'">');this.prologHTML_(a);for(b=this.firstChild;b;b=b.nextSibling)b.redraw(a);this.epilogHTML_(a);a.push("</div></div>")};

;zkmld(zk._p.p.Popup,zk._m);
zul.wgt.Radio=zk.$extends(zul.wgt.Checkbox,{_attachExternal:null,getRadiogroup:function(a){if(!a&&this._group)return this._group;for(a=a||this.parent;a;a=a.parent)if(a.$instanceof(zul.wgt.Radiogroup))return a;return null},setRadiogroup:function(a){var b=this._group;b!==a&&(b&&this._attachExternal&&b._rmExtern(this),(this._group=a)&&this.desktop&&(a._addExtern(this),this._attachExternal=!0),this._fixName())},bind_:function(){this.$supers(zul.wgt.Radio,"bind_",arguments);this._group&&this.desktop&&
!this._attachExternal&&(this._group._addExtern(this),this._attachExternal=!0)},unbind_:function(){this.$supers(zul.wgt.Radio,"unbind_",arguments);this._group&&this._attachExternal&&(this._group._rmExtern(this),this._attachExternal=!1)},setChecked:_zkf=function(a){if(a!=this._checked){this._checked=a;var b=this.$n("real");if(b&&(b.checked=a||!1,a?jq(b).attr("checked","checked"):jq(b).removeAttr("checked"),b.checked||jq(b).removeAttr("checked"),b=this.getRadiogroup())){if(a){a=b.getItems();for(var c=
a.length;c--;)if(a[c]!=this){var d=a[c].$n("real");d&&(d.checked=!1,jq(d).removeAttr("checked"));a[c]._checked=!1}}b._fixSelectedIndex()}}return this},setSelected:_zkf,isSelected:function(){return this.isChecked()},getName:function(){var a=this.getRadiogroup();return null!=a?a.getName():this.uuid},_fixName:function(){var a=this.$n("real");a&&(a.name=this.getName())},beforeParentChanged_:function(a){var b=this.getRadiogroup(),c=a?this.getRadiogroup(a):null;b==c&&a||(b&&b.$instanceof(zul.wgt.Radiogroup)&&
(b._fixOnRemove(this),this._attachExternal&&(b._rmExtern(this),this._attachExternal=!1)),c&&c.$instanceof(zul.wgt.Radiogroup)&&(this._attachExternal||c!=this._group||(c._addExtern(this),this._attachExternal=!0),c._fixOnAdd(this)));this.$supers("beforeParentChanged_",arguments)},fireOnCheck_:function(a){var b=this.getRadiogroup();this.fire("onCheck",a,{toServer:b&&b.isListen("onCheck")})}});

zkreg('zul.wgt.Radio');
zk._m={};
zk._m['default']=radio$mold$=function(c){var a=this.uuid,b=this.getRadiogroup();c.push("<span",this.domAttrs_({tabindex:1}),'><input type="radio" id="',a,'-real"',this.contentAttrs_(),'/><label for="',a,'-real"',' id="',a,'-cnt"',this.domTextStyleAttr_(),' class="',this.$s("content"),'">',this.domContent_(),"</label>",b&&"vertical"==b._orient?"<br/>":"","</span>")};

;zkmld(zk._p.p.Radio,zk._m);
(function(){function h(a){var b=[];for(a=a.firstChild;a;a=a.nextSibling)a.$instanceof(zul.wgt.Radio)?b.push(a):a.$instanceof(zul.wgt.Radiogroup)||(b=b.concat(h(a)));return b}function k(a,b,c){for(a=a.firstChild;a;a=a.nextSibling)if(a.$instanceof(zul.wgt.Radio)){if(b.value++==c)return a}else if(!a.$instanceof(zul.wgt.Radiogroup)){var d=k(a,b,c);if(null!=d)return d}}function l(a,b){for(a=a.firstChild;a;a=a.nextSibling)if(a.$instanceof(zul.wgt.Radio)){if(a.isSelected())return b.value;++b.value}else if(!a.$instanceof(zul.wgt.Radiogroup)){var c=
l(a,b);if(0<=c)return c}return-1}function f(a,b){for(b=b.parent;null!=b;b=b.parent)if(b.$instanceof(zul.wgt.Radiogroup))return b==a}zul.wgt.Radiogroup=zk.$extends(zul.Widget,{_orient:"horizontal",_jsel:-1,$init:function(){this.$supers("$init",arguments);this._externs=[]},$define:{orient:function(){this.rerender()},name:function(a){for(var b=this.getItems(),c=b.length;c--;)b[c].setName(a)}},getItemAtIndex:function(a){if(0<=a)a:{var b={value:0},c=k(this,b,a);if(!c)for(var d=this._externs,e=0,g=d.length;e<
g;++e)if(!f(this,d[e])&&b.value++==a){a=d[e];break a}a=c}else a=null;return a},getItemCount:function(){return this.getItems().length},getItems:function(){var a=h(this);a.$addAll(this._externs);return a},getSelectedIndex:function(){return this._jsel},setSelectedIndex:function(a){0>a&&(a=-1);this._jsel!=a&&(0>a?getSelectedItem().setSelected(!1):getItemAtIndex(a).setSelected(!0))},getSelectedItem:function(){return 0<=this._jsel?this.getItemAtIndex(this._jsel):null},setSelectedItem:function(a){null==
a?this.setSelectedIndex(-1):a.$instanceof(zul.wgt.Radio)&&a.setSelected(!0)},appendItem:function(a,b){var c=new zul.wgt.Radio;c.setLabel(a);c.setValue(b);this.appendChild(c);return c},removeItemAt:function(a){if((a=this.getItemAtIndex(a))&&!this._rmExtern(a)){var b=a.parent;b&&b.removeChild(a)}return a},_fixSelectedIndex:function(){a:{var a={value:0};var b=l(this,a);if(0>b)for(var c=this._externs,d=0,e=c.length,g;d<e;++d)if(!f(this,g=c[d])){if(g.isSelected()){a=a.value;break a}++a.value}a=b}this._jsel=
a},_fixOnAdd:function(a){0<=this._jsel&&a.isSelected()?a.setSelected(!1):this._fixSelectedIndex()},_fixOnRemove:function(a){a.isSelected()?this._jsel=-1:0<this._jsel&&this._fixSelectedIndex()},_addExtern:function(a){this._externs.push(a);f(this,a)||this._fixOnAdd(a)},_rmExtern:function(a){if(this._externs.$remove(a))return f(this,a)||this._fixOnRemove(a),!0}})})();

zkreg('zul.wgt.Radiogroup');
zk._m={};
zk._m['default']=radiogroup$mold$=function(b){b.push("<span",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</span>")};

;zkmld(zk._p.p.Radiogroup,zk._m);
zul.wgt.Toolbar=zk.$extends(zul.Widget,{_orient:"horizontal",_align:"start",$define:{align:_zkf=function(){this.rerender()},orient:_zkf},domClass_:function(b){var a=this.$supers("domClass_",arguments);if(!b||!b.zclass){var c=this.parent&&zk.isLoaded("zul.tab")&&this.parent.$instanceof(zul.tab.Tabbox)?this.$s("tabs"):"";c&&(a+=" "+c);this.inPanelMold()&&(a+=" "+this.$s("panel"));"vertical"==this.getOrient()&&(a+=" "+this.$s("vertical"))}return a},setFlexSizeW_:function(b,a,c,e){this.$supers("setFlexSizeW_",
arguments);if(!e&&"start"==this.getAlign()){var d=this.$n("cave");d&&(d.style.width=jq.px0(zk(this.$n()).contentWidth()))}},inPanelMold:function(){return"panel"==this._mold},onChildAdded_:function(){this.$supers("onChildAdded_",arguments);this.inPanelMold()&&this.rerender()},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);!this.childReplacing_&&this.inPanelMold()&&this.rerender()}});

zkreg('zul.wgt.Toolbar',true);
zk._m={};
zk._m['panel']=toolbarpanel$mold$=function(a){a.push("<div ",this.domAttrs_(),'><table id="',this.uuid,'-cave" class="',this.$s("content")," ",this.$s(this.getAlign()),'"',zUtl.cellps0,"><tbody>");if("horizontal"==this.getOrient()){a.push("<tr>");for(var b=this.firstChild;b;b=b.nextSibling)a.push('<td class="',this.$s("horizontal"),'">'),b.redraw(a),a.push("</td>");a.push("</tr>")}else for(b=this.firstChild;b;b=b.nextSibling)a.push('<tr><td class="',this.$s("vertical"),'">'),b.redraw(a),a.push("</td></tr>");a.push('</tbody></table><div class="z-clear"></div></div>')};

;zk._m['default']=toolbar$mold$=function(a){a.push("<div ",this.domAttrs_(),'><div id="',this.uuid,'-cave"',' class="',this.$s("content")," ",this.$s(this.getAlign()),'" >');for(var b=this.firstChild;b;b=b.nextSibling)b.redraw(a),"horizontal"==this.getOrient()&&zk.ie9&&a.push("<span></span>");a.push('</div><div class="z-clear"></div></div>')};

;zkmld(zk._p.p.Toolbar,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(c,d,a){if(null==c)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return c+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,d,a){c!=Array.prototype&&c!=Object.prototype&&(c[d]=a.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,d,a,b){if(d){a=$jscomp.global;c=c.split(".");for(b=0;b<c.length-1;b++){var e=c[b];e in a||(a[e]={});a=a[e]}c=c[c.length-1];b=a[c];d=d(b);d!=b&&null!=d&&$jscomp.defineProperty(a,c,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("String.prototype.startsWith",function(c){return c?c:function(c,a){var b=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var e=b.length,d=c.length;a=Math.max(0,Math.min(a|0,b.length));for(var f=0;f<d&&a<e;)if(b[a++]!=c[f++])return!1;return f>=d}},"es6","es3");
(function(){function c(a){zWatch.listen({onSize:a});var b;if(b=a._upload)a._uplder=new zul.Upload(a,null,b)}function d(a){var b;if(b=a._uplder)zWatch.unlisten({onSize:a}),a._uplder=null,b.destroy()}zul.wgt.Toolbarbutton=zk.$extends(zul.LabelImageWidget,{_orient:"horizontal",_dir:"normal",_mode:"default",_checked:!1,$define:{mode:function(a){this.rerender()},checked:function(a){if(this.desktop&&"toggle"==this._mode)jq(this.$n())[a?"addClass":"removeClass"](this.$s("checked"))},disabled:[function(a,
b){b&&b.adbs?this._adbs=!0:b&&void 0!==b.adbs||(this._adbs=!1);if(!a)if(this._adbs)this._adbs=!1;else if(b&&!1===b.adbs)return this._disabled;return a},function(a,b){var e=this;b=function(){e.desktop&&(jq(e.$n()).attr("disabled",a),e._upload&&(a?d(e):c(e)))};"submit"==this._type?setTimeout(b,50):b()}],href:null,target:null,dir:_zkf=function(){this.updateDomContent_()},orient:_zkf,autodisable:null,upload:function(a){this.$n()&&(d(this),a&&"false"!=a&&!this._disabled&&c(this))}},getTextNode:function(){return this.$n("cnt")},
bind_:function(){this.$supers(zul.wgt.Toolbarbutton,"bind_",arguments);if(!this._disabled){var a=this.$n();this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_")}!this._disabled&&this._upload&&c(this)},unbind_:function(){d(this);var a=this.$n();this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_");this.$supers(zul.wgt.Toolbarbutton,"unbind_",arguments)},domContent_:function(){var a=zUtl.encodeXML(this.getLabel()),b=this.getImage(),c=this.domIcon_();if(!b&&
!c)return a;b=b?'<img src="'+b+'" align="absmiddle" />'+(c?" "+c:""):c;c=a?"vertical"==this.getOrient()?"<br/>":"&nbsp;":"";return"reverse"==this.getDir()?a+c+b:b+c+a},domClass_:function(a){var b=this.$supers("domClass_",arguments),c=this.getZclass(),d=!a||!a.zclass;"toggle"==this._mode&&this._checked&&d&&c&&(b+=" "+this.$s("checked"));return b},domAttrs_:function(a){var b=this.$supers("domAttrs_",arguments);this._disabled&&(b+=' disabled="disabled"');return b},onSize:function(){this._uplder&&this._uplder.sync()},
doClick_:function(a){if(!this._disabled&&(this._upload?(!zk.ie||10<zk.ie)&&this._uplder.openFileDialog():zul.wgt.ADBS.autodisable(this),this.fireX(a),!a.stopped)){var b=this._href,c=b?b.toLowerCase().startsWith("mailto:"):!1;b&&(c?(b=jq.newFrame("mailtoFrame",b,null),jq(b).remove()):zUtl.go(b,{target:this._target||(a.data.ctrlKey?"_blank":"")}));this.$super("doClick_",a,!0);"toggle"==this._mode&&(this.setChecked(!this.isChecked()),this.fire("onCheck",this.isChecked()))}},focus_:function(a){if(void 0!=
this._tabindex||this._href||this._upload){var b=this,c=this.$n();zk.afterAnimate(function(){try{c.focus(),zk.currentFocus=b,zjq.fixInput(c)}catch(g){zk.debugLog(g.message||g)}},a);return!0}return!1}})})();

zkreg('zul.wgt.Toolbarbutton');
zk._m={};
zk._m['default']=toolbarbutton$mold$=function(a){a.push("<a",this.domAttrs_(),'><span id="',this.uuid,'-cnt"',this.domTextStyleAttr_(),'class="',this.$s("content"),'">',this.domContent_(),"</span></a>")};

;zk._m['toggle']=[zk._p.p.Toolbarbutton,'default'];
zkmld(zk._p.p.Toolbarbutton,zk._m);
zul.wgt.Nodom=zk.$extends(zk.Widget,{z_virnd:!0,getMold:function(){return"nodom"}});zk.$intercepts(zul.wgt.Nodom,zk.NoDOM);

zkreg('zul.wgt.Nodom');
zul.wgt.Image=zk.$extends(zul.Widget,{$define:{src:function(b){b&&this._preloadImage&&zUtl.loadImage(b);var a=this.getImageNode();a&&(a.src=b||"")},hover:null,align:function(b){var a=this.getImageNode();a&&(a.align=b||"")},hspace:function(b){var a=this.getImageNode();a&&(a.hspace=b)},vspace:function(b){var a=this.getImageNode();a&&(a.vspace=b)}},getImageNode:function(){return this.$n()},doMouseOver_:function(){var b=this._hover;if(b){var a=this.getImageNode();a&&(a.src=b)}this.$supers("doMouseOver_",
arguments)},doMouseOut_:function(){if(this._hover){var b=this.getImageNode();b&&(b.src=this._src||"")}this.$supers("doMouseOut_",arguments)},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments);b&&b.content||(a+=this.contentAttrs_());return a},contentAttrs_:function(){var b=' src="'+(this._src||"")+'"',a;if(a=this._align)b+=' align="'+a+'"';if(a=this._hspace)b+=' hspace="'+a+'"';if(a=this._vspace)b+=' vspace="'+a+'"';return b}});

zkreg('zul.wgt.Image');
zk._m={};
zk._m['alphafix']=image$mold$=function(a){a.push("<img",this.domAttrs_(),"/>")};

;zk._m['default']=[zk._p.p.Image,'alphafix'];
zkmld(zk._p.p.Image,zk._m);
zul.wgt.Imagemap=zk.$extends(zul.wgt.Image,{$define:{width:function(a){var b=this.getImageNode();b&&(b.style.width=a)},height:function(a){var b=this.getImageNode();b&&(b.style.height=a)}},bind_:function(){this.$supers(zul.wgt.Imagemap,"bind_",arguments);jq("#zk_hfr_")[0]||jq.newFrame("zk_hfr_",null,zk.webkit?"position:absolute;top:-1000px;left:-1000px;width:0;height:0;display:inline":null)},getImageNode:function(){return this.$n("real")},getCaveNode:function(){return this.$n("map")},doClick_:function(a){},
onChildAdded_:function(){this.$supers("onChildAdded_",arguments);this.desktop&&this.firstChild==this.lastChild&&this._fixchd(!0)},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);this.desktop&&!this.firstChild&&this._fixchd(!1)},_fixchd:function(a){var b=this.uuid+"-map",c=this.getImageNode();c.useMap=a?"#"+b:"";c.isMap=!a},contentAttrs_:function(){var a=this.$supers("contentAttrs_",arguments),b=this._width,c=this._height;if(b||c)a+=' style="',b&&(a+="width:"+b+";"),c&&(a+="height:"+
c+";"),a+='"';return a+(this.firstChild?' usemap="#'+this.uuid+'-map"':' ismap="ismap"')},fromPageCoord:function(a,b){var c=zk(this.getImageNode()).revisedOffset();return[a-c[0],b-c[1]]},_doneURI:function(){var a=zul.wgt.Imagemap,b=a._doneURI;return b?b:a._doneURI=zk.IMAGEMAP_DONE_URI?zk.IMAGEMAP_DONE_URI:zk.ajaxURI("/web/zul/html/imagemap-done.html",{desktop:this.desktop,au:!0})}},{onclick:function(a){if(!zul.wgt.Imagemap._toofast()){var b=a.indexOf("?");if(!(0>b)){var c=a.indexOf("?",++b);if(!(0>
c)){b=a.substring(b,c);var d=zk.Widget.$(b);d&&(b=a.indexOf(",",++c),0>b||d.fire("onClick",{x:zk.parseInt(a.substring(c,b)),y:zk.parseInt(a.substring(b+1))},{ctl:!0}))}}}},_toofast:function(){if(zk.gecko){var a=zul.wgt.Imagemap,b=jq.now();if(a._stamp&&800>b-a._stamp)return!0;a._stamp=b}return!1}});

zkreg('zul.wgt.Imagemap');
zk._m={};
zk._m['alphafix']=imagemap$mold$=function(b){var a=this.uuid,c=a+"-map";b.push("<span",this.domAttrs_({content:1}),'><img id="',a,'-real"',this.contentAttrs_(),'/><map name="',c,'" id="',c,'">');for(a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</map></span>")};

;zk._m['default']=[zk._p.p.Imagemap,'alphafix'];
zkmld(zk._p.p.Imagemap,zk._m);
zul.wgt.Area=zk.$extends(zk.Widget,{$define:{shape:function(b){var a=this.$n();a&&(a.shape=b||"")},coords:function(b){var a=this.$n();a&&(a.coords=b||"")}},doClick_:function(b){zul.wgt.Imagemap._toofast()||(this.parent.fire("onClick",{area:this.id||this.uuid},{ctl:!0}),b.stop())},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments)+' href="javascript:;"',c;if(c=this._coords)a+=' coords="'+c+'"';if(c=this._shape)a+=' shape="'+c+'"';return a}});

zkreg('zul.wgt.Area');
zk._m={};
zk._m['default']=area$mold$=function(a){a.push("<area",this.domAttrs_(),"/>")};

;zkmld(zk._p.p.Area,zk._m);
zul.wgt.Chart=zk.$extends(zul.wgt.Imagemap,{});

zkreg('zul.wgt.Chart');
zk._m={};
zk._m['default']=[zk._p.p.Imagemap,'alphafix'];
zkmld(zk._p.p.Chart,zk._m);
zul.wgt.Captcha=zk.$extends(zul.wgt.Image,{});

zkreg('zul.wgt.Captcha');
zk._m={};
zk._m['default']=[zk._p.p.Image,'alphafix'];
zkmld(zk._p.p.Captcha,zk._m);
zul.wgt.Progressmeter=zk.$extends(zul.Widget,{_value:0,$define:{value:function(){this.$n()&&this._fixImgWidth()}},_fixImgWidth:_zkf=function(){var b=this.$n(),a=this.$n("img");a&&zk(b).isRealVisible()&&(a=jq(a),a.animate({width:Math.round(jq(b).innerWidth()*this._value/100)+"px"},a.zk.getAnimationSpeed("slow")))},onSize:_zkf,bind_:function(){this.$supers(zul.wgt.Progressmeter,"bind_",arguments);this._fixImgWidth(this._value);zWatch.listen({onSize:this})},unbind_:function(){zWatch.unlisten({onSize:this});
this.$supers(zul.wgt.Progressmeter,"unbind_",arguments)},setWidth:function(b){this.$supers("setWidth",arguments);this._fixImgWidth()}});

zkreg('zul.wgt.Progressmeter');
zk._m={};
zk._m['default']=progressmeter$mold$=function(a){a.push("<div",this.domAttrs_(),'><span id="',this.uuid,'-img"','class="',this.$s("image"),'"></span></div>')};

;zkmld(zk._p.p.Progressmeter,zk._m);
zul.wgt.Fileupload=zk.$extends(zul.wgt.Button,{getZclass:function(){return null==this._zclass?"z-button":this._zclass}});

zkreg('zul.wgt.Fileupload');
(function(){function e(a){a._tidclose||(a._tidclose=setTimeout(function(){a._bover||a._autodrop&&a.isOpen()&&a.close({sendOnOpen:!0});a._tidclose=null},200))}function f(a,b,c){jq(a.$n()).toggleClass(a.$s("open"),c);b&&b.sendOnOpen&&a.fire("onOpen",{open:c,value:a.getLabel()},{rtags:{onOpen:1}})}function g(a,b){if(!a._oldppclose){var c=a.firstChild;if(c){var d=jq(c),e=jq(a).width();d.width()<e&&(d.width(e-zk(c).padBorderWidth()),c.fire(c.firstChild),(d=c._openInfo)&&c.position.apply(c,d))}a._oldppclose=
c.close;b&&a.domListen_(c,"onMouseOver").domListen_(c,"onMouseOut");c.close=function(d){a._oldppclose.apply(c,arguments);f(a,d,!1);b&&a.domUnlisten_(c,"onMouseOver").domUnlisten_(c,"onMouseOut");c.close=a._oldppclose;delete a._oldppclose}}}zul.wgt.Combobutton=zk.$extends(zul.wgt.Button,{$define:{autodrop:null},getZclass:function(){return"z-combobutton"},domContent_:function(){var a='<span id="'+this.uuid+'-txt" class="'+this.$s("text")+'">'+zUtl.encodeXML(this.getLabel())+"</span>",b=this.getImage(),
c=this.domIcon_();if(!b&&!c)return a;b=b?'<img class="'+this.$s("image")+'" src="'+b+'" />'+(c?" "+c:""):c;c="vertical"==this.getOrient()?"<br/>":" ";return"reverse"==this.getDir()?a+c+b:b+c+a},domClass_:function(a){var b=this.$supers(zul.wgt.Combobutton,"domClass_",arguments);this._isDefault()||(b+=" z-combobutton-toolbar");return b},_isDefault:function(){return"default"==this._mold},isOpen:function(){var a=this.firstChild;return a&&a.isOpen()},setOpen:function(a,b){if(!this._disabled&&!zk.animating())this[a?
"open":"close"](b||{})},renderInner_:function(a){for(var b=this.firstChild;b;b=b.nextSibling)b.redraw(a)},isTableLayout_:function(){return!0},unbind_:function(){var a;(a=this.firstChild)&&(a=a.$n())&&this.domUnlisten_(a,"onMouseOver").domUnlisten_(a,"onMouseOut");this.$supers("unbind_",arguments)},doFocus_:function(a){this==a.target&&this.$supers("doFocus_",arguments)},open:function(a){var b=this.firstChild;b&&!this.isOpen()&&(b.$instanceof(zul.wgt.Popup)&&(b.open(this.uuid,null,"after_start",a),
f(this,a,!0)),g(this,!b.$instanceof(zul.wgt.Menupopup)))},close:function(a){this.isOpen()&&this.firstChild.close(a)},doClick_:function(a){var b=a.domTarget;if(b){var c=!this.isOpen();this==a.target&&(this.$n("btn")!=b&&this.$n("icon")!=b&&c?this.$supers("doClick_",arguments):this.setOpen(c,{sendOnOpen:!0}))}},doMouseDown_:function(a){this==a.target&&this.$supers("doMouseDown_",arguments)},doMouseOver_:function(a){this._bover=!0;if(this==a.target){var b=a.domTarget;!this._autodrop||this.$n("btn")!=
b&&this.$n("icon")!=b||this.isOpen()||this.open({sendOnOpen:!0});this.$supers("doMouseOver_",arguments)}},doMouseOut_:function(a){this._bover=!1;e(this);this.$supers("doMouseOut_",arguments)},_doMouseOver:function(a){this._bover=!0},_doMouseOut:function(a){this._bover=!1;e(this)},doKeyDown_:function(a){this._doKeyDown(a);a.stopped||this.$supers("doKeyDown_",arguments)},_doKeyDown:function(a){a=a.keyCode;var b=this.isOpen();40!=a||b?13==a||32==a?this.fire("onClick"):27==a&&b&&this.close():this.open({sendOnOpen:!0})},
focus_:function(a){if(this.isDisabled())return!1;if(!zk.focusBackFix||!this._upload){var b=this,c=this.$n();zk.afterAnimate(function(){try{c.focus(),zk.currentFocus=b,zjq.fixInput(c)}catch(d){zk.debugLog(d.message||d)}},a)}return!0},ignoreDescendantFloatUp_:function(a){return a&&a.$instanceof(zul.wgt.Popup)},rerender:function(a){this.isOpen()&&this.close();this.$supers("rerender",arguments)}})})();

zkreg('zul.wgt.Combobutton');
zk._m={};
zk._m['default']=combobutton$mold$=function(a){var c=this._tabindex|0,b=this.uuid;a.push("<span ",this.domAttrs_({tabindex:1}));this._disabled&&a.push(' disabled="disabled"');a.push(' tabindex="',c,'"');a.push(' ><span id="',b,'-real" class="',this.$s("content"),'"');a.push(">",this.domContent_(),'<span id="',b,'-btn" class="',this.$s("button"),'">','<i id="',b,'-icon" class="',this.$s("icon"),' z-icon-caret-down"></i>',"</span></span>");this.firstChild&&this.firstChild.redraw(a);a.push("</span>")};

;zk._m['toolbar']=[zk._p.p.Combobutton,'default'];
zkmld(zk._p.p.Combobutton,zk._m);
zul.wgt.Selectbox=zk.$extends(zul.Widget,{$define:{selectedIndex:function(a){var b=this.$n();b&&(b.selectedIndex=a)},disabled:function(a){var b=this.$n();b&&(b.disabled=a?"disabled":"")},name:function(a){var b=this.$n();b&&(b.name=a)}},_fixSelIndex:function(){0>this._selectedIndex&&(this.$n().selectedIndex=-1)},bind_:function(){this.$supers(zul.wgt.Selectbox,"bind_",arguments);var a=this.$n();this.domListen_(a,"onChange").domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_");zk.gecko||
(a=[this,this._fixSelIndex],zWatch.listen({onRestore:a,onVParent:a}));this._fixSelIndex()},unbind_:function(){var a=this.$n();this.domUnlisten_(a,"onChange").domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_").$supers(zul.wgt.Selectbox,"unbind_",arguments);a=[this,this._fixSelIndex];zWatch.unlisten({onRestore:a,onVParent:a})},_doChange:function(a){a=this.$n();var b=a.selectedIndex;zk.opera&&(a.selectedIndex=b);this._selectedIndex!=b&&(this.setSelectedIndex(a.selectedIndex),this.fire("onSelect",
a.selectedIndex))},doBlur_:function(a){this._doChange(a);return this.$supers("doBlur_",arguments)},beforeCtrlKeys_:function(a){this._doChange(a)},domAttrs_:function(){var a;return this.$supers("domAttrs_",arguments)+(this.isDisabled()?' disabled="disabled"':"")+(-1<(a=this.getSelectedIndex())?' selectedIndex="'+a+'"':"")+((a=this.getName())?' name="'+a+'"':"")}});

zkreg('zul.wgt.Selectbox');
zk._m={};
zk._m['default']=selectbox$mold$=function(a){a.push("<select",this.domAttrs_(),">");for(var c=$eval(this.items)||[],b=0,d=c.length;b<d;b++)a.push("<option"),-1<this._selectedIndex&&this._selectedIndex==b&&a.push(' selected="selected"'),a.push(">",c[b],"</option>");a.push("</select>")};

;zkmld(zk._p.p.Selectbox,zk._m);
(function(){var l={warning:"z-icon-exclamation-circle",info:"z-icon-info-circle",error:"z-icon-times-circle"},m={u:"up",d:"down",l:"left",r:"right"};zul.wgt.Notification=zk.$extends(zul.wgt.Popup,{_keepVisible:!0,$init:function(b,a){this.$supers(zul.wgt.Notification,"$init",arguments);this._msg=b;this._type=a.type;this._ref=a.ref;this._dur=a.dur;this._closable=a.closable},redraw:function(b){var a=this.uuid,c=this.$s("icon");b.push("<div",this.domAttrs_(),">");this._ref&&b.push('<div id="',a,'-p" class="',
this.$s("pointer"),'"></div>');b.push('<i id="',a,'-icon" class="',c," ",l[this._type],'"></i>');b.push('<div id="',a,'-cave" class="',this.$s("content"),'">',this._msg,"</div>");this._closable&&b.push('<div id="',a,'-cls" class="',this.$s("close"),'"><i id="',a,'-clsIcon" class="',c,' z-icon-times"></i></div>');b.push("</div>")},domClass_:function(b){var a=this._type,c=this.$supers(zul.wgt.Notification,"domClass_",arguments);a&&(c+=" "+this.$s(zUtl.encodeXML(a)));return c},doClick_:function(b){var a=
b.domTarget;a==this.$n("cls")||a==this.$n("clsIcon")?this.close():this.$supers("doClick_",arguments)},onFloatUp:function(b,a){if((!a||!a.triggerByFocus)&&this.isVisible()){b=b.origin;for(var c;b;b=b.parent){if(b==this){c||this.setTopmost();return}if(b==this.parent&&b.ignoreDescendantFloatUp_(this))return;c=c||b.isFloating_()}!this._closable&&0>=this._dur&&this.close({sendOnOpen:!0})}},open:function(b,a,c,d){this.$supers(zul.wgt.Notification,"open",arguments);this._fixarrow(b);zk(this).redoCSS(-1,
{fixFontIcon:!0})},position:function(b,a,c,d){if(!b||b.$n())this.$supers(zul.wgt.Notification,"position",arguments),this._fixarrow(b)},_posInfo:function(b,a,c,d){this._fixPadding(c);return this.$supers(zul.wgt.Notification,"_posInfo",arguments)},_fixPadding:function(b){var a=this.$n("p");if(a){var c=this.$n(),d=2+zk(a).borderWidth()/2||0;a=2+zk(a).borderHeight()/2||0;c.style.padding="0";switch(b){case "before_start":case "before_center":case "before_end":this._dir="d";c.style.paddingBottom=a+"px";
break;case "after_start":case "after_center":case "after_end":this._dir="u";c.style.paddingTop=a+"px";break;case "end_before":case "end_center":case "end_after":this._dir="l";c.style.paddingLeft=d+"px";break;case "start_before":case "start_center":case "start_after":this._dir="r";c.style.paddingRight=d+"px";break;case "top_left":case "top_center":case "top_right":case "middle_left":case "middle_center":case "middle_right":case "bottom_left":case "bottom_center":case "bottom_right":case "overlap":case "overlap_end":case "overlap_before":case "overlap_after":this._dir=
"n";break;default:this._dir="n"}}},_fixarrow:function(b){var a=this.$n("p");if(a){var c=this.$s("pointer"),d=this.$n();b=b.$n();var e=this._dir;var g=zk(a);var f=g.borderWidth(),h=g.borderHeight(),k=zk(d).revisedOffset(),n=zk(b).revisedOffset(),l=(b.offsetWidth-f)/2,p=(b.offsetHeight-h)/2;"n"!=e?("u"==e||"d"==e?(g="u"==e,f=(d.offsetWidth-f)/2||0,k=n[0]-k[0]+l||0,a.style.left=(b.offsetWidth>=d.offsetWidth?f:k)+"px",a.style[g?"top":"bottom"]=(2-h/2||0)+"px",a.style[g?"bottom":"top"]=""):(g="l"==e,h=
(d.offsetHeight-h)/2||0,k=n[1]-k[1]+p||0,a.style.top=(b.offsetHeight>=d.offsetHeight?h:k)+"px",a.style[g?"left":"right"]=(2-f/2||0)+"px",a.style[g?"right":"left"]=""),a.className=c+(m[e]?" "+this.$s(m[e]):""),jq(a).show()):(a.className=c,jq(a).hide())}},openAnima_:function(b,a,c,d){var e=this;jq(this.$n()).fadeIn(500,function(){e.afterOpenAnima_(b,a,c,d)})},closeAnima_:function(b){var a=this;jq(this.$n()).fadeOut(500,function(){a.afterCloseAnima_(b)})},afterCloseAnima_:function(b){b&&b.keepVisible?
(this.setVisible(!1),this.setFloating_(!1),b.sendOnOpen&&this.fire("onOpen",{open:!1})):this.detach()},getPositionArgs_:function(){return[this._fakeParent,null,this._nftPos,null]},reposition:function(){this.$supers("reposition",arguments);this._fixarrow()}},{show:function(b,a,c){c||(c={});a=zk.Widget.$(a);var d=c.ref,e=c.pos,g=c.dur,f=new zul.wgt.Notification(b,c);b=c.off;var h=!0;d&&(h=d.$n("real")||d.$n(),h=zk(h).isRealScrollIntoView());h&&(e||b||(e=d?"end_center":"middle_center"),a||(a=zk.Desktop.$().firstChild),
a.appendChild(f),f.parent=f._fakeParent=c.ref,f._nftPos=e,f.open(d,b,e),0<g&&setTimeout(function(){f.desktop&&f.close()},g))}})})();

zkreg('zul.wgt.Notification');

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.wgt',1);(function(){if(zk._p=zkpi('zkmax'))try{
(function(){zAu.cmd0.echoGx=function(e,b){for(var c=zAu.cmd0.echoGx.getAll(),a=arguments.length;2<a--;)for(var f=arguments[a],d=c.length;d--;)try{var h=c[d];if(h.zk.Desktop.$(f)){var g="zAu.send(new zk.Event(zk.Desktop.$('"+f+"'),'"+e+"'";null!==b&&(g+=",'"+b+"'");h.setTimeout(g+"))",0);break}}catch(k){zk.debugLog(k.message||k)}};zAu.cmd0.echoGx.getAll=function(){return zUtl.frames(top)};zk.ios&&(zAu.cmd0.download=function(e){if(e){var b=document.createElement("a"),c=document.createEvent("Event");
b.id="zk_download";b.href=e;7<=zk.ios||(b.target="_blank");c.initEvent("click",!0,!1);b.dispatchEvent(c)}});zk.copy(jq,{camelCase:function(){var e={},b=0,c=/^-ms-/,a=/-([\da-z])/gi,f=function(a,b){return b.toUpperCase()};return function(d){void 0===e[d]&&(e[d]=d.replace(c,"ms-").replace(a,f),1E3<b++&&(b=0,e={}));return e[d]}}()});var l=zAu.addAuRequest;zAu.addAuRequest=function(e,b){var c=zAu.getAuRequests(e),a=b.target;if(a){var f=a.uuid,d=b.name;a=a.$class;if(b.opts&&b.opts.duplicateIgnore&&b.opts.duplicateIgnore[d]||
a._duplicateIgnoreEvts&&a._duplicateIgnoreEvts[d]){a=0;for(var h=c.length;a<h;a++){var g=c[a];if(g.target&&g.target.uuid==f&&g.name==d){c.splice(a,1);break}}}else c.length&&(b.opts&&b.opts.repeatIgnore&&b.opts.repeatIgnore[d]||a._repeatIgnoreEvts&&a._repeatIgnoreEvts[d])&&(a=c[c.length-1],a.target&&a.target.uuid==f&&a.name==d&&c.pop())}l(e,b)}})();

(function(){zk.override(zk.Widget.prototype,{},{domListen_:function(b,c,d,e){if(!this.$weave){var a=this.getDomEvtInf_(this,c,d,e);zk.afterMount(function(){jq(b,zk).bind(a[0],a[1])},-1);return this}}})})();

zk.copy(zkmax,{rod:function(a){if("undefined"!=typeof zk._avoidRod&&!0===zk._avoidRod)return!1;var d=!0,b=a,c;if(b){if(null!=(c=b.z$rod0))return c;for(;b;b=b.parent)if(null!=(c=b.z$rod)){if(a===b)return c;d=c;break}}a&&(a=a.parent)&&a!==b&&(a.z$rod=d);return d},rodRender:function(a,d){if(a.z_rod&&(!a.parent||!a.parent.z_rod)){d||(a._rodopen=!0);var b;a.replaceHTML("#"+a.uuid,(b=a.parent)?b.desktop:a.desktop)}}});
(function(){function a(a){return function(){var b={};zk.override(zk.$import(a).prototype,b,{redraw:function(a){if(this._rodopen)delete this._rodopen;else if(!this._visible&&zkmax.rod(this)){this.z_rod=!0;a.push('<div id="',this.uuid,'" style="display:none"');var c=this.domClass_();c&&a.push(' class="',c,'"');a.push("></div>");return}b.redraw.apply(this,arguments)},setVisible:function(a){a&&zkmax.rodRender(this);b.setVisible.apply(this,arguments)},setMaximized:function(a){a&&zkmax.rodRender(this);
b.setMaximized.apply(this,arguments)},forcerender:function(){b.forcerender.apply(this,arguments);zkmax.rodRender(this)}})}}(function(){for(var d=["zul.wgt.Div","zul.wgt.Include","zul.wnd.Panel","zul.wnd.Window"],b;b=d.pop();){var c=b.lastIndexOf(".");zk.afterLoad(b.substring(0,c),a(b))}})()})();

(function(){zWs={webSocketEndPoint:null,websocketUri:null,ready:!1,start:function(a,b){null!=this.webSocketEndPoint?null==a&&this.send(null,{$ZKWS_ECHO$:!0}):window.WebSocket?(null!=a&&this.websocketUri!=a&&(this.websocketUri=a),a=new WebSocket((b?"wss://":"ws://")+document.location.host+zk.contextURI+this.websocketUri+"?dtid="+zkdt().uuid),a.onmessage=this.onmessage,a.onopen=this.onopen,a.onclose=this.onclose,this.webSocketEndPoint=a):zAu.send(new zk.Event(zkdt(),"fallbackServerPushClass",null,null))},
onopen:function(){zWs.ready=!0},onclose:function(){zWs.webSocketEndPoint=null;zWs.ready=!1;if(void 0!=zAu.ajaxReq&&void 0!=zAu.ajaxReqInf){var a=zAu.ajaxReq,b=zAu.ajaxReqInf;zAu.ajaxReq=zAu.ajaxReqInf=null;if(!b.ignorable&&!zk.unloading){var e=a.statusText;zAu.confirmRetry("FAILED_TO_RESPONSE",a.status+(e?": "+e:""))&&(zAu.ajaxReqTries=2,zAu.ajaxReqResend(b))}}},stop:function(){this.ready&&this.webSocketEndPoint.close()},onmessage:function(a){a=a.data;if("$ZKWS_ECHO$"==a)zAu.send(new zk.Event(null,
"dummy",null,{ignorable:!0,serverAlive:!0,rtags:{isDummy:!0,serverpush:!0}}));else{var b=jq.evalJSON(a),e=b.header;a={responseText:a,getResponseHeader:function(a){return e?e[a]:void 0},readyState:4,status:b.general.status};b=zAu.ajaxReqInf;var d=e["ZK-SID"];zAu.ajaxReq=zAu.ajaxReqInf=null;null==b&&(b={dt:zkdt()});zk.pfmeter&&zAu._pfrecv(b.dt,zAu.pfGetIds(a));var f;if(302==(f=a.status)){var c=a.getResponseHeader("Location");c=c.substring(c.indexOf("=")+1);zAu.cmd0.redirect(decodeURIComponent(c))}else if(200==
(f=a.status)){if(d&&d!=zAu.seqId){_errCode="ZK-SID "+(d?"mismatch":"required");zAu.afterResponse();return}if((c=a.getResponseHeader("ZK-Error"))&&!zAu.onResponseError(a,c=zk.parseInt(c)||c)&&(5501==c||5502==c)&&zAu.confirmRetry("FAILED_TO_RESPONSE",5501==c?"Request out of sequence":"Activation timeout")){zAu.ajaxReqResend(b);return}410==c||b.rtags&&b.rtags.isDummy||b.rtags&&b.rtags.onTimer&&!zk.timerAlive||zAu._resetTimeout();zAu.pushReqCmds(b,a)&&(d&&9999<++zAu.seqId&&(zAu.seqId=1),zAu.ajaxReqTries=
0,zAu.pendingReqInf=null)}else if(d==zAu.seqId&&!zAu.onResponseError(a,zAu._errCode=f)){c=zAu._errURIs[""+f];if("string"==typeof c){zUtl.go(c);return}if(!b.ignorable&&!zk.unloading&&(c=a.statusText,zAu.confirmRetry("FAILED_TO_RESPONSE",f+(c?": "+c:"")))){zAu.ajaxReqTries=2;zAu.ajaxReqResend(b);return}}zAu.afterResponse(d);b.rtags&&b.rtags.serverpush&&this.send("$ZKWS_READY$");if((a=a.getResponseHeader("cookie"))&&a.length)for(var g in a)document.cookie=a[g]}},send:function(a,b){b.header=this._requestHeaders;
this._requestHeaders={};this.webSocketEndPoint.send(JSON.stringify(b));b.implicit||zk.startProcessing(zk.procDelay,b.sid)},encode:function(a,b,e){var d={},f=b.opts||{},c=b.target;d[a?"":"dtid"]=e.id;d["cmd_"+a]=b.name;!f.implicit&&!f.ignorable||f.serverAlive||(d["opt_"+a]="i");c&&"zk.Desktop"!=c.className&&(d["uuid_"+a]=c.uuid);b=b.data;e=typeof b;if("string"==e||"number"==e||"boolean"==e||jq.isArray(b))b={"":b};b&&(d["data_"+a]=zAu.toJSON(c,b));return d},_requestHeaders:{},setRequestHeaders:function(a,
b){a=a.toLowerCase();this._requestHeaders[a]=void 0==this._requestHeaders[a]?b:this._requestHeaders[a]+(", "+b)}}})();

zk.afterLoad('zul',function(){
});
zk.afterLoad('zul.tab',function(){
(function(){var a={},c=zul.tab.Tabpanel;zk.override(c.molds,a.molds={},{"default":function(b){if(this._rodopen)delete this._rodopen;else if(!this.isSelected()&&!this.getTabbox().inAccordionMold()&&zkmax.rod(this)){this.z_rod=!0;b.push('<div id="',this.uuid,'" style="display:none"></div>');return}a.molds["default"].apply(this,arguments)}});zk.override(c.prototype,a,{_sel:function(b){b&&zkmax.rodRender(this);a._sel.apply(this,arguments)},forcerender:function(){a.forcerender.apply(this,arguments);zkmax.rodRender(this)}})})();

(function(){var b={};zk.override(zul.tab.Tab.prototype,b,{onChildAdded_:function(a){zk.isLoaded("zul.wgt")&&a.$instanceof(zul.wgt.Caption)&&(this.caption=a);b.onChildAdded_.apply(this,arguments)},onChildRemoved_:function(a){a==this.caption&&(this.caption=null);b.onChildRemoved_.apply(this,arguments)},contentRenderer_:function(a){if(this.caption){var c=this.getZclass();a.push('<span id="',this.uuid,'-cnt" class="',c,'-text">');this.caption.redraw(a);a.push("</span>")}else b.contentRenderer_.apply(this,
arguments)}})})();

});
zk.afterLoad('zul.wgt',function(){
(function(){function d(a){a&&a.z_rod&&(d(a.parent),zkmax.rodRender(a))}function c(a){a.z_rod&&(d(a.parent),a._rodopen=!0,zkmax.rodRender(a))}var b={},e=zul.wgt.Popup;zk.override(e.molds,b.molds={},{"default":function(a){if(this._rodopen)delete this._rodopen;else if(!this.isOpen()&&zkmax.rod(this)){this.z_rod=!0;a.push('<div id="',this.uuid,'" style="display:none"></div>');return}b.molds["default"].apply(this,arguments)}});zk.override(e.prototype,b,{open:function(){c(this);b.open.apply(this,arguments)},
close:function(){c(this);b.close.apply(this,arguments)},forcerender:function(){b.forcerender.apply(this,arguments);c(this)}})})();

(function(){function d(b){var a=b.firstChild;for(b=b.caption;a;a=a.nextSibling)if(a!=b)return a}function e(b){if(b._rodKid&&(!b.parent||!b.parent.z_rod)){delete b._rodKid;b._rodopen=!0;var a=new zk.Buffer;b._redrawCave(a);jq("#"+b.uuid+"-cave").replaceWith(a.join(""));for(a=d(b);a;a=a.nextSibling)a.unbind(),!a._visible&&zkmax.rod(a)&&(a.z_rod=!0),a.bind(b.desktop);b.clearCache()}}var c={};zk.override(zul.wgt.Groupbox.prototype,c,{_redrawCave:function(b){var a;if(this._rodopen)delete this._rodopen;
else if((a=d(this))&&!this._open&&zkmax.rod(this)){b.push('<div id="',this.uuid,'-cave"');this._isDefault()||b.push(' style="display:none;border:1px solid"');for(b.push("></div>");a;a=a.nextSibling)a!=this.caption&&(a.z_rod=!0);this._rodKid=!0;return}c._redrawCave.apply(this,arguments)},setOpen:function(b){b&&e(this);c.setOpen.apply(this,arguments)},shallChildROD_:function(b){return this._rodKid||c.shallChildROD_.apply(this,arguments)},forcerender:function(){c.forcerender.apply(this,arguments);e(this)}})})();

(function(){function c(a){return a&&zk.isLoaded("zul.tab")&&a.$instanceof(zul.tab.Tab)}var b={};zk.override(zul.wgt.Caption.prototype,b,{_getBlank:function(){return c(this.parent)?"":b._getBlank.apply(this,arguments)},_isCloseVisible:function(){return c(this.parent)?!1:b._isCloseVisible.apply(this,arguments)},_isCollapsibleVisible:function(){var a=this.parent;return a&&zk.isLoaded("zul.layout")&&a.$instanceof(zul.layout.LayoutRegion)?!1:b._isCollapsibleVisible.apply(this,arguments)}})})();

});
zk.afterLoad('zul.menu',function(){
(function(){var a={},b=zul.menu.Menupopup;zk.override(b.molds,a.molds={},{"default":function(b){if(this._rodopen)delete this._rodopen;else if(!this.isOpen()&&zkmax.rod(this)){this.z_rod=!0;b.push('<div id="',this.uuid,'" style="display:none"></div>');return}a.molds["default"].apply(this,arguments)}});zk.override(b.prototype,a,{open:function(){zkmax.rodRender(this);a.open.apply(this,arguments)},forcerender:function(){a.forcerender.apply(this,arguments);zkmax.rodRender(this)}})})();

});
zk.afterLoad('zul.inp',function(){
(function(){function e(a,f){var b;if(a._rodopen)delete a._rodopen;else if((b=a.firstChild)&&!a._open&&zkmax.rod(a)){for(f.push('<div id="',a.uuid,'-pp" style="display:none"></div>');b;b=b.nextSibling)b.z_rod=!0;return a._rodKid=!0}}function c(a){if(a._rodKid&&(!a.parent||!a.parent.z_rod)){delete a._rodKid;a._rodopen=!0;var b=new zk.Buffer;a.redrawpp_(b);jq("#"+a.uuid+"-pp").replaceWith(b.join(""));for(b=a.firstChild;b;b=b.nextSibling)b.unbind(),b.bind(a.desktop);a.clearCache()}}var b={},d={};zk.override(zul.inp.Combobox.prototype,
b,{redrawpp_:function(a){e(this,a)||b.redrawpp_.apply(this,arguments)},shallChildROD_:function(a){return this._rodKid||b.shallChildROD_.apply(this,arguments)},forcerender:function(){b.forcerender.apply(this,arguments);c(this)},open:function(){c(this);b.open.apply(this,arguments)}});zk.override(zul.inp.Bandbox.prototype,d,{redrawpp_:function(a){e(this,a)||d.redrawpp_.apply(this,arguments)},forcerender:function(){d.forcerender.apply(this,arguments);c(this)},open:function(){c(this);d.open.apply(this,
arguments)}})})();

});
zk.afterLoad('zul.db',function(){
(function(){function e(b){var a;if((a=b.firstChild)&&a.z_rod&&(!b.parent||!b.parent.z_rod)){b._rodopen=!0;var c=new zk.Buffer;b.redrawpp_(c);for(jq("#"+b.uuid+"-pp").replaceWith(c.join(""));a;a=a.nextSibling)a.unbind(),a.bind(b.desktop);b.clearCache()}}var d={},f={};zk.override(zul.db.Datebox.prototype,d,{redrawpp_:function(b){a:{var a=b;var c;if(this._rodopen)delete this._rodopen;else if((c=this.firstChild)&&!this._open&&zkmax.rod(this)){a.push('<div id="',this.uuid,'-pp" style="display:none"></div>');
for(this.z_childrod=!0;c;c=c.nextSibling)c.z_rod=!0;a=!0;break a}delete this.z_childrod;a=void 0}a||d.redrawpp_.apply(this,arguments)},forcerender:function(){d.forcerender.apply(this,arguments);e(this)}});zk.override(zul.db.CalendarPop.prototype,f,{open:function(){e(this.parent);f.open.apply(this,arguments)}})})();

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,f,e){b instanceof String&&(b=String(b));for(var c=b.length,a=0;a<c;a++){var q=b[a];if(f.call(e,q,a,b))return{i:a,v:q}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,e){b!=Array.prototype&&b!=Object.prototype&&(b[f]=e.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,f,e,c){if(f){e=$jscomp.global;b=b.split(".");for(c=0;c<b.length-1;c++){var a=b[c];a in e||(e[a]={});e=e[a]}b=b[b.length-1];c=e[b];f=f(c);f!=c&&null!=f&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,e){return $jscomp.findInternal(this,b,e).v}},"es6","es3");
(function(){var b=zul.db.Renderer.dayView,f={};zul.db.Renderer.dayView=function(e,c,a){if(e.isWeekOfYear()){var f=e.uuid,h=e.$s("weekend"),g=e.$s("weekday"),n=e.$s("weekofyear"),l=e.$s("cell");c.push('<table class="',e.$s("body"),'" id="',f,'-mid"',zUtl.cellps0,">","<thead><tr>");var r=(7-a.DOW_1ST)%7,t=(6+r)%7;c.push('<th class="',n,'">',zul.db.Renderer.titleOfWeekOfYear(e),"</th>");for(var k=0;7>k;++k)c.push('<th class="',k==r||k==t?h:g,'">'+a.S2DOW[k]+"</th>");c.push("</tr></thead><tbody>");for(k=
0;6>k;++k){c.push('<tr id="',f,"-w",k,'">','<td class="',l," ",n,'"></td>');for(var p=0;7>p;++p)c.push('<td class="',l," ",p==r||p==t?h:g,'"></td>');c.push("</tr>")}c.push("</tbody></table>")}else b.apply(this,arguments)};zk.override(zul.db.Calendar.prototype,f,{_clickDate:function(b){if(this.isWeekOfYear()){for(var c=b.domTarget,a;c;c=c.parentNode)try{if(void 0!==(a=jq(c).data("woy"))){a=zk.parseInt(a);break}}catch(q){}a&&this.fire("onWeekClick",{"":a})}f._clickDate.apply(this,arguments)},_markCal0:function(b){if("day"==
this._view&&this.isWeekOfYear()){this.getZclass();var c=this.getTime(),a=c.getTimeZone();m=c.getMonth();y=c.getFullYear();d=c.getDate();DOW_1ST=this._localizedSymbols&&this._localizedSymbols.DOW_1ST||zk.DOW_1ST;MINDAYS=this._localizedSymbols&&this._localizedSymbols.MINDAYS||zk.MINDAYS;v=Dates.newInstance([y,m,1],"UTC").getDay()-DOW_1ST;last=Dates.newInstance([y,m+1,0],"UTC").getDate();prev=Dates.newInstance([y,m,0],"UTC").getDate();today=zUtl.today(null,a);mid=this.$n("mid");$mid=jq(mid);seldClass=
this.$s("selected");outsideClass=this.$s("outside");disdClass=this.$s("disabled");$mid.find("."+seldClass).removeClass(seldClass);b&&b.sameMonth||($mid.find("."+outsideClass).removeClass(outsideClass),$mid.find("."+disdClass).removeClass(disdClass));0>v&&(v+=7);c=0;for(a=-v+1;6>c;++c){var e=this.$n("w"+c);if(e)for(var h=0;8>h;++h,++a)if(0==h){v=0>=a?prev+a:a<=last?a:a-last;var g=0>=a?-1:a<=last?0:1;g=zUtl.getWeekOfYear(y,m+g,v,DOW_1ST,MINDAYS);jq(e.cells[h]).html(zul.db.Renderer.labelOfWeekOfYear(this,
g)).data("woy",g);a--}else if(1==h&&a>last)e.style.display="none";else{v=0>=a?prev+a:a<=last?a:a-last;1==h&&(e.style.display="");g=0>=a?-1:a<=last?0:1;var n=a==d;if(!(2099<=y&&11==m&&1==g||1900>=y&&0==m&&-1==g)){var l=jq(e.cells[h]);l[0]._monofs=g;n&&l.addClass(seldClass);b&&b.sameMonth||(g&&l.addClass(outsideClass),zul.db.Renderer.disabled(this,y,m+g,v,today)&&l.addClass(disdClass),l.html(zul.db.Renderer.cellHTML(this,y,m+g,v,g)).data("value",v))}}}}else f._markCal0.apply(this,arguments)}})})();

});
zk.afterLoad('zul.mesh',function(){
(function(){zk.override(zul.mesh.ColumnMenuWidget.prototype,{},{_onUngroup:function(b){var a;(a=b.target.parent._ungroup)&&a.setVisible(!1);this._mref.fire("onUngroup","ascending"!=this._mref.getSortDirection(),{toServer:!this.getMeshWidget().getModel()})}});zk.override(zul.mesh.ColumnMenupopup.prototype,{},{getUngroupitem:function(){return this._ungroup}})})();

});
zk.afterLoad('zul.sel',function(){
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(d,f,a){if(null==d)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(f instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return d+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,f,a){d!=Array.prototype&&d!=Object.prototype&&(d[f]=a.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,f,a,b){if(f){a=$jscomp.global;d=d.split(".");for(b=0;b<d.length-1;b++){var c=d[b];c in a||(a[c]={});a=a[c]}d=d[d.length-1];b=a[d];f=f(b);f!=b&&null!=f&&$jscomp.defineProperty(a,d,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("String.prototype.endsWith",function(d){return d?d:function(d,a){var b=$jscomp.checkStringArgs(this,d,"endsWith");d+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var c=d.length;0<c&&0<a;)if(b[--a]!=d[--c])return!1;return 0>=c}},"es6","es3");
(function(){var d=11>zk.ie?1193046:16777216,f={};zk.override(zul.sel.Listbox.prototype,f,{_firstLoad:!0,_totalSize:0,_avgrowhgh:21,_offset:0,_lastoffset:0,_limit:20,_bufpad:1050,_loadpad:210,_viewtop:0,_lasttop:0,_totalhgh:null,_rowshgh:null,_topPad:0,_itop:0,_ibottom:0,$init:function(){f.$init.apply(this,arguments);this._padsz={}},rerender:function(){f.rerender.apply(this,arguments);this._listbox$rod&&this._initPadSizes(!0);return this},domPad_:function(a,b){this._listbox$rod&&a.push('<div id="',
this.uuid,b,'" style="font-size:0px;display:none;width:1px;"></div>')},setResetDataLoader:function(){this._justScrollPads=this._currentTop=this._currentLeft=this._topPad=this._lasttop=0;this.refreshBar_(!1,!0);this._nativebar&&this.ebody&&(this.ebody.scrollTop=0)},setTotalSize:function(a){this._listbox$rod&&(a!=this._totalSize&&(this._totalSize=a),!this._scrolling&&this.desktop&&this._initPadSizes())},setOffset:function(a){a!=this._offset&&(this._offset=a,this._lastoffset?this.setScrollPads_({offset:this._lastoffset}):
this._justScrollPads=!1)},setItemsInvalid_:function(a){var b=this;zAu.createWidgets(a,function(a){if(b.$n("rows")){var c=a.length&&a[0]?a[0]._index:b._lastoffset;b.replaceCavedChildren_("rows",a);c?b.setScrollPads_({offset:c}):b._justScrollPads=!1}else{for(var e=b.firstItem;e;){var d=b.nextItem(e);d||(c=e.nextSibling);b.removeChild(e,!0);e=d}e=0;for(d=a.length;e<d;++e)b.insertBefore(a[e],c,!0)}},function(a){for(var c=a,e=a;c;e=c,c=c.parent)if(c==b&&e.$instanceof(zul.sel.Listitem))return null;return a})},
_fireOnScrollPos:function(a){if(this._listbox$rod){var b=this.inPagingMold(),c=this.inSelectMold();b||c?b&&f._fireOnScrollPos.apply(this,arguments):(clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this.proxy(this._scrollPage),0<=a?a:300))}else f._fireOnScrollPos.apply(this,arguments)},_onRender:function(){if(f._onRender.apply(this,arguments))return!0;this._listbox$rod&&!this.inPagingMold()&&!this.inSelectMold()&&this._firstLoad&&(this._firstLoad=!1,this.initRodSize&&(this._bufpad=this.initRodSize/
2*21),this._initPadSizes())},_setPadSize:function(a,b,c){this._padsz[b]=c;a.style.display=c?"block":"none";b='<table id="'+this.uuid+"-"+b+'-tbl">';if(zk.webkit)for(;!(b+='<tr><td style="height:'+Math.min(c,d)+'px"></td></tr>',c-=d,0>=c););else for(;!(b+='<tr style="height:'+Math.min(c,d)+'px"><td></td></tr>',c-=d,0>=c););b+="</table>";jq(a).empty().append(b)},_initPadSizes:function(a){if(!this.inPagingMold())if(this._justScrollPads)delete this._justScrollPads;else{var b=this.$n("rows");if(b){var c=
this._nrows,d=this._rowshgh=b.offsetHeight,e=this._totalSize,h=this.ebody;this.$n("cave");this._avgrowhgh=0<c?d/c|0:21;this._ibottom=this._offset+c;0>this._topPad&&(this._topPad=this._offset*this._avgrowhgh);0==this._offset&&(this._topPad=0);c=this._topPad;d=e*this._avgrowhgh-d-c;0>d?(0<this._offset&&(c+=d),d=0,0>c&&(c=0)):this.tsize<=this._ibottom&&(d=0);this._topPad!=c&&this.fire("onTopPad",{topPad:this._topPad=c});this._setPadSize(this.$n("tpad"),"tpad",c);this._setPadSize(this.$n("bpad"),"bpad",
d);this._totalhgh=this.ebody.scrollHeight;this._itop=this._offset;d=h.offsetHeight;this._limit=((d+2*this._bufpad)/this._avgrowhgh|0)+2;!this._viewtop&&!this._lasttop&&0<this._currentTop&&(this._viewtop=this._lasttop=this._currentTop);!this._lastoffset&&0<this._offset&&(this._lastoffset=this._offset);!a&&this._totalSize>this._ibottom&&(a=(this._viewtop=this._currentTop)+d,b=(b=b.lastChild)?this._rowScrollBottom(b):c,a>b&&this._lastoffset==this._itop&&this.fire("onDataLoading",{offset:this._itop,limit:this._limit}));
0<this._currentTop&&(h.scrollTop=this._currentTop);this.refreshBar_();this._selInView&&(h=this._selInView*this._avgrowhgh,b=h+this._avgrowhgh,c=zul.mesh.Scrollbar.getScrollPosV(this),(b<c||h>c+this.ebody.offsetHeight)&&this.setSelInView_(this._selInView),delete this._selInView)}}},_rowScrollBottom:function(a){return a.offsetTop+a.offsetHeight-(this.ebodytbl.offsetParent==a.offsetParent?this.ebodytbl.offsetTop:0)},_rowOffsetTop:function(a){var b=this.$n("rows");return a.offsetTop-(b.offsetParent==
a.offsetParent?b.offsetTop:0)},setSelInView_:function(a){a*=this._avgrowhgh;var b=this._scrollbar,c=this.ebody;b?(b.hasVScroll()||b.syncSize(),b.scrollTo(zul.mesh.Scrollbar.getScrollPosH(this),a)):c&&(c.scrollTop=a)},_syncSelInView:function(){if(!this._listbox$rod)f._syncSelInView.apply(this,arguments);else if(this.$class.shallSyncSelInView&&this.$class.shallSyncSelInView[this.uuid]||this._listbox$shallSyncSelInView){this.$class.shallSyncSelInView&&(this.$class.shallSyncSelInView[this.uuid]=!1);this._listbox$shallSyncSelInView&&
(this._listbox$shallSyncSelInView=!1);var a=this.getSelectedItems();if(a&&(a=a[a.length-1])){this._syncFocus(a);var b=this._scrollbar;b?b.scrollToElement(a.$n()):zk(a.$n()).scrollIntoView(this.ebody)}}},_scrollPage:function(){this._timeoutId=!1;var a=this.$n("rows");if(a){var b=this.ebody,c=this._viewtop=zul.mesh.Scrollbar.getScrollPosV(this),d=c+b.offsetHeight;b=this._padsz.tpad;var e=this._lasttop;a=this._rowshgh=a.offsetHeight;a=b+a;if(c!=e){var h=c-this._bufpad,f=c-this._loadpad;d+=this._loadpad;
0>h&&(h=0);0>f&&(f=0);d>this._totalhgh&&(d=this._totalhgh-(11>zk.ie?1:0));if(c>e){if(a<d){e=this._itop;if(a<h)e=this._ibottom+((h-a)/this._avgrowhgh|0);else if(b=h-b,0<=b)for(d=this._ibottom-1,e=0,a=this.lastItem;a;a=this.previousItem(a),--d)if(this._rowOffsetTop(a.$n())<b){e=d;break}e>=this._totalSize&&(e=this._totalSize-this._limit);if(0>e||0==c)e=0;if(e!=this._lastoffset||this._totalSize>this._ibottom&&this._nrows<this._limit)this._lastoffset=e,this._lasttop=c,this.fire("onDataLoading",{offset:e,
limit:this._limit},{rtags:{onDataLoading:1}})}}else if(b>=f||0==h&&0<this._lastoffset)e=0==h?0:this._itop-(b-h)/this._avgrowhgh|0,e>=this._totalSize&&(e=this._totalSize-this._limit),0>e&&(e=0),e!=this._lastoffset&&(this._lastoffset=e,this._lasttop=c,this.fire("onDataLoading",{offset:e,limit:this._limit},{rtags:{onDataLoading:1}}))}this._currentTop=c;this.fire("onScrollPos",{top:this._currentTop,left:this._currentLeft})}},setScrollPads_:function(a){var b,c=a.offset;a=a.sel;this._justScrollPads=!0;
delete this._scrolling;if(this._listbox$rod&&c==this._lastoffset){var d=this.ebody,e=this.$n("rows");this.$n("cave");if(e){var f=this.$n("tpad"),p=this.$n("bpad"),g=this._padsz.tpad,l=this._rowshgh,n=this._itop,q=this._ibottom,k=this._rowshgh=e.offsetHeight;e=this._totalSize;var m=this._itop=c,r=this._ibottom=m+this._nrows;if(m>n)if(m>=q)g=g+l+((c-q)*this._avgrowhgh|0);else{for(b=this.firstItem;m<q&&b;++m)b=this.nextItem(b);g=g+l-(b?this._rowOffsetTop(b.$n()):k)}else if(m<n)if(r<=n)g-=(n-c)*this._avgrowhgh|
0;else{b=this.lastItem;for(m=r-1;m>n&&b;--m)b=this.previousItem(b);g-=b?this._rowOffsetTop(b.$n()):k}0==c?g=0:0==g&&(g=c*this._avgrowhgh);c=this._totalhgh-k-g;(l=0<c&&r>=e)&&(c=0);0>c&&(l=!0,c=(e-r)*this._avgrowhgh|0);this._topPad!=g&&this.fire("onTopPad",{topPad:this._topPad=g});this._setPadSize(f,"tpad",0>g?0:g);this._setPadSize(p,"bpad",0>c?0:c);f=this._viewtop;f>=this._avgrowhgh*e-this._bufpad&&f!=d.scrollTop&&(d.scrollTop=this._currentTop=f);if(0>g||0>c||l)this._totalhgh=d.scrollHeight;zk.mobile||
zul.mesh.Scrollbar.getScrollPosV(this)==this._lasttop||this._fireOnScrollPos();!zk.mobile&&a&&(a=zk.Widget.$(a))&&(this._syncFocus(a),this._setFocus(a,!0))}}},_selectUpto:function(a,b,c){if(!this._listbox$rod)return f._selectUpto.apply(this,arguments);if(a.isSelected())c||this._focus(a);else{var d=a._index,e=!1,h=!1,p=this._focusItem||this._lastSelectedItem||this._itemForSelect,g=p?p._index:-1;this._itemForSelect=null;if(d<g){var l=g;g=d;d=l;l=!0}for(var n=this.getBodyWidgetIterator(),q=this.getSelectedItem(),
k;k=n.next();)if(!k.isDisabled()&&k.isSelectable()){!e&&-1<g&&k._index>=g&&(e=!0);if(e){this._changeSelect(k,!0);if(!l&&k==a)break;l=!1}else if(h){if(this._changeSelect(k,!0),this._isFocus(k)||k==p)break}else if(!q){if(k!=a)continue;this._changeSelect(k,!0);break}if((h=k._index>=d)&&e)break}c||this._focus(a);this.fireOnSelectByRange(a,{start:g,end:d},b)}},fireOnSelectByRange:function(a,b,c){var d=!0;if(c){var e=c.data;this._multiple&&(d=e.ctrlKey||e.metaKey||e.shiftKey||this._checkmark&&(!this._cdo||
c.domTarget.id&&c.domTarget.id.endsWith("-cm")))}this.fire("onSelect",zk.copy({range:b,reference:a,clearFirst:!d},e))}})})();

(function(){function q(a){if((!a.parent||!a.parent.z_rod)&&(a=a.treechildren)&&(a=a.firstChild)&&a.z_rod)for(;a;a=a.nextSibling){a._rodopen=!0;var b=a;if(b&&b.z_rod&&(!b.parent||!b.parent.z_rod)){var c=b.parent;c&&(b.unbind(),c.insertChildHTML_(b,b.nextSibling,b.desktop));zUtl.fireSized(b)}a.isOpen()&&a.treechildren&&q(a);delete a._rodopen}}var r=function(){for(var a=1E6,b=zk.ff?6E6:1E9,c=jq("<div style='display:none' />").appendTo(document.body);;){var d=2*a;if(d>b||c.css("height",d).height()!==
d)break;a=d}c.remove();return a}(),h={};zk.override(zul.sel.Treeitem.molds,h.molds={},{"default":function(a){var b;if(b=zkmax.rod(this))a:{if(b=this){var c,d;if(!((d=b.parent)&&((c=d.firstChild)!=b||(c=d.lastChild)!=b)&&c&&c.treerow&&c.treerow.desktop&&!c.treerow.z_rod||b._rodopen))for(;(b=b.parent)&&!zul.sel.Tree.isInstance(b);)if(!b._rodopen&&b.isOpen&&!b.isOpen()){b=!0;break a}}b=void 0}b?this.z_rod=!0:h.molds["default"].apply(this,arguments)}});zk.override(zul.sel.Treeitem.prototype,h,{setOpen:function(a){a&&
q(this);h.setOpen.apply(this,arguments)},_showKids:function(){var a=this.getTree();a.isClientRodEnabled()?this.treechildren&&0<this.treechildren.nChildren&&(a._shallUpdateTotalSize=!0,a._shallRedrawTree=!0):h._showKids.apply(this,arguments)},replaceChildHTML_:function(){h.replaceChildHTML_.apply(this,arguments);this._rerenderRod()},insertChildHTML_:function(){h.insertChildHTML_.apply(this,arguments);this._rerenderRod()},removeChildHTML_:function(){h.removeChildHTML_.apply(this,arguments);this._rerenderRod()},
_rerenderRod:function(){var a=this.getTree();a.isClientRodEnabled()&&(a._shallUpdateTotalSize=!0,a._shallRedrawTree=!0)},setVisible:function(a){var b=this.getTree();b.isClientRodEnabled()&&this._visible!=a?(this._visible=a,b._shallUpdateTotalSize=!0,b._shallRedrawTree=!0):h.setVisible.apply(this,arguments)},forcerender:function(){h.forcerender.apply(this,arguments);q(this)}});zk.override(zul.sel.TreeItemIter.prototype,{},{_init:function(){if(!this._isInit){this._isInit=!0;this.items=this.tree.getItems(this.opts);
this.length=this.items.length;var a=this.tree;a.inPagingMold()?this.cur=Math.max(0,a.treechildren.getItemCount()-a.getPageSize()):this.cur=0}}});var l={};zk.override(zul.sel.Treechildren.prototype,l,{bindChildren_:function(a,b,c){if(this.getTree().isClientRodEnabled())if(this.parent.$instanceof(zul.sel.Tree)){var d=this._bindChildren;if(d){this._bindChildren=null;for(var e=0,f=d.length;e<f;e++){var g=d[e];b&&b.skipped(this,g)||(g.unbind(),g.bind_(this.desktop,null,c))}}for(d=this.firstChild;d;d=e)e=
d.nextSibling,b&&b.skipped(this,d)||d.desktop||this.$class._bindrod(d)}else for(d=this.firstChild;d;d=e)e=d.nextSibling,b&&b.skipped(this,d)||this.$class._bindrod(d);else l.bindChildren_.apply(this,arguments)},replaceChildHTML_:function(){l.replaceChildHTML_.apply(this,arguments);this._rerenderRod()},insertChildHTML_:function(){l.insertChildHTML_.apply(this,arguments);this._rerenderRod()},removeChildHTML_:function(){l.removeChildHTML_.apply(this,arguments);this._rerenderRod()},_rerenderRod:function(){var a=
this.getTree();a.isClientRodEnabled()&&(a._shallUpdateTotalSize=!0,a._shallRedrawTree=!0)}});zk.override(zul.sel.Treechildren.molds,l.molds={},{"default":function(a){var b=this.getTree();b.isClientRodEnabled()?this.parent.$instanceof(zul.sel.Tree)&&(a.push('<tbody id="',this.parent.uuid,'-rows" ',this.domAttrs_({id:1}),">"),this._bindChildren=b._renderTreeItems(a,b._offset,b._limit),a.push("</tbody>")):l.molds["default"].apply(this,arguments)}});var m={};zk.override(zul.sel.Tree.prototype,m,{z$rod:!0,
_firstLoad:!0,_totalSize:0,_avgrowhgh:21,_offset:0,_lastoffset:0,_limit:20,_bufpad:1050,_loadpad:210,_viewtop:0,_lasttop:0,_totalhgh:null,_rowshgh:null,_topPad:-1,_itop:0,_ibottom:0,preloadSize:50,isClientRodEnabled:function(){return this.z$rod&&!this.inPagingMold()},$init:function(){m.$init.apply(this,arguments);this._padsz={}},rerender:function(){m.rerender.apply(this,arguments);this.z$rod&&this._initPadSizes(!0);return this},domPad_:function(a,b){this.z$rod&&a.push('<div id="',this.uuid,b,'" style="font-size:0px;display:none;width:1px;"></div>')},
_initPadSizes:function(a){if(!this.inPagingMold()){var b,c;if((b=this.treechildren)&&(c=b.$n())){var d=c.rows.length,e=this._rowshgh=c.offsetHeight,f=this._totalSize;b=this.ebody;this._avgrowhgh=0<d?e/d:21;this._bufpad=this.preloadSize/2*this._avgrowhgh;this._ibottom=this._offset+d;0>this._topPad&&(this._topPad=this._offset*this._avgrowhgh);0==this._offset&&(this._topPad=0);d=this._topPad;e=f*this._avgrowhgh-e-d;0>e?(0<this._offset&&(d+=e),e=0,0>d&&(d=0)):f<=this._ibottom&&(e=0);this._topPad!=d&&
(this._topPad=d);this._setPadSize(this.$n("tpad"),"tpad",d);this._setPadSize(this.$n("bpad"),"bpad",e);this._totalhgh=b.scrollHeight;this._itop=this._offset;f=b.offsetHeight;this._limit=((f+2*this._bufpad)/this._avgrowhgh|0)+2;!this._viewtop&&!this._lasttop&&0<this._currentTop&&(this._viewtop=this._lasttop=this._currentTop);!this._lastoffset&&0<this._offset&&(this._lastoffset=this._offset);!a&&this._totalSize>this._ibottom&&(a=(this._viewtop=this._currentTop)+f,c=(c=c.lastChild)?this._rowScrollBottom(c):
d,a>c&&this._lastoffset==this._itop&&this._onDataLoading(this._itop,this._limit));0<this._currentTop&&(b.scrollTop=this._currentTop);this.refreshBar_()}}},_setPadSize:function(a,b,c){this._padsz[b]=c;a.style.display=c?"block":"none";for(b='<table id="'+this.uuid+"-"+b+'-tbl">';!(b+='<tr><td style="height:'+Math.min(c,r)+'px"></td></tr>',c-=r,0>=c););b+="</table>";jq(a).empty().append(b)},_rowScrollBottom:function(a){return a.offsetTop+a.offsetHeight-(this.ebodytbl.offsetParent==a.offsetParent?this.ebodytbl.offsetTop:
0)},_rowOffsetTop:function(a){var b=this.treechildren.$n();return a.offsetTop-(b.offsetParent==a.offsetParent?b.offsetTop:0)},setSelectedItem:function(a){m.setSelectedItem.apply(this,arguments);if(this.isClientRodEnabled()){var b=this._getItemIndex(a)*this._avgrowhgh,c=b+this._avgrowhgh,d=this.ebody;if(d){var e=zul.mesh.Scrollbar.getScrollPosV(this);if(c<e||b>e+d.offsetHeight)this._shallMoveScrollTop=b}}},_getItemIndex:function(a){for(var b=0,c=this.getBodyWidgetIterator({skipHidden:!0}),d;d=c.next();b++)if(d==
a)return b;return-1},setTotalSize:function(a){this.z$rod&&(this._totalSize=a,a=this._totalSize-this._limit,0>a&&(a=0),this._offset>a&&(this._lastoffset=this._offset=a))},_fireOnScrollPos:function(a){this.isClientRodEnabled()?(clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this.proxy(this._scrollPage),0<=a?a:300)):m._fireOnScrollPos.apply(this,arguments)},_scrollPage:function(){var a,b;if((a=this.treechildren)&&(b=a.$n())){var c=this.ebody;a=this._viewtop=zul.mesh.Scrollbar.getScrollPosV(this);
var d=a+c.offsetHeight,e=this._padsz.tpad;var f=this._lasttop;c=this._rowshgh=b.offsetHeight;var g=e+c;c=this._totalSize-this._limit;0>c&&(c=0);if(a!=f){var k=a-this._bufpad,h=a-this._loadpad;d+=this._loadpad;0>k&&(k=0);0>h&&(h=0);d>this._totalhgh&&(d=this._totalhgh-(11>zk.ie?1:0));if(a>f){if(g<d){f=this._itop;if(g<k)f=this._ibottom+((k-g)/this._avgrowhgh|0);else if(e=k-e,0<=e)for(g=this._ibottom-1,f=0,k=b.lastChild;k;k=k.previousSibling,--g)if(this._rowOffsetTop(k)<e){f=g;break}f>=c&&(f=c);if(0>
f||0==a)f=0;if(f!=this._lastoffset||this._totalSize>this._ibottom&&b.rows.length<this._limit)this._lastoffset=f,this._onDataLoading(f,this._limit)}}else if(e>=h||0==k&&0<this._lastoffset)f=0==k?0:this._itop-(e-k)/this._avgrowhgh|0,f>=c&&(f=c),0>f&&(f=0),f!=this._lastoffset&&(this._lastoffset=f,this._onDataLoading(f,this._limit))}this._lasttop=this._currentTop=a;this.fire("onScrollPos",{top:this._currentTop,left:this._currentLeft})}},_onRender:function(){if(m._onRender.apply(this,arguments))return!0;
this.isClientRodEnabled()&&this._firstLoad&&(this._firstLoad=!1,this.setTotalSize(this.getItemCount({skipHidden:!0})),this._initPadSizes(),this.refreshBar_())},setScrollPads_:function(a){var b;this._scrolling=null;if(this.z$rod&&a==this._lastoffset){var c;if((c=this.treechildren)&&(b=c.$n())){c=this.$n("tpad");var d=this.$n("bpad"),e=this._padsz.tpad,f=this._rowshgh,g=this._itop,k=this._ibottom,h=this._rowshgh=b.offsetHeight,m=this._totalSize,n=this._itop=a,l=this._ibottom=n+b.rows.length,p=this.ebody;
if(n>g)if(n>=k)e=e+f+((a-k)*this._avgrowhgh|0);else{for(b=b.firstChild;n<k&&b;++n)b=b.nextSibling;e=e+f-(b?this._rowOffsetTop(b):h)}else if(n<g)if(l<=g)e-=(g-a)*this._avgrowhgh|0;else{b=b.lastChild;for(n=l-1;n>g&&b;--n)b=b.previousSibling;e-=b?this._rowOffsetTop(b):h}0==a?e=0:0==e&&(e=a*this._avgrowhgh);a=this._totalhgh-h-e;(f=0<a&&l>=m)&&(a=0);0>a&&(f=!0,a=(m-l)*this._avgrowhgh|0);this._topPad!=e&&(this._topPad=e);this._setPadSize(c,"tpad",0>e?0:e);this._setPadSize(d,"bpad",0>a?0:a);f&&0<e&&(this._viewtop=
this._currentTop=p.scrollHeight-p.offsetHeight);p.scrollTop=this._currentTop;if(0>e||0>a||f)this._totalhgh=p.scrollHeight;zk.mobile||zul.mesh.Scrollbar.getScrollPosV(this)==this._lasttop||this._fireOnScrollPos()}}},_renderTreeItems:function(a,b,c){for(var d=[],e=[],f=this.getBodyWidgetIterator({skipHidden:!0}),g;g=f.next();)if(!(0<b--)){if(0>=c--)break;g._loaded||d.push(g);g.redraw(a);e.push(g)}d.length&&this.fire("onRender",{items:d},{implicit:!0});return e},_onDataLoading:function(a,b){this._offset=
a;this._limit=b;if(b=this._itemRebind)for(var c=0,d=b.length;c<d;c++){var e=b[c];e.unbind(null,!0);this.$class._bindrod(e)}e=new zk.Buffer;b=this._itemRebind=this._renderTreeItems(e,this._offset,this._limit);jq(this.treechildren.$n()).empty().html(e.join(""));c=0;for(d=b.length;c<d;c++)e=b[c],e.unbind(null,!0),e.bind();this.setScrollPads_(a);zUtl.fireSized(this)},onResponse:function(){this._redrawRod();m.onResponse.apply(this,arguments);this._calcPadSizes()},onSize:function(){this._redrawRod();m.onSize.apply(this,
arguments);this._calcPadSizes()},doResizeScroll_:function(){this._redrawRod();m.doResizeScroll_.apply(this,arguments);this._calcPadSizes()},_redrawRod:function(){this._shallUpdateTotalSize&&(this._shallUpdateTotalSize=!1,this.setTotalSize(this.getItemCount({skipHidden:!0})));if(null!=this._shallMoveScrollTop){var a=this._shallMoveScrollTop,b=this._scrollbar;this._shallMoveScrollTop=null;b?(b.hasVScroll()||b.syncSize(),b.scrollTo(zul.mesh.Scrollbar.getScrollPosH(this),a)):this.ebody.scrollTop=a}else this._shallRedrawTree&&
(this._shallRedrawTree=!1,this._onDataLoading(this._offset,this._limit),this._shallCalcPadSizes=!0)},_calcPadSizes:function(){this._shallCalcPadSizes&&(this._shallCalcPadSizes=!1,!this._scrolling&&this.desktop&&this._initPadSizes())}})})();

});
zk.afterLoad('zul.grid', function(){
(function(){var m=11>zk.ie?1193046:16777216,h={};zk.override(zul.grid.Grid.prototype,h,{_firstLoad:!0,_totalSize:0,_avgrowhgh:21,_offset:0,_lastoffset:0,_limit:20,_bufpad:1050,_loadpad:210,_viewtop:0,_lasttop:0,_totalhgh:null,_rowshgh:null,_topPad:0,_itop:0,_ibottom:0,$init:function(){h.$init.apply(this,arguments);this._padsz={}},rerender:function(){h.rerender.apply(this,arguments);this._grid$rod&&this._initPadSizes(!0);return this},domPad_:function(c,a){this._grid$rod&&c.push('<div id="',this.uuid,
a,'" style="font-size:0px;display:none;overflow:hidden;width:1px;"></div>')},setResetDataLoader:function(){this._currentTop=this._currentLeft=this._topPad=this._lasttop=0;this.refreshBar_(!1,!0);this._nativebar&&this.ebody&&(this.ebody.scrollTop=0)},setTotalSize:function(c){this._grid$rod&&(this._totalSize=c,!this._scrolling&&this.desktop&&this._initPadSizes())},_fireOnScrollPos:function(c){this._grid$rod&&!this.inPagingMold()?(clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this.proxy(this._scrollPage),
0<=c?c:300)):h._fireOnScrollPos.apply(this,arguments)},_onRender:function(){if(h._onRender.apply(this,arguments))return!0;this._grid$rod&&!this.inPagingMold()&&this._firstLoad&&(this._firstLoad=!1,this.initRodSize&&(this._bufpad=this.initRodSize/2*21),this._initPadSizes(),this.refreshBar_())},_setPadSize:function(c,a,d){this._padsz[a]=d;c.style.display=d?"block":"none";a='<table id="'+this.uuid+"-"+a+'-tbl">';if(zk.webkit)for(;!(a+='<tr><td style="height:'+Math.min(d,m)+'px"></td></tr>',d-=m,0>=d););
else for(;!(a+='<tr style="height:'+Math.min(d,m)+'px"><td></td></tr>',d-=m,0>=d););a+="</table>";jq(c).empty().append(a)},_initPadSizes:function(c){if(!this.inPagingMold()){var a,d;if((a=this.rows)&&(d=a.$n())){var e=a.nChildren,f=this._rowshgh=d.offsetHeight,b=this._totalSize;d=this.ebody;this._avgrowhgh=0<e?f/e|0:21;this._ibottom=this._offset+e;0>this._topPad&&(this._topPad=this._offset*this._avgrowhgh);0==this._offset&&(this._topPad=0);e=this._topPad;f=b*this._avgrowhgh-f-e;0>f?(0<this._offset&&
(e+=f),f=0,0>e&&(e=0)):b<=this._ibottom&&(f=0);this._topPad!=e&&this.fire("onTopPad",{topPad:this._topPad=e});this._setPadSize(this.$n("tpad"),"tpad",e);this._setPadSize(this.$n("bpad"),"bpad",f);this._totalhgh=d.scrollHeight;this._itop=this._offset;b=d.offsetHeight;this._limit=((b+2*this._bufpad)/this._avgrowhgh|0)+2;!this._viewtop&&!this._lasttop&&0<this._currentTop&&(this._viewtop=this._lasttop=this._currentTop);!this._lastoffset&&0<this._offset&&(this._lastoffset=this._offset);!c&&this._totalSize>
this._ibottom&&(c=(this._viewtop=this._currentTop)+b,a=(a=a.lastChild?a.lastChild.$n():void 0)?this._rowScrollBottom(a):e,c>a&&this._lastoffset==this._itop&&this.fire("onDataLoading",{offset:this._itop,limit:this._limit}));0<this._currentTop&&(d.scrollTop=this._currentTop);this.refreshBar_()}}},_rowScrollBottom:function(c){return c.offsetTop+c.offsetHeight-(this.ebodytbl.offsetParent==c.offsetParent?this.ebodytbl.offsetTop:0)},_rowOffsetTop:function(c){var a=this.rows.$n();return c.offsetTop-(a.offsetParent==
c.offsetParent?a.offsetTop:0)},_scrollPage:function(){var c,a;if((c=this.rows)&&(a=c.$n())){var d=this.ebody,e=this._viewtop=zul.mesh.Scrollbar.getScrollPosV(this),f=e+d.offsetHeight;d=this._padsz.tpad;var b=this._lasttop;a=this._rowshgh=a.offsetHeight;a=d+a;if(e!=b){var g=e-this._bufpad,k=e-this._loadpad;f+=this._loadpad;0>g&&(g=0);0>k&&(k=0);f>this._totalhgh&&(f=this._totalhgh-(11>zk.ie?1:0));if(e>b){if(a<f){b=this._itop;if(a<g)b=this._ibottom+((g-a)/this._avgrowhgh|0);else if(d=g-d,0<=d)for(f=
this._ibottom-1,b=0,a=c.lastChild;a;a=a.previousSibling,--f)if(this._rowOffsetTop(a.$n())<d){b=f;break}b>=this._totalSize&&(b=this._totalSize-this._limit);if(0>b||0==e)b=0;if(b!=this._lastoffset||this._totalSize>this._ibottom&&c.nChildren<this._limit)this._lastoffset=b,this._lasttop=e,this.fire("onDataLoading",{offset:b,limit:this._limit},{rtags:{onDataLoading:1}})}}else if(d>=k||0==g&&0<this._lastoffset)b=0==g?0:this._itop-(d-g)/this._avgrowhgh|0,b>=this._totalSize&&(b=this._totalSize-this._limit),
0>b&&(b=0),b!=this._lastoffset&&(this._lastoffset=b,this._lasttop=e,this.fire("onDataLoading",{offset:b,limit:this._limit},{rtags:{onDataLoading:1}}))}this._currentTop=e;this.fire("onScrollPos",{top:this._currentTop,left:this._currentLeft})}},setScrollPads_:function(c){var a;delete this._scrolling;if(this._grid$rod&&c==this._lastoffset){this._inScrollPads=!0;var d;if((a=this.rows)&&(d=a.$n())){var e=this.$n("tpad"),f=this.$n("bpad"),b=this._padsz.tpad,g=this._rowshgh,k=this._itop,h=this._ibottom,
m=this._rowshgh=d.offsetHeight;d=this._totalSize;var l=this._itop=c,n=this._ibottom=l+a.nChildren,p=this.ebody;if(l>k)if(l>=h)b=b+g+((c-h)*this._avgrowhgh|0);else{for(a=a.firstChild;l<h&&a;++l)a=a.nextSibling;b=b+g-(a?this._rowOffsetTop(a.$n()):m)}else if(l<k)if(n<=k)b-=(k-c)*this._avgrowhgh|0;else{a=a.lastChild;for(l=n-1;l>k&&a;--l)a=a.previousSibling;b-=a?this._rowOffsetTop(a.$n()):m}0==c?b=0:0==b&&(b=c*this._avgrowhgh);c=this._totalhgh-m-b;(g=0<c&&n>=d)&&(c=0);0>c&&(g=!0,c=(d-n)*this._avgrowhgh|
0);this._topPad!=b&&this.fire("onTopPad",{topPad:this._topPad=b});this._setPadSize(e,"tpad",0>b?0:b);this._setPadSize(f,"bpad",0>c?0:c);e=this._viewtop;e>=this._avgrowhgh*d-this._bufpad&&e!=p.scrollTop&&(p.scrollTop=this._currentTop=e);if(0>b||0>c||g)this._totalhgh=p.scrollHeight;zk.mobile||zul.mesh.Scrollbar.getScrollPosV(this)==this._lasttop||this._fireOnScrollPos()}}}})})();

});
zk.afterLoad('zkex.grid',function(){
});
zk.afterLoad('zul.wnd', function(){
(function(){var c={};zk.override(zul.wnd.Panelchildren.molds,c.molds={},{"default":function(a){if(this._rodopen)delete this._rodopen;else{var b;if((b=this.parent)&&!b._open&&zkmax.rod(this)){this.z_rod=!0;a.push('<div id="',this.uuid,'" style="display:none"></div>');return}}c.molds["default"].apply(this,arguments)}});zk.override(zul.wnd.Panel.prototype,c,{setOpen:function(a){if(a){var b=this;(b=b.panelchildren)&&zkmax.rodRender(b)}c.setOpen.apply(this,arguments)},forcerender:function(){c.forcerender.apply(this,
arguments);var a=this;(a=a.panelchildren)&&zkmax.rodRender(a)}})})();

});
zk.afterLoad('zkex.cmsp', function(){
zkmax.cmsp={start:zkex.cmsp.start,stop:zkex.cmsp.stop,cometURI:function(a){return zk.ajaxURI("/zkcomet?dtid="+a.id,{desktop:a})}};

});
zk.afterLoad('zul.layout', function(){
(function(){var d={},f={};zk.override(zul.layout.LayoutRegion.prototype,d,{onChildAdded_:function(a){zk.isLoaded("zul.wgt")&&a.$instanceof(zul.wgt.Caption)&&(this.caption=a);d.onChildAdded_.apply(this,arguments)},onChildRemoved_:function(a){a==this.caption&&(this.caption=null);d.onChildRemoved_.apply(this,arguments)},titleRenderer_:function(a){if(this.caption){var c=this.uuid,b=this.getPosition()!=zul.layout.Borderlayout.CENTER,e=this.parent;a.push('<div id="',c,'-cap" class="',this.$s("header"),
'">');b&&(a.push('<i id="',c,'-btn" class="',e.$s("icon")," ",this.getIconClass_(),'"'),this._collapsible||a.push(' style="display:none;"'),a.push("></i>"));a.push('<div id="',c,'-capcnt" class="',this.$s("caption"),'">');this.caption.redraw(a);a.push("</div></div>")}else d.titleRenderer_.apply(this,arguments)},getFirstChild:function(){return this.caption?this.lastChild!=this.firstChild?this.lastChild:null:this.firstChild}});zk.override(zul.layout.Borderlayout.prototype,f,{_resizeBody:function(a,
d){a.caption&&a.$n("cap");f._resizeBody.apply(this,arguments);if(a.caption){var b=a.$n("cap");var e=a.$n("btn"),c=zk(b);wdh=c.revisedWidth(b.offsetWidth)-(e?e.offsetWidth:0)-Math.round(zk.parseFloat(c.jq.css("padding-right")));b=b.lastChild.style;b.width=jq.px0(wdh);b.height=""}}})})();

});
zk.afterLoad('zkex.inp',function(){
});
zk.afterLoad('zul.box',function(){
});
zk.afterLoad('zkmax.inp',function(){
});
zk.afterLoad('zkmax.big',function(){
});
zk.afterLoad('zkmax.layout',function(){
});
zk.afterLoad('zkmax.nav',function(){
});
zk.afterLoad('zul.utl',function(){
});
zk.afterLoad('zul.mesh',function(){
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,b,a){c instanceof String&&(c=String(c));for(var d=c.length,f=0;f<d;f++){var g=c[f];if(b.call(a,g,f,c))return{i:f,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,b,a){c!=Array.prototype&&c!=Object.prototype&&(c[b]=a.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,b,a,d){if(b){a=$jscomp.global;c=c.split(".");for(d=0;d<c.length-1;d++){var f=c[d];f in a||(a[f]={});a=a[f]}c=c[c.length-1];d=a[c];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(a,c,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6","es3");
(function(){var c={};zk.override(zul.mesh.Frozen.prototype,c,{_smooth:!0,setStart:function(b){this.desktop&&(this._currentLeft=null);c.setStart.apply(this,arguments)},setSmooth:function(b){this._smooth=b},setColumns:function(b){c.setColumns.apply(this,arguments);this.desktop&&this._syncColumnBorders()},setCurrentLeft:function(b){this._currentLeft=b;this._smooth&&this.desktop&&this._updateMeshScrollLeft(this._currentLeft)},bind_:function(){c.bind_.apply(this,arguments);this._syncColumnBorders()},unbind_:function(){this._clearColumnBorders();
c.unbind_.apply(this,arguments)},onSize:function(){if(!this._smooth)c.onSize.apply(this,arguments);else if(this._columns){var b=this.parent,a=b.head;b._nativebar&&a&&(b=(b=a.$n())?b.cells?b.cells[0]:null:null)&&(a=b.style,a.height||(a.height=jq.px0(b.offsetHeight)));var d=this;setTimeout(function(){d._onSizeLater(d);d._updateMeshScrollLeft(d._currentLeft)})}},_onSizeLater:function(){var b=this.parent;if(b.eheadtbl&&b._nativebar){var a=b._getFirstRowCells(b.eheadrows),d=a.length,f=this._columns,c=
0;if(a&&!(0>=d)){for(d=0;d<f;d++)c+=a[d].offsetWidth;b._deleteFakeRow(b.eheadrows);this.$n("cave").style.width=jq.px0(c);a=this.$n("scrollX");f=b.$n("body").offsetWidth;b.$n("frozen").style.width=jq.px0(f);f-=c;a.style.width=jq.px0(f);c=b.ebody;d=0;c&&(d=c.scrollWidth-c.clientWidth);0==d&&(b=b.ehead,d=b.scrollWidth-b.clientWidth);a.firstChild.style.width=jq.px0(f+d);this.syncScroll()}}},syncScroll:function(b){if(this._smooth){void 0===b&&(b=this._start);var a=this.parent;if(a&&a._nativebar&&this.$n("scrollX")){var d=
0,f=this._columns,g=b+f;a=a.eheadrows;if(b&&a){var e=a.childNodes;for(a=0;a<e.length;a++)if(!zk(e[a]).$().$instanceof(zul.mesh.Auxhead)){var h=e[a];break}if(h)for(h=h.childNodes,a=f;a<g;a++)d+=h[a].clientWidth}this._updateMeshScrollLeft(d)}}else c.syncScroll.apply(this,arguments)},_updateMeshScrollLeft:function(b){if(b){var a=this.parent,d=this.$n("scrollX");if(a&&a._nativebar&&d)if(d=a.ehead,a=a.ebody,d)d.scrollLeft=b;else if(a){if(zk.ie11_||zk.edge)a.style.overflowX="scroll";a.scrollLeft=b;if(zk.ie11_||
zk.edge)a.style.overflowX="hidden"}}},_doHeadScroll:function(b){this._smooth?this._scrolled?this._scrolled=!1:this._syncFrozenCellsPosition():c._doHeadScroll.apply(this,arguments)},_doScroll:function(b){this._smooth?this._doSync?this._doSync=!1:this._doScrollNow():c._doScroll.apply(this,arguments)},_doScrollNow:function(b,a){if(this._smooth){var d=this.parent,f=this.$n("scrollX"),g=[d.ehead,d.ebody,d.efoot],e=d.ehead;f=a?e.scrollLeft:f.scrollLeft;if(!a)for(e=0;e<g.length;e++)if(g[e]){if(1==e&&zk.ie11_||
zk.edge)g[e].style.overflowX="scroll";g[e].scrollLeft=f;if(1==e&&zk.ie11_||zk.edge)g[e].style.overflowX="hidden"}this._syncFrozenCellsPosition(f);this._syncStart(f);a||(this._scrolled=!0);d._restoreFocus();this._currentLeft=f;this.fire("onScrollPos",{left:f})}else c._doScrollNow.apply(this,arguments)},_syncStart:function(b){var a=this.parent,d;if(a&&(d=a.eheadrows)){a=0;for(var c=d.childNodes,g,e=0;e<c.length;e++)zk(c[e]).$().$instanceof(zul.mesh.Auxhead)||(g=d.childNodes[e]);d=g.childNodes;for(e=
this._columns;e<d.length&&!(b-=jq(d[e]).width(),0>b);e++)a++;a!=this._start&&(this.smartUpdate("start",a),this._start=a)}},_syncFrozenCellsPosition:function(b){var a=this.parent,d=[a.eheadrows,a.ebodyrows,a.efootrows],c=this._columns;if(void 0===b){var g=a.ehead;a=a.ebody;b=0;g?b=g.scrollLeft:a&&(b=a.scrollLeft)}for(g=0;g<d.length;g++)if(d[g]){a=d[g].childNodes;for(var e=[0],h=0;h<a.length;h++){var k=this._findFrozenCols(c,a,h,e);jq(a[h].childNodes).slice(0,k).css({transform:"translate3d("+jq.px0(b)+
", 0, 0)",zIndex:1})}}},syncScrollByParentBody:function(){if(this._smooth)if(this._scrolled)this._scrolled=!1;else{var b=this.parent,a,d;b&&b._nativebar&&(a=b.ebody)&&0<=(d=a.scrollLeft)&&(b=this.$n("scrollX"))&&(this._doSync=!0,b.scrollLeft=d,this._doScrollNow(!1,!0))}else c.syncScrollByParentBody.apply(this,arguments)},_clearColumnBorders:function(){var b=this.parent,a=this._lastFrozenCols,d=this.$s("col");if(a&&0!=a.length)for(var c=0;c<a.length;c++){var g=a[c].nextSibling;g&&jq(g).css("border-left",
"")}jq(b.$n()).find("."+d).removeClass(d)},_syncColumnBorders:function(){var b=this.parent.$n("headrows"),a=this._columns,d=this.$s("col"),c=[];if(b&&(this._clearColumnBorders(),a)){b=b.childNodes;for(var g=[0],e=0;e<b.length;e++){var h=b[e].childNodes,k=this._findFrozenCols(a,b,e,g);jq(h).slice(0,k).addClass(d);h=h[k-1];c.push(h);(h=h?h.nextSibling:0)&&jq(h).css("border-left","0")}this._lastFrozenCols=c}},_findFrozenCols:function(b,a,d,c){var g=b,e=a.length;a=a[d].childNodes;var f=0;if(0!=a.length){for(var k=
0;k<b;k++){var l=a[k],m=l.colSpan;m||(m=1);0<g&&f++;g-=m;l=l.rowSpan;m=c.length;if(l&&1<l)for(var n=d+1;n<l+d;n++)n<m?c[n]++:c.push(1);else d<e-1&&d==m-1&&c.push(0);if(0>=g)break}return f-c[d]}}})})();

});

}finally{zk.setLoaded(zk._p.n);}})();zk.load('zul.wgt',function(){if(zk._p=zkpi('zul.wnd'))try{
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(d,h,g){d instanceof String&&(d=String(d));for(var f=d.length,k=0;k<f;k++){var q=d[k];if(h.call(g,q,k,d))return{i:k,v:q}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,h,g){d!=Array.prototype&&d!=Object.prototype&&(d[h]=g.value)};
$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(d,h,g,f){if(h){g=$jscomp.global;d=d.split(".");for(f=0;f<d.length-1;f++){var k=d[f];k in g||(g[k]={});g=g[k]}d=d[d.length-1];f=g[d];h=h(f);h!=f&&null!=h&&$jscomp.defineProperty(g,d,{configurable:!0,writable:!0,value:h})}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(d,g){return $jscomp.findInternal(this,d,g).v}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var h=0;return $jscomp.iteratorPrototype(function(){return h<d.length?{done:!1,value:d[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.iteratorFromArray=function(d,h){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var g=0,f={next:function(){if(g<d.length){var k=g++;return{value:h(k,d[k]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
(function(){function d(a){var b=a._position,c=a.$n(),m=zk(c);b||c.style.top&&c.style.left?"parent"==b&&k(a):(b=m.revisedOffset(),c.style.left||(c.style.left=jq.px(b[0])),c.style.top||(c.style.top=jq.px(b[1])));m.makeVParent();zWatch.fireDown("onVParent",a);a.zsync();l(a);a.setTopmost();x(a)}function h(a){var b=a._position,c=a.$n();c=zk(c);"parent"==b&&k(a);c.makeVParent();zWatch.fireDown("onVParent",a);a.zsync();l(a,!0,!1,!0);b=a.isRealVisible();a.setTopmost();a._mask||(c=a._shadowWgt?a._shadowWgt.getBottomElement():
null,a._mask=new zk.eff.FullMask({id:a.uuid+"-mask",anchor:c?c:a.$n(),zIndex:a._zIndex,visible:b}),c=11>zk.ie||zk.gecko?"a":"button",jq("#"+a.uuid+"-mask").append("<"+c+' id="'+a.uuid+'-mask-a" style="top:0;left:0 onclick="return false;" href="javascript:;" class="z-focus-a"></'+c+">"),a._anchor=jq("#"+a.uuid+"-mask-a")[0]);b&&g(a);x(a)}function g(a){zk.currentModal=a;var b=r[0],c=zk.currentFocus;b?b._lastfocus=c:u=c;r.unshift(a);setTimeout(function(){zk.afterAnimate(function(){zUtl.isAncestor(a,
zk.currentFocus)||(zk.ie9_?a.focus(100):a.focus())},-1)})}function f(a){r.$remove(a);if(zk.currentModal==a){var b=zk.currentModal=r[0],c=b?b._lastfocus:u;b||(u=null);c&&c.desktop||(c=b);c&&(!1===a._updDOFocus?a._updDOFocus=c:c.focus(0))}a._lastfocus=null}function k(a){var b=a.$n(),c=zk(zk(b).vparentNode(!0)).revisedOffset();a._offset=c;b.style.left=jq.px(c[0]+zk.parseInt(a._left));b.style.top=jq.px(c[1]+zk.parseInt(a._top))}function q(a,b){a._notSendMaximize=!b||!b.sendOnMaximize;a._updDOFocus=!1;
try{var c=a._lastSize;a.rerender(a._skipper);if(c&&(a._lastSize=c,n=a.$n())){var m=n.style;c.h&&(m.height=c.h);c.w&&(m.width=c.w);a._fixHgh()}var e;(e=a._updDOFocus)&&e.focus(10)}finally{delete a._updDOFocus,delete a._notSendMaximize}}function l(a,b,c,m){if(a.desktop&&"embedded"!=a._mode){var e=a.$n(),d=a._position;if("parent"==d)c&&k(a);else if(d||b){b=e.style;b.position="absolute";c=b.left;var g=b.top;"nocenter"!=d&&zk(e).center(d);var f=a._shadowWgt;if(d&&f){f=f.opts;var h=e.offsetLeft,l=e.offsetTop;
0<=d.indexOf("left")&&0>f.left?b.left=jq.px(h-f.left):0<=d.indexOf("right")&&0<f.right&&(b.left=jq.px(h-f.right));0<=d.indexOf("top")&&0>f.top?b.top=jq.px(l-f.top):0<=d.indexOf("bottom")&&0<f.bottom&&(b.top=jq.px(l-f.bottom))}m&&!d&&(m=zk.parseInt(e.style.top),(d=jq.innerY())?(d=m-d,100<d&&(e.style.top=jq.px0(m-(d-100)))):100<m&&(e.style.top="100px"));a.zsync();c==b.left&&g==b.top||a._fireOnMove()}}}function p(a){(a=a._shadowWgt)&&a.hide()}function y(a){if(!a._sizer){a.domListen_(a.$n(),"onMouseMove");
a.domListen_(a.$n(),"onMouseOut");var b=a.$class;a._sizer=new zk.Draggable(a,null,{stackup:!0,overlay:!0,draw:b._drawsizing,snap:b._snapsizing,initSensitivity:0,starteffect:b._startsizing,ghosting:b._ghostsizing,endghosting:b._endghostsizing,ignoredrag:b._ignoresizing,endeffect:b._aftersizing})}}function x(a){var b=a.$n("cap");if(b&&!a._drag){jq(b).addClass(a.getZclass()+"-header-move");var c=a.$class;a._drag=new zk.Draggable(a,null,{handle:b,stackup:!0,fireOnMove:!1,starteffect:c._startmove,ghosting:c._ghostmove,
endghosting:c._endghostmove,ignoredrag:c._ignoremove,endeffect:c._aftermove,zIndex:99999})}}function t(a){return"modal"==a||"highlighted"==a}function v(a,b,c){var d=a._position;b=zk.parseInt(b);c=zk.parseInt(c);var e=0,f=0;"parent"==d&&(a=zk(a.$n()).vparentNode())&&(f=zk(a).revisedOffset(),e=f[0],f=f[1]);return[jq.px(b-e),jq.px(c-f)]}var r=[],u,w=zul.wnd.Window=zk.$extends(zul.ContainerWidget,{_mode:"embedded",_border:"none",_minheight:100,_minwidth:200,_shadow:!0,_tabindex:0,$init:function(){this._fellows=
{};this._lastSize={};this.$supers("$init",arguments);this.listen({onMaximize:this,onClose:this,onMove:this,onSize:this.onSizeEvent,onZIndex:this},-1E3);this._skipper=new zul.wnd.Skipper(this)},$define:{mode:_zkf=function(){q(this)},title:function(){this.caption?this.caption.updateDomContent_():q(this)},border:_zkf,closable:_zkf,sizable:function(a){this.desktop&&(a?y(this):this._sizer&&(this._sizer.destroy(),this._sizer=null))},maximizable:_zkf,minimizable:_zkf,maximized:function(a,b){var c=this.$n();
if(c){zk(c);var d=this.isRealVisible();if(d||!a){var e=c.style;var f=this.getMaximizableIconClass_();var g=this.getMaximizedIconClass_();if(a){jq(this.$n("max")).addClass(this.$s("maximized")).attr("title",msgzul.PANEL_RESTORE).children("."+f).removeClass(f).addClass(g);var h="embedded"!=this._mode,k=h?jq(c).offsetParent():jq(c).parent();g=e.left;var l=e.top;c=e.width;f=e.height;e.top="-10000px";e.left="-10000px";e.width=jq.px0(k[0].clientWidth-(h?0:k.zk.paddingWidth()));e.height=jq.px0(k[0].clientHeight-
(h?0:k.zk.paddingHeight()));this._lastSize={l:g,t:l,w:c,h:f};e.top="0";e.left="0";c=e.width;f=e.height}else if(c=this.$n("max"),jq(c).removeClass(this.$s("maximized")).attr("title",msgzul.PANEL_MAXIMIZE).children("."+g).removeClass(g).addClass(f),this._lastSize&&(e.left=this._lastSize.l,e.top=this._lastSize.t,e.width=this._lastSize.w,e.height=this._lastSize.h,this._lastSize=null),g=e.left,l=e.top,c=e.width,f=e.height,e=this.$n("cave"))e.style.width=e.style.height="";if(!b||d)this._visible=!0,this._notSendMaximize||
(e=v(this,g,l),this.fire("onMaximize",{left:e[0],top:e[1],width:c,height:f,maximized:a,fromServer:b}));d&&zUtl.fireSized(this)}}},minimized:function(a,b){this._maximized&&this.setMaximized(!1);var c=this.$n();if(c){var d=c.style;a?(zWatch.fireDown("onHide",this),jq(c).hide()):(jq(c).show(),zUtl.fireShown(this));b||(this._visible=!1,this.zsync(),b=v(this,d.left,d.top),this.fire("onMinimize",{left:b[0],top:b[1],width:d.width,height:d.height,minimized:a}))}},contentStyle:_zkf,contentSclass:_zkf,position:function(){l(this,
!1,this._visible)},minheight:null,minwidth:null,shadow:function(){this._shadow?this.zsync():this._shadowWgt&&(this._shadowWgt.destroy(),this._shadowWgt=null)}},repos:function(){l(this,!1,this._visible)},doOverlapped:function(){this.setMode("overlapped")},doPopup:function(){this.setMode("popup")},doHighlighted:function(){this.setMode("highlighted")},doModal:function(){this.setMode("modal")},doEmbedded:function(){this.setMode("embedded")},afterAnima_:function(a){this.$supers("afterAnima_",arguments);
this.zsync()},zsync:function(){this.$supers("zsync",arguments);if(this.desktop&&("embedded"==this._mode?this._shadowWgt&&(this._shadowWgt.destroy(),this._shadowWgt=null):this._shadow&&(this._shadowWgt||(this._shadowWgt=new zk.eff.Shadow(this.$n(),{left:-4,right:4,top:-2,bottom:3})),this._maximized||this._minimized||!this._visible?p(this):this._shadowWgt.sync()),this._mask)){var a=this._shadowWgt&&this._shadowWgt.getBottomElement()||this.$n();a&&this._mask.sync(a)}},onClose:function(){this.inServer||
this.parent.removeChild(this)},onMove:function(a){this._left=a.left;this._top=a.top;this._visible&&zWatch.fireDown("onMove",this)},onMaximize:function(a){a=a.data;this._top=a.top;this._left=a.left;this._height=a.height;this._width=a.width},onSizeEvent:function(a){var b=a.data,c=this.$n().style;p(this);b.width!=c.width&&(c.width=b.width,this._width=c.width);b.height!=c.height&&(c.height=b.height,this._fixHgh(),this._height=c.height);if(b.left!=c.left||b.top!=c.top)c.left=b.left,c.top=b.top,this._fireOnMove(a.keys);
this.zsync();var d=this;setTimeout(function(){zUtl.fireSized(d)})},onZIndex:_zkf=function(a){this.zsync()},onResponse:_zkf,onCommandReady:function(){if(this.desktop&&this._shallSize){this._shallSize=!1;for(var a=this.firstChild;a;a=a.nextSibling)if(a._nvflex||a._nhflex){zUtl.fireSized(this);break}}},onShow:function(a){a=a.origin;this!=a&&"embedded"!=this._mode&&this.isRealVisible({until:a,dom:!0})&&(zk(this.$n()).cleanVisibility(),this.zsync())},onHide:function(a){a=a.origin;this!=a&&"embedded"!=
this._mode&&this.isRealVisible({until:a,dom:!0})&&(this.$n().style.visibility="hidden",this.zsync())},onSize:function(){p(this);if(this._maximized&&this._lastSize){var a=this.$n();zk(a);var b="embedded"!=this._mode?jq(a).offsetParent():jq(a).parent();a=a.style;a.width=jq.px0(b[0].clientWidth-b.zk.paddingWidth());a.height=jq.px0(b[0].clientHeight-b.zk.paddingHeight())}this._fixHgh(!0);"modal"==this._mode?l(this,!0,!1,!0):l(this);this.zsync()},onFloatUp:function(a){if(this._visible&&"embedded"!=this._mode&&
!this._mask)if(a=a.origin,"popup"==this._mode){for(var b;a;a=a.parent){if(a==this){b||this.setTopmost();return}b=b||a.isFloating_()}this.setVisible(!1);this.fire("onOpen",{open:!1})}else for(;a;a=a.parent){if(a==this){this.setTopmost();break}if(a.isFloating_())break}},_fixHgh:function(a){if(a||this.isRealVisible()){a=this.$n();var b=a.style.height,c=this.$n("cave"),d=c.style.height;b&&"auto"!=b?c.style.height=jq.px0(this._offsetHeight(a)):d&&"auto"!=d&&(c.style.height="")}},_offsetHeight:function(a){return zk(a).offsetHeight()-
this._titleHeight()-zk(a).padBorderHeight()},_titleHeight:function(){var a=this.getTitle()||this.caption?this.$n("cap"):null;return a?a.offsetHeight:0},_fireOnMove:function(a){var b=this.$n().style;b=v(this,b.left,b.top);this.fire("onMove",zk.copy({left:b[0],top:b[1]},a),{ignorable:!0})},setVisible:function(a){if(this._visible!=a){this._maximized?this.setMaximized(!1):this._minimized&&this.setMinimized(!1);var b=t(this._mode);a?(l(this,b,!0,b),!b||this.parent&&!this.parent.isRealVisible()||(this.setTopmost(),
g(this))):b&&f(this);this.$supers("setVisible",arguments);a||this.zsync()}},setHeight:function(a){this.$supers("setHeight",arguments);this.desktop&&zUtl.fireSized(this)},setWidth:function(a){this.$supers("setWidth",arguments);this.desktop&&zUtl.fireSized(this)},setTop:function(){p(this);this.$supers("setTop",arguments);this.zsync()},setLeft:function(){p(this);this.$supers("setLeft",arguments);this.zsync()},setZIndex:_zkf=function(a){var b=this._zIndex;this.$supers("setZIndex",arguments);b!=a&&this.zsync()},
setZindex:_zkf,focus_:function(a){var b=this.caption;if(!zk.mobile)for(var c=this.firstChild;c;c=c.nextSibling)if(c.desktop&&c!=b&&c.focus_(a))return!0;return b&&b.focus_(a)?!0:this._anchor?(this._anchor.focus(),!0):!1},doKeyDown_:function(a){var b=a.domTarget,c=a.keyCode;if("9"==c||"16"==c)this.$supers("doKeyDown_",arguments);else switch(b.id||(b=b.parentNode),b){case this.$n("close"):this.fire("onClose");break;case this.$n("max"):this.setMaximized(!this._maximized);break;case this.$n("min"):this.setMinimized(!this._minimized);
break;default:this.$supers("doKeyDown_",arguments)}},domClass_:function(a){var b=this.$supers(zul.wnd.Window,"domClass_",arguments),c=this._border;(c="normal"==c?"":"none"==c?"noborder":c)&&(b+=" "+this.$s(c));this.getTitle()||this.caption||(b+=" "+this.$s("noheader"));return b+=" "+this.$s(this._mode)},onChildVisible_:function(a){this.$supers("onChildVisible_",arguments);this.desktop&&(this._shallSize=!0)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);a.$instanceof(zul.wgt.Caption)&&
(this.caption=a,this.rerender(this._skipper))},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);a==this.caption&&(this.caption=null,this.rerender(this._skipper));this.desktop&&(this._shallSize=!0)},insertChildHTML_:function(a,b,c){a.$instanceof(zul.wgt.Caption)||this.$supers("insertChildHTML_",arguments)},domStyle_:function(a){var b=this.$supers("domStyle_",arguments);a&&a.visible||!this._minimized||(b="display:none;"+b);"embedded"!=this._mode&&(b="position:absolute;"+b);return b},
bind_:function(a,b,c){this.$supers(w,"bind_",arguments);var m=this._mode;zWatch.listen({onSize:this});"embedded"!=m&&(zWatch.listen({onFloatUp:this,onHide:this,onShow:this}),this.setFloating_(!0),t(m)?h(this):d(this));this._sizable&&y(this);if(this._maximizable&&this._maximized){var e=this;c.push(function(){e._maximized=!1;e.setMaximized(!0,!0)})}"embedded"==this._mode||zk.css3||(jq.onzsync(this),zWatch.listen({onResponse:this}));zWatch.listen({onCommandReady:this})},detach:function(){this.unbindChildren_();
if(8<zk.ie||zk.chrome){var a=jq(this.$n()).find("iframe");a.length&&a.hide().remove()}this.$supers(w,"detach",arguments)},unbind_:function(){var a=this.$n();zk(a).beforeHideOnUnbind();a.style.visibility="hidden";zk.css3||jq.unzsync(this);this._shadowWgt&&(this._shadowWgt.destroy(),this._shadowWgt=null);this._drag&&(this._drag.destroy(),this._drag=null);this._sizer&&(this._sizer.destroy(),this._sizer=null);this._mask&&(this._anchor&&(this._anchor=null),this._mask.destroy(),this._mask=null);if(9<zk.ie){var b=
jq(this.$n()).find("iframe");b.length&&b.hide().remove()}zk(a).undoVParent();zWatch.unlisten({onFloatUp:this,onSize:this,onShow:this,onHide:this,onResponse:this,onCommandReady:this});this.setFloating_(!1);f(this);this.domUnlisten_(this.$n(),"onMouseMove");this.domUnlisten_(this.$n(),"onMouseOut");this.$supers(w,"unbind_",arguments)},_doMouseMove:function(a){if(this._sizer&&a.target==this){var b=this.$n();a=this.$class._insizer(b,zk(b).revisedOffset(),a.pageX,a.pageY);var c="embedded"==this._mode?
!1:this.$n("cap");!this._maximized&&a?(void 0==this._backupCursor&&(this._backupCursor=b.style.cursor),b.style.cursor=1==a?"n-resize":2==a?"ne-resize":3==a?"e-resize":4==a?"se-resize":5==a?"s-resize":6==a?"sw-resize":7==a?"w-resize":"nw-resize",c&&jq(c).removeClass(this.$s("header-move"))):(b.style.cursor=this._backupCursor||"",c&&jq(c).addClass(this.$s("header-move")))}},_doMouseOut:function(a){this.$n().style.cursor=this._backupCursor||""},doClick_:function(a){var b=a.domTarget;b.id||(b=b.parentNode);
if(b){switch(b){case this.$n("close"):this.fire("onClose");break;case this.$n("max"):this.setMaximized(!this._maximized);break;case this.$n("min"):this.setMinimized(!this._minimized);break;default:this.$supers("doClick_",arguments);return}a.stop()}this.$supers("doClick_",arguments)},afterChildrenMinFlex_:function(a){this.$supers("afterChildrenMinFlex_",arguments);t(this._mode)&&l(this,!0,!1,!0)},afterChildrenFlex_:function(a){this.$supers("afterChildrenFlex_",arguments);t(this._mode)&&l(this,!0,!1,
!0)},getChildMinSize_:function(a,b){var c=!0;b==this.caption&&(c="w"==a?!!b.$n().style.width:!!b.$n().style.height);return c?this.$supers("getChildMinSize_",arguments):0},getContentEdgeWidth_:function(a){if(this.caption&&a==this.caption.$n().offsetWidth){var b=this.$n(),c=this.caption;c=c?c.$n():b.firstChild;var d=zk(b).padBorderWidth();if(c){for(c=c.parentNode;c&&1==c.nodeType&&b!=c;){var e=zk(c);d+=e.padBorderWidth()+e.sumStyles("lr",jq.margins);c=c.parentNode}return d}return 0}return this.$supers("getContentEdgeWidth_",
arguments)},setFlexSizeH_:function(a,b,c,d){d&&(c+=this._titleHeight(a));this.$supers("setFlexSizeH_",arguments)},ignoreFlexSize_:function(a){return"embedded"!=this._mode},getClosableIconClass_:function(){return"z-icon-times"},getMaximizableIconClass_:function(){return"z-icon-expand"},getMaximizedIconClass_:function(){return"z-icon-compress"},getMinimizableIconClass_:function(){return"z-icon-minus"}},{_startsizing:function(a){zWatch.fire("onFloatUp",a.control)},_snapsizing:function(a,b){return[6<=
a.z_dir&&8>=a.z_dir?Math.max(b[0],0):b[0],8==a.z_dir||2>=a.z_dir?Math.max(b[1],0):b[1]]},_ghostsizing:function(a,b,c){c=a.control;a=a.node;p(c);c.setTopmost();var d=jq(a);jq(document.body).append('<div id="zk_ddghost" class="'+c.getZclass()+'-resize-faker" style="position:absolute;top:'+b[1]+"px;left:"+b[0]+"px;width:"+d.zk.offsetWidth()+"px;height:"+d.zk.offsetHeight()+"px;z-index:"+a.style.zIndex+'"><dl></dl></div>');return jq("#zk_ddghost")[0]},_endghostsizing:function(a,b){var c=a.node;if(b){var d=
zk(b).cmOffset(),e=b.style;b=d[0]-parseInt(e.left);d=d[1]-parseInt(e.top);a.z_szofs={top:jq.px(c.offsetTop-d),left:jq.px(c.offsetLeft-b),height:jq.px0(zk(c).revisedHeight(c.offsetHeight)),width:jq.px0(zk(c).revisedWidth(c.offsetWidth))}}},_insizer:function(a,b,c,d){var e=b[1]+a.offsetHeight;if(5>=c-b[0])return 5>=d-b[1]?8:5>=e-d?6:7;if(5>=b[0]+a.offsetWidth-c)return 5>=d-b[1]?2:5>=e-d?4:3;if(5>=d-b[1])return 1;if(5>=e-d)return 5},_ignoresizing:function(a,b,c){var d=a.node,e=a.control;if(e._maximized||
c.target!=e)return!0;c=zk(d).revisedOffset();return(b=e.$class._insizer(d,c,b[0],b[1]))?(p(e),a.z_dir=b,a.z_box={top:c[1],left:c[0],height:d.offsetHeight,width:d.offsetWidth,minHeight:zk.parseInt(e.getMinheight()),minWidth:zk.parseInt(e.getMinwidth())},a.z_orgzi=d.style.zIndex,!1):!0},_aftersizing:function(a,b){var c=a.control,d=a.z_szofs;c._hflex&&c.setHflex_(null);c._vflex&&c.setVflex_(null);c.fire("onSize",zk.copy(d,b.keys),{ignorable:!0});a.z_szofs=null},_drawsizing:function(a,b,c){if(8==a.z_dir||
2>=a.z_dir)c=a.z_box.height+a.z_box.top-b[1],c<a.z_box.minHeight&&(b[1]=a.z_box.height+a.z_box.top-a.z_box.minHeight,c=a.z_box.minHeight),a.node.style.height=jq.px0(c),a.node.style.top=jq.px(b[1]);4<=a.z_dir&&6>=a.z_dir&&(c=a.z_box.height+b[1]-a.z_box.top,c<a.z_box.minHeight&&(c=a.z_box.minHeight),a.node.style.height=jq.px0(c));6<=a.z_dir&&8>=a.z_dir&&(c=a.z_box.width+a.z_box.left-b[0],c<a.z_box.minWidth&&(b[0]=a.z_box.width+a.z_box.left-a.z_box.minWidth,c=a.z_box.minWidth),a.node.style.width=jq.px0(c),
a.node.style.left=jq.px(b[0]));2<=a.z_dir&&4>=a.z_dir&&(c=a.z_box.width+b[0]-a.z_box.left,c<a.z_box.minWidth&&(c=a.z_box.minWidth),a.node.style.width=jq.px0(c))},_startmove:function(a){var b=a.node;b.style.top&&0<=b.style.top.indexOf("%")&&(b.style.top=b.offsetTop+"px");b.style.left&&0<=b.style.left.indexOf("%")&&(b.style.left=b.offsetLeft+"px");zWatch.fire("onFloatUp",a.control)},_ghostmove:function(a,b,c){var d=a.control;c=a.node;var e=jq(c),f=e.find(">div:first")[0];f=jq(f).clone()[0];var g=d.getZclass();
p(d);jq(document.body).prepend('<div id="zk_wndghost" class="'+g+'-move-ghost" style="position:absolute;top:'+b[1]+"px; left:"+b[0]+"px;width:"+(e.width()+zk(c).padBorderWidth())+"px;height:"+(e.height()+zk(c).padBorderHeight())+"px;z-index:"+c.style.zIndex+'"><dl></dl></div>');a._wndoffs=b;c.style.visibility="hidden";a=c.offsetHeight-d._titleHeight(c);c=jq("#zk_wndghost")[0];b=c.firstChild;b.style.height=jq.px0(zk(b).revisedHeight(a));c.insertBefore(f,c.lastChild);return c},_endghostmove:function(a,
b){var c=a.node;b.style.top=jq.px(b.offsetTop+c.offsetTop-a._wndoffs[1]);b.style.left=jq.px(b.offsetLeft+c.offsetLeft-a._wndoffs[0]);document.body.style.cursor="";zWatch.fire("onMove")},_ignoremove:function(a,b,c){var d=a.node;a=a.control;c=c.domTarget;var e;c.id||(c=c.parentNode);switch(c){case a.$n("close"):case a.$n("max"):case a.$n("min"):return!0}return a!=(e=zk.Widget.$(c))&&a.caption!=e?!0:!a.isSizable()||d.offsetTop+4<b[1]&&d.offsetLeft+4<b[0]&&d.offsetLeft+d.offsetWidth-4>b[0]?!1:!0},_aftermove:function(a,
b){a.node.style.visibility="";a=a.control;a._position&&"parent"!=a._position&&(a._position=null);a.zsync();a._fireOnMove(b.data);zk(a).redoCSS(-1,{fixFontIcon:!0})}});zul.wnd.Skipper=zk.$extends(zk.Skipper,{$init:function(a){this._w=a},restore:function(){this.$supers("restore",arguments);var a=this._w;"embedded"!=a._mode&&(l(a),a.zsync())}});zul.wnd.WindowRenderer={shallCheckBorder:function(a){return"popup"!=a._mode&&("embedded"!=a._mode||"none"!=a.getBorder())}}})();

zkreg('zul.wnd.Window',true);
zk._m={};
zk._m['default']=function(b,j){var a=this.uuid,g=this.getTitle(),i=this.caption,k=this.getContentStyle(),c=this.getContentSclass();b.push("<div",this.domAttrs_(),">");if(i||g){b.push('<div id="',a,'-cap" class="',this.$s("header"),'">');if(i){i.redraw(b)}else{var f=this.$s("icon");if(this._closable){b.push('<div id="',a,'-close" style="float: right; clear: both;" class="',this.$s("close"),'"></div>')}if(this._maximizable){var e=this._maximized;b.push('<div id="',a,'-max" class="',f," ",this.$s("maximize"));if(e){b.push(" ",this.$s("maximized"))}var d=e?this.getMaximizedIconClass_():this.getMaximizableIconClass_();b.push('"><i class="',d,'"></i></div>')}if(this._minimizable){b.push('<div id="',a,'-min" class="',f," ",this.$s("minimize"),'" ><i class="',this.getMinimizableIconClass_(),'"></i></div>')}b.push(zUtl.encodeXML(g))}b.push("</div>")}b.push('<div id="',a,'-cave" class="');if(c){b.push(c," ")}b.push(this.$s("content"),'" ');if(k){b.push(' style="',k,'"')}b.push(">");if(!j){for(var h=this.firstChild;h;h=h.nextSibling){if(h!=i){h.redraw(b)}}}b.push("</div></div>")};
;zkmld(zk._p.p.Window,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,g=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var f=0;f<g&&c<e;)if(b[c++]!=a[f++])return!1;return f>=g}},"es6","es3");$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
(function(){zul.wnd.Panel=zk.$extends(zul.Widget,{_border:"none",_title:"",_open:!0,_minheight:100,_minwidth:200,_tabindex:0,$init:function(){this.$supers("$init",arguments);this.listen({onMaximize:this,onClose:this,onMove:this,onSize:this.onSizeEvent},-1E3);this._skipper=new zul.wnd.PanelSkipper(this)},$define:{minheight:null,minwidth:null,sizable:function(a){this.desktop&&(a?this._makeSizer():this._sizer&&(this._sizer.destroy(),this._sizer=null))},movable:_zkf=function(){var a=this._lastSize;this.rerender(this._skipper);
a&&(this._lastSize=a)},floatable:_zkf,maximizable:_zkf,minimizable:_zkf,collapsible:_zkf,closable:_zkf,border:function(){var a=this._lastSize;this.rerender();a&&(this._lastSize=a)},title:function(){if(this.caption)this.caption.updateDomContent_();else{var a=this._lastSize;this.rerender(this._skipper);a&&(this._lastSize=a)}},open:function(a,b){var c=this.$n(),d=this.getCollapseOpenIconClass_(),e=this.getCollapseCloseIconClass_();if(c){var g=jq(this.$n("body"));g[0]&&!g.is(":animated")&&(a?(jq(c).removeClass(this.$s("collapsed")),
jq(this.$n("exp")).attr("title",msgzul.PANEL_COLLAPSE).children("."+e).removeClass(e).addClass(d),g.zk.slideDown(this)):(jq(c).addClass(this.$s("collapsed")),jq(this.$n("exp")).attr("title",msgzul.PANEL_EXPAND).children("."+d).removeClass(d).addClass(e),this._hideShadow(),g.zk.slideUp(this)),b||this.fire("onOpen",{open:a}))}},maximized:function(a,b){var c,d=this.$n();if(d){var e=zk(d),g=e.isRealVisible();if(g||!a){var f=d.style;var k=this.getMaximizableIconClass_();var l=this.getMaximizedIconClass_();
if(a){jq(this.$n("max")).addClass(this.$s("maximized")).attr("title",msgzul.PANEL_RESTORE).children("."+k).removeClass(k).addClass(l);this._hideShadow();this._collapsible&&!this._open&&(e.jq.removeClass(this.$s("collapsed")),k=this.$n("body"))&&(k.style.display="");var h=(c=this.isFloatable())?jq(d).offsetParent():jq(d).parent();k=h[0].clientHeight;zk.isLoaded("zkmax.layout")&&this.parent.$instanceof(zkmax.layout.Portalchildren)&&(l=this.parent.parent,"whole"==l.getMaximizedMode()&&(this._inWholeMode=
!0,c=l.$n(),l=c.style,k=c.clientHeight,h=this._oldNodeInfo={_scrollTop:c.parentNode.scrollTop},c.parentNode.scrollTop=0,e.makeVParent(),zWatch.fireDown("onVParent",this),h._pos=f.position,h._ppos=l.position,h._zIndex=f.zIndex,f.position="absolute",this.setFloating_(!0),this.setTopmost(),c.appendChild(d),l.position="relative",l.height||(l.height=jq.px0(k),h._pheight=!0)));h=(c=this.isFloatable())?jq(d).offsetParent():jq(d).parent();l=f.left;var m=f.top;var n=f.width;var p=f.height;f.top="-10000px";
f.left="-10000px";d=h[0].clientWidth;c||(d-=h.zk.paddingWidth(),d=e.revisedWidth(d),k-=h.zk.paddingHeight(),k=e.revisedHeight(k));f.width=jq.px0(d);f.height=jq.px0(k);this._lastSize||(this._lastSize={l:l,t:m,w:n,h:p});f.top="0";f.left="0";n=f.width;p=f.height}else{m=this.$n("max");jq(m).removeClass(this.$s("maximized")).attr("title",msgzul.PANEL_MAXIMIZE).children("."+l).removeClass(l).addClass(k);this._lastSize&&(f.left=this._lastSize.l,f.top=this._lastSize.t,f.width=this._lastSize.w,f.height=this._lastSize.h,
this._lastSize=null);l=f.left;m=f.top;n=f.width;p=f.height;this._collapsible&&!this._open&&(jq(d).addClass(this.$s("collapsed")),k=this.$n("body"))&&(k.style.display="none");if(k=this.panelchildren?this.panelchildren.$n():null)k.style.width=k.style.height="";this._inWholeMode&&(e.undoVParent(),zWatch.fireDown("onVParent",this),h=this._oldNodeInfo,d.style.position=h?h._pos:"",this.setZIndex(h?h._zIndex:"",{fire:!0}),this.setFloating_(!1),c=this.parent.parent.$n(),c.style.position=h?h._ppos:"",c.parentNode.scrollTop=
h?h._scrollTop:0,h&&h._pheight&&(c.style.height=""),this._oldNodeInfo=null,this._inWholeMode=!1)}!b&&g&&(this._visible=!0,this.fire("onMaximize",{left:l,top:m,width:n,height:p,maximized:a,fromServer:b}));g&&zUtl.fireSized(this)}}},minimized:function(a,b){this._maximized&&this.setMaximized(!1);var c=this.$n();if(c){var d=c.style;a?(zWatch.fireDown("onHide",this),jq(c).hide()):(jq(c).show(),zUtl.fireShown(this));b||(this._visible=!1,this.fire("onMinimize",{left:d.left,top:d.top,width:d.width,height:d.height,
minimized:a}))}},tbar:function(a){this.tbar=zk.Widget.$(a);this.bbar==this.tbar&&(this.bbar=null);this.fbar==this.tbar&&(this.fbar=null);this.rerender()},bbar:function(a){this.bbar=zk.Widget.$(a);this.tbar==this.bbar&&(this.tbar=null);this.fbar==this.bbar&&(this.fbar=null);this.rerender()},fbar:function(a){this.fbar=zk.Widget.$(a);this.tbar==this.fbar&&(this.tbar=null);this.bbar==this.fbar&&(this.bbar=null);this.rerender()}},setVisible:function(a){this._visible!=a&&(this._maximized?this.setMaximized(!1):
this._minimized&&this.setMinimized(!1),this.$supers("setVisible",arguments))},setHeight:function(){this.$supers("setHeight",arguments);this.desktop&&zUtl.fireSized(this)},setWidth:function(){this.$supers("setWidth",arguments);this.desktop&&zUtl.fireSized(this)},setTop:function(){this._hideShadow();this.$supers("setTop",arguments);this.zsync()},setLeft:function(){this._hideShadow();this.$supers("setLeft",arguments);this.zsync()},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);
this.desktop&&zUtl.fireSized(this)},addToolbar:function(a,b){switch(a){case "tbar":this.tbar=b;break;case "bbar":this.bbar=b;break;case "fbar":this.fbar=b;break;default:return!1}return this.appendChild(b)},onClose:function(){this.inServer&&this.isListen("onClose",{asapOnly:1})||this.parent.removeChild(this)},onMove:function(a){this._left=a.left;this._top=a.top},onMaximize:function(a){a=a.data;this._top=a.top;this._left=a.left;this._height=a.height;this._width=a.width},onSizeEvent:function(a){var b=
a.data,c=this.$n(),d=c.style;this._hideShadow();b.width!=d.width&&(this._width=d.width=b.width);b.height!=d.height&&(this._height=d.height=b.height,this._fixHgh(!0));if(b.left!=d.left||b.top!=d.top)d.left=b.left,d.top=b.top,this.fire("onMove",zk.copy({left:c.style.left,top:c.style.top},a.data),{ignorable:!0});this.zsync();var e=this;setTimeout(function(){zUtl.fireSized(e)})},setFlexSizeH_:function(a,b,c,d){d&&(c+=this._titleHeight(a));this.$supers("setFlexSizeH_",arguments)},setFlexSizeW_:function(a,
b,c,d){d&&this.caption&&c==this.caption.$n().offsetWidth&&(c+=zk(this.$n("head")).padBorderWidth());this.$supers("setFlexSizeW_",arguments)},beforeSize:function(){this._flexListened||(this.$n("body").style.width="")},resetSize_:function(a){this.$supers(zul.wnd.Panel,"resetSize_",arguments);this.$n("body").style["w"==a?"width":"height"]=""},onSize:function(){return function(a){this._hideShadow();if(this._maximized&&this._lastSize){var b=this.$n(),c=zk(b),d=this.isFloatable(),e=d?jq(b).offsetParent():
jq(b).parent();b=b.style;var g=e[0].clientWidth;d||(g-=e.zk.paddingWidth(),g=c.revisedWidth(g));b.width=jq.px0(g);this._open&&(g=e[0].clientHeight,d||(g-=e.zk.paddingHeight(),g=c.revisedHeight(g)),b.height=jq.px0(g))}this.tbar&&a.fireDown(this.tbar);this.bbar&&a.fireDown(this.bbar);this.fbar&&a.fireDown(this.fbar);this._fixHgh(!0);this._fixWdh();this.zsync()}}(),onHide:function(){this._hideShadow()},_fixHgh:function(a){var b;if((b=this.panelchildren)&&!b.z_rod&&(a||this.isRealVisible())){a=this.$n();
b=b.$n();var c=a.style.height;c&&"auto"!=c&&(b.style.height=jq.px0(this._offsetHeight(a)))}},_fixWdh:function(){var a=this.panelchildren;if(a&&!a.z_rod&&this.isRealVisible()){a=a.$n();var b,c;a&&(b=a.style)&&(c=b.width)&&"auto"!=c&&(c=zk(this.$n()).contentWidth(),b.width=c-zk(this.$n("body")).padBorderWidth()+"px")}},_rounded:_zkf=function(){return this._border.startsWith("rounded")},isFramable:_zkf,_bordered:function(){var a;return"none"!=(a=this._border)&&"rounded"!=a},_offsetHeight:function(a){var b=
this._titleHeight(),c=this.$n("body");a=zk(b?a:c).contentHeight()-this._titleHeight();b&&(a-=zk(c).padBorderHeight());b=this.tbar?this.$n("tb"):null;c=this.bbar?this.$n("bb"):null;var d=this.fbar?this.$n("fb"):null;b&&(a-=b.offsetHeight);c&&(a-=c.offsetHeight);d&&(a-=d.offsetHeight);return a},_titleHeight:function(){var a=this.getTitle()||this.caption?this.$n("head"):null;return a?a.offsetHeight:0},onFloatUp:function(a){if(this._visible&&this.isFloatable())for(a=a.origin;a;a=a.parent){if(a==this){this.setTopmost();
break}if(a.isFloating_())break}},_makeSizer:function(){if(!this._sizer){this.domListen_(this.$n(),"onMouseMove");this.domListen_(this.$n(),"onMouseOut");var a=this.$class;this._sizer=new zk.Draggable(this,null,{stackup:!0,draw:a._drawsizing,snap:a._snapsizing,starteffect:a._startsizing,ghosting:a._ghostsizing,endghosting:a._endghostsizing,ignoredrag:a._ignoresizing,endeffect:a._aftersizing})}},_initFloat:function(){var a=this.$n();if(!a.style.top||!a.style.left){var b=zk(a).revisedOffset();a.style.left=
jq.px(b[0]);a.style.top=jq.px(b[1])}a.style.position="absolute";this.isMovable()&&this._initMove();this.zsync();this.isRealVisible()&&this.setTopmost()},_initMove:function(a){if((a=this.$n("head"))&&!this._drag){jq(a).addClass(this.$s("header-move"));var b=this.$class;this._drag=new zk.Draggable(this,null,{handle:a,stackup:!0,starteffect:b._startmove,ignoredrag:b._ignoremove,endeffect:b._aftermove})}},zsync:function(){this.$supers("zsync",arguments);if(this.isFloatable()){var a=this.$n("body");a&&
zk(a).isRealVisible()&&(this._shadow||(this._shadow=new zk.eff.Shadow(this.$n(),{left:-4,right:4,top:-2,bottom:3})),this._maximized||this._minimized||!this._visible?this._hideShadow():this._shadow.sync())}else this._shadow&&(this._shadow.destroy(),this._shadow=null)},_hideShadow:function(){var a=this._shadow;a&&a.hide()},afterAnima_:function(a){this.$supers("afterAnima_",arguments);var b=this.parent;if(b.getHflex()&&"min"!=b.getHflex()||b.getVflex()&&"min"!=b.getVflex())zUtl.fireSized(b);else for(var c=
b.firstChild;c;c=c.nextSibling)if(c!=this){var d=c.getVflex();if(d&&"min"!=d){zUtl.fireSized(b);break}}},bind_:function(a,b,c){this.$supers(zul.wnd.Panel,"bind_",arguments);zWatch.listen({onSize:this,onHide:this});this._sizable&&this._makeSizer();if(this.isFloatable()&&(zWatch.listen({onFloatUp:this}),this.setFloating_(!0),this._initFloat(),!zk.css3))jq.onzsync(this);if(this._maximizable&&this._maximized){var d=this;c.push(function(){d._maximized=!1;d.setMaximized(!0,!0)})}},unbind_:function(){if(this._inWholeMode){var a=
this.$n(),b;if(9<zk.ie){var c=jq(this.$n()).find("iframe");c.length&&c.hide().remove()}zk(a).undoVParent();(a=this.parent)&&(a=a.parent)&&(a=a.$n())&&(b=this._oldNodeInfo)&&(a.style.position=b._ppos,a.parentNode.scrollTop=b._scrollTop);this._inWholeMode=!1}zWatch.unlisten({onSize:this,onHide:this,onFloatUp:this});this.setFloating_(!1);zk.css3||jq.unzsync(this);this._shadow&&(this._shadow.destroy(),this._shadow=null);this._drag&&(this._drag.destroy(),this._drag=null);this._sizer&&(this._sizer.destroy(),
this._sizer=null);this.domUnlisten_(this.$n(),"onMouseMove");this.domUnlisten_(this.$n(),"onMouseOut");this.$supers(zul.wnd.Panel,"unbind_",arguments)},_doMouseMove:function(a){if(this._sizer&&zUtl.isAncestor(this,a.target)){var b=this.$n();a=this.$class._insizer(b,zk(b).revisedOffset(),a.pageX,a.pageY);var c=this.isMovable()?this.$n("head"):!1;!this._maximized&&this._open&&a?(void 0==this._backupCursor&&(this._backupCursor=b.style.cursor),b.style.cursor=1==a?"n-resize":2==a?"ne-resize":3==a?"e-resize":
4==a?"se-resize":5==a?"s-resize":6==a?"sw-resize":7==a?"w-resize":"nw-resize",c&&jq(c).removeClass(this.$s("header-move"))):(b.style.cursor=this._backupCursor||"",c&&jq(c).addClass(this.$s("header-move")))}},_doMouseOut:function(a){this.$n().style.cursor=this._backupCursor||""},doClick_:function(a){var b=this.$n("max"),c=this.$n("min"),d=a.domTarget;d.id||(d=d.parentNode);switch(d){case this.$n("close"):this.fire("onClose");break;case b:this.setMaximized(!this._maximized);break;case c:this.setMinimized(!this._minimized);
break;case this.$n("exp"):b=(b=this.$n("body"))?zk(b).isVisible():this._open;!b==this._open&&(this._open=b);this.setOpen(!b);break;default:this.$supers("doClick_",arguments);return}a.stop()},doKeyDown_:function(a){var b=a.domTarget,c=a.keyCode;if("9"==c||"16"==c)this.$supers("doKeyDown_",arguments);else switch(b.id||(b=b.parentNode),b){case this.$n("close"):this.fire("onClose");break;case this.$n("max"):this.setMaximized(!this._maximized);break;case this.$n("min"):this.setMinimized(!this._minimized);
break;case this.$n("exp"):b=(b=this.$n("body"))?zk(b).isVisible():this._open;!b==this._open&&(this._open=b);this.setOpen(!b);break;default:this.$supers("doKeyDown_",arguments)}},domClass_:function(a){var b=this.$supers("domClass_",arguments);if(!a||!a.zclass){var c=this._bordered()?"":this.$s("noborder");c&&(b+=(b?" ":"")+c);(c=this._open?"":this.$s("collapsed"))&&(b+=(b?" ":"")+c);this.getTitle()||this.caption||(b+=" "+this.$s("noheader"));this._rounded()||(b+=" "+this.$s("noframe"))}return b},onChildAdded_:function(a){this.$supers("onChildAdded_",
arguments);a.$instanceof(zul.wgt.Caption)?this.caption=a:a.$instanceof(zul.wnd.Panelchildren)?this.panelchildren=a:a.$instanceof(zul.wgt.Toolbar)&&(this.firstChild==a||this.nChildren==(this.caption?2:1)?this.tbar=a:this.lastChild==a&&a.previousSibling.$instanceof(zul.wgt.Toolbar)?this.fbar=a:a.previousSibling.$instanceof(zul.wnd.Panelchildren)&&(this.bbar=a));this.rerender()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);a==this.caption?this.caption=null:a==this.panelchildren?
this.panelchildren=null:a==this.tbar?this.tbar=null:a==this.bbar?this.bbar=null:a==this.fbar&&(this.fbar=null);this.childReplacing_||this.rerender()},onChildVisible_:function(a){this.$supers("onChildVisible_",arguments);a!=this.tbar&&a!=this.bbar&&a!=this.fbar||!this.$n()||this._fixHgh()},getChildMinSize_:function(a,b){var c=!0;b==this.caption&&(c="w"==a?!!b.$n().style.width:!!b.$n().style.height);return c?this.$supers("getChildMinSize_",arguments):0},isExcludedHflex_:function(){if(zk.isLoaded("zkmax.layout")&&
this.parent.$instanceof(zkmax.layout.Portalchildren)){var a=this.parent;if(a.parent)return a.parent.isVertical()}},isExcludedVflex_:function(){if(zk.isLoaded("zkmax.layout")&&this.parent.$instanceof(zkmax.layout.Portalchildren)){var a=this.parent;if(a.parent)return!a.parent.isVertical()}},getCollapseOpenIconClass_:function(){return"z-icon-angle-up"},getCollapseCloseIconClass_:function(){return"z-icon-angle-down"},getClosableIconClass_:function(){return"z-icon-times"},getMaximizableIconClass_:function(){return"z-icon-expand"},
getMaximizedIconClass_:function(){return"z-icon-compress"},getMinimizableIconClass_:function(){return"z-icon-minus"}},{_startmove:function(a){a.control._hideShadow();a=a.node;a.style.top&&0<=a.style.top.indexOf("%")&&(a.style.top=a.offsetTop+"px");a.style.left&&0<=a.style.left.indexOf("%")&&(a.style.left=a.offsetLeft+"px")},_ignoremove:function(a,b,c){a=a.control;c=c.domTarget;c.id||(c=c.parentNode);switch(c){case a.$n("close"):case a.$n("max"):case a.$n("min"):case a.$n("exp"):return!0}return!1},
_aftermove:function(a,b){a.control.zsync();zk(a.control).redoCSS(-1,{fixFontIcon:!0})},_startsizing:zul.wnd.Window._startsizing,_ghostsizing:zul.wnd.Window._ghostsizing,_endghostsizing:zul.wnd.Window._endghostsizing,_insizer:zul.wnd.Window._insizer,_ignoresizing:function(a,b,c){c=a.node;var d=a.control;if(d._maximized||!d._open)return!0;var e=zk(c).revisedOffset();return(b=d.$class._insizer(c,e,b[0],b[1]))?(d._hideShadow(),a.z_dir=b,a.z_box={top:e[1],left:e[0],height:c.offsetHeight,width:c.offsetWidth,
minHeight:zk.parseInt(d.getMinheight()),minWidth:zk.parseInt(d.getMinwidth())},a.z_orgzi=c.style.zIndex,!1):!0},_snapsizing:zul.wnd.Window._snapsizing,_aftersizing:zul.wnd.Window._aftersizing,_drawsizing:zul.wnd.Window._drawsizing});zul.wnd.PanelSkipper=zk.$extends(zk.Skipper,{$init:function(a){this._p=a},skip:function(a,b){if(a=jq(b||a.uuid+"-body",zk)[0])return a.parentNode.removeChild(a),a},restore:function(){this.$supers("restore",arguments);this._p.zsync()}});zul.wnd.PanelRenderer={isFrameRequired:function(a){return!0}}})();

zkreg('zul.wnd.Panel');
zk._m={};
zk._m['default']=panel$mold$=function(a,g){var b=this.uuid,f=this.getTitle(),c=this.caption,d=this._tabindex;a.push("<div",this.domAttrs_({tabindex:1}),">");if(c||f){a.push('<div id="',b,'-head" class="',this.$s("head"),'">','<div id="',b,'-cap" class="',this.$s("header"),'">');if(c)c.redraw(a);else{c=this.$s("icon");this._closable&&(a.push('<button id="',b,'-close" class="',c," ",this.$s("close"),'"'),void 0!=d&&a.push(' tabindex="',d,'"'),a.push(' title="',msgzul.PANEL_CLOSE,'"><i class="',this.getClosableIconClass_(),
'"></i></button>'));if(this._maximizable){var e=this._maximized;a.push('<div id="',b,'-max" class="',c," ",this.$s("maximize"));e&&a.push(" ",this.$s("maximized"));e=e?this.getMaximizedIconClass_():this.getMaximizableIconClass_();void 0!=d&&a.push('" tabindex="',d);a.push('" title="',msgzul.PANEL_MAXIMIZE,'"><i class="',e,'"></i></div>')}this._minimizable&&(a.push('<div id="',b,'-min" class="',c," ",this.$s("minimize"),'"'),void 0!=d&&a.push(' tabindex="',d,'"'),a.push(' title="',msgzul.PANEL_MINIMIZE,
'"><i class="',this.getMinimizableIconClass_(),'"></i></div>'));this._collapsible&&(e=this._open?this.getCollapseOpenIconClass_():this.getCollapseCloseIconClass_(),a.push('<div id="',b,'-exp" class="',c," ",this.$s("expand"),'"'),void 0!=d&&a.push(' tabindex="',d,'"'),e?a.push(' title="',msgzul.PANEL_COLLAPSE,'"'):a.push(' title="',msgzul.PANEL_EXPAND,'"'),a.push('><i class="',e,'"></i></div>'));a.push(zUtl.encodeXML(f))}a.push("</div></div>")}a.push('<div id="',b,'-body" class="',this.$s("body"),
'"');this._open||a.push(' style="display:none;"');a.push(">");g||(this.tbar&&(a.push('<div id="',b,'-tb" class="',this.$s("top"),'">'),this.tbar.redraw(a),a.push("</div>")),this.panelchildren&&this.panelchildren.redraw(a),this.bbar&&(a.push('<div id="',b,'-bb" class="',this.$s("bottom"),'">'),this.bbar.redraw(a),a.push("</div>")),this.fbar&&(a.push('<div id="',b,'-fb" class="',this.$s("footer"),'">'),this.fbar.redraw(a),a.push("</div>")));a.push("</div></div>")};

;zkmld(zk._p.p.Panel,zk._m);
zul.wnd.Panelchildren=zk.$extends(zul.ContainerWidget,{setHeight:zk.$void,setWidth:zk.$void,domClass_:function(c){var a=this.$supers("domClass_",arguments);if(!c||!c.zclass){var d=this.getZclass(),b=this.parent.getTitle()||this.parent.caption?"":d+"-noheader";b&&(a+=(a?" ":"")+b);(b=this.parent._bordered()?"":d+"-noborder")&&(a+=(a?" ":"")+b)}return a},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);this.desktop&&zUtl.fireSized(this.parent)}});

zkreg('zul.wnd.Panelchildren',true);
zk._m={};
zk._m['default']=panelchildren$mold$=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div>")};

;zkmld(zk._p.p.Panelchildren,zk._m);
zul.wnd.Messagebox={onBind:function(c,e){var a=c.$n(),b=a.offsetWidth+a.parentNode.parentNode.parentNode.cells[0].offsetWidth;c=c.$o();var d=c.$n("cave");a=c.$n();b+=zk(d).padBorderWidth()+zk(d=d.parentNode).padBorderWidth()+zk(d=d.parentNode).padBorderWidth()+zk(d.parentNode).padBorderWidth();a.style.width=jq.px0(Math.min(Math.max(b,zk.parseInt(e)),jq.innerWidth()-20));zk(a).center();e=zk.parseInt(a.style.top);(b=jq.innerY())?(b=e-b,100<b&&(a.style.top=jq.px0(e-(b-100)))):100<e&&(a.style.top="100px");
c.onSize()}};


}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.wnd',1);zk.load('zul.wgt',function(){if(zk._p=zkpi('zul.menu'))try{
(function(){zul.menu.Menubar=zk.$extends(zul.Widget,{_orient:"horizontal",_bodyScrollLeft:0,$define:{orient:function(){this.rerender()},scrollable:function(a){this.checkScrollable()&&this.rerender()},autodrop:null},setWidth:function(){this.$supers("setWidth",arguments);this._checkScrolling()},domClass_:function(a){var b=this.$supers("domClass_",arguments);a&&a.zclass||(b+=" "+this.$s("vertical"==this.getOrient()?"vertical":"horizontal"));return b},unbind_:function(){if(this.checkScrollable()){var a=
this.$n("left"),b=this.$n("right");a&&b&&this.domUnlisten_(a,"onClick","_doScroll").domUnlisten_(b,"onClick","_doScroll");zWatch.unlisten({onSize:this})}a=this.$n();this.domUnlisten_(a,"onMouseEnter").domUnlisten_(a,"onMouseLeave");this._lastTarget=null;this.$supers(zul.menu.Menubar,"unbind_",arguments)},bind_:function(){this.$supers(zul.menu.Menubar,"bind_",arguments);var a=this.$n();this.domListen_(a,"onMouseEnter").domListen_(a,"onMouseLeave");if(this.checkScrollable()){a=this.$n("left");var b=
this.$n("right");a&&b&&this.domListen_(a,"onClick","_doScroll").domListen_(b,"onClick","_doScroll");zWatch.listen({onSize:this})}},checkScrollable:function(){return this._scrollable&&"horizontal"==this.getOrient()},onSize:function(){this._checkScrolling()},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this._checkScrolling()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);this.childReplacing_||this._checkScrolling()},_checkScrolling:function(){if(this.checkScrollable()){var a=
this.$n();if(a){jq(a).addClass(this.$s("scroll"));for(var b=zk(a).contentWidth(),c=this.$n("body"),d=jq(this.$n("cave")).children().filter(":visible"),e=d.length,g=0,f=e;f--;)g+=jq(d[f]).outerWidth(!0);zk.ie&&(g+=e);g>=b?this._scrolling=!0:(this._scrolling=!1,this._fixBodyScrollLeft(0),c.style.width="");this._fixButtonPos(a);a=b-zk(this.$n("left")).offsetWidth()-zk(this.$n("right")).offsetWidth();this._scrolling&&(c.style.width=jq.px0(a),this._fixScrollPos(d.last()[0]))}}},_fixScrollPos:function(a){a&&
(a=a.offsetLeft,a<this._bodyScrollLeft&&this._fixBodyScrollLeft(a))},_fixButtonPos:function(a){this.getZclass();var b=this.$n("body"),c=this.$n("left"),d=this.$n("right"),e=this._scrolling?"addClass":"removeClass";c.style.display=d.style.display=this._scrolling?"block":"none";jq(a)[e](this.$s("scroll"));b.style.marginLeft=this._scrolling?jq.px(c.offsetWidth):"0";b.style.marginRight=this._scrolling?jq.px(d.offsetWidth):"0"},_forceStyle:function(a,b){0>zk.parseInt(b)||(a.style.width=b)},_doMouseEnter:function(a){this._bOver=
!0;this._noFloatUp=!1},_doMouseLeave:function(a){this._bOver=!1;this._closeOnOut()},_doScroll:function(a){this._scroll(a.domTarget==this.$n("left")||a.domTarget.parentNode==this.$n("left")?"left":"right")},_fixBodyScrollLeft:function(a){this.$n("body").scrollLeft=this._bodyScrollLeft=a},_scroll:function(a){if(this.checkScrollable()&&!this._runId){var b=this,c=this.$n("body"),d=this._bodyScrollLeft,e=jq(this.$n("cave")).children().filter(":visible"),g=e.length,f=0;if(g)switch(a){case "left":for(a=
0;a<g;a++)if(e[a].offsetLeft>=d||e[a].offsetLeft+(e[a].offsetWidth-c.offsetWidth)>=d){d=e[a].previousSibling;if(!d)return;f=d.offsetLeft;if(isNaN(f))return;b._runId=setInterval(function(){b._moveTo(c,f)||b._afterMove()},10);return}break;case "right":var h=d+c.offsetWidth;for(a=0;a<g;a++){var k=e[a].offsetLeft+e[a].offsetWidth;if(k>h){f=d+(k-h);if(isNaN(f))break;b._runId=setInterval(function(){b._moveTo(c,f)||b._afterMove()},10);break}}}}},_moveTo:function(a,b){var c=this._bodyScrollLeft;if(c==b)return!1;
a=c>b?-5:5;c+=a;if(c<b&&0>a||c>b&&0<a)c=b;this._fixBodyScrollLeft(c);return!0},_afterMove:function(){clearInterval(this._runId);this._runId=null},insertChildHTML_:function(a,b,c){var d="vertical"==this.getOrient();b?jq(b.$n("chdextr")||b.$n()).before(this.encloseChildHTML_({child:a,vertical:d})):jq(this.$n("cave")).append(this.encloseChildHTML_({child:a,vertical:d}));a.bind(c)},removeChildHTML_:function(a){this.$supers("removeChildHTML_",arguments);jq(a.$n("chdextr")).remove()},encloseChildHTML_:function(a){var b=
a.out||new zk.Buffer;a.child.redraw(b);if(!a.out)return b.join("")},_closeOnOut:function(){var a=this;a._autodrop&&!zul.Widget.getOpenTooltip()&&setTimeout(function(){a._noFloatUp||a._bOver||!zul.menu._nOpen||zWatch.fire("onFloatUp",a)},200)}})})();

zkreg('zul.menu.Menubar');
zk._m={};
zk._m['default']=menubar$mold$=function(b){var a=this.uuid;if("vertical"==this.getOrient()){b.push("<div",this.domAttrs_(),'><ul id="',a,'-cave">');for(a=this.firstChild;a;a=a.nextSibling)this.encloseChildHTML_({out:b,child:a,vertical:!0});b.push("</ul></div>")}else{var c;b.push("<div",this.domAttrs_(),">");if(c=this.checkScrollable()){var d=this.$s("scrollable"),e=this.$s("icon");b.push('<div id="',a,'-left" class="',this.$s("left")," ",d,'"><i class="',e,' z-icon-chevron-left"></i></div>','<div id="',a,'-right" class="',
this.$s("right")," ",d,'"><i class="',e,' z-icon-chevron-right"></i></div>','<div id="',a,'-body" class="',this.$s("body"),'">','<div id="',a,'-cnt" class="',this.$s("content"),'">')}b.push('<ul id="',a,'-cave">');for(a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</ul>");c&&b.push("</div></div>");b.push("</div>")}};

;zkmld(zk._p.p.Menubar,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,d,e){c instanceof String&&(c=String(c));for(var f=c.length,g=0;g<f;g++){var a=c[g];if(d.call(e,a,g,c))return{i:g,v:a}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,d,e){c!=Array.prototype&&c!=Object.prototype&&(c[d]=e.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,d,e,f){if(d){e=$jscomp.global;c=c.split(".");for(f=0;f<c.length-1;f++){var g=c[f];g in e||(e[g]={});e=e[g]}c=c[c.length-1];f=e[c];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(e,c,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,e){return $jscomp.findInternal(this,c,e).v}},"es6","es3");
(function(){function c(a,b){if(a.isListen("onClick"))jq(a.$n())[b?"removeClass":"addClass"](a.$s("hover"))}function d(a,b){if(a.isListen("onClick")){var c=jq(a.$n()).find("."+a.$s("separator"));c=zk(c).revisedOffset()[0];b.pageX>c?(jq(a.$n()).addClass(a.$s("selected")),a.menupopup._shallClose=!1,a._togglePopup(),b.stop()):a.fireX(new zk.Event(a,"onClick",b.data))}else jq(a.$n()).addClass(a.isTopmost()?a.$s("selected"):a.$s("hover")),a.menupopup._shallClose=!1,a._togglePopup()}function e(a){return a.isVisible()&&
a.$instanceof(zul.menu.Menu)&&!a.isDisabled()}function f(a){for(var b=a;b;b=b.nextSibling)if(e(b))return b;b=a.parent;return b.firstChild==a?a:f(b.firstChild)}function g(a){for(var b=a;b;b=b.previousSibling)if(e(b))return b;b=a.parent;return b.lastChild==a?a:g(b.lastChild)}zul.menu.Menu=zk.$extends(zul.LabelImageWidget,{$define:{content:function(a){if(a&&0!=a.length)if(this._contentHandler)this._contentHandler.setContent(a);else if(zk.feature.pe){var b=this;zk.load("zkex.inp",null,function(){b._contentHandler=
new zkex.inp.ContentHandler(b,a)})}else this._contentHandler=new zul.menu.ContentHandler(this,a)},disabled:function(a){this.desktop&&(a?jq(this.$n("a")).attr("disabled","disabled").attr("tabindex","-1"):jq(this.$n("a")).removeAttr("disabled").removeAttr("tabindex"))},image:function(a){a&&this._preloadImage&&zUtl.loadImage(a);this.rerender()}},open:function(){if(this.desktop&&this.isTopmost()){jq(this.$n()).addClass(this.$s("selected"));var a=this.getMenubar();a._lastTarget&&this.$class._rmActive(a._lastTarget);
a._lastTarget=this;this.menupopup._shallClose=!1;this._togglePopup()}},getAnchor_:function(){return this.$n("a")},domContent_:function(){var a='<span class="'+this.$s("text")+'">'+zUtl.encodeXML(this.getLabel())+"</span>",b=this.getImage(),c='<i class="'+this.$s("icon")+" z-icon-caret-"+(this.isTopmost()&&!this.isVertical_()?"down":"right")+'"></i>',e='<div class="'+this.$s("separator")+'"></div>',d=this.domIcon_();b=b?'<img id="'+this.uuid+'-img" src="'+b+'" class="'+this.$s("image")+'" align="absmiddle" />'+
(d?" "+d:""):d?d:'<img id="'+this.uuid+'-img" '+(this.isTopmost()?'style="display:none"':"")+' src="data:image/png;base64,R0lGODlhAQABAIAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="'+this.$s("image")+'" align="absmiddle" />';return b+a+e+c},isTopmost:function(){return this._topmost},beforeParentChanged_:function(a){this._topmost=a&&!a.$instanceof(zul.menu.Menupopup);this.$supers("beforeParentChanged_",arguments)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);a.$instanceof(zul.menu.Menupopup)&&
(this.menupopup=a,this._contentHandler&&this._contentHandler.destroy())},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);a==this.menupopup&&(this.menupopup=null,this._contentHandler&&this._contentHandler.setContent(this._content))},getMenubar:function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.menu.Menubar))return a;if(!a.$instanceof(zul.menu.Menupopup,zul.menu.Menu))break}return null},onShow:function(){if(this._contentHandler)this._contentHandler.onShow()},onFloatUp:function(a){if(this._contentHandler)this._contentHandler.onFloatUp(a)},
onHide:function(){if(this._contentHandler)this._contentHandler.onHide()},focus_:function(a,b){return this.isTopmost()&&zk(this.getAnchor_()).focus(a)?(b&&(this._ignoreActive=!0),!0):this.$supers("focus_",arguments)},_getPrevVisibleMenu:function(){var a=this.previousSibling;if(!a){var b=this.getMenubar();b&&(a=b.lastChild)}return a?g(a):this},_getNextVisibleMenu:function(){var a=this.nextSibling;if(!a){var b=this.getMenubar();b&&(a=b.firstChild)}return a?f(a):this},doKeyDown_:function(a){if(this.isTopmost()){var b=
a.keyCode;if(this.isVertical_())switch(b){case 38:b=37;break;case 40:b=39;break;case 37:b=38;break;case 39:b=40}switch(b){case 38:(b=this.menupopup)&&b.isOpen()&&(jq(this.$n()).removeClass(this.$s("hover")).removeClass(this.$s("selected")),b.close());this.$class._addActive(this);a.stop();break;case 40:this.menupopup&&!this._disabled&&(jq(this.$n()).addClass(this.$s("selected")).removeClass(this.$s("hover")),this.menupopup._shallClose=!1,this.menupopup.open());a.stop();break;case 37:case 39:(b=37==
b?this._getPrevVisibleMenu():this._getNextVisibleMenu())&&b.focus();a.stop();break;case 13:this.menupopup&&d(this,a);a.stop();break;case 9:this.$class._rmActive(this)}}this.$supers("doKeyDown_",arguments)},doFocus_:function(){if(this.isTopmost()){var a=this.getMenubar(),b=this.$class;a&&a._lastTarget&&b._rmActive(a._lastTarget);this._ignoreActive||b._addActive(this)}delete this._ignoreActive;this.$supers("doFocus_",arguments)},bind_:function(){this.$supers(zul.menu.Menu,"bind_",arguments);var a=this.getAnchor_();
this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_").domListen_(a,"onMouseEnter").domListen_(a,"onMouseLeave");this.isTopmost()&&this.isListen("onClick")&&jq(this.$n()).addClass(this.$s("clickable"));this._contentHandler&&this._contentHandler.bind()},unbind_:function(){var a=this.getAnchor_();this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_").domUnlisten_(a,"onMouseEnter").domUnlisten_(a,"onMouseLeave");this._contentHandler&&this._contentHandler.unbind();
this.$supers(zul.menu.Menu,"unbind_",arguments)},_getArrowWidth:function(){return 20},_showContentHandler:function(){var a=this._contentHandler;if(a&&!a.isOpen())a.onShow()},doClick_:function(a){this._disabled||(this.menupopup?(this.isTopmost()&&(this.getMenubar()._lastTarget=this),d(this,a)):this._showContentHandler());a.stop()},doMouseOver_:function(){this.isTopmost()||this._showContentHandler();this.$supers("doMouseOver_",arguments)},_togglePopup:function(){!this.menupopup&&this._contentHandler?
this._showContentHandler():this.menupopup.isOpen()?this.isTopmost()?this.menupopup.close({sendOnOpen:!0}):zk(this.menupopup.$n("a")).focus():(this.isTopmost()&&c(this),this.menupopup.open())},_doMouseEnter:function(a){var b=this.getMenubar();b&&(b._noFloatUp=!1);if(!this._disabled){var d=this.isTopmost();d&&c(this);d&&11>zk.ie&&!jq.isAncestor(this.getAnchor_(),a.domTarget)||(this.menupopup&&(this.menupopup._shallClose=!1),d?this.menupopup&&b._autodrop?(zWatch.fire("onFloatUp",this),this.menupopup.isOpen()||
this.menupopup.open()):(a=b._lastTarget)&&a!=this&&a.menupopup&&a.menupopup.isVisible()&&(a.menupopup.close({sendOnOpen:!0}),this.$class._rmActive(a),this.menupopup&&this.menupopup.open()):(zWatch.fire("onFloatUp",this),this.menupopup&&!this.menupopup.isOpen()&&this.menupopup.open()),this.$class._addActive(this))}},_doMouseLeave:function(a){a=this.getMenubar();this._updateHoverImage();if(!this._disabled){var b=this.isTopmost(),c=this.menupopup;b?(this.$class._rmActive(this,!0),c&&a._autodrop&&c.isOpen()&&
(c._shallClose=!0)):c&&c.isOpen()||this.$class._rmActive(this)}},getImageNode:function(){!this._eimg&&(this._image||this._hoverImage)&&this.$n()&&(this._eimg=this.$n("a").firstChild);return this._eimg},ignoreDescendantFloatUp_:function(a){return a&&a.$instanceof(zul.menu.Menupopup)},isVertical_:function(){if(this.isTopmost()){var a=this.getMenubar();if(a)return"vertical"==a.getOrient()}return!1}},{_isActive:function(a){var b=a.isTopmost(),c=a.$n(),d=a.menupopup;a=b?d&&d.isOpen()?a.$s("selected"):
a.$s("hover"):a.$s("hover");return jq(c).hasClass(a)},_addActive:function(a){var b=a.isTopmost(),c=a.$n(),d=a.menupopup;d=b?d&&d.isOpen()?a.$s("selected"):a.$s("hover"):a.$s("hover");jq(c).addClass(d);b&&(c=a.getMenubar())&&(c._lastTarget=a);!b&&a.parent.parent.$instanceof(zul.menu.Menu)&&this._addActive(a.parent.parent)},_rmActive:function(a,b){var d=a.isTopmost(),e=a.$n(),f=a.menupopup;b=d?!b&&f&&f.isOpen()?a.$s("selected"):a.$s("hover"):a.$s("hover");e=jq(e).removeClass(b);!d||e.hasClass(a.$s("selected"))||
e.hasClass(a.$s("hover"))||c(a,!0)}});zul.menu.ContentHandler=zk.$extends(zk.Object,{$init:function(a,b){this._wgt=a;this._content=b},setContent:function(a){this._content==a&&this._pp||(this._content=a,this._wgt.rerender())},redraw:function(a){var b=this._wgt;b.getZclass();a.push('<div id="',b.uuid,'-cnt-pp" class="',b.$s("content-popup"),'" style=""><div class="',b.$s("content-body"),'">',this._content,"</div></div>")},bind:function(){var a=this._wgt;a.menupopup||(a.domListen_(a.$n(),"onClick","onShow"),
zWatch.listen({onFloatUp:a,onHide:a}));this._pp=a.$n("cnt-pp");jq(this._pp,zk).bind("mouseenter",this.proxy(this._doMouseEnter)).bind("mouseleave",this.proxy(this._doMouseLeave))},unbind:function(){var a=this._wgt;a.menupopup||(this._shadow&&(this._shadow.destroy(),this._shadow=null),a.domUnlisten_(a.$n(),"onClick","onShow"),zWatch.unlisten({onFloatUp:a,onHide:a}));jq(this._pp,zk).unbind("mouseenter",this.proxy(this._doMouseEnter)).unbind("mouseleave",this.proxy(this._doMouseLeave));this._pp=null},
isOpen:function(){var a=this._pp;return a&&zk(a).isVisible()},_doMouseEnter:function(){var a=this._wgt.getMenubar();a&&(a._bOver=!0)},_doMouseLeave:function(){var a=this._wgt.getMenubar();a&&(a._bOver=!1)},onShow:function(){var a=this._wgt,b=this._pp;b&&(b.style.display="block",jq(b).zk.makeVParent(),zWatch.fireDown("onVParent",this),zk(b).position(a.$n(),this.getPosition()),this.syncShadow())},onHide:function(){var a=this._pp;a&&zk(a).isVisible()&&(a.style.display="none",jq(a).zk.undoVParent(),zWatch.fireDown("onVParent",
this),this.hideShadow())},onFloatUp:function(a){if(!zUtl.isAncestor(this._wgt,a.origin))this.onHide()},syncShadow:function(){this._shadow||(this._shadow=new zk.eff.Shadow(this._wgt.$n("cnt-pp"),{stackup:zk.useStackup}));this._shadow.sync()},hideShadow:function(){this._shadow&&this._shadow.hide()},destroy:function(){this._wgt.rerender()},getPosition:function(){return this._wgt.isVertical_()?"end_before":"after_start"},deferRedrawHTML_:function(a){a.push("<li",this.domAttrs_({domClass:1}),' class="z-renderdefer"></li>')}})})();

zkreg('zul.menu.Menu');
zk._m={};
zk._m['default']=menu$mold$=function(a){var c=this.uuid;this.getZclass();var b=this._contentHandler;a.push("<li",this.domAttrs_(),'><a href="javascript:;" id="',c,'-a" class="',this.$s("content"),'"',this._disabled?' disabled="disabled" tabindex="-1"':"",">",this.domContent_(),"</a>");this.menupopup?this.menupopup.redraw(a):b&&b.redraw(a);a.push("</li>")};

;zkmld(zk._p.p.Menu,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(c,d,a){if(null==c)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return c+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,d,a){c!=Array.prototype&&c!=Object.prototype&&(c[d]=a.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,d,a,b){if(d){a=$jscomp.global;c=c.split(".");for(b=0;b<c.length-1;b++){var e=c[b];e in a||(a[e]={});a=a[e]}c=c[c.length-1];b=a[c];d=d(b);d!=b&&null!=d&&$jscomp.defineProperty(a,c,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("String.prototype.startsWith",function(c){return c?c:function(c,a){var b=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var e=b.length,d=c.length;a=Math.max(0,Math.min(a|0,b.length));for(var f=0;f<d&&a<e;)if(b[a++]!=c[f++])return!1;return f>=d}},"es6","es3");
(function(){function c(a){zWatch.listen({onShow:a});var b;if(b=a._upload)a._uplder=new zul.Upload(a,a._getUploadRef(),b)}function d(a){var b;if(b=a._uplder)zWatch.unlisten({onShow:a}),a._uplder=null,b.destroy()}(zul.menu.Menuitem=zk.$extends(zul.LabelImageWidget,{_value:"",$define:{checkmark:_zkf=function(){this.rerender()},disabled:[function(a,b){b&&b.adbs?this._adbs=!0:b&&void 0!==b.adbs||(this._adbs=!1);if(!a)if(this._adbs)this._adbs=!1;else if(b&&!1===b.adbs)return this._disabled;return a},function(a,
b){this.rerender(b&&b.skip?-1:0)}],href:_zkf,value:null,checked:function(a){a&&(this._checkmark=a);var b=this.$n();!b||this.isTopmost()||this.getImage()||(b=jq(b),b[a?"addClass":"removeClass"](this.$s("checked")),this._checkmark&&b.addClass(this.$s("checkable")))},autocheck:null,target:function(a){if(a=this.$n("a"))this.isTopmost()&&(a=a.parentNode),a.target=this._target},autodisable:null,upload:function(a){this.$n()&&(d(this),a&&"false"!=a&&c(this))}},isTopmost:function(){return this._topmost},beforeParentChanged_:function(a){this._topmost=
a&&!a.$instanceof(zul.menu.Menupopup);this.$supers("beforeParentChanged_",arguments)},domClass_:function(a){var b=this.$supers("domClass_",arguments);if(!a||!a.zclass){var c=this.isDisabled()?this.$s("disabled"):"";c&&(b+=(b?" ":"")+c);(c=!this.getImage()&&this.isCheckmark()?this.$s("checkable")+(this.isChecked()?" "+this.$s("checked"):""):"")&&(b+=(b?" ":"")+c)}return b},domContent_:function(){var a='<span class="'+this.$s("text")+'">'+zUtl.encodeXML(this.getLabel())+"</span>",b='<i class="'+this.$s("icon")+
' z-icon-check"></i>',c=this.getImage(),d=this.domIcon_();c=c?'<img src="'+c+'" class="'+this.$s("image")+'" align="absmiddle" />'+(d?" "+d:""):d?d:"<img "+(this.isTopmost()?'style="display:none"':"")+' src="data:image/png;base64,R0lGODlhAQABAIAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="'+this.$s("image")+'" align="absmiddle" />';return c+(this.isAutocheck()||this.isCheckmark()?b:"")+a},getMenubar:function(){for(var a=this.parent;a;a=a.parent)if(a.$instanceof(zul.menu.Menubar))return a;
return null},bind_:function(){this.$supers(zul.menu.Menuitem,"bind_",arguments);if(!this.isDisabled()){var a=this.$n("a");this.isTopmost()&&this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_");this.domListen_(a,"onMouseEnter");this._upload&&c(this)}},unbind_:function(){if(!this.isDisabled()){this._upload&&d(this);var a=this.$n("a");this.isTopmost()&&this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_");this.domUnlisten_(a,"onMouseEnter")}this.$supers(zul.menu.Menuitem,
"unbind_",arguments)},doClick_:function(a){if(this._disabled)a.stop();else if(this._canActivate(a)){if(!this._upload)zul.wgt.ADBS.autodisable(this);else if(!zk.ie||10<zk.ie)zk.chrome&&"file"==a.domTarget.type||this._uplder.openFileDialog();var b=this.isTopmost(),c=this.$n("a");c.href.startsWith("javascript:")?(this.isAutocheck()&&(this.setChecked(!this.isChecked()),this.fire("onCheck",this.isChecked())),this.fireX(a),this._upload||a.stop()):c.href.toLowerCase().startsWith("mailto:")?(c=jq.newFrame("mailtoFrame",
c.href,null),jq(c).remove(),a.stop()):(11>zk.ie&&b&&this.$n().id!=c.id&&zUtl.go(c.href,{target:c.target}),zk.gecko&&b&&this.$n().id!=c.id&&(zUtl.go(c.href,{target:c.target}),a.stop()));if(!b)for(b=this.parent;b;b=b.parent)if(b.$instanceof(zul.menu.Menupopup)){if(!b.isOpen()||this._uplder)break;this._updateHoverImage();b.close({sendOnOpen:!0})}else if(b.$instanceof(zul.menu.Menu))b._updateHoverImage();else break;var d;zk.webkit&&(d=this.getMenubar())&&d._autodrop&&(d._noFloatUp=!0);this.$super("doClick_",
a,!0)}},_canActivate:function(a){return!this.isDisabled()&&(11>!zk.ie||!this.isTopmost()||this._uplder||jq.isAncestor(this.$n("a"),a.domTarget))},_getUploadRef:function(){return this.$n("a")},_doMouseEnter:function(a){(zul.menu._nOpen||this.isTopmost())&&zWatch.fire("onFloatUp",this)},deferRedrawHTML_:function(a){var b=this.isTopmost()?"td":"li";a.push("<",b,this.domAttrs_({domClass:1}),' class="z-renderdefer"></',b,">")},getImageNode:function(){!this._eimg&&(this._image||this._hoverImage)&&this.$n()&&
(this._eimg=this.$n("a").firstChild);return this._eimg}},{_isActive:function(a){return jq(a.$n()).hasClass(a.$s("hover"))},_addActive:function(a){var b=a.isTopmost();jq(a.$n()).addClass(a.$s("hover"));!b&&a.parent.parent.$instanceof(zul.menu.Menu)&&this._addActive(a.parent.parent)},_rmActive:function(a){return jq(a.$n()).removeClass(a.$s("hover"))}})).prototype.onShow=function(){this._uplder&&this._uplder.sync()}})();

zkreg('zul.menu.Menuitem');
zk._m={};
zk._m['default']=menuitem$mold$=function(a){var c=this.uuid,b=this.getTarget();a.push("<li",this.domAttrs_(),">");a.push('<a href="',this.getHref()?this.getHref():"javascript:;",'"');b&&a.push(' target="',b,'"');a.push(' id="',c,'-a" class="',this.$s("content"),'"',this._disabled?' disabled="disabled"':"",">",this.domContent_(),"</a></li>")};

;zkmld(zk._p.p.Menuitem,zk._m);
zul.menu.Menuseparator=zk.$extends(zul.Widget,{isPopup:function(){return this.parent&&this.parent.$instanceof(zul.menu.Menupopup)},getMenubar:function(){for(var a=this.parent;a;a=a.parent)if(a.$instanceof(zul.menu.Menubar))return a;return null},doMouseOver_:function(){zul.menu._nOpen&&zWatch.fire("onFloatUp",this);this.$supers("doMouseOver_",arguments)}});

zkreg('zul.menu.Menuseparator');
zk._m={};
zk._m['default']=menuseparator$mold$=function(a){a.push("<li",this.domAttrs_(),">&nbsp;</li>")};

;zkmld(zk._p.p.Menuseparator,zk._m);
(function(){function g(a){a=a.parent;return a.$instanceof(zul.menu.Menu)?a:null}function h(a){for(;a&&(a=g(a));a=a.parent)if(a.isTopmost())return a;return null}function f(a){return a.isVisible()&&(a.$instanceof(zul.menu.Menu)||a.$instanceof(zul.menu.Menuitem))&&!a.isDisabled()}function n(a){var c=a._curIndex;if(0<=c){a=a.firstChild;for(var b=0;a;a=a.nextSibling)if(f(a)&&b++==c)return a}}function p(a){var c=a.menupopup;c&&(c._shallClose=!1,c.isOpen()||c.open());a.$class._addActive(a);zWatch.fire("onFloatUp",
a)}zul.menu.Menupopup=zk.$extends(zul.wgt.Popup,{_curIndex:-1,zsync:function(){this.$supers("zsync",arguments);this._shadow||(this._shadow=new zk.eff.Shadow(this.$n()));this._shadow.sync()},_hideShadow:function(){this._shadow&&this._shadow.hide()},_syncPos:function(){var a=g(this);if(a){var c=this.$n(),b=a.$n(),d=jq(c),e=jq(b),f=d.offset().left,h=e.offset().left;d=d.outerWidth();e=e.outerWidth();var k=a.parent,l=a.getMenubar();l=l?l.getOrient():"";a.isTopmost()&&"horizontal"==l&&c&&(c.style.top=jq.px0(zk.parseInt(c.style.top)));
for(;k&&!k.$instanceof(zul.menu.Menupopup);)k=k.parent;if(zk(c).isOverlapped(b,1)&&(5<h+e-f&&"vertical"!=l||f<h+e/2&&"vertical"==l)||k&&k._shallSync)if(this._shallSync=!0,c.style.left=jq.px0(h-d),zk.ie)this.onShow()}},close:function(){this.isOpen()&&zul.menu._nOpen--;this.$supers("close",arguments);jq(this.$n()).hide();this._hideShadow();var a;(a=g(this))&&a.isTopmost()&&jq(a.$n()).removeClass(a.$s("selected"));(a=n(this))&&a.$class._rmActive(a);this._curIndex=-1;this.$class._rmActive(this);this._shallSync=
null},open:function(a,c,b,d){this.isOpen()||zul.menu._nOpen++;var e;(e=g(this))&&!c&&(a=e.getAnchor_(),b||(b=e.isTopmost()?"vertical"==e.parent.getOrient()?"end_before":"after_start":"end_before"));this.$super("open",a,c,b,d||{sendOnOpen:!0,disableMask:!0});this._syncPos()},shallStackup_:function(){return!1},setTopmost:function(){this.$supers("setTopmost",arguments);this.zsync()},onFloatUp:function(a,c){if(this.isVisible()){var b=this._openInfo;this._shallToggle&&b&&c&&(void 0===c.triggerByClick||
b[3].which==c.triggerByClick&&zUtl.isAncestor(this._openInfo[0],a.origin))||this._doFloatUp(a)}},_doFloatUp:function(a){if(this.isVisible()){a=a.origin;if(this.parent.menupopup!=this||this.parent.isTopmost()||this.parent.$class._isActive(this.parent)){for(var c,b=a;b;b=b.parent){if(b==this||b.menupopup==this&&!this._shallClose){c||this.setTopmost();return}c=c||b.isFloating_()}if(a&&a.ignoreDescendantFloatUp_(this))for(b=this;b=b.parent;){if(b==a){if(this._shallClose)break;c||this.setTopmost();return}c=
c||b.isFloating_()}}this.close({sendOnOpen:!0})}},onShow:function(){this.zsync();var a=this.$n("a");a&&zk(a).isRealVisible()&&(a.focus(),zk.currentFocus=this);zk(this).redoCSS(-1,{fixFontIcon:!0})},onHide:function(){this.isOpen()&&this.close();this._hideShadow()},bind_:function(){this.$supers(zul.menu.Menupopup,"bind_",arguments);zWatch.listen({onHide:this,onResponse:this});var a=this.$n();this.domListen_(a,"onMouseEnter").domListen_(a,"onMouseLeave");if(!zk.css3)jq.onzsync(this)},unbind_:function(){this.isOpen()&&
this.close();this._shadow&&this._shadow.destroy();zk.css3||jq.unzsync(this);this._shadow=null;zWatch.unlisten({onHide:this,onResponse:this});var a=this.$n();this.domUnlisten_(a,"onMouseEnter").domUnlisten_(a,"onMouseLeave");this.$supers(zul.menu.Menupopup,"unbind_",arguments)},onResponse:function(){this.isOpen()&&(this.zsync(),this.$supers("onResponse",arguments),this._syncPos())},doKeyDown_:function(a){var c;var b=n(this);var d,e=a.keyCode;switch(e){case 38:case 40:b&&b.$class._rmActive(b);if(38==
e)a:{if(b)for(;b=b.previousSibling;)if(f(b)){this._curIndex--;break a}this._curIndex=-1;for(c=this.firstChild;c;c=c.nextSibling)f(c)&&(b=c,this._curIndex++)}else a:{if(b)for(;b=b.nextSibling;)if(f(b)){this._curIndex++;break a}for(b=this.firstChild;b;b=b.nextSibling)if(f(b)){this._curIndex=0;break a}b=void 0}b&&b.$class._addActive(b);break;case 37:if(b&&b.$instanceof(zul.menu.Menu)&&b._contentHandler&&b._contentHandler.isOpen())b._contentHandler.onHide();else if((d=g(this))&&!d.isTopmost()){if(this.close(),
d.$class._addActive(d),c=d.parent){(b=c.$n("a"))&&b.focus();b=c;a:{var m=-1;for(c=c.firstChild;c;c=c.nextSibling)if(f(c)&&m++,c==d){c=m;break a}c=m}b._curIndex=c}}else(b=h(this))&&(b=b._getPrevVisibleMenu())?p(b):this.close();break;case 39:b&&b.$instanceof(zul.menu.Menu)&&!b.isDisabled()?b._togglePopup():(b=h(this))&&(b=b._getNextVisibleMenu())&&p(b);break;case 13:if(b&&b.$instanceof(zul.menu.Menuitem))b.doClick_(new zk.Event(b,"onClick",{})),zWatch.fire("onFloatUp",b),this.close({sendOnOpen:!0});
else if(b&&b.$instanceof(zul.menu.Menu))b._togglePopup();else if(d=g(this))this.close(),d.isTopmost()?d.focus():(d.$class._addActive(d),(c=d.parent)&&(b=c.$n("a"))&&b.focus());break;case 27:if(d=g(this))if(d.isTopmost())this.close(),d.focus();else if(d._contentHandler&&d._contentHandler.isOpen())content.onHide();else this.close(),d.$class._addActive(d),(c=d.parent)&&(b=c.$n("a"))&&b.focus();break;case 9:(b=h(this))&&b.focus_(void 0,11>zk.ie),this.close()}9!=e&&27!=e&&a.stop();this.$supers("doKeyDown_",
arguments)},getMenubar:function(){for(var a=this.parent;a;){if(a.$instanceof(zul.menu.Menubar))return a;if(a.$instanceof(zul.menu.Menu))return a.getMenubar();break}return null},_doMouseEnter:function(a){if(a=this.getMenubar())a._bOver=!0;this._shallClose=!1},_doMouseLeave:function(a){if(a=this.getMenubar())a._bOver=!1,a._autodrop&&a._closeOnOut()}},{_rmActive:function(a){a.parent.$instanceof(zul.menu.Menu)&&a.parent.$class._rmActive(a.parent)}});zul.menu._nOpen=0})();

zkreg('zul.menu.Menupopup');
zk._m={};
zk._m['default']=menupopup$mold$=function(b){var a=this.uuid,c=11>zk.ie||zk.gecko?"a":"button";b.push("<div",this.domAttrs_(),"><",c,' id="',a,'-a" tabindex="-1" onclick="return false;" href="javascript:;"',' class="z-focus-a"></',c,'><div class="',this.$s("separator"),'"></div><ul class="',this.$s("content"),'" id="',a,'-cave">');for(a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</ul></div>")};

;zkmld(zk._p.p.Menupopup,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.menu',1);(function(){if(zk._p=zkpi('zk.cpsp'))try{
zk.cpsp.SPush=zk.$extends(zk.Object,{start:function(a,b,c,d){this.desktop=a;this.min=0<b?b:1E3;this.max=0<c?c:15E3;this.factor=0<d?d:5;a=this.min/4;500>a&&(a=500);this.intv=setInterval(this.proxy(this._do),a)},stop:function(){clearInterval(this.intv);this.intv=null},_do:function(){if(!zAu.processing()){var a=!zAu.doneTime;if(!a){a=(zAu.doneTime-zAu.sentTime)*this.factor;var b=this.max,c=this.min;if(a>b)a=b;else if(isNaN(a)||a<c)a=c;a=jq.now()>zAu.doneTime+a}a&&zAu.send(new zk.Event(this.desktop,"dummy",
null,{ignorable:!0,rtags:{isDummy:!0}}))}}});zk.cpsp.start=function(a,b,c,d){a=zk.Desktop.$(a);a._cpsp&&a._cpsp.stop();(a._cpsp=new zk.cpsp.SPush).start(a,b,c,d)};zk.cpsp.stop=function(a){(a=zk.Desktop.$(a))&&a._cpsp&&(a._cpsp.stop(),a._cpsp=null)};


}finally{zk.setLoaded(zk._p.n);}})();zk.load('zul.lang',function(){if(zk._p=zkpi('zk.fmt'))try{
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(e,r,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(r instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,r,n){e!=Array.prototype&&e!=Object.prototype&&(e[r]=n.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,r,n,a){if(r){n=$jscomp.global;e=e.split(".");for(a=0;a<e.length-1;a++){var c=e[a];c in n||(n[c]={});n=n[c]}e=e[e.length-1];a=n[e];r=r(a);r!=a&&null!=r&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:r})}};
$jscomp.polyfill("String.prototype.startsWith",function(e){return e?e:function(e,n){var a=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var c=a.length,b=e.length;n=Math.max(0,Math.min(n|0,a.length));for(var d=0;d<b&&n<c;)if(a[n++]!=e[d++])return!1;return d>=b}},"es6","es3");
(function(){function e(a,c){for(var b=1,d="";b&&0<=--c;){var p=a.charAt(c);1==b&&("0"<=p&&"9">p?(p=p.$inc(1),b=0):"9"==p&&(p="0"));d=p+d}0<=c&&(d=a.substring(0,c)+d);return b?"1"+d:d}function r(a,c){for(var b,d="5",p=c,e=a.length;p<e&&(b=a.charAt(p)-d,p==c&&(d="0"),0==b);++p);return b}var n={GROUPING:zk.GROUPING,DECIMAL:zk.DECIMAL,PERCENT:zk.PERCENT,PER_MILL:zk.PER_MILL,MINUS:zk.MINUS};zk.fmt.Number={setScale:function(a,c,b){if(void 0===c||0>c)return a;var d=a.$toString(),p=d.indexOf(".");if((0<=
p?d.length-p-1:0)<=c)return a;d=this.rounding(d,p+c+1,b,0>d);return new zk.BigDecimal(d)},isRoundingRequired:function(a,c,b){if(!c||null==a||""==a)return!1;-1!=c.indexOf(";")&&(c=c.split(";"),c=c[0>a?1:0]);b=b||n;c=this._escapeQuote(c,b);b=c.pureFmtStr;var d=c.purejdot;b=0<=d?b.length-d-1:0;a=(a+"").replace(/[^e\-0123456789.]/g,"").substring(0>a?1:0);var p=a.lastIndexOf("e");d=a.indexOf(".");var e=0<=d?(0>p?a.length:p)-d-1:0;c=c.shift+(0>p?0:parseInt(a.substring(p+1),10));0<p&&(a=a.substring(0,p));
if(0<c)0<=d&&(e=e>c?e-c:0);else if(0>c)if(p=(0>d?a.length:d)+c,0<p)e-=c;else{for(0<=d&&(a=a.substring(0,d)+a.substring(d+1));0>p++;)a="0"+a;e=("0."+a).length-2}return e>b},rounding:function(a,c,b,d){switch(b){case 0:a=e(a,c);break;case 1:a=a.substring(0,c);break;case 2:a=d?a.substring(0,c):e(a,c);break;case 3:a=d?e(a,c):a.substring(0,c);break;case 4:b=r(a,c);a=0>b?a.substring(0,c):e(a,c);break;case 5:b=r(a,c);a=0<b?e(a,c):a.substring(0,c);break;default:if(b=r(a,c),0==b){a:{b=a;for(d=c;0<=--d;){var p=
b.charAt(d);if("0"<=p&&"9">=p){b=p;break a}}b=null}a=b&1?e(a,c):a.substring(0,c)}else a=0>b?a.substring(0,c):e(a,c)}return a},format:function(a,c,b,d){if(null==c)return"";if(!a)return c+"";if(a.startsWith("locale:"))return(new Intl.NumberFormat(a.substring(a.indexOf(":")+1))).format(parseFloat(c));if(-1!=a.indexOf(";")){a=a.split(";");var e=0>c;a=a[e?1:0]}d=d||n;var u=this._escapeQuote(a,d);a=u.fmt;var h=u.pureFmtStr,x=u.purejdot,q=0<=x?h.length-x-1:0,f=(c+"").replace(/[^e\-0123456789.]/g,"").substring(0>
c?1:0),g=f.lastIndexOf("e"),k=f.indexOf("."),m=0<=k?(0>g?f.length:g)-k-1:0;var l=u.shift+(0>g?0:parseInt(f.substring(g+1),10));0<g&&(f=f.substring(0,g));if(0<l)if(0<=k)if(m>l)f=f.substring(0,k)+f.substring(k+1,k+1+l)+"."+f.substring(k+1+l),m-=l,k+=l;else{f=f.substring(0,k)+f.substring(k+1);for(l-=m;0<l--;)f+="0";k=-1;m=0}else for(;0<l--;)f+="0";else if(0>l)if(g=(0>k?f.length:k)+l,0<g)f=f.substring(0,g)+"."+(0>k?f.substring(g):f.substring(g,indVar)+f.substring(indVar+1)),m-=l,k=g;else{for(0<=k&&(f=
f.substring(0,k)+f.substring(k+1));0>g++;)f="0"+f;f="0."+f;k=1;m=f.length-2}if(m<=q)for(-1==k&&(f+="."),l=q-m;0<l--;)f+="0";else f=this.rounding(f,k+q+1,b,0>c);m=u.jdot;q=b="";k=f.indexOf(".");-1==k&&(k=f.length);-1==m&&(m=a.length);-1==x&&(x=h.length);g=k-x;if(0<g){var t="";for(l=g;0<=--l;m++)t+="#";l=this._extraFmtIndex(a);g+=l;a=a.substring(0,l)+t+a.substring(l,a.length)}for(l=x-k;0<=--l;k++)f="0"+f;for(var r=m-a.substring(0,m).lastIndexOf(","),z=1,w=m-1,v=k-1;0<=w&&0<=v;)0==z%r&&","!=b.charAt(0)&&
(b=d.GROUPING+b,z++),l=a.charAt(w),"#"==l||"0"==l?(t=f.charAt(v),b=("0"==t?l:t)+b,w--,v--,z++):(l=a.charAt(w),","!=l&&(b=l+b,z++),w--);0<=v&&(b=f.substr(0,v+1)+b);l=(0>m?a.length:m)-(0>x?h.length:x);u=u.prej;0<l&&(h=a.substring(u,0<g?g:l).replace(/[#0.,]/g,""))&&(b=h+b);w=m+1;v=k+1;k=a.length;for(h=f.length;w<k;w++)l=a.charAt(w),"#"==l||"0"==l?v<h&&(q+=f.charAt(v),v++):q+="%"==l?d.PERCENT:l;v<f.length&&(q=f.substr(v,f.length));f=-1;k=q.length;for(h=a.length;0<k;--k)if(t=q.charAt(k-1),l=a.charAt(--h),
"0"==t&&"#"==l)0>f&&(f=k);else if(0<=f||/[1-9]/.test(t))break;0<=f&&(q=q.substring(0,k)+q.substring(f));b&&(b=a.substring(0,u)+this._removePrefixSharps(b,d));b||"#"!=a.charAt(m+1)||(b="0");q||b!=d.PERCENT&&b!=d.PER_MILL||(b="0"+b);a=new RegExp("^0*["+d.PERCENT+"|"+d.PER_MILL+"]?$");a=q?a.test(q)&&/^0*$/.test(b):a.test(b);return(0>c&&!a&&!e?d.MINUS:"")+(q?b+(/[\d]/.test(q.charAt(0))?d.DECIMAL:"")+q:b)},_escapeQuote:function(a,c){for(var b,d=-2,e=0,u="",h=-1,n=-1,q="",f=-1,g=a?!(new RegExp("('["+c.PERCENT+
"|"+c.PER_MILL+"]+')","g")).test(a):!0,k=0,m=a.length;k<m;++k)b=a.charAt(k),"%"==b&&g?e+=2:b==c.PER_MILL&&g&&(e+=3),"'"==b?0<=d?(u+=d==k-1?"'":a.substring(d+1,k),d=-2):d=k:0>d&&(0>f&&("#"==b||"0"==b||"."==b||"-"==b||","==b||"E"==b)&&(f=u.length),"#"==b||"0"==b?q+=b:"."==b&&(0>n&&(n=q.length),0>h&&(h=u.length),q+=b),u+=b);return{shift:e,fmt:u,pureFmtStr:q,jdot:h,purejdot:n,prej:f}},_extraFmtIndex:function(a){for(var c=0,b=a.length;c<b;++c){var d=a.charAt(c);if("#"==d||"0"==d||","==d)break}return c},
_removePrefixSharps:function(a,c){for(var b="",d=!0,e=a.length,n=0;n<e;++n){var h=a.charAt(n);if(d)if("#"==h||h==c.GROUPING)continue;else/[\d]/.test(h)&&(d=!1);b+="#"==h?"0":h}return b},unformat:function(a,c,b,d){if(!c)return{raw:c,divscale:0};d=d||{GROUPING:zk.GROUPING,DECIMAL:zk.DECIMAL,PERCENT:zk.PERCENT,PER_MILL:zk.PER_MILL,MINUS:zk.MINUS};var e=0,n,h,r=b?"-":d.MINUS,q=b?".":d.DECIMAL,f=b?"%":d.PERCENT;var g=String.fromCharCode(8240);var k=b?g:d.PER_MILL;b=b?",":d.GROUPING;d=!(new RegExp("('[%|"+
g+"]+')","g")).test(a);for(var m=0,l=c.length;m<l;++m){g=c.charAt(m);var t=!0;g==f&&d?e+=2:g==k&&d?e+=3:"("==g?n=!0:"+"!=g&&(t=!1);t||(t=("0">g||"9"<g)&&g!=q&&g!=r&&"+"!=g&&(zUtl.isChar(g,{whitespace:1})||g==b||")"==g||a&&0<=a.indexOf(g)));t?null==h&&(h=c.substring(0,m)):(t=g==r?"-":g==q?".":g,g!=t&&null==h&&(h=c.substring(0,m)),null!=h&&(h+=t))}null==h&&(h=c);if(0==parseFloat(h))return{raw:"0",divscale:e};for(n&&(h="-"+h);;)if(g=h.charAt(0),"+"==g)h=h.substring(1);else if("-"==g&&"-"==h.charAt(1))h=
h.substring(2);else break;m=0;var y;for(l=h.length;m<l;++m)if(g=h.charAt(m),"0"<g&&"9">=g){void 0!==y&&(h=h.substring(0,y)+h.substring(m));break}else if("0"==g)void 0===y&&(y=m);else if(void 0!==y){"."==g&&m>++y&&(h=h.substring(0,y)+h.substring(m));break}else if("."==g)break;return{raw:h,divscale:e}}}})();

zk.fmt.Text={format:function(a){for(var e=0,d="",c=0,f=a.length,b;c<f;++c)if(b=a.charAt(c),"\\"==b){if(++c>=f)break;d+=a.substring(e,c);b=a.charAt(c);switch(b){case "n":b="\n";break;case "t":b="\t";break;case "r":b="\r"}d+=b;e=c+1}else if("{"==b){b=a.indexOf("}",c+1);if(0>b)break;d+=a.substring(e,c)+arguments[zk.parseInt(a.substring(c+1,b))+1];e=c=b+1}d&&(d+=a.substring(e));return d||a},formatFileSize:function(a){if(1024>Math.abs(a))return a+msgzk.BYTES;var e=[msgzk.KBYTES,msgzk.MBYTES,msgzk.GBYTES,
msgzk.TBYTES],d=-1;do a/=1024,++d;while(1024<=Math.abs(a)&&d<e.length-1);return a.toFixed(1)+" "+e[d]}};


}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zk.fmt',1);zk.load('zul,zul.menu',function(){if(zk._p=zkpi('zul.mesh'))try{
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(f,u,k){f instanceof String&&(f=String(f));for(var v=f.length,r=0;r<v;r++){var a=f[r];if(u.call(k,a,r,f))return{i:r,v:a}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,u,k){f!=Array.prototype&&f!=Object.prototype&&(f[u]=k.value)};
$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(f,u,k,v){if(u){k=$jscomp.global;f=f.split(".");for(v=0;v<f.length-1;v++){var r=f[v];r in k||(k[r]={});k=k[r]}f=f[f.length-1];v=k[f];u=u(v);u!=v&&null!=u&&$jscomp.defineProperty(k,f,{configurable:!0,writable:!0,value:u})}};
$jscomp.polyfill("Array.prototype.find",function(f){return f?f:function(f,k){return $jscomp.findInternal(this,f,k).v}},"es6","es3");$jscomp.checkStringArgs=function(f,u,k){if(null==f)throw new TypeError("The 'this' value for String.prototype."+k+" must not be null or undefined");if(u instanceof RegExp)throw new TypeError("First argument to String.prototype."+k+" must not be a regular expression");return f+""};
$jscomp.polyfill("String.prototype.endsWith",function(f){return f?f:function(f,k){var v=$jscomp.checkStringArgs(this,f,"endsWith");f+="";void 0===k&&(k=v.length);k=Math.max(0,Math.min(k|0,v.length));for(var r=f.length;0<r&&0<k;)if(v[--k]!=f[--r])return!1;return 0>=r}},"es6","es3");
(function(){function f(a,b){var c=a.isSizedByContent(),d="min"==a._hflex;if(!a.head&&(d||c)){var e=zk(a.$n()).padBorderWidth(),l=k(a)+(zk(a.ebody).hasVScroll()?jq.scrollbarWidth():0)+e;e=a.ebodytbl;var g=a._minWd.wds,q=g.length;b&&d&&a.setFlexSize_({width:l},!0);if((e=e.firstChild)&&(e=e.firstChild)){b=e.firstChild;for(l=0;b&&l<q;b=b.nextSibling)b.style.width=jq.px(g[l++]);c&&!d&&(c=e.lastChild,a=a.uuid+"-bdflex",c&&c.id==a||jq(e).append('<td id="'+a+'"></td>'))}}}function u(a){if("min"==a._hflex){var b=
k(a),c=a.$n();a._hflexsz=b+zk(c).padBorderWidth();c.style.width=jq.px0(a._hflexsz)}}function k(a){a._calcMinWds();var b=a.ebdfaker,c=[],d=a._minWd.wds;if(a.head&&b){var e=0;a=a.head.firstChild;for(var l=b.firstChild,g=0;a;a=a.nextSibling)b="min"==a._hflex?c[g]=d[g]+zk(a.$n()).padBorderWidth():a._width&&0<a._width.indexOf("px")?c[g]=zk.parseInt(a._width):c[g]=zk.parseInt(l.style.width),a._origWd=jq.px0(b),e+=b,++g,l=l.nextSibling}else e=a._minWd.width;return e}function v(a){if(a=(a=a.getBodyWidgetIterator().next())?
a.$n():null){for(var b=a,c,d=b.cells.length;a;a=a.nextSibling)(c=a.cells.length)>d&&(b=a,d=c);return b}}var r;zul.mesh.MeshWidget=zk.$extends(zul.Widget,{_rows:0,_pagingPosition:"bottom",_prehgh:-1,_minWd:null,$init:function(){this.$supers("$init",arguments);this.heads=[]},_innerWidth:"100%",_currentTop:0,_currentLeft:0,$define:{rows:function(a){this._rows&&!this._rowsOnFitSize&&(zWatch.listen({onFitSize:this}),this._rowsOnFitSize=!0);if(a=this.$n())a._lastsz=null,this.onSize()},pagingPosition:_zkf=
function(){this.rerender()},sizedByContent:_zkf,span:function(a){var b=!0===a||"true"==a,c=!1===a||"false"==a;this._span=b?!0:c?!1:a;a=b?-65500:c?0:zk.parseInt(a)+1;this._nspan=0>a&&-65500!=a?0:a;this.rerender()},autopaging:_zkf,paginal:null,model:null,innerWidth:function(a){null==a&&(this._innerWidth=a="100%");this.eheadtbl&&(this.eheadtbl.style.width=a);this.ebodytbl&&(this.ebodytbl.style.width=a);this.efoottbl&&(this.efoottbl.style.width=a)}},getPageSize:function(){return(this.paging||this._paginal).getPageSize()},
setPageSize:function(a){(this.paging||this._paginal).setPageSize(a)},getPageCount:function(){return(this.paging||this._paginal).getPageCount()},getActivePage:function(){return(this.paging||this._paginal).getActivePage()},setActivePage:function(a){(this.paging||this._paginal).setActivePage(a)},inPagingMold:function(){return"paging"==this.getMold()},setHeight:function(a){this.$supers("setHeight",arguments);this.desktop&&(this._setHgh(a),this.onSize())},setWidth:function(a){this.$supers("setWidth",arguments);
this.eheadtbl&&(this.eheadtbl.style.width="");this.efoottbl&&(this.efoottbl.style.width="");if(this.desktop)this.onSize()},setStyle:function(a){if(this._style!=a&&(this.$supers("setStyle",arguments),this.desktop))this.onSize()},getHeadWidget:function(){return this.head},getFocusCell:function(a){var b;jq([this.ebodytbl,this.eheadtbl,this.efoottbl]).each(function(c){if(this&&jq.isAncestor(this,a)){var d=jq(a).parents(1==c?"th":"td");c=0;for(var e=d.length;c<e;c++)if(b=d[c],jq(b).parents("table")[0]==
this)return!1}});return b},_moveToHidingFocusCell:function(a){var b=this.ehdfaker?this.ehdfaker.childNodes[a]:null,c=this.frozen;if(b&&c&&0==zk.parseInt(b.style.width)&&0<=(a-=c.getColumns())){if(this._nativebar)c.setStart(a);else if(b=this._scrollbar)c._doScrollNow(a),b.setBarPosition(a);r=!0}},_restoreFocus:function(){r&&zk.currentFocus&&(r=!1,zk.currentFocus.focus())},bind_:function(){this.$supers(zul.mesh.MeshWidget,"bind_",arguments);this._bindDomNode();"min"!=this._hflex&&this._fixHeaders();
this.ehead&&this.domListen_(this.ehead,"onScroll","_doSyncScroll");var a=this.ebody;this._nativebar&&a&&(this.domListen_(a,"onScroll","_doScroll"),a.style.overflow="auto",this.efrozen&&jq(a).css("overflow-x","hidden"));zWatch.listen({onSize:this,onResponse:this})},unbind_:function(){this._rowsOnFitSize&&(zWatch.unlisten({onFitSize:this}),delete this._rowsOnFitSize);zWatch.unlisten({onSize:this,onResponse:this});this.ehead&&this.domUnlisten_(this.ehead,"onScroll","_doSyncScroll");var a=this.ebody;
this._nativebar&&a&&this.efrozen&&jq(a).css("overflow-x","auto");this.$supers(zul.mesh.MeshWidget,"unbind_",arguments)},clearCache:function(){this.$supers("clearCache",arguments);this.ebody=this.ehead=this.efoot=this.efrozen=this.ebodytbl=this.eheadtbl=this.efoottbl=this.ebodyrows=this.ehdfaker=this.ebdfaker=null},syncSize:function(){this.desktop&&(this.clearCachedSize_(),"min"==this._hflex?zFlex.onFitSize.apply(this):this._fixHeaders(),this.onSize())},onResponse:function(){this._shallSize&&(this.syncSize(),
this._shallSize=!1)},_syncSize:function(){this.desktop&&(this._shallSize=!0)},_fixHeaders:function(a){if(this.head&&this.ehead){for(var b=!0,c=!1,d="min"==this._hflex||this.isSizedByContent(),e=this.heads.length;0<e--;){for(var l=this.heads[e],g=!0,q=0,h=l.firstChild;h;h=h.nextSibling){var n=this.ehdfaker.childNodes[q++];d&&n&&!n.style.width&&!h._nhflex&&(h._hflex="min",h._nhflex=-65500,h._nhflexbak=!0);!c&&h._nhflex&&(c=!0);if(h.getLabel()||h.getImage()||h.nChildren)b=g=!1}l._visible&&(h=l.$n())&&
(h.style.display=g?"none":"")}d=this.ehead.style.display;a=a&&c&&this.isRealVisible();this.ehead.style.display=b?"none":"";for(h=this.head.firstChild;h;h=h.nextSibling)a&&h._nhflex&&h.fixFlex_(),h._nhflexbak&&(delete h._hflex,delete h._nhflex,delete h._nhflexbak);return d!=this.ehead.style.display}},_adjFlexWd:function(){var a=this.head;if(a){var b=this.ehdfaker.firstChild,c=this.ebdfaker.firstChild,d=this.eftfaker;if(d)var e=d.firstChild;this.eheadtbl.style.width="";this.ebodytbl.style.width="";
d=0;a=a.firstChild;for(var l;a&&c;a=a.nextSibling){var g=a.$n().offsetWidth;a.isVisible()&&.1<g&&(a._origWd=jq.px0(g));a.isVisible()&&void 0!==(l=a._hflexWidth)&&(g=zk(c).revisedWidth(Math.round(l)),a._origWd=g+"px",c.style.width=g+"px",b.style.width=c.style.width,e&&(e.style.width=c.style.width),d+=g);c=c.nextSibling;b=b.nextSibling;e&&(e=e.nextSibling)}this._isAllWidths()&&(b=this.eheadtbl,c=this.ebodytbl,e=this.efoottbl,b&&(b.style.width=d+"px",c&&(c.style.width=d+"px"),e&&(e.style.width=d+"px")));
u(this);this._afterCalcSize()}},_bindDomNode:function(){this.ehead=this.$n("head");this.eheadtbl=this.$n("headtbl");this.ebody=this.$n("body");this.ebodytbl=this.$n("cave");this.efoot=this.$n("foot");this.efoottbl=this.$n("foottbl");this.efrozen=this.$n("frozen");var a=this.$n("rows");this.ebody&&a&&(this.ebodyrows=a);this.ehead&&(this.eheadrows=this.$n("headrows"),this.ehdfaker=this.head.$n("hdfaker"),this.ebdfaker=this.head.$n("bdfaker"),this.efoot&&(this.eftfaker=this.head.$n("ftfaker")));this.efoot&&
(this.efootrows=this.$n("footrows"))},replaceHTML:function(){var a=this._syncingbodyrows;this._syncingbodyrows=!0;try{this.$supers(zul.mesh.MeshWidget,"replaceHTML",arguments)}finally{this._syncingbodyrows=a}},replaceChildHTML_:function(){var a=this._syncingbodyrows;this._syncingbodyrows=!0;try{this.$supers("replaceChildHTML_",arguments)}finally{this._syncingbodyrows=a}},fireOnRender:function(a){this._pendOnRender||(this._pendOnRender=!0,setTimeout(this.proxy(this._onRender),a?a:100))},_doScroll:function(){var a=
zul.mesh.Scrollbar.getScrollPosV(this),b=zul.mesh.Scrollbar.getScrollPosH(this),c=b!=this._currentLeft,d=a!=this._currentTop||c,e=this.ebody,l=this.ehead,g=this.efoot;jq(this).data("scrollable")&&zWatch.fireDown("onScroll",this);d&&!this.fire("onScroll",e.scrollLeft).stopped&&this._nativebar&&this._currentLeft!=e.scrollLeft&&(l&&(l.scrollLeft=e.scrollLeft),g&&(g.scrollLeft=e.scrollLeft));d&&(this._currentTop=a);d&&(this._currentLeft=b);this.paging||this._paginal||this.fireOnRender(zk.gecko?200:60);
d&&this._fireOnScrollPos();this.frozen&&c&&this.frozen.syncScrollByParentBody()},_doSyncScroll:function(){var a=this.ehead,b=this.ebody,c=this.efoot;a&&zk(a).isVisible()&&this._currentLeft!=a.scrollLeft&&(b&&(b.scrollLeft=a.scrollLeft),c&&(c.scrollLeft=a.scrollLeft))},_timeoutId:null,_fireOnScrollPos:function(a){clearTimeout(this._timeoutId);this._timeoutId=setTimeout(this.proxy(this._onScrollPos),0<=a?a:300)},_onScrollPos:function(){this.ebody&&(this._currentTop=zul.mesh.Scrollbar.getScrollPosV(this),
this._currentLeft=zul.mesh.Scrollbar.getScrollPosH(this),this.fire("onScrollPos",{top:this._currentTop,left:this._currentLeft}))},_onRender:function(){if(this.$n()){this._pendOnRender=!1;if(this._syncingbodyrows||zAu.processing())return this.fireOnRender(zk.gecko?200:60),!0;var a=this.ebodyrows?this.ebodyrows.rows:null;if(this.inPagingMold()&&this._autopaging&&a&&a.length){a:{var b=this.ebody;if(b){var c=b.offsetHeight;zk(b).hasHScroll()&&(c-=jq.scrollbarWidth());if(c==this._prehgh)c=!1;else{this._prehgh=
c;b=this.ebodytbl;var d=b.offsetParent,e=b.offsetTop,l=0;b=0;for(var g=this.getBodyWidgetIterator({skipHidden:!0}),q=a.length;g.next()&&b<q;b++){var h=a[b];var n=h.offsetTop-(h.offsetParent==d?e:0);if(n>c){--b;break}l=n}if(h&&(d=this.$n("pgib"),e=0,d&&(e=d.offsetHeight),d=c+e,n<=d&&(n=this.paging.getTotalSize(),h=l+h.offsetHeight,c=Math.floor(b*c/h),h=Math.floor(b*d/h),b=n>h?c:h),0==b&&(b=1),b!=this.getPageSize())){this.fire("onPageSize",{size:b});c=!0;break a}c=void 0}}else c=void 0}if(c)return}zk.ie8&&
void 0!==this._wsbak&&(this.$n().style.whiteSpace=this._wsbak,delete this._wsbak);if(this.desktop&&this._model&&a&&a.length&&(c=[],h=zul.mesh.Scrollbar.getScrollPosV(this),b=h+this.ebody.offsetHeight,0!=h||0!=b)){n=0;l=this.getBodyWidgetIterator({skipHidden:!0});for(a=a.length;(d=l.next())&&n<a;n++)if(!(d._loaded||(e=d.$n(),null==e||(e=zk(e),g=e.offsetTop(),g+e.offsetHeight()<h)))){if(g>b)break;c.push(d)}c.length&&this.fire("onRender",{items:c},{implicit:!0})}}},onSize:function(){if(this.isRealVisible()){var a=
this.$n();a._lastsz&&a._lastsz.height==a.offsetHeight&&a._lastsz.width==a.offsetWidth?this.fireOnRender(155):(this._calcSize(),this.fireOnRender(155),this._nativebar&&(a=this.ebody,a.scrollHeight>=this._currentTop&&(a.scrollTop=this._currentTop),a.scrollWidth>=this._currentLeft&&(a.scrollLeft=this._currentLeft,this.ehead&&(this.ehead.scrollLeft=this._currentLeft),this.efoot&&(this.efoot.scrollLeft=this._currentLeft))),this._shallSize=!1,this._keepScroll&&this._scrollToIndex(this._targetIndex))}},
_vflexSize:function(){var a=this.$n(),b=0;if(this.paging){var c=this.$n("pgit"),d=this.$n("pgib");c&&(b+=c.offsetHeight);d&&(b+=d.offsetHeight)}a=zk(a).contentHeight()-(this.ehead?this.ehead.offsetHeight:0)-(this.efoot?this.efoot.offsetHeight:0)-b;return this.frozen&&this._nativebar?a-this.efrozen.offsetHeight:a},setFlexSize_:function(a){var b=this.$n(),c=this.$n("head");if(void 0!==a.height)if("auto"==a.height)b.style.height="",c&&(c.style.height="");else return this.$supers("setFlexSize_",arguments);
if(void 0!==a.width)if("auto"==a.width)"min"!=this._hflex&&(b.style.width=""),c&&(c.style.width="");else return this.$supers("setFlexSize_",arguments)},_setHgh:function(a){var b=this.$n(),c=this.ebody.style;this.isVflex()||a&&"auto"!=a&&0>a.indexOf("%")?zk.webkit&&c.height==jq.px(this._vflexSize())||(c.height="",a=this._vflexSize(),0>a&&(a=0),"min"!=this._vflex&&(c.height=a+"px")):(c.height="",b.style.height=a)},_ignoreHghExt:function(){return!1},_calcSize:function(){this._beforeCalcSize();var a=
this.$n(),b=zk(a).contentWidth(),c=this.isSizedByContent(),d=this.ehead,e=this.ebody,l=this.ebodyrows,g=this.efoot,q=this.efootrows;zk.ie9_&&e&&b&&(e.style.width=b+"px");if(d)b&&(d.style.width=b+"px",e&&(e.style.width=b+"px"),g&&(g.style.width=b+"px")),c&&l?this._adjHeadWd():b&&g&&(g.style.width=b+"px");else if(g&&(b&&(g.style.width=b+"px"),q&&l&&(b=this.efootrows.rows[0],l=this.ebodyrows.rows,b&&l&&l.length&&b.cells.length))){g=b.cells.length;e=d=0;q=this.getBodyWidgetIterator({skipHidden:!0});for(var h;h=
q.next();)if(!this._modal||h._loaded){h=l[e++];var n=zk(h),F=h.cells,p=n.ncols();if((n=F.length==p&&n.isVisible())&&p>=g){d=g;var w=h;break}p>d?(w=n?h:null,d=p):p==d&&!w&&n&&(w=h)}if(d){if(g=!w){w=document.createElement("TR");w.style.height="0px";for(e=0;e<d;++e)w.appendChild(document.createElement("TD"));l[0].parentNode.appendChild(w)}for(e=d;e--;)b.cells[e].style.width="";l=0;for(e=d;e--;)q=b.cells[e],h=w.cells[e],zk.opera?(l+=h.offsetWidth,q.style.width=zk(h).contentWidth()):(q.style.width=h.offsetWidth+
"px",1<d&&(p=h.offsetWidth-q.offsetWidth,0!=p&&(p+=h.offsetWidth,0>p&&(p=0),q.style.width=p+"px")));zk.opera&&this.isSizedByContent()&&(b.parentNode.parentNode.style.width=l+"px");g&&w.parentNode.removeChild(w)}}this._adjSpanWd();f(this,!0);c&&this.getRows&&1<this.getRows()&&"function"==typeof this._calcHgh&&this.ebody.style.height&&this._calcHgh();a._lastsz={height:a.offsetHeight,width:a.offsetWidth};this._afterCalcSize()},_beforeCalcSize:function(){var a=this.ebody;this._nativebar||!a.scrollLeft&&
!a.scrollTop||(this._ebodyScrollPos={l:a.scrollLeft,t:a.scrollTop});this._calcHgh()},_afterCalcSize:function(){this._ebodyScrollPos&&(this.ebody.scrollLeft=this._ebodyScrollPos.l,this.ebody.scrollTop=this._ebodyScrollPos.t,this._ebodyScrollPos=null);if(this._isAllWidths()){var a=this.eheadtbl;var b=this.ebodytbl;var c=this.efoottbl;if(a){for(var d=0,e=this.ehdfaker.firstChild;e;e=e.nextSibling)"none"==e.style.display||e.id.endsWith("hdfaker-bar")||(d+=zk.parseInt(e.style.width));0<d&&(a.style.width=
d+"px",b&&(b.style.width=d+"px"),c&&(c.style.width=d+"px"))}}else this.frozen&&this.ebody&&(b=this.ebodytbl)&&(b.style.width=this.ebody.style.width);b=zk(this.ebody);b.hasHScroll();c=b.hasVScroll();b=this.head?this.head.$n("hdfaker-bar"):null;a=this.eftfaker?this.head.$n("ftfaker-bar"):null;c?(b&&(b.style.width=c+"px"),a&&(a.style.width=c+"px")):(c=this.$class.WIDTH0,b&&(b.style.width=c),a&&(a.style.width=c))},_isAllWidths:function(){if(this.isSizedByContent()&&this.ebodyrows&&this.ebodyrows.firstChild)return!0;
if(!this.head)return!1;for(var a=!0,b=this.head.firstChild;b;b=b.nextSibling)if(a&&(void 0==b._width||0>=b._width.indexOf("px"))&&("min"!=b._hflex||void 0===b._hflexsz)&&b.isVisible()){a=!1;break}return a},domFaker_:function(a,b){var c=this.head;a.push('<colgroup id="',c.uuid,b,'">');for(var d=c.firstChild;d;d=d.nextSibling){var e=this.$class._getWidth(d,d._hflexWidth?d._hflexWidth+"px":d.getWidth());e=e?"width: "+e+";":"";a.push('<col id="',d.uuid,b,'" style="',e,'"/>')}(0<b.indexOf("hd")||0<b.indexOf("ft"))&&
a.push('<col id="',c.uuid,b,'-bar" style="width: 0px" />');a.push("</colgroup>")},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(this.getHeadWidgetClass()))this.head=a,this._minWd=null;else if(!a.$instanceof(zul.mesh.Auxhead))return;var b=a.nextSibling;if(b)for(var c=this.heads,d=0,e=c.length;d<e;++d)if(c[d]==b){c.splice(d,0,a);return}this.heads.push(a)},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);a==this.head?(this._minWd=this.head=null,
this.heads.$remove(a)):a.$instanceof(zul.mesh.Auxhead)?this.heads.$remove(a):a.$instanceof(zul.mesh.Frozen)&&(this.efrozen=null)},resetSize_:function(a){this.$supers("resetSize_",arguments);"w"==a&&(this.ehead&&(this.ehead.style.width=""),this.ebody&&(this.ebody.style.width=""),this.efoot&&(this.efoot.style.width=""))},beforeMinFlex_:function(a){if(void 0===this._hflexsz&&"w"==a&&void 0===this._width){this.isSizedByContent()&&this._calcSize();if(this.head)for(this._fixHeaders(!0),a=this.head.firstChild;a;a=
a.nextSibling)if("min"==a._hflex&&void 0===a.hflexsz)return null;f(this);return k(this)}return null},beforeParentMinFlex_:function(a){"w"==a?(this.isSizedByContent()&&this._calcSize(),this.head&&this._fixHeaders()):this._calcSize()},clearCachedSize_:function(){this.$supers("clearCachedSize_",arguments);this._clearCachedSize();var a;if(!this.ebdfaker&&(a=v(this))){a=a.cells;for(var b=a.length;b--;)a[b].style.width=""}if(a=this.getHeadWidget())for(a=a.firstChild;a;a=a.nextSibling)delete a._hflexsz},
_clearCachedSize:function(){var a;if(a=this.$n())a._lastsz=this._minWd=null},_calcMinWds:function(){if(!this._minWd){var a,b,c=this.$n(),d=c?c.style.whiteSpace:"";c&&(zk.ie8&&(this._wsbak=d),c.style.whiteSpace="nowrap");var e=this.ehdfaker,l=this.ebdfaker,g=this.eftfaker,q=(b=this.head)?b.$n():null,h=[],n=[],f=[],p=[],w=[];if(this.eheadtbl&&q){this.ehead.style.width="";var k=this.getInnerWidth()||"";this.eheadtbl.width="";this.eheadtbl.style.width="";var r=this.eheadtbl.style.tableLayout;this.eheadtbl.style.tableLayout=
"";zk.chrome&&(this.ebodytbl.style.display="block");var y=e.firstChild;var t=q.firstChild;for(var m=0;y;y=y.nextSibling,m++)if(a=t.firstChild)h[m]=y.style.width,y.style.width="",p[m]=t.style.width,t.style.width="",w[m]=a.style.width,a.style.width="",t=t.nextSibling}q&&(q.style.width="");if(this.efoottbl){this.efoot.style.width="";var u=k||this.efoottbl.width;this.efoottbl.width="";this.efoottbl.style.width="";var G=this.efoottbl.style.tableLayout;this.efoottbl.style.tableLayout="";zk.chrome&&(this.ebodytbl.style.display=
"block");if(g){a=g.firstChild;var x=this.efootrows;x=x?x.rows[0].cells:null;for(m=0;a;a=a.nextSibling)x&&x[m]&&(x[m].style.width=""),f[m++]=a.style.width,a.style.width=""}}if(this.ebodytbl){this.ebody.style.width="";var H=k||this.ebodytbl.width;this.ebodytbl.width="";this.ebodytbl.style.width="";var I=this.ebodytbl.style.tableLayout;this.ebodytbl.style.tableLayout="";zk.chrome&&(this.ebodytbl.style.display="block");if(l)for(a=l.firstChild,m=0;a;a=a.nextSibling)n[m++]=a.style.width,a.style.width=""}x=
[];var A=0;a=b?b.nChildren:0;t=b?b.firstChild:null;y=this.getHeadWidget();if(l&&t){var D=this._getFirstRowCells(this.ebodyrows),C=g?this._getFirstRowCells(this.efootrows):null;for(m=0;m<a;m++){b=D&&D[m]?D[m].offsetWidth:0;var z=zk(t.$n("cave"));z=t&&t.isVisible()?z.textSize()[0]+z.padBorderWidth()+zk(t.$n()).padBorderWidth():0;var E=C&&C[m]&&zk(C[m]).isVisible()?C[m].offsetWidth:0,B;(B=y.getChildAt(m))&&B.getWidth()&&(z=Math.max(z,E));z>b&&(b=z);E>b&&(b=E);x[m]=b;!this.frozen&&(4<zk.ff||8<zk.ie||
zk.safari)&&++x[m];A+=x[m];t&&(t=t.nextSibling)}this._deleteFakeRow(this.ebodyrows);g&&this._deleteFakeRow(this.efootrows)}else if(m=v(this))for(B=m.cells,m=B.length;m--;)b=B[m].offsetWidth,x[m]=b,!this.frozen&&(4<zk.ff||8<zk.ie)&&++x[m],A+=x[m];(m=this.$n("empty"))&&"none"!=m.style.display&&(m=m.offsetWidth,m>A&&(A=m));if(this.eheadtbl&&q)for(0>k.indexOf("%")?((m=jq(this.head.$n("hdfaker")).find("[id*=hdfaker-bar]")[0])&&(k=jq.px0(parseInt(k)+parseInt(m.style.width))),this.eheadtbl.style.width=k):
this.eheadtbl.width=k||"",this.eheadtbl.style.tableLayout=r||"",zk.chrome&&(this.eheadtbl.style.display=""),y=e.firstChild,t=q.firstChild,m=0;y;y=y.nextSibling,m++)if(a=t.firstChild)y.style.width=h[m],t.style.width=p[m],a.style.width=w[m],t=t.nextSibling;if(this.efoottbl&&(this.efoottbl.width=u||"",this.efoottbl.style.tableLayout=G||"",zk.chrome&&(this.efoottbl.style.display=""),g))for(a=g.firstChild,m=0;a;a=a.nextSibling)a.style.width=f[m++];if(this.ebodytbl&&(this.ebodytbl.width=H||"",this.ebodytbl.style.tableLayout=
I||"",zk.chrome&&(this.ebodytbl.style.display=""),l))for(a=l.firstChild,m=0;a;a=a.nextSibling)a.style.width=n[m++];c&&(c.style.whiteSpace=d);this._minWd={width:A,wds:x}}return this._minWd},_adjSpanWd:function(){if(this._isAllWidths()&&this.isSpan()){var a=this.ehdfaker,b=this.ebdfaker,c=this.eftfaker;if(a&&b&&this.head.$n()){this._calcMinWds();var d=[],e=0,l=a.firstChild,g=b.firstChild,q=this._minWd.wds,h=this.head.nChildren;var n=l;for(var f=this.head.firstChild,p=0;f;f=f.nextSibling,p++){if(zk(n).isVisible()){var k=
f._width;k="min"==f._hflex?d[p]=q[p]:k&&k.endsWith("px")?d[p]=zk.parseInt(k):d[p]=q[p];e+=k}n=n.nextSibling}f=c?c.firstChild:null;var r=this.ebody.clientWidth,u=r-e,v=r,t=-1;q=0;if(0>this._nspan){var m=this.frozen&&this.frozen.getStart();for(p=0;l&&p<h;l=l.nextSibling,p++)zk(l).isVisible(!0)?(d[p]=m?0>=u?k=d[p]:l.style.width?k=zk.parseInt(l.style.width):k=Math.round(d[p]*r/e+.5||0):k=0>=u?d[p]:Math.round(d[p]*r/e+.5||0),n=jq.px0(k),v-=k,t=p,l.style.width=n,g.style.width=n,q+=k,g=g.nextSibling,f&&
(f.style.width=n,f=f.nextSibling)):(g=g.nextSibling,f&&(f=f.nextSibling));0<u&&0!=v&&0<=t&&(q-=k,k=d[t]+v,n=jq.px0(k),q+=k,m||(b.childNodes[t].style.width=n,a.childNodes[t].style.width=n,c&&(c.childNodes[t].style.width=n)))}else for(t=this._nspan-1,p=0;l&&p<h;l=l.nextSibling,p++)zk(l).isVisible()?(k=t==p&&0<u?d[t]+u:d[p],n=jq.px0(k),l.style.width=n,g.style.width=n,q+=k,g=g.nextSibling,f&&(f.style.width=n,f=f.nextSibling)):(g=g.nextSibling,f&&(f=f.nextSibling));this._isAllWidths()&&(a=this.eheadtbl,
b=this.ebodytbl,c=this.efoottbl,a&&(a.style.width=q+"px",b&&(b.style.width=q+"px"),c&&(c.style.width=q+"px")));zk.opera&&zk(this.$n()).redoCSS()}}},_adjHeadWd:function(){var a=this.ehdfaker,b=this.ebdfaker,c=this.eftfaker;if(a&&b&&this.getBodyWidgetIterator().hasNext()){var d=this.eheadtbl;if(this.head.$n()){var e=this.ebodytbl,l=this._calcMinWds(),g=l.wds;l=l.width;a=a.firstChild;b=b.firstChild;for(var f=c?c.firstChild:null,h=this.head.firstChild,k=this.$class.WIDTH0,r=0;h;h=h.nextSibling,r++)if(h.isVisible())if(h._width||
0==g[r])0==g[r]&&(a.style.width=k,b.style.width=k,f&&(f.style.width=k)),a=a.nextSibling,b=b.nextSibling,f&&(f=f.nextSibling);else{if(!this.frozen||!this.frozen.getStart()||""===a.style.width){var p=jq.px(g[r]);a.style.width=b.style.width=p;a=a.nextSibling;b=b.nextSibling;f&&(f.style.width=p,f=f.nextSibling)}}else a.style.width=k,b.style.width=k,a=a.nextSibling,b=b.nextSibling,f&&(f.style.width=k,f=f.nextSibling);d.style.width=jq.px(l);e.style.width=jq.px(l);c&&(this.efoottbl.style.width=jq.px(l));
u(this)}}},_getFirstRowCells:function(a){var b,c;if(a&&(c=a.rows)&&(b=c.length)){var d=c[0].cells,e=d.length,f=0;if(0<a.offsetHeight)for(var g=0;g<b;g++)if("none"!=jq(c[g]).css("display")){d=c[g].cells;e=d.length;break}for(g=0;g<e;g++)b=d[g].colSpan,f+=1!=b?b:1;if(f==e)return d;a=""+('<tr id="'+a.id+'-fakeRow" style="visibility:hidden;height:0">');for(g=0;g<f;g++)a+="<td></td>";a+="</tr>";jq(c[0]).before(a);return c[0].cells}},_deleteFakeRow:function(a){a&&jq("#"+a.id+"-fakeRow").remove()},refreshBar_:function(a,
b){var c=this._scrollbar;if(c){var d=this._currentLeft,e=this._currentTop;c.syncSize(a||this._shallShowScrollbar);delete this._shallShowScrollbar;b?c.scrollTo(0,0):c.scrollTo(d,e);a=this.frozen;var f;a&&0!=(f=a._start)&&(a._doScrollNow(f),c.setBarPosition(f));this._afterCalcSize()}},onFitSize:function(){this._rows&&this._calcHgh()},_calcHgh:function(){var a=this.ebodyrows?this.ebodyrows.rows:[],b=this.$n(),c=b.style.height;if(c&&"auto"!=c&&0>c.indexOf("%")&&(c=zk.parseInt(c)-zk(b).padBorderHeight())){c-=
this._headHgh(0);0>c&&(c=0);var d=0,e=0,f=a.length;a:for(;e<f;++d,++e){for(;;++e){if(e>=f)break a;var g=a[e];if(zk(g).isVisible())break}g=zk(g);var k=g.offsetTop()+g.offsetHeight();if(k>=c){k>c+2&&++d;break}}d=Math.ceil(d&&k?c*d/k:c/this._headHgh(20));this._visibleRows(d);c-=this.efoot?this.efoot.offsetHeight:0;c-=this.efrozen&&this._nativebar?this.efrozen.offsetHeight:0;this.ebody.style.height=(0>c?0:c)+"px";return}k=0;var h=this.getRows(),n;e=0;for(f=a.length;e<f;++e)if(g=a[e],zk(g).isVisible()){++k;
n||(n=g);if(h===k){var r=g;break}d=g}c=0;h||(this.isVflex()&&(c=this._vflexSize(b.style.height),11>zk.ie&&this._cachehgh!=c&&(this._cachehgh=--c),25>c&&(c=25),(a=n?zk(n).offsetHeight():null)||(a=this._headHgh(20)),h=Math.round((c-2)/a)),this._visibleRows(h));h?(c||(k?h<=k?(c=zk(r),c=c.offsetTop()+c.offsetHeight()):(c=zk(d),c=c.offsetTop()+c.offsetHeight(),c=Math.ceil(h*c/k)):c=this._headHgh(20,!0)*h),this.ebody.style.height=c+"px"):(this.ebody.style.height="",c=this.$n("a"),(this.paging||this._paginal)&&
c&&(c.style.top="0px"))},_visibleRows:function(a){if("number"==typeof a)this._visiRows=a;else return this.getRows()||this._visiRows||0},_headHgh:function(a,b){var c=this.getHeadWidget(),d=this.ehead;b=b?c?c.$n().offsetHeight:0:d?d.offsetHeight:0;this.paging&&(c=this.$n("pgit"),d=this.$n("pgib"),c&&(b+=c.offsetHeight),d&&(b+=d.offsetHeight));return b?b:a},_scrollToIndex:function(a,b){var c=this._getFirstItemIndex(),d=this._getLastItemIndex(),e=this.ebody;this._targetIndex=a;this._keepScroll=!0;if(a>=
c&&a<=d)for(b=this.getBodyWidgetIterator();b.hasNext();){if(c=b.next(),c._index==a){c.$n().scrollIntoView(!0);this._keepScroll=!1;this._topBoundary=this._bottomBoundary=void 0;break}}else void 0!=b?e.scrollTop=e.scrollHeight*b:a<c?(this._bottomBoundary=e.scrollTop,this._topBoundary=void 0==this._topBoundary?0:this._topBoundary,e.scrollTop-=(e.scrollTop-this._topBoundary)/2):a>d&&(this._topBoundary=e.scrollTop,this._bottomBoundary=void 0==this._bottomBoundary?e.scrollHeight:this._bottomBoundary,e.scrollTop+=
(this._bottomBoundary-e.scrollTop)/2)}},{WIDTH0:zk.webkit?"0.001px":"0",_getWidth:function(a,b){return a.isVisible()?b:this.WIDTH0}});zul.mesh.Scrollbar={init:function(a){var b=!1!==jq(a.$n()).data("embedscrollbar"),c=a.frozen,d=0;if(c&&(c=c.getColumns(),a.eheadtbl)){var e=a._getFirstRowCells(a.eheadrows);if(e)for(var f=0;f<c;f++)d+=e[f].offsetWidth;a._deleteFakeRow(a.eheadrows)}return new zul.Scrollbar(a.ebody,a.ebodytbl,{embed:b,startPositionX:d,onSyncPosition:function(){if(!this.frozen){var b=
this.getCurrentPosition(),c=a.ehead,d=a.efoot;b&&this.hasHScroll()&&(c&&(c.scrollLeft=b.x),d&&(d.scrollLeft=b.x))}},onScrollEnd:function(){a._doScroll()}})},getScrollPosV:function(a){var b=a._scrollbar;return b?b.getCurrentPosition().y:a.ebody.scrollTop},getScrollPosH:function(a){var b=a._scrollbar;return b?b.getCurrentPosition().x:a.ebody.scrollLeft}}})();

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,f,d){c instanceof String&&(c=String(c));for(var a=c.length,b=0;b<a;b++){var e=c[b];if(f.call(d,e,b,c))return{i:b,v:e}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,f,d){c!=Array.prototype&&c!=Object.prototype&&(c[f]=d.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,f,d,a){if(f){d=$jscomp.global;c=c.split(".");for(a=0;a<c.length-1;a++){var b=c[a];b in d||(d[b]={});d=d[b]}c=c[c.length-1];a=d[c];f=f(a);f!=a&&null!=f&&$jscomp.defineProperty(d,c,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,d){return $jscomp.findInternal(this,c,d).v}},"es6","es3");
(function(){function c(a){a=a.getMeshWidget();var b;if(a&&(b=a.frozen))if(a._nativebar)b._syncFrozen();else if(a=a.ehdfaker)b._scrollScale=a.childNodes.length-b._columns-1,b._shallSyncScale=!1}var f=zk.opera?function(a){return(a=a.parent)&&a.rerender()}:zk.$void,d=zul.mesh.HeadWidget=zk.$extends(zul.Widget,{$init:function(){this.$supers("$init",arguments);this.listen({onColSize:this},-1E3)},$define:{sizable:function(){this.rerender()},visible:function(){this.rerender();var a=this.getMeshWidget();
setTimeout(function(){if(a&&a.desktop){var b=a.$n("foot"),e=a.$n("pgib");b=zk(a).contentHeight()-a.$n("head").offsetHeight-(b?b.offsetHeight:0)-(e?e.offsetHeight:0)-(a._nativebar&&a.frozen?a.frozen.$n().offsetHeight:0);a.ebody.style.height=jq.px0(b)}},0)}},removeChildHTML_:function(a){this.$supers("removeChildHTML_",arguments);if(!this.$instanceof(zul.mesh.Auxhead))for(var b=a.$class._faker,e=b.length;e--;)jq(a.uuid+"-"+b[e],zk).remove()},setVflex:function(a){this.$super(d,"setVflex",!1)},setHflex:function(a){this.$super(d,
"setHflex",!1)},getMeshWidget:function(){return this.parent},onColSize:function(a){var b=this.parent;a=a.widths;var e=0;if(a){for(var c=0;c<a.length;c++)e+=parseInt(a[c]);0!=e&&(e=jq.px0(e))}b._innerWidth=e||b.eheadtbl.width||b.eheadtbl.style.width;b.fire("onInnerWidth",b._innerWidth);b.fireOnRender(zk.gecko?200:60)},bind_:function(a,b,e){this.$supers(d,"bind_",arguments);var f=this;e.push(function(){c(f)});this.fixBorder_()},fixBorder_:function(){var a=jq(this).children(":first-child").attr("rowspan"),
b=parseInt(a)-1;if(a&&0<b)for(a=this.nextSibling;a&&0!=b;a=a.nextSibling,b--)jq(a.firstChild).addClass(this.$s("border"))},unbind_:function(){jq(this.hdfaker).remove();jq(this.bdfaker).remove();jq(this.ftfaker).remove();this.$supers(d,"unbind_",arguments)},insertChildHTML_:function(a){zk.ie8&&this.$n("bar")&&(this.$n("bar").style.display="none");this.$supers("insertChildHTML_",arguments)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(this.desktop){var b=zul.mesh.MeshWidget._getWidth;
!f(this)&&this.parent._fixHeaders()&&this.parent._syncSize();c(this);this.parent._minWd=null;var e=this.getMeshWidget();if(this.$instanceof(zul.mesh.Auxhead)){if(b=e?e.frozen:null)b.onSize()}else for(var d=["hdfaker","bdfaker","ftfaker"],n=0;n<d.length;n++){faker=d[n];var l=jq(e["e"+faker]);if(null!=l[0]){var h=jq(e).find("."+this.$s("bar")),g=h[0],k=jq(this.$n("hdfaker")).find("[id*=hdfaker-bar]"),m=k[0],q="",p="",r=e.frozen?!1:zk(e.ebody).hasVScroll();if("hdfaker"==faker&&g){if(g=g.style)q+=g.width?
"width:"+g.width+";":"";h.remove();r&&m&&(g=m.style)&&(p=g.display?"display:"+g.display+";":"",p+=g.width?"width:"+g.width+";":"");k.remove()}l.find(a.$n(faker)).length||(h=(h=b(a,a._hflexWidth?a._hflexWidth+"px":a.getWidth()))?"width:"+h+";":"",h='<col id="'+a.uuid+"-"+faker+'" style="'+h+'"/>',k=a.getChildIndex(),0<k?jq(l.find("col")[k-1]).after(h):l.append(h));h=jq(e).find("."+this.$s("bar"));g=h[0];k=jq(this.$n("hdfaker")).find("[id*=hdfaker-bar]");m=k[0];"hdfaker"==faker&&!g&&r&&(m||jq(this.$n("hdfaker")).append('<col id="'+
this.uuid+'-hdfaker-bar" style="'+p+'" />'),jq(this).append('<th id="'+this.uuid+'-bar" class="'+this.$s("bar")+'" style="'+q+'" />'))}}}},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);if(this.desktop){if(!f(this)&&!this.childReplacing_&&this.parent._fixHeaders())this.parent.onSize();this.parent._minWd=null;this.getMeshWidget().rerender(1)}},beforeChildrenFlex_:function(a){if(a&&!a._flexFixed){var b=this.parent;a=b.ehdfaker;b=b.ebdfaker;a=a?a.firstChild:null;b=b?b.firstChild:
null;for(var c=this.firstChild;c;c=c.nextSibling)c.isVisible()&&0<c._nhflex&&(a&&(a.style.width=""),b&&(b.style.width="")),a&&(a=a.nextSibling),b&&(b=b.nextSibling)}return!0},afterChildrenFlex_:function(a){a=this.parent;var b=a.ebody,c=a.ehead,d=a.efoot,f=a._currentLeft;a&&(a._adjFlexWd(),a._adjSpanWd(),a.frozen&&!a._isAllWidths()&&a._calcSize(),zk(b).hasHScroll()&&f!=b.scrollLeft&&(b.scrollLeft=f,c&&(c.scrollLeft=f),d&&(d.scrollLeft=f)))},deferRedrawHTML_:function(a){a.push("<tr",this.domAttrs_({domClass:1}),
' class="z-renderdefer"></tr>')}},{redraw:function(a){a.push("<tr",this.domAttrs_(),' style="text-align: left;">');for(var b=this.firstChild;b;b=b.nextSibling)b.redraw(a);(b=this.getMeshWidget())&&b._nativebar&&a.push('<th id="',this.uuid,'-bar" class="',this.$s("bar"),'" />');a.push("</tr>")}})})();

(function(){zul.mesh.ColumnMenuWidget=zk.$extends(zul.mesh.HeadWidget,{_menupopup:"none",_columnshide:!0,_columnsgroup:!0,$define:{columnshide:_zkf=function(){this.desktop&&this._initColMenu()},columnsgroup:_zkf,menupopup:function(){"auto"!=this._menupopup&&(this._mpop=null);this.rerender()}},bind_:function(b,a,c){this.$supers(zul.mesh.ColumnMenuWidget,"bind_",arguments);zWatch.listen({onResponse:this});var d=this;"auto"==this._menupopup&&c.push(function(){d._initColMenu()})},unbind_:function(){zWatch.unlisten({onResponse:this});
this._mpop&&(this._mpop.parent.removeChild(this._mpop),this._shallColMenu=this._mpop=null);this.$supers(zul.mesh.ColumnMenuWidget,"unbind_",arguments)},onResponse:function(){this._shallColMenu&&this.syncColMenu()},_syncColMenu:function(){this._shallColMenu=!0},_initColMenu:function(){this._mpop&&this._mpop.parent.removeChild(this._mpop);this._mpop=new zul.mesh.ColumnMenupopup({columns:this})},syncColMenu:function(){this._shallColMenu=!1;this._mpop&&this._mpop.syncColMenu()},_onColVisi:function(b){b=
b.currentTarget;var a=b.parent;a.close({sendOnOpen:!0});var c=0;for(a=a.firstChild;a;a=a.nextSibling)a.$instanceof(zul.menu.Menuitem)&&a.isChecked()&&c++;0==c&&b.setChecked(!0);(c=zk.Widget.$(b._col))&&c.parent==this&&((a=this.getMeshWidget())&&a.isSizedByContent()&&a.clearCachedSize_(),c.setVisible(b.isChecked()))},_onGroup:function(b){var a;(a=b.target.parent._ungroup)&&a.setVisible(!0);this._mref.fire("onGroup","ascending"!=this._mref.getSortDirection(),{toServer:!0})},_onUngroup:zk.$void,_onAsc:function(b){this._mref.fire("onSort",
!0)},_onDesc:function(b){this._mref.fire("onSort",!1)},_onMenuPopup:function(b){var a=this._mref;a&&jq(a.$n()).removeClass(a.$s("visited")).removeClass(a.$s("hover"));this._mref=b.data.reference},onChildAdded_:function(b){this.$supers("onChildAdded_",arguments);this._syncColMenu();var a=this.getMeshWidget();a&&a._syncEmpty&&a._syncEmpty()},onChildRemoved_:function(b){this.$supers("onChildRemoved_",arguments);this.childReplacing_||this._syncColMenu();var a=this.getMeshWidget();a&&a._syncEmpty()},getGroupPackage_:zk.$void,
domClass_:function(b){var a="";"none"!=this._menupopup&&(a+=this.$s("menupopup")+" ");return a+this.$supers("domClass_",arguments)}});zul.mesh.ColumnMenupopup=zk.$extends(zul.menu.Menupopup,{$define:{columns:null},$init:function(){this.$supers("$init",arguments);this.afterInit(this._init)},getAscitem:function(){return this._asc},getDescitem:function(){return this._desc},getGroupitem:function(){return this._group},getUngroupitem:zk.$void,_init:function(){var b=this._columns;this.listen({onOpen:[b,
b._onMenuPopup]});if(zk.feature.pe&&b.isColumnsgroup()){zk.isLoaded(b.getGroupPackage_())||zk.load(b.getGroupPackage_());var a=new zul.menu.Menuitem({label:msgzul.GRID_GROUP,visible:!1});a.setSclass(b.$s("menugrouping"));a.listen({onClick:[b,b._onGroup]});this.appendChild(a);this._group=a;zk.feature.ee&&(a=new zul.menu.Menuitem({label:msgzul.GRID_UNGROUP,visible:!1}),a.setSclass(b.$s("menuungrouping")),a.listen({onClick:[b,b._onUngroup]}),this.appendChild(a),this._ungroup=a)}a=new zul.menu.Menuitem({label:msgzul.GRID_ASC});
a.setSclass(b.$s("menuascending"));a.listen({onClick:[b,b._onAsc]});this._asc=a;this.appendChild(a);a=new zul.menu.Menuitem({label:msgzul.GRID_DESC});a.setSclass(b.$s("menudescending"));a.listen({onClick:[b,b._onDesc]});this._desc=a;this.appendChild(a);this.syncColMenu();b.getPage().appendChild(this)},syncColMenu:function(){for(var b=this._columns,a=this.lastChild,c;a!=this._desc;)c=a.previousSibling,this.removeChild(a),a=c;if(b&&b.isColumnshide())for(a=new zul.menu.Menuseparator,this.appendChild(a),
a=b.firstChild;a;a=a.nextSibling)c=new zul.menu.Menuitem({label:a.getLabel(),autocheck:!0,checkmark:!0,checked:a.isVisible()}),c._col=a.uuid,c.listen({onClick:[b,b._onColVisi]}),this.appendChild(c)}})})();

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
zul.mesh.HeaderWidget=zk.$extends(zul.LabelImageWidget,{_sumWidth:!0,$define:{align:function(a){this.adjustDOMAlign_("align",a)},valign:function(a){this.adjustDOMAlign_("valign",a)},height:function(){this.updateMesh_()}},getWidth:function(){return this.isVisible()?this._width:0},setWidth:function(a){this._width=a;this.updateMesh_()},doFocus_:function(a){this.$supers("doFocus_",arguments);var b,c;(b=this.getMeshWidget())&&b.efrozen&&zk.Widget.$(b.efrozen.firstChild)&&(c=this.$n())&&b._moveToHidingFocusCell(c.cellIndex)},
updateMesh_:function(a,b){this.desktop&&(a=this.getMeshWidget())&&(a._minWd=null,a.rerender())},adjustDOMAlign_:function(a,b){var c=this.$n();c&&("align"==a?c.style.textAlign=b:"valign"==a&&(c.style.verticalAlign=b))},setFlexSize_:function(a){if(void 0!==a.width&&"auto"!=a.width&&""!=a.width||0==a.width){var b="min"==this._hflex&&this.firstChild&&this.isRealVisible()?zk(this.$n("cave")).revisedWidth(a.width):a.width;this._hflexWidth=b;return{width:b}}this.$supers("setFlexSize_",arguments)},getContentEdgeHeight_:function(){return zk(this).sumStyles("tb",
jq.margins)},getContentEdgeWidth_:function(){return zk(this).sumStyles("lr",jq.margins)},domStyle_:function(a){var b="";this._hflexWidth&&(b="width: "+this._hflexWidth+"px;",a?a.width=!0:a={width:!0});this._align&&(b+="text-align:"+this._align+";");this._valign&&(b+="vertical-align:"+this._valign+";");return b+this.$super("domStyle_",a)},getMeshWidget:function(){return this.parent?this.parent.parent:null},isSortable_:function(){return!1},setVisible:function(a){if(this.isVisible()!=a){this.$supers("setVisible",
arguments);this.updateMesh_("visible",a);var b=this.getMeshWidget();b&&b.desktop&&!this._hflexWidth&&this.getWidth()&&this.parent.fire("onColSize",{index:zk(this.$n()).cellIndex(),column:this,width:this.isVisible()?this._width:"-1"},null,0)}},getTextNode:function(){return jq(this.$n()).find(">div:first")[0]},bind_:function(){this.$supers(zul.mesh.HeaderWidget,"bind_",arguments);this.parent.isSizable()&&this._initsz();var a=this.getMeshWidget(),b=zul.mesh.MeshWidget.WIDTH0;if(a){a=jq(this.$n());var c=
jq(this.$n("hdfaker")),d=this.getWidth();this.isVisible()?(c.css("visibility",""),!this._hflexWidth&&d&&c.css("width",d)):(a.css("display",""),a.css("width",b),a.css("visibility","hidden"),c.css("display",""),c.css("visibility","hidden"),c.css("width",b))}this.fixFaker_()},unbind_:function(){this._dragsz&&(this._dragsz.destroy(),this._dragsz=null);this.$supers(zul.mesh.HeaderWidget,"unbind_",arguments)},_initsz:function(){if(this.$n()&&!this._dragsz){var a=this.$class;this._dragsz=new zk.Draggable(this,
null,{revert:!0,constraint:"horizontal",ghosting:a._ghostsizing,endghosting:a._endghostsizing,snap:a._snapsizing,ignoredrag:a._ignoresizing,zIndex:99999,endeffect:a._aftersizing})}},fixFaker_:function(){if(!this.parent.$instanceof(zul.mesh.Auxhead))for(var a=this.$n(),b=zk(a).cellIndex(),c=this.getMeshWidget(),d,e=this.$class._faker,f=e.length;f--;)(d=c["e"+e[f]])&&!this.$n(e[f])&&(d[d.childNodes.length>b?"insertBefore":"appendChild"](this._createFaker(a,e[f]),d.childNodes[b]),this._subnodes[e[f]]=
null)},_createFaker:function(a,b){var c=zul.mesh.MeshWidget._getWidth;c=c(this,this._hflexWidth?this._hflexWidth+"px":this.getWidth());var d=document.createElement("col");d.id=a.id+"-"+b;d.style.cssText=c?"width: "+c+";":"";return d},doClick_:function(a){var b=a.domTarget,c=zk.Widget.$(b),d=this.$n();d=this._dragsz?zk(d).revisedOffset():!1;var e=c.$n("btn"),f=!1;11>zk.ie&&e&&!zk(e).isRealVisible()&&(f=!0);zk.dragging||c!=this&&!c.$instanceof(zul.wgt.Label)||!this.isSortable_()||jq.nodeName(b,"input")||
this._dragsz&&this._insizer(a.pageX-d[0])||f?(jq.nodeName(b,"input")&&a.stop({propagation:!0}),this.$supers("doClick_",arguments)):(this.fire("onSort","ascending"!=this.getSortDirection()),a.stop())},doDoubleClick_:function(a){if(this._dragsz){var b=this.$n();b=zk(b);var c=b.revisedOffset();this._insizer(a.pageX-c[0])?(c=this.getMeshWidget(),zk(this.$n("cave")).textSize(),b=b.cellIndex(),c.clearCachedSize_(),c._calcMinWds(),this.$class._aftersizing({control:this,_zszofs:c._minWd.wds[b]},a)):this.$supers("doDoubleClick_",
arguments)}else this.$supers("doDoubleClick_",arguments)},doMouseMove_:function(a){if(!zk.dragging&&this.parent.isSizable()){var b=this.$n(),c=zk(b).revisedOffset();this._insizer(a.pageX-c[0])?jq(b).addClass(this.$s("sizing")):jq(b).removeClass(this.$s("sizing"))}},doMouseOut_:function(a){if(this.parent.isSizable()){var b=this.$n();jq(b).removeClass(this.$s("sizing"))}this.$supers("doMouseOut_",arguments)},ignoreDrag_:function(a){if(this.parent.isSizable()){var b=this.$n();b=zk(b).revisedOffset();
return this._insizer(a[0]-b[0])}return!1},ignoreChildNodeOffset_:function(a){return!0},listenOnFitSize_:zk.$void,unlistenOnFitSize_:zk.$void,beforeMinFlex_:function(a){if("w"==a&&(a=this.getMeshWidget())&&(a._calcMinWds(),a._minWd)){var b=this.$n();b=zk(b);var c=b.cellIndex();return b.revisedWidth(a._minWd.wds[c])}return null},clearCachedSize_:function(){this.$supers("clearCachedSize_",arguments);var a;(a=this.getMeshWidget())&&a._clearCachedSize()},getParentSize_:function(){var a=this.getMeshWidget(),
b=a.$n();return(b=b?zk(b):null)?(a.ebody&&11>zk.ie&&a.ebodytbl&&!a.ebodytbl.width&&(a.ebodytbl.width="100%"),{height:b.contentHeight(),width:b.contentWidth()}):{}},isWatchable_:function(a,b,c){var d;return this._visible&&(d=this.parent)&&d._visible&&(d=d.parent)&&d.isWatchable_(a,b,c)},_insizer:function(a){return a>=this.$n().offsetWidth-8},deferRedrawHTML_:function(a){a.push("<th",this.domAttrs_({domClass:1}),' class="z-renderdefer"></th>')}},{_faker:["hdfaker","bdfaker","ftfaker"],_ghostsizing:function(a,
b,c){var d=a.control;a=d.getMeshWidget().eheadtbl;c=zk(a).revisedOffset();d=d.$n();b[1]=c[1];b[0]+=zk(d).offsetWidth();jq(document.body).append('<div id="zk_hdghost" style="position:absolute;top:'+b[1]+"px;left:"+b[0]+"px;width:3px;height:"+zk(a.parentNode.parentNode).offsetHeight()+'px;background:darkgray"></div>');return jq("#zk_hdghost")[0]},_endghostsizing:function(a,b){a._zszofs=zk(a.node).revisedOffset()[0]-zk(b).revisedOffset()[0]},_snapsizing:function(a,b){var c=a.control.$n();c=zk(c);var d=
c.revisedOffset();b[0]+=c.offsetWidth();d[0]+a._zmin>=b[0]&&(b[0]=d[0]+a._zmin);return b},_ignoresizing:function(a,b,c){c=a.control;var d=c.$n();d=zk(d);var e=d.revisedOffset();return c._insizer(b[0]-e[0])?(a._zmin=10+d.padBorderWidth(),!1):!0},_aftersizing:function(a,b){var c=a.control,d=c.getMeshWidget();a=jq.px(a._zszofs);var e=d.ehdfaker,f=d.ebdfaker,l=d.eftfaker,n=zk(c.$n()).cellIndex();e=e.childNodes;f=f.childNodes;l=l?l.childNodes:null;for(var k=[],g=d.head.firstChild,h=0;g;g=g.nextSibling,
h++){var m=e[h].style.width,p=g._origWd,q=m&&0>m.indexOf("%");p?(q&&1<zk.parseFloat(m)&&(p=m),g._width=k[h]=p):(k[h]=q?m:jq.px0(g.$n().offsetWidth),g.isVisible()&&(g._width=k[h]));q||(e[h].style.width=f[h].style.width=k[h],l&&(l[h].style.width=k[h]));m=zk.parseInt(k[h]);g._hflexWidth&&(g.setHflex_(null),g._hflexWidth=void 0);d._minWd&&(d._minWd.wds[h]=m)}c.origWd||(c._width=k[n]=a);e[n].style.width=f[n].style.width=a;l&&(l[n].style.width=a);d.eheadtbl.width="";d.ebodytbl.width="";d.efoottbl&&(d.efoottbl.width=
"");delete d._span;delete d._sizedByContent;for(g=d.head.firstChild;g;g=g.nextSibling)g.setHflex_(null);c.parent.fire("onColSize",zk.copy({index:n,column:c,width:a,widths:k},b.data),null,0);d.$n()._lastsz=null;zk.webkit||(d.eheadtbl.width="100%",d.ebodytbl.width="100%",d.efoottbl&&(d.efoottbl.width="100%"));zUtl.fireSized(d,-1)},redraw:function(a){var b=this.uuid;this.getZclass();var c=this.domContent_();a.push("<th",this.domAttrs_({width:!0}),'><div id="',b,'-cave" class="',this.$s("content"),'"',
this.domTextStyleAttr_(),'><div class="',this.$s("sorticon"),'"><i id="',b,'-sort-icon"></i></div>',this.firstChild||""!=c?c:"&nbsp;");this.parent._menupopup&&"none"!=this.parent._menupopup&&a.push('<a id="',b,'-btn" href="javascript:;" class="',this.$s("button"),'"><i class="z-icon-caret-down"></i></a>');for(b=this.firstChild;b;b=b.nextSibling)b.redraw(a);a.push("</div></th>")}});

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,h=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var f=0;f<h&&c<e;)if(b[c++]!=a[f++])return!1;return f>=h}},"es6","es3");
zul.mesh.SortWidget=zk.$extends(zul.mesh.HeaderWidget,{_sortDirection:"natural",_sortAscending:"none",_sortDescending:"none",$define:{sortDirection:function(a){if(this.desktop){var b=jq(this.$n("sort-icon"));b.removeClass();switch(a){case "ascending":b.addClass("z-icon-caret-up");break;case "descending":b.addClass("z-icon-caret-down")}}},sortAscending:function(a){a||(this._sortAscending=a="none");if(this.desktop){var b=jq(this.$n("sort-icon"));"none"==a?b.removeClass():b.addClass("z-icon-caret-up")}},
sortDescending:function(a){a||(this._sortDescending=a="none");if(this.desktop){var b=jq(this.$n("sort-icon"));"none"==a?b.removeClass():b.addClass("z-icon-caret-down")}}},$init:function(){this.$supers("$init",arguments);this.listen({onSort:this},-1E3)},setSort:function(a){a&&a.startsWith("client")?(this.setSortAscending(a),this.setSortDescending(a)):(this.setSortAscending("none"),this.setSortDescending("none"))},isSortable_:function(){return"none"!=this._sortAscending||"none"!=this._sortDescending},
sort:function(a,b){if(!this.checkClientSort_(a))return!1;b.stop();this.replaceCavedChildrenInOrder_(a);return!0},checkClientSort_:function(a){var b=this.getSortDirection();if(a){if("ascending"==b)return!1}else if("descending"==b)return!1;a=a?this._sortAscending:this._sortDescending;if("fromServer"==a)return!1;if("none"==a)return evt.stop(),!1;a=this.getMeshWidget();return!a||a.isModel()?!1:!0},replaceCavedChildrenInOrder_:function(a){var b=this.getMeshWidget(),c=this.getMeshBody(),d=this.getSortDirection(),
e=a?this._sortAscending:this._sortDescending,h=c.desktop,f=c.$n();try{c.unbind();for(var g=[],q=this.getChildIndex(),k=0,n=0,r=b.getBodyWidgetIterator(),p;p=r.next();n++)for(var l=0,m=p.firstChild;m;m=m.nextSibling,l++)l==q&&(g[k++]={wgt:m,index:n});var t="ascending"==d?-1:1,u=this.sorting,v="client(number)"==e;g.sort(function(a,b){var c=u(a.wgt,b.wgt,v)*t;0==c&&(c=a.index<b.index?-1:1);return c});k=0;for(l=g.length;k<l;k++)c.appendChild(g[k].wgt.parent);this._fixDirection(a)}finally{c.replaceHTML(f,
h)}},sorting:function(a,b,c){a="function"==typeof a.getLabel?a.getLabel():"function"==typeof a.getValue?a.getValue():a;b="function"==typeof b.getLabel?b.getLabel():"function"==typeof b.getValue?b.getValue():b;return c?a-b:a>b?1:a<b?-1:0},_fixDirection:function(a){a=a?"ascending":"descending";for(var b=this.parent.firstChild;b;b=b.nextSibling)b.setSortDirection(b==this?a:"natural")},onSort:function(a){var b=this.getSortDirection();"ascending"==b?this.sort(!1,a):"descending"==b?this.sort(!0,a):this.sort(!0,
a)||this.sort(!1,a)},bind_:function(){this.$supers(zul.mesh.SortWidget,"bind_",arguments);if("none"!=this._sortAscending||"none"!=this._sortDescending){var a=jq(this.$n()),b=jq(this.$n("sort-icon"));a.addClass(this.$s("sort"));switch(this._sortDirection){case "ascending":b.addClass("z-icon-caret-up");break;case "descending":b.addClass("z-icon-caret-down")}}},unbind_:function(){this.$supers(zul.mesh.SortWidget,"unbind_",arguments)},getColumnMenuPopup_:zk.$void,_doMenuClick:function(a){if(this.parent._menupopup&&
"none"!=this.parent._menupopup){var b=this.parent._menupopup,c=this.$n("btn");jq(this.$n()).addClass(this.$s("visited"));b="auto"==b&&this.parent._mpop?this.parent._mpop:this.$f(this.parent._menupopup);if(zul.menu.Menupopup.isInstance(b)){var d=zk(c).revisedOffset(),e="none"!=this.getSortAscending(),h="none"!=this.getSortDescending(),f=this.getMeshWidget();if(b.$instanceof(zul.mesh.ColumnMenupopup)){b.getAscitem().setVisible(e);b.getDescitem().setVisible(h);var g=f.getModel();zk.feature.pe&&b.getGroupitem()&&
("group"==g||!g||this.isListen("onGroup",{asapOnly:1})?b.getGroupitem().setVisible(e||h):b.getGroupitem().setVisible(!1));zk.feature.ee&&b.getUngroupitem()&&(g=!g||this.isListen("onUngroup",{asapOnly:1}),b.getUngroupitem().setVisible(g&&f.hasGroup()));(f=b.getDescitem().nextSibling)&&f.setVisible(e||h)}else b.listen({onOpen:[this.parent,this.parent._onMenuPopup]});b.open(c,[d[0],d[1]+c.offsetHeight-4],null,{sendOnOpen:!0})}a.stop()}}});

zul.mesh.FooterWidget=zk.$extends(zul.LabelImageWidget,{_span:1,$define:{span:function(b){var a=this.$n();a&&(a.colSpan=b)},align:function(b){var a=this.$n();a&&(a.align=b)},valign:function(b){var a=this.$n();a&&(a.vAlign=b)}},getMeshWidget:function(){return this.parent?this.parent.parent:null},getHeaderWidget:function(){var b=this.getMeshWidget();return b&&(b=b.getHeadWidget())?b.getChildAt(this.getChildIndex()):null},domStyle_:function(b){var a="",d=zul.mesh.MeshWidget.WIDTH0,c=this.getHeaderWidget();
this._align?a+="text-align:"+this._align+";":c&&c._align&&(a+="text-align:"+c._align+";");this._valign?a+="vertical-align:"+this._align+";":c&&c._valign&&(a+="vertical-align:"+c._valign+";");c&&!c.isVisible()&&(a+="visibility: hidden; width: "+d+";");return this.$super("domStyle_",b)+a},domAttrs_:function(){return this.$supers("domAttrs_",arguments)+(1<this._span?' colspan="'+this._span+'"':"")},deferRedrawHTML_:function(b){b.push("<td",this.domAttrs_({domClass:1}),' class="z-renderdefer"></td>')}});

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(d,c,a){d instanceof String&&(d=String(d));for(var b=d.length,f=0;f<b;f++){var e=d[f];if(c.call(a,e,f,d))return{i:f,v:e}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,a){d!=Array.prototype&&d!=Object.prototype&&(d[c]=a.value)};
$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(d,c,a,b){if(c){a=$jscomp.global;d=d.split(".");for(b=0;b<d.length-1;b++){var f=d[b];f in a||(a[f]={});a=a[f]}d=d[d.length-1];b=a[d];c=c(b);c!=b&&null!=c&&$jscomp.defineProperty(a,d,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(c,a){return $jscomp.findInternal(this,c,a).v}},"es6","es3");
(function(){function d(c){if(c.isBothPaging())return c.parent.rerender(),!0}zul.mesh.Paging=zk.$extends(zul.Widget,{_pageSize:20,_totalSize:0,_pageCount:1,_activePage:0,_pageIncrement:zk.mobile?5:10,_showFirstLast:!0,$define:{totalSize:function(){this._updatePageNum();if(this._detailed&&!d(this)){var c=this.$n("info");c?c.innerHTML=this.infoText_():this._totalSize&&this.rerender()}},pageIncrement:_zkf=function(){this.rerender()},detailed:_zkf,pageCount:_zkf,activePage:_zkf,pageSize:function(){this._updatePageNum()},
autohide:function(){1==this._pageCount&&this.rerender()},disabled:function(c){this.desktop&&this._drawDisabled(c)}},setStyle:function(){this.$supers("setStyle",arguments);d(this)},setSclass:function(){this.$supers("setSclass",arguments);d(this)},setWidth:function(){this.$supers("setWidth",arguments);d(this);this.desktop&&zUtl.fireSized(this,-1)},setHeight:function(){this.$supers("setHeight",arguments);d(this)},setLeft:function(){this.$supers("setLeft",arguments);d(this)},setTop:function(){this.$supers("setTop",
arguments);d(this)},setTooltiptext:function(){this.$supers("setTooltiptext",arguments);d(this)},replaceHTML:function(){d(this)||this.$supers("replaceHTML",arguments)},isBothPaging:function(){return this.parent&&this.parent.getPagingPosition&&"both"==this.parent.getPagingPosition()},_drawDisabled:function(c){var a=this.uuid,b=this._activePage,f=this._pageCount,e=jq.$$(a,"real");if("os"==this._mold)a=jq.$$(a,"button"),jq(a).attr("disabled",c);else for(b=0==b&&b==f-1?[]:0==b?["last","next"]:b==f-1?["first",
"prev"]:["first","prev","last","next"],f=e.length;f--;){jq(e[f]).attr("disabled",c);for(var d=b.length;d--;)for(var h=jq.$$(a,b[d]),g=h.length;g--;)jq(h[g]).attr("disabled",c);d=c?"addClass":"removeClass";jq(e[f].nextSibling)[d](this.$s("text-disabled"))}},_updatePageNum:function(){var c=Math.floor((this._totalSize-1)/this._pageSize+1);0==c&&(c=1);if(c!=this._pageCount&&(this._pageCount=c,this._activePage>=this._pageCount&&(this._activePage=this._pageCount-1),this.desktop&&this.parent&&!d(this)&&
(this.rerender(),this.parent.$instanceof(zul.mesh.MeshWidget)))){var a=this;setTimeout(function(){if(a.desktop){var b=a.parent.$n();b&&b._lastsz&&(b._lastsz=null,a.parent.onSize())}})}},infoText_:function(){var c=this._activePage,a=this._pageSize,b=this._totalSize,f=(c+1)*a,e="";"os"!=this.getMold()&&(e=" - "+(f>b?b:f));return"[ "+(c*a+1)+e+" / "+b+" ]"},_infoTags:function(c){0!=this._totalSize&&c.push('<div class="',this.$s("info"),'"><span ',d(this)?"name":"id",'="',this.uuid,'-info">',this.infoText_(),
"</span></div>")},_innerTags:function(){var c=new zk.Buffer,a=this._pageIncrement,b=this._pageCount,f=this._activePage,e=Math.round(a/2),d=this._activePage+e-1;d>=b?(d=b-1,e=d-a+1,0>e&&(e=0)):(e=this._activePage-e,0>e&&(e=0),d=e+a-1,d>=b&&(d=b-1));c.push("<ul>");0<f&&(0<e&&this.appendAnchor(c,msgzul.FIRST,0),this.appendAnchor(c,msgzul.PREV,f-1));for(a=f<b-1;e<=d;++e)this.appendAnchor(c,e+1,e,e==f);a&&(this.appendAnchor(c,msgzul.NEXT,f+1),d<b-1&&this.appendAnchor(c,msgzul.LAST,b-1));c.push("</ul>");
this._detailed&&this._infoTags(c);return c.join("")},appendAnchor:function(c,a,b,f){var d=0==a.toString().search(/^[0-9]+$/),k=this.$s("button"),h="";d||(k+=" "+this.$s("noborder"),h=' class="'+this.$s("navigate")+'"');f&&(k+=" "+this.$s("selected"));c.push("<li",h,'><a name="',this.uuid,'-button" class="',k,'" href="javascript:;" onclick="if (!zk.Widget.$(this)._disabled) zul.mesh.Paging.go(this,',b,')">',a,"</a></li>")},domClass_:function(){var c=this.$supers(zul.mesh.Paging,"domClass_",arguments),
a="os"==this.getMold()?" "+this.$s("os"):"";return c+a},isVisible:function(){return this.$supers("isVisible",arguments)&&(1<this._pageCount||!this._autohide)},bind_:function(){this.$supers(zul.mesh.Paging,"bind_",arguments);zWatch.listen({onSize:this});var c=this.uuid,a=jq.$$(c,"real"),b=this.$class,f=this._pageCount,d=this._activePage,k=["first","prev","last","next"],h=zul.mesh.Paging._autoFocusInfo;if(!this.$weave)for(var g=a.length;g--;)jq(a[g]).keydown(b._domKeyDown).blur(b._domBlur);for(g=k.length;g--;)for(var l=
jq.$$(c,k[g]),m=l.length;m--;)this.$weave||jq(l[m]).click(b["_dom"+k[g]+"Click"]),1==f?jq(l[m]).attr("disabled",!0):"first"==k[g]||"prev"==k[g]?0==d&&jq(l[m]).attr("disabled",!0):d==f-1&&jq(l[m]).attr("disabled",!0);this._disabled&&this._drawDisabled(!0);h&&h.uuid===this.uuid&&(c=h.lastPos,a=zk(a[h.inpIdx]),a.focus(),a.setSelectionRange(c[0],c[1]),zul.mesh.Paging._autoFocusInfo=null)},unbind_:function(){if("os"!=this.getMold()){for(var c=this.uuid,a=jq.$$(c,"real"),b=this.$class,f=["first","prev",
"last","next"],d=a.length;d--;)jq(a[d]).unbind("keydown",b._domKeyDown).unbind("blur",b._domBlur);for(a=f.length;a--;)for(d=jq.$$(c,f[a]),j=d.length;j--;)jq(d[j]).unbind("click",b["_dom"+f[a]+"Click"])}zWatch.unlisten({onSize:this});this.$supers(zul.mesh.Paging,"unbind_",arguments)},onSize:function(){if(this.desktop){var c=jq.$$(this.uuid);if(0<c.length){var a=c[0],b=this.$class._getNavWidth(a,this);b=jq(a).width()>b+50;if(a=this._lastIsWide!=b)this._lastIsWide=this._showFirstLast=b;for(b=0;b<c.length;b++)this.$class._fixControl(c[b],
this,a)}}}},{go:function(c,a,b){if((c=zk.Widget.isInstance(c)?c:zk.Widget.$(c))&&c.getActivePage()!=a){if(b){var f=c.uuid,d=zul.mesh.Paging._autoFocusInfo={uuid:f};d.lastPos=zk(b).getSelectionRange();jq(jq.$$(f,"real")).each(function(a){if(this==b)return d.inpIdx=a,!1})}c.fire("onPaging",a)}},_domKeyDown:function(c){var a=c.target,b=zk.Widget.$(a);zk(a).getSelectionRange();if(!a.disabled&&!a.readOnly){var d=c.keyCode;switch(d){case 48:case 96:case 49:case 97:case 50:case 98:case 51:case 99:case 52:case 100:case 53:case 101:case 54:case 102:case 55:case 103:case 56:case 104:case 57:case 105:break;
case 37:break;case 38:b.$class._increase(a,b,1);c.stop();break;case 39:break;case 40:b.$class._increase(a,b,-1);c.stop();break;case 33:b.$class._increase(a,b,-1);b.$class.go(b,a.value-1,a);c.stop();break;case 34:b.$class._increase(a,b,1);b.$class.go(b,a.value-1,a);c.stop();break;case 36:b.$class.go(b,0,a);c.stop();break;case 35:b.$class.go(b,b._pageCount-1,a);c.stop();break;case 9:case 8:case 46:break;case 13:b.$class._increase(a,b,0);b.$class.go(b,a.value-1,a);c.stop();break;default:112<=d&&123>=
d||c.ctrlKey||c.altKey||c.stop()}}},_domBlur:function(c){var a=c.target,b=zk.Widget.$(a);a.disabled||a.readOnly||(b.$class._increase(a,b,0),b.$class.go(b,a.value-1),c.stop())},_increase:function(c,a,b){var d=zk.parseInt(c.value);d+=b;1>d?d=1:d>a._pageCount&&(d=a._pageCount);c.value=d},_domfirstClick:function(c){var a=zk.Widget.$(c);if(!a._disabled){c=a.uuid;var b=["first","prev"];if(0!=a.getActivePage())for(a.$class.go(a,0),a=b.length;a--;)for(var d=jq.$$(c,b[a]),e=d.length;e--;)jq(d[e]).attr("disabled",
!0)}},_domprevClick:function(c){var a=zk.Widget.$(c);if(!a._disabled){c=a.uuid;var b=a.getActivePage(),d=["first","prev"];if(0<b&&(a.$class.go(a,b-1),0==b-1))for(a=d.length;a--;){b=jq.$$(c,d[a]);for(var e=b.length;e--;)jq(b[e]).attr("disabled",!0)}}},_domnextClick:function(c){var a=zk.Widget.$(c);if(!a._disabled){c=a.uuid;var b=a.getActivePage(),d=a.getPageCount(),e=["last","next"];if(b<d-1&&(a.$class.go(a,b+1),b+1==d-1))for(a=e.length;a--;)for(b=jq.$$(c,e[a]),d=b.length;d--;)jq(b[d]).attr("disabled",
!0)}},_domlastClick:function(c){var a=zk.Widget.$(c);if(!a._disabled){c=a.uuid;var b=a.getPageCount(),d=["last","next"];if(a.getActivePage()<b-1)for(a.$class.go(a,b-1),a=d.length;a--;){b=jq.$$(c,d[a]);for(var e=b.length;e--;)jq(b[e]).attr("disabled",!0)}}},_fixControl:function(c,a,b){var d=jq("> ul",c);c=jq("> .z-paging-info",c);var e=a.getMold();a=a._showFirstLast;b&&"default"==e&&(b=d.find("li"),b.first().toggle(a),b.last().toggle(a));c.css("visibility",function(){return zk(d).isOverlapped(this,
1)?"hidden":""})},_getNavWidth:function(c,a){if(a._navWidth)return a._navWidth;var b=0;jq("ul > li",c).each(function(){b+=jq(this).outerWidth(!0)});return a._navWidth=b}})})();

zkreg('zul.mesh.Paging');
zk._m={};
zk._m['os']=paging$mold$=function(b){if("os"==this.getMold())b.push('<div name="',this.uuid,'"',this.domAttrs_(),">",this._innerTags(),"</div>");else{var a=this.uuid,c=this.$s("button"),d=this._showFirstLast?"":"display: none;";b.push('<div name="',a,'"',this.domAttrs_(),"><ul>",'<li style="',d,'"><a name="',a,'-first" class="',c," ",this.$s("first"),'" href="javascript:;"><i class="z-paging-icon z-icon-angle-double-left"></i></a></li>','<li><a name="',a,'-prev" class="',c," ",this.$s("previous"),'" href="javascript:;"><i class="z-paging-icon z-icon-angle-left"></i></a></li>',
'<li><input name="',a,'-real" class="',this.$s("input"),'" type="text" value="',this.getActivePage()+1,'" size="3"></input><span class="',this.$s("text"),'"> / ',this.getPageCount(),"</span></li>",'<li><a name="',a,'-next" class="',c," ",this.$s("next"),'" href="javascript:;"><i class="z-paging-icon z-icon-angle-right"></i></a></li>','<li style="',d,'"><a name="',a,'-last" class="',c," ",this.$s("last"),'" href="javascript:;"><i class="z-paging-icon z-icon-angle-double-right"></i></a></li></ul>');
this.isDetailed()&&this._infoTags(b);b.push("</div>")}};

;zk._m['default']=[zk._p.p.Paging,'os'];
zkmld(zk._p.p.Paging,zk._m);
zul.mesh.Auxhead=zk.$extends(zul.mesh.HeadWidget,{});

zkreg('zul.mesh.Auxhead');
zk._m={};
zk._m['default']=auxhead$mold$=function(b){b.push("<tr",this.domAttrs_(),' style="text-align:left;">');for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);(a=this.getMeshWidget())&&a._nativebar&&b.push('<th class="',this.$s("bar"),'" />');b.push("</tr>")};

;zkmld(zk._p.p.Auxhead,zk._m);
zul.mesh.Auxheader=zk.$extends(zul.mesh.HeaderWidget,{_colspan:1,_rowspan:1,$define:{colspan:function(b){var a=this.$n();a&&(a.colSpan=b,11>zk.ie&&this.rerender())},rowspan:function(b){var a=this.$n();a&&(a.rowSpan=b,11>zk.ie&&this.rerender())}},domAttrs_:function(){var b=this.$supers("domAttrs_",arguments),a;1!=(a=this._colspan)&&(b+=' colspan="'+a+'"');1!=(a=this._rowspan)&&(b+=' rowspan="'+a+'"');return b}});

zkreg('zul.mesh.Auxheader',true);
zk._m={};
zk._m['default']=auxheader$mold$=function(b){b.push("<th",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass(),'-content"',this.domTextStyleAttr_(),">",this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div></th>")};

;zkmld(zk._p.p.Auxheader,zk._m);
(function(){zul.mesh.Frozen=zk.$extends(zul.Widget,{_start:0,_scrollScale:0,$define:{columns:[function(a){return 0>a?0:a},function(a){this._columns?this.desktop&&(this.onSize(),this.syncScroll()):this.rerender()}],start:function(){this.syncScroll()}},syncScroll:function(){var a=this.parent;a&&a._nativebar&&(a=this.$n("scrollX"))&&(a.scrollLeft=50*this._start)},syncScrollByParentBody:function(){var a=this.parent,b,c;a&&a._nativebar&&(b=a.ebody)&&0<(c=b.scrollLeft)&&(a=this.$n("scrollX"))&&(a.scrollLeft=
Math.ceil(c/(b.scrollWidth-b.clientWidth)*(a.scrollWidth-a.clientWidth)))},bind_:function(){this.$supers(zul.mesh.Frozen,"bind_",arguments);var a=this.parent,b=a.$n("body"),c=a.$n("foot");if(a._nativebar){zWatch.listen({onSize:this});var l=this.$n("scrollX"),e=jq.scrollbarWidth();this.$n().style.height=this.$n("cave").style.height=l.style.height=l.firstChild.style.height=jq.px0(zk.ie?e+1:e);a._currentLeft=0;this.domListen_(l,"onScroll");(a=a.$n("head"))&&this.domListen_(a,"onScroll","_doHeadScroll")}else this._shallSyncScale=
!0;zWatch.listen({onResponse:this});b&&jq(b).addClass("z-word-nowrap");c&&jq(c).addClass("z-word-nowrap")},unbind_:function(){var a=this.parent,b=a.$n("body"),c=a.$n("foot"),l=a.$n("head");a._nativebar?(this.domUnlisten_(this.$n("scrollX"),"onScroll"),a.unlisten({onScroll:this.proxy(this._onScroll)}),zWatch.unlisten({onSize:this}),l&&this.domUnlisten_(l,"onScroll","_doHeadScroll")):this._shallSyncScale=!1;zWatch.unlisten({onResponse:this});b&&jq(b).removeClass("z-word-nowrap");c&&jq(c).removeClass("z-word-nowrap");
this.$supers(zul.mesh.Frozen,"unbind_",arguments)},onResponse:function(){if(this.parent._nativebar)this._syncFrozenNow();else if(this._shallSyncScale){var a=this.parent.ehdfaker;a&&(this._scrollScale=a.childNodes.length-this._columns-1);this._shallSyncScale=!1}},onSize:function(){if(this._columns){var a=this;a._syncFrozen();var b=this.parent,c=b.head;b._nativebar&&c&&(b=(b=c.$n())?b.cells?b.cells[0]:null:null)&&(c=b.style,c.height||(c.height=b.offsetHeight+"px"));setTimeout(function(){var b=a.parent;
if(b.eheadtbl&&b._nativebar){var c=b._getFirstRowCells(b.eheadrows),r=c.length,d=a._columns,t=0;if(c&&!(0>=r)){for(var g=b.ehdfaker.firstChild;g;g=g.nextSibling){var f=g.style;"hidden"!=f.visibility&&"none"!=f.display||--r}for(g=0;g<d;g++)t+=c[g].offsetWidth;b._deleteFakeRow(b.eheadrows);a.$n("cave").style.width=jq.px0(t);c=a.$n("scrollX");g=b.$n("body").offsetWidth;b.$n("frozen").style.width=jq.px0(g);g-=t;c.style.width=jq.px0(g);c.firstChild.style.width=jq.px0(g+50*(r-d-2));a.syncScroll()}}a._syncFrozenNow()})}},
_syncFrozen:function(){this._shallSync=!0},_syncFrozenNow:function(){var a=this._start;this._shallSync&&a&&this._doScrollNow(a,!0);this._shallSync=!1},beforeParentChanged_:function(a){this.desktop&&this._lastScale&&this._doScroll(0);this.$supers("beforeParentChanged_",arguments)},_onScroll:function(a){if(a.data&&zk.currentFocus){var b=this.parent,c,l=this,e=function(){var a=zk.currentFocus;a&&(c=b.getFocusCell(a.$n()))&&0<=(index=c.cellIndex-l._columns)&&(l.setStart(index),b.ebody.scrollLeft=0,b.ehead&&
(b.ehead.scrollLeft=0))};b&&(11>zk.ie?setTimeout(e,0):e());a.stop()}},_doHeadScroll:function(a){var b=a.domTarget,c=Math.ceil(b.scrollLeft/50);b.scrollLeft&&this._lastScale!=c&&(a.data=b.scrollLeft,this._onScroll(a))},_doScroll:function(a){var b=this.parent._nativebar?Math.ceil(this.$n("scrollX").scrollLeft/50):Math.ceil(a);if(this._lastScale!=b){var c=this;this._delayedScroll&&clearTimeout(this._delayedScroll);this._delayedScroll=setTimeout(function(){c._lastScale=b;c._doScrollNow(b);c.smartUpdate("start",
b);c._start=b;c.delayedScroll=null},0)}},_doScrollNow:function(a,b){var c,l=0,e=this.parent,r=a;var d=this._columns;var t=zul.mesh.MeshWidget.WIDTH0;if(e.head){a=e.head.nChildren;var g=e.head.$n().cells,f=e.ehdfaker.firstChild,p=e.foot?e.efootrows:null;p=p?p.rows[0].cells:null;var h;for(c=0;f&&c<a;f=f.nextSibling,c++)if(-1==f.style.width.indexOf("px")){var m=f.style.width=jq.px0(g[c].offsetWidth),n=zk.Widget.$(f);if(!n.$instanceof(zul.mesh.HeadWidget)){if(h=n.$n("bdfaker"))h.style.width=m;if(h=n.$n("ftfaker"))h.style.width=
m}}f=[];for(c=d;c<a;c++){d=g[c];var u=(m=zk.Widget.$(d))&&m.isVisible();n=!1;var q=d.style;if("hidden"!=q.visibility&&"none"!=q.display){if(0>=r--){if(q=u?zk.ie?Math.max(jq(d).width(),0):d.offsetWidth:0,b||1>q){var k=m._origWd||jq.px(q);1<q&&(h=jq("#"+d.id+"-hdfaker")[0])&&h.style.width&&(k=h.style.width);m._origWd=null;n=!0}}else if(b||0!=(zk.ie?Math.max(jq(d).width(),0):d.offsetWidth))h=jq("#"+d.id+"-hdfaker")[0],h.style.width&&1<zk.parseInt(h.style.width)&&(m._origWd=h.style.width),k=t,n=!0;(b||
n)&&f.push({node:d,index:c,width:k})}}for(jq(e).css({position:"absolute",left:-9999});b=f.shift();){d=b.node;k=b.width;c=b.index;if(h=jq("#"+d.id+"-hdfaker")[0])h.style.width=k;(h=jq("#"+d.id+"-bdfaker")[0])&&u&&(h.style.width=k);if(h=jq("#"+d.id+"-ftfaker")[0])h.style.width=k;g[c].style.width=k;p&&p.length>c&&(p[c].style.width=k)}f=e.ehdfaker.firstChild;for(c=0;f&&c<a;f=f.nextSibling,c++)"none"!=f.style.display&&(l+=zk.parseInt(f.style.width));jq(e).css({position:"",left:""})}if(k=e.eheadtbl)k.style.width=
jq.px(l);if(k=e.ebodytbl)k.style.width=jq.px(l);if(k=e.efoottbl)k.style.width=jq.px(l);e._restoreFocus();zk.ie8_?zk(e).redoCSS():zk.ie9_&&(d=e.$n(),d.className+=" ",d.className.trim())}})})();

zkreg('zul.mesh.Frozen',true);
zk._m={};
zk._m['default']=frozen$mold$=function(b){var c=this.uuid;b.push("<div",this.domAttrs_(),'><div id="',c,'-cave" class="',this.$s("body"),'">');for(var d=0,a=this.firstChild;a;a=a.nextSibling,d++)a.redraw(b);b.push('</div><div id="',c,'-scrollX" class="',this.$s("inner"),'"><div></div></div><div class="z-clear"></div></div>')};

;zkmld(zk._p.p.Frozen,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.mesh',1);zk.load('zul,zul.wgt',function(){if(zk._p=zkpi('zul.box'))try{
zul.box.Layout=zk.$extends(zk.Widget,{_spacing:"5px",$define:{spacing:function(){var b=this.$n(),a=this.isVertical_(),c=this._spacing;b&&jq(b).children("div:not(:last-child)").css("padding-"+(a?"bottom":"right"),c&&"auto"!=c?c:"")}},_chdextr:function(b){return b.$n("chdex")||b.$n()},insertChildHTML_:function(b,a,c){if(a)jq(this._chdextr(a)).before(this.encloseChildHTML_(b));else{a=jq(this.$n());var d=this._spacing;a.children("div:last-child").css("padding-"+(this.isVertical_()?"bottom":"right"),d&&
"auto"!=d?d:"");a.append(this.encloseChildHTML_(b))}b.bind(c)},bind_:function(){this.$supers(zul.box.Layout,"bind_",arguments);zWatch.listen({onResponse:this})},unbind_:function(){zWatch.unlisten({onResponse:this});this.$supers(zul.box.Layout,"unbind_",arguments)},syncSize:function(){this._shallSize=!1;if(this.desktop)for(var b=this.firstChild;b;b=b.nextSibling)if(b._nvflex||b._nhflex){zUtl.fireSized(this);break}},onResponse:function(){this._shallSize&&this.syncSize()},onChildVisible_:function(b){this.$supers("onChildVisible_",
arguments);this.desktop&&(this._shallSize=!0,b.$n("chdex").style.display=b.isVisible()?"":"none")},onChildAdded_:function(b){this.$supers("onChildAdded_",arguments);if(this.desktop){var a=b.$n("chdex");this._shallSize=!0;a&&(a.style.display=b.isVisible()?"":"none")}},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);this.desktop&&(this._shallSize=!0)},removeChildHTML_:function(b){this.$supers("removeChildHTML_",arguments);jq(b.uuid+"-chdex",zk).remove();"auto"!=this._spacing&&this.lastChild==
b&&jq(this.$n()).children("div:last-child").css("padding-"+(this.isVertical_()?"bottom":"right"),"")},encloseChildHTML_:function(b,a){var c=new zk.Buffer,d=this.isVertical_(),p=this._spacing;c.push('<div id="'+b.uuid+'-chdex" class="'+this.$s("inner")+'"');if(p&&"auto"!=p){c.push(' style="',b.isVisible()?"":"display:none;");var n=b.nextSibling;!n||n.$instanceof(zul.wgt.Popup)||b.$instanceof(zul.wgt.Popup)||c.push("padding-",d?"bottom:":"right:",p);c.push('"')}c.push(">");b.redraw(c);c.push("</div>");
if(!a)return c.join("");a.push(c.join(""))},isVertical_:zk.$void,_resetBoxSize:function(b){for(var a,c=this.firstChild;c;c=c.nextSibling){var d=c.$n("chdex");d&&(b&&c._nvflex&&"min"!=c.getVflex()&&((a=c.$n())&&(a.scrollTop||a.scrollLeft)||c.setFlexSize_({height:"",width:""}),d&&(d.style.height="")),!b&&c._nhflex&&"min"!=c.getHflex()&&((a=c.$n())&&(a.scrollTop||a.scrollLeft)||c.setFlexSize_({height:"",width:""}),d&&(d.style.width="")))}},afterResetChildSize_:function(b){for(var a=this.firstChild;a;a=
a.nextSibling){var c=a.$n("chdex");c&&("h"==b&&(c.style.height=""),"w"==b&&(c.style.width=""),c.style.minWidth="1px")}},resetSize_:function(b){this.$supers(zul.box.Layout,"resetSize_",arguments);for(var a=this.isVertical_(),c=this.firstChild;c;c=c.nextSibling)if(a?c._nvflex&&"min"!=c.getVflex():c._nhflex&&"min"!=c.getHflex()){var d=c.$n("chdex");d&&("h"==b&&(d.style.height=""),"w"==b&&(d.style.width=""))}},getChildMinSize_:function(b,a){var c=a.$n();if("w"==b&&a._hflex&&this.isVertical_()){b=a.nextSibling;
for(a=0;b;b=b.nextSibling)b._hflex||(c=zjq.minWidth(b.$n()),a=c>a?c:a);return a}return"h"==b?zk(c.parentNode).contentHeight():zjq.minWidth(c)},getContentEdgeHeight_:function(){for(var b=0,a=this.firstChild;a;a=a.nextSibling)b+=zk(a.$n("chdex")).paddingHeight();return b},getContentEdgeWidth_:function(){for(var b=0,a=this.firstChild;a;a=a.nextSibling)b+=zk(a.$n("chdex")).paddingWidth();return b},beforeChildrenFlex_:function(b){var a;this._shallSize=!1;b._flexFixed=!0;var c=this.isVertical_(),d=[],p=
c?0:1,n=[],r=c?1:0,k=this.$n(),l=b.getParentSize_(k);var g=zk(k);k=l.height;l=l.width;var e=this.firstChild;zk.mounting||this._resetBoxSize(c);g.hasVScroll()&&(l-=a=jq.scrollbarWidth());for(g.hasHScroll()&&(k-=a||jq.scrollbarWidth());e;e=e.nextSibling){var h;if(e.isVisible()&&!(h=zk(e)).hasVParent()){a=e;var m=a.$n();g=m.parentNode;var f=zk(g);if(e&&e._nvflex)if(a!==b&&(a._flexFixed=!0),"min"==a._vflex){a.fixMinFlex_(m,"h");var q=m.offsetHeight+h.marginHeight()+f.padBorderHeight();g.style.height=
jq.px0(q);c&&(k-=g.offsetHeight+f.marginHeight())}else d.push(a),c&&(p+=a._nvflex,k-=f.marginHeight());else c&&(k-=f.offsetHeightDoubleValue()+f.marginHeight());a&&a._nhflex?(a!==b&&(a._flexFixed=!0),"min"==a._hflex?(a.fixMinFlex_(m,"w"),a=m.offsetWidth+h.marginWidth()+f.padBorderWidth(),g.style.width=jq.px0(f.revisedWidth(a)),c||(l-=g.offsetWidth+f.marginWidth())):(n.push(a),c||(r+=a._nhflex,l-=f.marginWidth()))):c||(l-=g.offsetWidth+f.marginWidth())}}for(h=0<k?k:0;1<d.length;)a=d.shift(),m=(c?a._nvflex*
k/p:k)|0,e=a.$n().offsetTop,q=m-(11>zk.ie&&0<e?2*e:0),f=a.$n("chdex"),g=zk(f).padBorderHeight(),e=!a.$n().style.height,a.setFlexSize_({height:q-g}),a._vflexsz=m-g,f.style.height=jq.px0(m),c&&(h-=m),!e&&c&&a!==b&&zUtl.fireSized(a);d.length&&(a=d.shift(),e=a.$n().offsetTop,q=h-(11>zk.ie&&0<e?2*e:0),f=a.$n("chdex"),g=zk(f).padBorderHeight(),e=!a.$n().style.height,a.setFlexSize_({height:q-g}),a._vflexsz=h-g,f.style.height=jq.px0(h),!e&&c&&a!==b&&zUtl.fireSized(a));for(h=0<l?l:0;1<n.length;)a=n.shift(),
d=(c?l:a._nhflex*l/r)|0,f=a.$n("chdex"),g=zk(f).padBorderWidth(),e=!a.$n().style.width,a.setFlexSize_({width:d-g}),a._hflexsz=d-g,f.style.width=jq.px0(d),c||(h-=d),e||c||a===b||zUtl.fireSized(a);n.length&&(a=n.shift(),f=a.$n("chdex"),g=zk(f).padBorderWidth(),e=!a.$n().style.width,a.setFlexSize_({width:h-g}),a._hflexsz=h-g,f.style.width=jq.px0(h),e||c||a===b||zUtl.fireSized(a));b.parent.afterChildrenFlex_(b);return b._flexFixed=!1},afterChildrenMinFlex_:function(b){var a=this.$n();if("h"==b){if(this.isVertical_()){var c=
0;for(b=a.firstChild;b;b=b.nextSibling){var d=b.firstChild;d.style.height?(d=d.offsetHeight+zk(b).padBorderHeight()+zk(d).marginHeight(),b.style.height=jq.px0(d),c+=d):c+=b.offsetHeight}}else for(c=0,b=a.firstChild;b;b=b.nextSibling)d=b.offsetHeight+zk(b.firstChild).marginHeight(),d>c&&(c=d);a.style.height=jq.px0(c)}else{if(this.isVertical_())for(c=0,b=a.firstChild;b;b=b.nextSibling)d=b.firstChild.offsetWidth+zk(b.firstChild).marginWidth(),d>c&&(c=d);else for(c=0,b=a.firstChild;b;b=b.nextSibling)d=
b.firstChild,d.style.width?(d=d.offsetWidth+zk(b).padBorderWidth()+zk(d).marginWidth(),b.style.width=jq.px0(d),c+=d):c+=b.offsetWidth;8<zk.ie&&this._hflexsz&&(c=Math.max(this._hflexsz,c));a.style.width=jq.px0(c)}}});

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(f,k,g){if(null==f)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(k instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return f+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,k,g){f!=Array.prototype&&f!=Object.prototype&&(f[k]=g.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(f,k,g,m){if(k){g=$jscomp.global;f=f.split(".");for(m=0;m<f.length-1;m++){var a=f[m];a in g||(g[a]={});g=g[a]}f=f[f.length-1];m=g[f];k=k(m);k!=m&&null!=k&&$jscomp.defineProperty(g,f,{configurable:!0,writable:!0,value:k})}};
$jscomp.polyfill("String.prototype.startsWith",function(f){return f?f:function(f,g){var k=$jscomp.checkStringArgs(this,f,"startsWith");f+="";var a=k.length,c=f.length;g=Math.max(0,Math.min(g|0,k.length));for(var b=0;b<c&&g<a;)if(k[g++]!=f[b++])return!1;return b>=c}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(f){return f?f:function(f,g){var k=$jscomp.checkStringArgs(this,f,"endsWith");f+="";void 0===g&&(g=k.length);g=Math.max(0,Math.min(g|0,k.length));for(var a=f.length;0<a&&0<g;)if(k[--g]!=f[--a])return!1;return 0>=a}},"es6","es3");
(function(){function f(a){return a&&a.startsWith("0")&&!zk.parseInt(a)}function k(a,c){var b="",d=a._spacing,e=f(d),g=a.isVertical();d=d&&"auto"!=d?(g?"height:":"width:")+d:"";b+="<t"+(g?"r":"d")+' id="'+c.uuid+'-chdex2" class="'+a.$s("separator")+'"';a=d;if(e||!c.isVisible())a="display:none;"+a;a&&(b+=' style="'+a+'"');return b+=">"+(g?"<td>":"")+zUtl.img0+(g?"</td></tr>":"</td>")}function g(){var a=this.isVertical();if(this._isStretchAlign()||a&&this._nhflex||!a&&this._nvflex)for(var c=this.firstChild;c;c=
c.nextSibling)if(c.isVisible()){var b=c.$n();if(a){if(c._nhflex&&0<c._nhflex)c.setFlexSize_({width:"auto"});else if(b&&this._isStretchAlign()){var d=b.style.width;if(d){var e=b.offsetWidth;b.style.width="";b.offsetWidth>e&&(b.style.width=d)}}!c.$instanceof(zul.wgt.Cell)&&this._nhflex&&(b=c.$n("chdex"),b.style.width="")}else c._nvflex&&0<c._nvflex?c.setFlexSize_({height:"auto"}):b&&this._isStretchAlign()&&(d=b.style.height)&&(e=b.offsetHeight,b.style.height="",b.offsetHeight>e&&(b.style.height=d)),
!c.$instanceof(zul.wgt.Cell)&&this._nvflex&&(b=c.$n("chdex"),b.style.height="")}var f;zk.webkit&&!a&&(f=this.$n().style.height)&&(a=this.$n("frame"),a.style.height="",a.style.height=0<f.indexOf("%")?jq.px0(a.offsetHeight):f)}var m=zul.box.Box=zk.$extends(zul.Widget,{_mold:"vertical",_align:"start",_pack:"start",_sizedByContent:!0,$define:{align:_zkf=function(){this.rerender()},pack:_zkf,spacing:_zkf,sizedByContent:_zkf,widths:_zkf=function(a){this._sizes=a;this.rerender()}},setHeights:function(a){this.setWidths(a)},
getHeights:function(){return this.getWidths()},isVertical:function(){return"vertical"==this._mold},getOrient:function(){return this._mold},getZclass:function(){var a=this._zclass;return null!=a?a:this.isVertical()?"z-vbox":"z-hbox"},onChildVisible_:function(a){this.$supers("onChildVisible_",arguments);this.desktop&&this._fixChildDomVisible(a,a._visible)},replaceChildHTML_:function(a){this.$supers("replaceChildHTML_",arguments);this._fixChildDomVisible(a,a._visible);if(a.$instanceof(zul.box.Splitter)){var c=
this._chdextr(a);c&&(c.style.height="",c.style.width="");zUtl.fireSized(this,-1)}},_fixChildDomVisible:function(a,c){var b=this._chdextr(a);b&&(b.style.display=c?"":"none");if(b=a.$n("chdex2"))b.style.display=c&&!f(this._spacing)?"":"none";this.lastChild==a&&(b=a.previousSibling)&&(b=b.$n("chdex2"))&&(b.style.display=c?"":"none")},_chdextr:function(a){return a.$n("chdex")||a.$n()},insertChildHTML_:function(a,c,b){if(c)jq(this._chdextr(c)).before(this.encloseChildHTML_(a));else{c=this.$n("real");var d=
c.tBodies;d&&d.length||c.appendChild(document.createElement("tbody"));jq(this.isVertical()?d[0]:d[0].rows[0]).append(this.encloseChildHTML_(a,!0))}a.bind(b)},removeChildHTML_:function(a){this.$supers("removeChildHTML_",arguments);jq(a.uuid+"-chdex",zk).remove();jq(a.uuid+"-chdex2",zk).remove();var c;this.lastChild==a&&(c=a.previousSibling)&&jq(c.uuid+"-chdex2",zk).remove()},encloseChildHTML_:function(a,c,b){var d=[],e=a.$instanceof(zul.wgt.Cell);if(this.isVertical()){d.push('<tr id="',a.uuid,'-chdex"',
this._childOuterAttrs(a),">");if(!e){d.push("<td",this._childInnerAttrs(a));var f=this.getAlign();f&&"stretch"!=f&&d.push(' align="',zul.box.Box._toHalign(f),'"');d.push(">")}a.redraw(d);e||d.push("</td>");d.push("</tr>")}else e||d.push('<td id="',a.uuid,'-chdex"',this._childOuterAttrs(a),this._childInnerAttrs(a),">"),a.redraw(d),e||d.push("</td>");(e=a.nextSibling)&&!e.$instanceof(zul.wgt.Popup)?d.push(k(this,a)):c&&(a=a.previousSibling)&&d.unshift(k(this,a));if(!b)return d.join("");a=0;for(c=d.length;a<
c;++a)b.push(d[a])},_resetBoxSize:function(a){var c;a=this.isVertical();var b=-1,d=this._sizes;if(!zk.mounting)if(a)for(var e=this.firstChild;e;e=e.nextSibling)!d||e.$instanceof(zul.box.Splitter)||e.$instanceof(zul.wgt.Cell)||++b,e._nvflex&&"min"!=e.getVflex()&&(e.setFlexSize_({height:"",width:""}),!(a=e.$n("chdex"))||(c=e.$n())&&(c.scrollTop||c.scrollLeft)||(a.style.height=d&&b<d.length?d[b]:"",a.style.width=""));else for(e=this.firstChild;e;e=e.nextSibling)!d||e.$instanceof(zul.box.Splitter)||e.$instanceof(zul.wgt.Cell)||
++b,e._nhflex&&"min"!=e.getHflex()&&(e.setFlexSize_({height:"",width:""}),!(a=e.$n("chdex"))||(c=e.$n())&&(c.scrollTop||c.scrollLeft)||(a.style.width=d&&b<d.length?d[b]:"",a.style.height=""))},afterResetChildSize_:function(){for(var a=this.firstChild,c=this.isVertical();a;a=a.nextSibling)if(a.desktop){var b=c?a.$n("chdex").firstChild:a.$n("chdex");b&&(b.style.minWidth="1px")}},resetSize_:function(a){this.$supers(zul.Widget,"resetSize_",arguments);if(!zk.ie){var c=this.$n();c.scrollTop||c.scrollLeft||
(this.$n("frame").style["w"==a?"width":"height"]="")}var b=this.isVertical();c=-1;var d=this._sizes;if(b)for(var e=this.firstChild;e;e=e.nextSibling){if(!d||e.$instanceof(zul.box.Splitter)||e.$instanceof(zul.wgt.Cell)||++c,e._nvflex&&"min"!=e.getVflex()&&(b=e.$n("chdex")))"h"==a&&(b.style.height=d&&c<d.length?d[c]:""),"w"==a&&(b.style.width="")}else for(e=this.firstChild;e;e=e.nextSibling)if(!d||e.$instanceof(zul.box.Splitter)||e.$instanceof(zul.wgt.Cell)||++c,e._nhflex&&"min"!=e.getHflex()&&(b=e.$n("chdex")))"w"==
a&&(b.style.width=d&&c<d.length?d[c]:""),"h"==a&&(b.style.height="")},_getContentSize:function(){var a=this.$n();a=zk(a);var c=void 0!==this._vflexsz?this._vflexsz-a.padBorderHeight()-a.marginHeight():a.contentHeight(!0),b=void 0!==this._hflexsz?this._hflexsz-a.padBorderWidth()-a.marginWidth():a.contentWidth(!0);return a?{height:c,width:b}:{height:0,width:0}},beforeChildrenFlex_:function(a){var c,b;a._flexFixed=!0;var d=this.isVertical(),e=[],f=d?0:1,g=[],k=d?1:0;var h=(c=a.$n("chdex"))?c.parentNode:
a.$n().parentNode;c=this.$n();var q=zk(c);var m=this._getContentSize(),r=m.height;m=m.width;h=h.firstChild;var n=-1;var p=this._sizes;zk.mounting||this._resetBoxSize(d);q.hasVScroll()&&(m-=b=jq.scrollbarWidth());for(q.hasHScroll()&&(r-=b||jq.scrollbarWidth());h;h=h.nextSibling){for(var l=h.id&&h.id.endsWith("-chdex")?d?h.firstChild.id?h.firstChild:h.firstChild.firstChild:h.firstChild:h;l&&3==l.nodeType;l=l.nextSibling);zkc=zk(l);fixedSize=!1;if(zkc.isVisible()){q=l.id?l.id.indexOf("-"):1;b=0>q?zk.Widget.$(l.id):
null;q=this._hflexsz;var t=zk.chrome&&q;p&&b&&!b.$instanceof(zul.box.Splitter)&&!b.$instanceof(zul.wgt.Cell)&&(++n,n<p.length&&p[n]&&(d&&!b._nvflex||!d&&!b._nhflex)&&(l=h,zkc=zk(l),fixedSize=p[n].endsWith("px")));t&&(c.style.width="");var v=fixedSize&&d?zk.parseInt(p[n]):11>zk.ie&&h.id&&h.id.endsWith("-chdex2")&&h.style.height&&h.style.height.endsWith("px")?zk.parseInt(h.style.height):zkc.offsetHeight(),u=(fixedSize&&!d?zk.parseInt(p[n]):zkc.offsetWidth())+zkc.marginWidth();v+=zkc.marginHeight();
t&&(c.style.width=jq.px0(q));b&&b._nvflex?(b!==a&&(b._flexFixed=!0),"min"==b._vflex?(b.fixMinFlex_(l,"h"),d&&(r-=v)):(e.push(b),d&&(f+=b._nvflex))):d&&(r-=v);b&&b._nhflex?(b!==a&&(b._flexFixed=!0),"min"==b._hflex?(b.fixMinFlex_(l,"w"),d||(m-=u)):(g.push(b),d||(k+=b._nhflex))):d||(m-=u)}}l=0<r?r:0;for(q=e.length-1;0<q;--q)b=e.shift(),t=u=b._nvflex*r/f|0,c=b.$n("chdex"),p=zk(c),n=p.padBorderHeight(),h=!b.$n().style.height,b.setFlexSize_({height:t-n}),b._vflexsz=u-n,b.$instanceof(zul.wgt.Cell)||(c.style.height=
jq.px0(u-p.marginHeight())),d&&(l-=u),!h&&d&&b!==a&&zUtl.fireSized(b);e.length&&(b=e.shift(),t=l,c=b.$n("chdex"),p=zk(c),n=p.padBorderHeight(),h=!b.$n().style.height,b.setFlexSize_({height:t-n}),b._vflexsz=l-n,b.$instanceof(zul.wgt.Cell)||(c.style.height=jq.px0(l-p.marginHeight())),!h&&d&&b!==a&&zUtl.fireSized(b));l=0<m?m:0;for(q=g.length-1;0<q;--q)b=g.shift(),e=b._nhflex*m/k|0,c=b.$n("chdex"),p=zk(c),n=p.padBorderWidth(),h=!b.$n().style.width,b.setFlexSize_({width:e-n}),b._hflexsz=e-n,b.$instanceof(zul.wgt.Cell)||
(c.style.width=jq.px0(e-p.marginWidth())),d||(l-=e),h||d||b===a||zUtl.fireSized(b);g.length&&(b=g.shift(),c=b.$n("chdex"),p=zk(c),n=p.padBorderWidth(),h=!b.$n().style.width,b.setFlexSize_({width:l-n}),b._hflexsz=l-n,b.$instanceof(zul.wgt.Cell)||(c.style.width=jq.px0(l-p.marginWidth())),h||d||b===a||zUtl.fireSized(b));a.parent.afterChildrenFlex_(a);return a._flexFixed=!1},_childOuterAttrs:function(a){if(a.$instanceof(zul.box.Splitter))var c=' class="'+a.$s("outer")+'"';else if(this.isVertical())this._isStretchPack()?
(c=this._pack2,c=' valign="'+(c?zul.box.Box._toValign(c):"top")+'"'):c=' valign="top"';else return"";a.isVisible()||(c+=' style="display:none"');return c},_childInnerAttrs:function(a){var c="",b=this.isVertical(),d=zul.box.Splitter;if(a.$instanceof(d))return"";if(this._isStretchPack()){var e=b?this.getAlign():this._pack2;e&&(c+=' align="'+zul.box.Box._toHalign(e)+'"')}e="";var f=this._sizes;if(f)for(var g=0,k=f.length,h=this.firstChild;h&&g<k;h=h.nextSibling){if(a==h){e=(b?"height:":"width:")+f[g];
break}h.$instanceof(d)||++g}b||a.isVisible()||(e+=e?";display:none":"display:none");b||(e+=e?";height:100%":"height:100%");return e?c+' style="'+e+'"':c},_isStretchPack:function(){return this._splitterKid||this._stretchPack},_isStretchAlign:function(){return"stretch"==this._align},_bindWatch:function(){this._watchBound||(this._watchBound=!0,zWatch.listen({onSize:this,onHide:this}))},_unbindWatch:function(){this._watchBound&&(zWatch.unlisten({onSize:this,onHide:this}),delete this._watchBound)},bind_:function(){this.$supers(m,
"bind_",arguments);this._bindFixTd();this._isStretchAlign()&&this._bindAlign();this._splitterKid&&this._bindWatch()},unbind_:function(){this._unbindWatch();this._unbindAlign();this._unbindFixTd();this.$supers(m,"unbind_",arguments)},_bindAlign:function(){this._watchAlign||(this._watchAlign=!0,zWatch.listen({onSize:[this,this._fixAlign],onHide:[this,this._fixAlign]}))},_unbindAlign:function(){this._watchAlign&&(zWatch.unlisten({onSize:[this,this._fixAlign],onHide:[this,this._fixAlign]}),delete this._watchAlign)},
_fixAlign:function(){if(this._isStretchAlign()){var a=this.isVertical(),c=this.$n("frame"),b=zk(c);c=a?b.revisedWidth(c.offsetWidth):b.revisedHeight(c.offsetHeight);b=this.firstChild;for(var d;b;b=b.nextSibling)b.isVisible()&&(d=b.$n())&&(a?d.style.width=zk(d).revisedWidth(c,!zk.webkit)+"px":d.style.height=zk(d).revisedHeight(c-(11>zk.ie&&0<d.offsetTop?2*d.offsetTop:0),!zk.webkit)+"px")}},_bindFixTd:function(){this._watchTd||(this._watchTd=!0,zWatch.listen({onSize:[this,g],onHide:[this,g]}))},_unbindFixTd:function(){this._watchTd&&
(zWatch.unlisten({onSize:[this,g],onHide:[this,g]}),delete this._watchTd)},_configPack:function(){var a;(a=this._pack)?(a=a.split(","),"stretch"==a[0].trim()?(this._stretchPack=!0,this._pack2=1<a.length?a[1].trim():null):(this._stretchPack=1<a.length&&"stretch"==a[1].trim(),this._pack2=a[0].trim())):(delete this._pack2,delete this._stretchPack)},onSize:_zkf=function(){if(this._splitterKid){var a=this.isVertical();this.$n();var c=this.$n("real");c.style.height=c.style.width="100%";for(var b=a?c.rows:
c.rows[0].cells,d=a?zk(c).revisedHeight(c.offsetHeight):zk(c).revisedWidth(c.offsetWidth),e=this._sizes,f=b.length;f--;){var g=b[f];if(zk(g).isVisible()){if(a){if(c=g.offsetHeight,g.id&&!g.id.endsWith("-chdex2"))if(g.cells.length){var k=g.cells[0];k.style.height=zk(k).revisedHeight(f?c:d)+"px";g.style.height=""}else g.style.height=zk(g).revisedHeight(f?c:d)+"px"}else c=g.offsetWidth,e||!g.id||g.id.endsWith("-chdex2")||(g.style.width=zk(g).revisedWidth(f?c:d)+"px");d-=c}}}},onHide:_zkf},{_toValign:function(a){return a?
"start"==a?"top":"center"==a?"middle":"end"==a?"bottom":a:null},_toHalign:function(a){return a?"start"==a?"left":"end"==a?"right":a:null}})})();

zkreg('zul.box.Box');
zk._m={};
zk._m['vertical']=vbox$mold$=function(b){delete this._splitterKid;for(var a=this.firstChild;a;a=a.nextSibling)if(a.$instanceof(zul.box.Splitter)){this._splitterKid=!0;break}this._configPack();b.push("<table",this.domAttrs_(),zUtl.cellps0,"><tr");!this._isStretchPack()&&this._pack2&&b.push(' valign="',zul.box.Box._toValign(this._pack2),'"');b.push('><td id="',this.uuid,'-frame" style="width:100%');(11>zk.ie||zk.webkit)&&b.push(";height:100%");b.push('"');(a=this.getAlign())&&"stretch"!=a&&b.push(' align="',zul.box.Box._toHalign(a),
'"');b.push('><table id="',this.uuid,'-real"',zUtl.cellps0,'style="text-align:left');("stretch"==a||zk.webkit&&(null==a||"start"==a))&&b.push(";width:100%");this._isStretchPack()&&b.push(";height:100%");b.push('">');for(a=this.firstChild;a;a=a.nextSibling)this.encloseChildHTML_(a,!1,b);b.push("</table></td></tr></table>")};

;zk._m['horizontal']=hbox$mold$=function(b){delete this._splitterKid;for(var a=this.firstChild;a;a=a.nextSibling)if(a.$instanceof(zul.box.Splitter)){this._splitterKid=!0;break}this._configPack();b.push("<table",this.domAttrs_(),zUtl.cellps0,"><tr");(a=this.getAlign())&&"stretch"!=a&&b.push(' valign="',zul.box.Box._toValign(a),'"');b.push('><td id="',this.uuid,'-frame" style="width:100%;height:100%"');!this._isStretchPack()&&this._pack2&&b.push(' align="',zul.box.Box._toHalign(this._pack2),'"');b.push('><table id="',this.uuid,
'-real" height="100%" ',zUtl.cellps0,'style="text-align:left');this.isSizedByContent()||b.push(";table-layout:fixed");"stretch"==a&&b.push(";height:100%");this._isStretchPack()&&b.push(";width:100%");b.push('"><tr valign="',a&&"stretch"!=a?zul.box.Box._toValign(a):"top",'">');for(a=this.firstChild;a;a=a.nextSibling)this.encloseChildHTML_(a,!1,b);b.push("</tr></table></td></tr></table>")};

;zkmld(zk._p.p.Box,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(d,a,b){if(null==d)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return d+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,a,b){d!=Array.prototype&&d!=Object.prototype&&(d[a]=b.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,a,b,c){if(a){b=$jscomp.global;d=d.split(".");for(c=0;c<d.length-1;c++){var g=d[c];g in b||(b[g]={});b=b[g]}d=d[d.length-1];c=b[d];a=a(c);a!=c&&null!=a&&$jscomp.defineProperty(b,d,{configurable:!0,writable:!0,value:a})}};
$jscomp.polyfill("String.prototype.endsWith",function(d){return d?d:function(a,b){var c=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===b&&(b=c.length);b=Math.max(0,Math.min(b|0,c.length));for(var g=a.length;0<g&&0<b;)if(c[--b]!=a[--g])return!1;return 0>=g}},"es6","es3");
(function(){function d(a,b,c){var g=a.getCollapse();if(g&&"none"!=g){var d=a.$n("chdex"),n=a.isVertical(),e=a.$class,f="before"==g;g=f?e._prev(d):e._next(d);var h=zk.Widget.$(g),m=n?"height":"width",l=0;if(g){b||zWatch.fireDown("onHide",h);h.setDomVisible_(g,b);h.parent._fixChildDomVisible(h,b);var k=n&&g.cells.length?g.cells[0]:g;l=zk.parseInt(k.style[m]);!f&&h&&!h.nextSibling&&(k=a.$n("chdex2"))&&(k.style.display=b?"":"none",l+=zk.parseInt(k.style[m]))}if(d=f?e._next(d):e._prev(d))k=n&&d.cells.length?
d.cells[0]:d,(sz=k.style[m])&&-1<sz.indexOf("px")&&(l=zk.parseInt(k.style[m])+(b?-l:l),0>l&&(l=0),k.style[m]=l+"px");g&&b&&zUtl.fireShown(h);d&&zUtl.fireSized(zk.Widget.$(d),-1);a._fixNSDomClass();a._fixbtn();a._fixszAll();c&&!c.sendOnOpen||a.fire("onOpen",{open:b})}}zul.box.Splitter=zk.$extends(zul.Widget,{_collapse:"none",_open:!0,$define:{open:function(a,b){this.desktop&&d(this,a,b)}},isVertical:function(){var a=this.parent;return!a||a.isVertical()},getOrient:function(){var a=this.parent;return a?
a.getOrient():"vertical"},getCollapse:function(){return this._collapse},setCollapse:function(a){if(this._collapse!=a){var b=this._open;b||this.setOpen(!0,{sendOnOpen:!1});this._collapse=a;this.desktop&&(this._fixbtn(),this._fixsz());b||this.setOpen(!1,{sendOnOpen:!1})}},domClass_:function(a){var b=this.$supers("domClass_",arguments);a&&a.zclass||(b+=" "+this.$s("vertical"==this.getOrient()?"vertical":"horizontal"));return b},setZclass:function(){this.$supers("setZclass",arguments);this.desktop&&this._fixDomClass(!0)},
bind_:function(){this.$supers(zul.box.Splitter,"bind_",arguments);var a=this.parent;a&&!a._splitterKid&&a._bindWatch();zWatch.listen({onSize:this,beforeSize:this});this._fixDomClass();a=this.$n();var b=this.$class;this.$weave||jq(this.$n("btn")).click(b.onclick);this._fixbtn();this._drag=new zk.Draggable(this,a,{constraint:this.getOrient(),ignoredrag:b._ignoresizing,ghosting:b._ghostsizing,overlay:!0,zIndex:12E3,initSensitivity:0,snap:b._snap,endeffect:b._endDrag});this._shallClose=!this._open},unbind_:function(){zWatch.unlisten({onSize:this,
beforeSize:this});var a=this.$class,b;(b=this.$n("btn"))&&jq(b).unbind("click",a.onclick);this._drag.destroy();this._drag=null;this.$supers(zul.box.Splitter,"unbind_",arguments)},_fixDomClass:function(a){var b=this.$n().parentNode;b&&(this.isVertical()&&(b=b.parentNode),b&&b.id.endsWith("chdex")&&(b.className=this.$s("outer")));a&&this._fixbtn()},_fixNSDomClass:function(){jq(this.$n())[this._open?"removeClass":"addClass"](this.$s("nosplitter"))},_fixbtn:function(){var a=jq(this.$n("btn")),b=jq(this.$n("icon")),
c=this.getCollapse();c&&"none"!=c?(c="before"==c,this._open||(c=!c),this.isVertical()?jq(this.$n("icon")).removeClass(c?"z-icon-caret-down":"z-icon-caret-up").addClass(c?"z-icon-caret-up":"z-icon-caret-down"):jq(this.$n("icon")).removeClass(c?"z-icon-caret-right":"z-icon-caret-left").addClass(c?"z-icon-caret-left":"z-icon-caret-right"),a.removeClass(this.$s("button-disabled")),b.show()):(a.addClass(this.$s("button-disabled")),b.hide())},setBtnPos_:function(a){var b=this.$n("btn"),c=this.$n();a?b.style.marginLeft=
(c.offsetWidth-b.offsetWidth)/2+"px":b.style.marginTop=(c.offsetHeight-b.offsetHeight)/2+"px"},_fixsz:_zkf=function(){if(this.isRealVisible()){var a=this.$n(),b=a.parentNode;b&&(b.style.width="",this.getCollapse(),this.isVertical()?(a.style.width="100%",this.setBtnPos_(!0)):(a.style.height=(zk.webkit?b.parentNode.clientHeight:b.clientHeight)+"px",this.setBtnPos_()));this._shallClose&&(delete this._shallClose,d(this,!1,{sendOnOpen:!1}))}},onSize:_zkf,beforeSize:function(){this.$n().style[this.isVertical()?
"width":"height"]="";this.$n("btn").style[this.isVertical()?"margin-left":"margin-top"]=""},_fixszAll:function(){for(var a,b=this;b=b.parent;)b.$instanceof(zul.box.Box)&&(a=b);a?this.$class._fixKidSplts(a):this._fixsz()}},{onclick:function(a){a=zk.Widget.$(a);a.setOpen(!a._open)},_ignoresizing:function(a,b,c){b=a.control;if(!b._open||b.$n("icon")==c.domTarget)return!0;a=a.run={};c=b.$n();var d=b.$n("chdex"),q=zul.box.Splitter;a.prev=q._prev(d);a.next=q._next(d);if(!a.prev||!a.next)return!0;a.prevwgt=
b.previousSibling;a.nextwgt=b.nextSibling;a.z_offset=zk(c).cmOffset();return!1},_ghostsizing:function(a,b,c){a=zk(a.node.parentNode);jq(document.body).append('<div id="zk_ddghost" class="z-splitter-ghost" style="font-size:0;line-height:0;background:#AAA;position:absolute;top:'+b[1]+"px;left:"+b[0]+"px;width:"+a.offsetWidth()+"px;height:"+a.offsetHeight()+'px;"></div>');return jq("#zk_ddghost")[0]},_endDrag:function(a){var b=a.control,c=b.isVertical();b.$n();var d=zul.box.Splitter,q=d._fixLayout(b),
n="before"==b.getCollapse(),e=a.run,f;if(c){var h=e.z_point[1];c="height";e.next&&e.next.cells.length&&(e.next=e.next.cells[0]);e.prev&&e.prev.cells.length&&(e.prev=e.prev.cells[0])}else h=e.z_point[0],c="width";var m=e.next,l=e.prev;0>h&&(m=e.prev,l=e.next,h=-h,n=!n);if(h){if(f=e.nextwgt)f.getHflex()&&f.setHflex("false"),f.getVflex()&&f.setVflex("false"),zWatch.fireDown("beforeSize",f);if(f=e.prevwgt)f.getHflex()&&f.setHflex("false"),f.getVflex()&&f.setVflex("false"),zWatch.fireDown("beforeSize",
f);if(m&&l){var k=zk.parseInt(m.style[c]),p=zk.parseInt(l.style[c]);p=k+p;k-=h;0>k&&(k=0);h=p-k;m.style[c]=k+"px";l.style[c]=h+"px";var r=m["client"+c.charAt(0).toUpperCase()+c.slice(1)];p-=r;r!=k&&(m.style[c]=r+"px");p!=h&&(l.style[c]=p+"px");n?l.style.overflow="hidden":m.style.overflow="hidden"}(f=e.nextwgt)&&zUtl.fireSized(f,-1);(f=e.prevwgt)&&zUtl.fireSized(f,-1);d._unfixLayout(q);b._fixszAll();a.run=null}},_snap:function(a,b){var c=a.run;var d=a.control;a=b[0];b=b[1];d.isVertical()?b<=c.z_offset[1]-
c.prev.offsetHeight?b=c.z_offset[1]-c.prev.offsetHeight:(d=c.z_offset[1]+c.next.offsetHeight-d.$n().offsetHeight,b>d&&(b=d)):a<=c.z_offset[0]-c.prev.offsetWidth?a=c.z_offset[0]-c.prev.offsetWidth:(d=c.z_offset[0]+c.next.offsetWidth-d.$n().offsetWidth,a>d&&(a=d));c.z_point=[a-c.z_offset[0],b-c.z_offset[1]];return[a,b]},_next:function(a){return jq(a).next().next()[0]},_prev:function(a){return jq(a).prev().prev()[0]},_fixKidSplts:function(a){if(a.isVisible()){var b=zul.box.Splitter;a.$instanceof(b)&&
a._fixsz();for(a=a.firstChild;a;a=a.nextSibling)b._fixKidSplts(a)}}});zk.opera?(zul.box.Splitter._fixLayout=function(a){a=a.parent.$n();if("fixed"!=a.style.tableLayout){var b=[a,a.style.tableLayout];a.style.tableLayout="fixed";return b}},zul.box.Splitter._unfixLayout=function(a){a&&(a[0].style.tableLayout=a[1])}):zul.box.Splitter._fixLayout=zul.box.Splitter._unfixLayout=zk.$void})();

zkreg('zul.box.Splitter');
zk._m={};
zk._m['os']=splitter$mold$=function(c){var a=this.$s("icon"),b=" z-icon-ellipsis-"+("vertical"==this.getOrient()?"h":"v");c.push("<div",this.domAttrs_(),'><span id="',this.uuid,'-btn" class="',this.$s("button"),'">','<i class="',a,b,'"></i>','<i id="',this.uuid,'-icon" class="',a,'"></i>','<i class="',a,b,'"></i>',"</span></div>")};

;zk._m['default']=[zk._p.p.Splitter,'os'];
zkmld(zk._p.p.Splitter,zk._m);
zul.box.Hlayout=zk.$extends(zul.box.Layout,{_valign:"top",$define:{valign:function(){this.updateDomClass_()}},isVertical_:function(){return!1},domClass_:function(){var a=this.$supers("domClass_",arguments),b;"middle"==(b=this._valign)?a+=" z-valign-middle":"bottom"==b&&(a+=" z-valign-bottom");return a}});

zkreg('zul.box.Hlayout');
zk._m={};
zk._m['default']=layout$mold$=function(b){b.push("<div ",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)this.encloseChildHTML_(a,b);b.push("</div>")};

;zkmld(zk._p.p.Hlayout,zk._m);
zul.box.Vlayout=zk.$extends(zul.box.Layout,{isVertical_:function(){return!0}});

zkreg('zul.box.Vlayout');
zk._m={};
zk._m['default']=[zk._p.p.Hlayout,'default'];
zkmld(zk._p.p.Vlayout,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.box',1);zk.load('zul',function(){if(zk._p=zkpi('zul.layout'))try{
(function(){function f(a,b,d){if(!a)return 0;var c=a.$n("real");b=b?"offsetWidth":"offsetHeight";c=c[b];d&&(d=a.$n("colled"),a=a.$n("split"),d&&(c+=d[b]),a&&(c+=a[b]));return c}var m={north:function(a,b,d,c){a.w=d-a.w;b.y=a.ts;b.h-=a.ts},south:function(a,b,d,c){a.w=d-a.w;a.y=c-a.y;b.h-=a.ts},east:function(a,b,d){a.y+=b.y;a.h=b.h-a.h;a.x=d-a.x;b.w-=a.ts},west:function(a,b){a.y+=b.y;a.h=b.h-a.h;b.x+=a.ts;b.w-=a.ts}},k=zul.layout.Borderlayout=zk.$extends(zul.Widget,{setResize:function(){this.resize()},
onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);var b=zul.layout.Borderlayout;switch(a.getPosition()){case b.NORTH:this.north=a;break;case b.SOUTH:this.south=a;break;case b.CENTER:this.center=a;break;case b.WEST:this.west=a;break;case b.EAST:this.east=a}this._shallResize=!0},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);a==this.north?this.north=null:a==this.south?this.south=null:a==this.center?this.center=null:a==this.west?this.west=null:a==this.east&&(this.east=
null);this.childReplacing_||(this._shallResize=!0)},bind_:function(){this.$supers(k,"bind_",arguments);zWatch.listen({onSize:this,onCommandReady:this})},unbind_:function(){zWatch.unlisten({onSize:this,onCommandReady:this});this.$supers(k,"unbind_",arguments)},onCommandReady:function(){this._shallResize&&this.resize()},beforeMinFlex_:function(a){var b=this.east,d=this.west,c=this.north,e=this.south,l=this.center;return"w"==a?Math.max(f(c,!0),f(e,!0),f(b,!0,!0)+f(d,!0,!0)+f(l,!0)):f(c,!1,!0)+f(e,!1,
!0)+Math.max(f(b),f(d),f(l))},afterChildrenFlex_:function(){this._isOnSize&&this._resize(!0)},resize:function(){this.desktop&&this._resize()},_resize:function(a){this._shallResize=!1;this._isOnSize=a;if(zk(this.$n()).isRealVisible()){for(var b=["north","south","west","east"],d=b.length,c,e=0;e<d;++e)if((c=this[b[e]])&&zk(c.$n()).isVisible()&&(c._nvflex&&void 0===c._vflexsz||c._nhflex&&void 0===c._hflexsz))return;c=this.$n();var f=c.offsetWidth,g=c.offsetHeight;a={x:0,y:0,w:f,h:g};!zk.opera||g||c.style.height&&
"100%"!=c.style.height||(a.h=g=c.parentNode.offsetHeight);for(e=0;e<d;++e)if((c=this[b[e]])&&zk(c.$n()).isVisible()){var h=c._ambit();m[b[e]](h,a,f,g);this._resizeWgt(c,h);h=c._isVertical()?"width":"height";jq(c.$n("title")).width(jq(c.$n("colled"))[h]()-jq(c.$n("btned"))[h]())}this.center&&zk(this.center.$n()).isVisible()&&(b=this.center.getCurrentMargins_(),a.x+=b.left,a.y+=b.top,a.w-=b.left+b.right,a.h-=b.top+b.bottom,this._resizeWgt(this.center,a));this._isOnSize=!1}},_resizeWgt:function(a,b,
d){if(a._open)!d&&a.$n("split")&&(a._fixSplit(),b=a._reszSplt(b)),zk.copy(a.$n("real").style,{left:jq.px(b.x),top:jq.px(b.y)}),this._resizeBody(a,b);else{a.$n("split").style.display="none";if(d=a.$n("colled"))zk(d),zk.copy(d.style,{left:jq.px(b.x),top:jq.px(b.y),width:jq.px0(b.w),height:jq.px0(b.h)});if((d=a.$n("real"))&&zk(d).isVisible()){var c=a.$instanceof(zul.layout.South),e=a.$instanceof(zul.layout.East);if(c||a.$instanceof(zul.layout.North))b.h=d.offsetHeight,c&&(d.style.top=jq.px(b.y-b.h));
if(e||a.$instanceof(zul.layout.West))b.w=d.offsetWidth,e&&(d.style.left=jq.px(b.x-b.w));this._resizeBody(a,b)}}},_resizeBody:function(a,b){b.w=Math.max(0,b.w);b.h=Math.max(0,b.h);var d=a.$n("real");if(!this._ignoreResize(d,b.w,b.h)){var c=a.isFlex()&&a.getFirstChild(),e=(c?a.getFirstChild().$n():a.$n("cave")).style,f=zk(d);d.style.width=jq.px0(b.w);var g=f.contentWidth();8<zk.ie&&(a.$instanceof(zul.layout.West)||a.$instanceof(zul.layout.East))&&!a._width&&!a._hflex&&g++;e.width=jq.px0(g);d.style.height=
jq.px0(b.h);a.$n("cap")&&(b.h=Math.max(0,b.h-a.$n("cap").offsetHeight));c&&(d=a.$n("cave"))&&(d.style.height=jq.px0(b.h-f.padBorderHeight()));e.height=jq.px0(b.h-f.padBorderHeight());a._nativebar&&a.isAutoscroll()&&(e.overflow="auto",e.position="relative");this._isOnSize||zUtl.fireSized(a)}},_ignoreResize:function(a,b,d){if(a._lastSize&&a._lastSize.width==b&&a._lastSize.height==d)return!0;a._lastSize={width:b,height:d};return!1},onSize:function(){this._resize(!0)}},{NORTH:"north",SOUTH:"south",EAST:"east",
WEST:"west",CENTER:"center"})})();

zkreg('zul.layout.Borderlayout');
zk._m={};
zk._m['default']=borderlayout$mold$=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div>")};

;zkmld(zk._p.p.Borderlayout,zk._m);
(function(){function l(a,b,c){var d=a.getFirstChild();d&&(b?(a._fcvflex=d.getVflex(),a._fchflex=d.getHflex(),c&&"min"==d._vflex||d.setVflex(!0),c&&"min"==d._hflex||d.setHflex(!0)):(d.setVflex(a._fcvflex),d.setHflex(a._fchflex),delete a._fcvflex,delete a._fchflex))}zul.layout.LayoutRegion=zk.$extends(zul.Widget,{_open:!0,_border:"normal",_maxsize:2E3,_minsize:0,_scrollbar:null,_slidable:!0,_closable:!0,$init:function(){this.$supers("$init",arguments);this._margins=[0,0,0,0];this._cmargins=[3,3,3,3]},
$define:{flex:function(a){l(this,a);this.rerender(-1)},border:function(a){a&&"0"!=a||(this._border="none");this.desktop&&((this.$n("real")||{})._lastSize=null);this.updateDomClass_()},title:function(){this.rerender()},splittable:function(a){this.parent&&this.desktop&&this.parent.resize()},maxsize:null,minsize:null,collapsible:function(a){var b=this.$n(this._open?"btn":"btned");!b||a&&!this._closable||(b.style.display=a?"":"none")},autoscroll:function(a){var b=this.$n("cave");if(b)for(b=this.isFlex()&&
this.getFirstChild()?this.getFirstChild().$n():b,a?(8>=zk.ie&&(this._nativebar=!0),this._nativebar?(b.style.overflow="auto",b.style.position="relative",this.domListen_(b,"onScroll")):zWatch.listen({onSize:this})):this._nativebar?(b.style.overflow="hidden",b.style.position="",this.domUnlisten_(b,"onScroll")):zWatch.unlisten({onSize:this}),a=this.firstChild;a;a=a.nextSibling)if(0<a._nvflex||0<a._nhflex){zUtl.fireSized(this);break}},open:function(a,b,c){if(this.$n()&&this.isCollapsible()&&this.parent&&
(b||this._closable)){c=this.parent._animationDisabled||c;var d=this.$n("colled"),g=this.$n("real");if(a){if(b){if(!zk(this.$n()).isRealVisible()){d&&(jq(g).show(),jq(d).hide());return}var f=this.$n("real").style;f.visibility="hidden";f.display="";this._syncSize(!0);f.visibility="";f.display="none";this._open=!0}d&&(c?(jq(g).show(),jq(d).hide(),zUtl.fireShown(this)):zk(d).slideOut(this,{anchor:this.sanchor,duration:200,afterAnima:b?this.$class.afterSlideOut:this.$class._afterSlideOutX}))}else d&&!c?
zk(g).slideOut(this,{anchor:this.sanchor,beforeAnima:this.$class.beforeSlideOut,afterAnima:b?this.$class.afterSlideOut:this.$class._afterSlideOutX}):(d&&jq(d).show(),jq(g).hide());c&&this.parent.resize();!b&&c&&this.fire("onOpen",{open:a})}},slide:function(a,b,c){if(this._isSlide)c?this.$class.afterSlideUp.apply(this,[this.$n("real")]):zk(this.$n("real")).slideUp(this,{anchor:this.sanchor,afterAnima:this.$class.afterSlideUp});else{this._isSlide=!0;c=this.$n("real");var d=c.style;d.visibility="hidden";
d.display="";this._syncSize();this._original=[d.left,d.top];this._alignTo();d.zIndex=100;this.$n("btn")&&(this.$n("btn").style.display="none");d.visibility="";d.display="none";jq(c).addClass(this.$s("slide"));zk(c).slideDown(this,{anchor:this.sanchor,afterAnima:this.$class.afterSlideDown})}b||this.fire("onSlide",{slide:a})},slidable:null,closable:function(a){this.desktop&&this._collapsible&&(jq(this.$n("btn")).toggle(a),jq(this.$n("btned")).toggle(a),jq(this.$n("splitbtn")).toggleClass(this.$s("splitter-button-disabled"),
!a))}},setVflex:function(a){"min"!=a&&(a=!1);this.$super(zul.layout.LayoutRegion,"setVflex",a)},setHflex:function(a){"min"!=a&&(a=!1);this.$super(zul.layout.LayoutRegion,"setHflex",a)},getCmargins:function(){return zUtl.intsToString(this._open?this._margins:this._cmargins)},setCmargins:function(a){this.getCmargins()!=a&&(this._cmargins=zUtl.stringToInts(a,0),this.parent&&this.desktop&&this.parent.resize())},getCurrentMargins_:function(){return zul.layout.LayoutRegion._aryToObject(this._open?this._margins:
this._cmargins)},getMargins:function(){return zUtl.intsToString(this._margins)},setMargins:function(a){this.getMargins()!=a&&(this._margins=zUtl.stringToInts(a,0),this.parent&&this.desktop&&this.parent.resize())},domClass_:function(a){var b=this.$supers("domClass_",arguments);if(!a||!a.zclass){var c="normal"==this.getBorder()?"":this.$s("noborder");c&&(b+=(b?" ":"")+c)}return b},getZclass:function(){return null==this._zclass?"z-"+this.getPosition():this._zclass},getMarginSize_:function(a){return zk(this.$n("real")).sumStyles("h"==
a?"tb":"lr",jq.margins)},setWidth:function(a){this._width=a;var b=this.$n("real");b&&(b.style.width=a?a:"",b._lastSize=null,this.parent.resize());return this},setHeight:function(a){this._height=a;var b=this.$n("real");b&&(b.style.height=a?a:"",b._lastSize=null,this.parent.resize());return this},setVisible:function(a){if(this._visible!=a){this.$supers("setVisible",arguments);var b=this.$n("real"),c=this.$n("colled");b&&(this._visible?this._open?(jq(b).show(),c&&jq(c).hide()):(jq(b).hide(),c&&jq(c).show()):
(jq(b).hide(),c&&jq(c).hide()),this.parent.resize())}return this},setFlexSize_:function(a){var b=this.$n("real"),c=b.style;if(void 0!==a.height)if("auto"==a.height)c.height="";else if(""==a.height)c.height=this._height?this._height:"";else{var d=this.$n("cave"),g=this.$n("cap");d=d&&"min"!=this._vflex?d.offsetHeight+d.offsetTop:a.height-zk(b).marginHeight();g&&(d+=g.offsetHeight);c.height=jq.px0(d)}void 0!==a.width&&("auto"==a.width?b.style.width="":""==a.width?b.style.width=this._width?this._width:
"":(a=a.width-zk(b).marginWidth(),b.style.width=jq.px0(a)))},updateDomClass_:function(){if(this.desktop){var a=this.$n("real");a&&(a.className=this.domClass_(),this.parent&&this.parent.resize())}},updateDomStyle_:function(){if(this.desktop){var a=this.$n("real");a&&(zk(a).clearStyles().jq.css(jq.parseStyle(this.domStyle_())),this.parent&&this.parent.resize())}},insertChildHTML_:function(a,b,c){a.$instanceof(zul.layout.Borderlayout)||this.$super("insertChildHTML_",a,b,c)},onChildAdded_:function(a){this.$supers("onChildAdded_",
arguments);a.$instanceof(zul.layout.Borderlayout)&&(this.setFlex(!0),jq(this.$n()).addClass(this.$s("nested")));this.isFlex()&&l(this,!0,!0);(this.$n("real")||{})._lastSize=null;this.parent&&this.desktop&&this.parent.isRealVisible({dom:!0})&&this.parent.resize()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);this.isFlex()&&l(this,!1);a.$instanceof(zul.layout.Borderlayout)&&(this.setFlex(!1),jq(this.$n()).removeClass(this.$s("nested")));(this.$n("real")||{})._lastSize=null;
this.parent&&this.desktop&&!this.childReplacing_&&this.parent.isRealVisible({dom:!0})&&this.parent.resize()},rerender:function(){this.$supers("rerender",arguments);this.parent&&this.parent.resize();return this},bind_:function(){var a;this.$supers(zul.layout.LayoutRegion,"bind_",arguments);if(this.getPosition()!=zul.layout.Borderlayout.CENTER&&(a=this.$n("split"))){this._fixSplit();var b=this._isVertical();var c=this.$class;this._drag=new zk.Draggable(this,a,{constraint:b?"vertical":"horizontal",ghosting:c._ghosting,
snap:c._snap,zIndex:12E3,overlay:!0,initSensitivity:0,ignoredrag:c._ignoredrag,endeffect:c._endeffect});this._open||(b=this.$n("colled"),a=this.$n("real"),b&&jq(b).show(),jq(a).hide());this._visible||(b=this.$n("colled"),a=this.$n("real"),jq(a).hide(),b&&jq(b).hide())}this._open&&!this.isVisible()&&(this.$n().style.display="none");this.isAutoscroll()&&(8>=zk.ie&&(this._nativebar=!0),this._nativebar?(a=this.isFlex()&&this.getFirstChild()?this.getFirstChild().$n():this.$n("cave"),this.domListen_(a,
"onScroll")):zWatch.listen({onSize:this}));this.isFlex()&&l(this,!0,!0)},unbind_:function(){if(this.isAutoscroll())if(this._nativebar){var a=this.isFlex()&&this.getFirstChild()?this.getFirstChild().$n():this.$n("cave");this.domUnlisten_(a,"onScroll")}else zWatch.unlisten({onSize:this});this.destroyBar_();this.$n("split")&&this._drag&&(this._drag.destroy(),this._drag=null);this.isFlex()&&l(this,!1);this.$supers(zul.layout.LayoutRegion,"unbind_",arguments)},afterChildMinFlexChanged_:function(a,b){if(this.desktop){a=
this.$n("cave");var c=this.$n("real");a&&(a.style["h"==b?"height":"width"]="");c&&(c.style["h"==b?"height":"width"]="");this.parent._resize()}},onSize:function(){var a=this;if(this._fixBarHeight&&this.firstChild){var b=this.firstChild.$n();b&&(b.style.height="")}setTimeout(function(){if(a.desktop){var b=a.$n("cave");!a._scrollbar&&!a._nativebar&&b&&b.firstChild&&(a._scrollbar=a.initScrollbar_());a.refreshBar_()}},200)},initScrollbar_:function(){var a=this,b=!1!==jq(a.$n("real")).data("embedscrollbar"),
c=a.$n("cave");return scrollbar=new zul.Scrollbar(c,c.firstChild,{embed:b,onScrollEnd:function(){a._doScroll()}})},refreshBar_:function(a,b){var c=this._scrollbar;if(c&&this._open){var d=this.$n("cave"),g=this.firstChild;g=g?g.getHeight():0;var f=d.firstChild;for(d=d.offsetHeight;f&&3==f.nodeType;)f=f.nextSibling;if(f){var e=f.style;g&&g.indexOf("px")?this._fixBarHeight=!1:(e.height="",e.height=jq.px(f.scrollHeight>=d?f.scrollHeight:d),this._fixBarHeight=!0);c.scroller=f;c.syncSize(a);b&&c.scrollTo(0,
0)}}},destroyBar_:function(){var a=this._scrollbar;a&&(a.destroy(),this._scrollbar=null)},doResizeScroll_:function(){this.$supers("doResizeScroll_",arguments);this.refreshBar_(!0)},doClick_:function(a){var b=a.domTarget;b.id||(b=b.parentNode);switch(b){case this.$n("colled"):case this.$n("title"):if(this._slidable){this.setSlide(!this._isSlide);break}case this.$n("btn"):case this.$n("btned"):case this.$n("splitbtn"):if(!this.isCollapsible()||this._isSlide||zk.animating()||!this._closable)return;this._open||
(b=this.$n("real").style,b.visibility="hidden",b.display="",this._syncSize(!0),b.visibility="",b.display="none");this.setOpen(!this._open)}this.$supers("doClick_",arguments)},_docClick:function(a){a=a.target;if(this._isSlide&&!jq.isAncestor(this.$n("real"),a)){var b=this.$n("btned");!this._closable||b!=a&&b!=a.parentNode?this.$class.uuid(a)==this.uuid&&zk.animating()||this.setSlide(!1):(this.setSlide(!1,!1,!0),this.setOpen(!0,!1,!0),this.$n("real").style.zIndex="")}},_syncSize:function(a){var b=this.parent;
var c=b.$n();var d=c.offsetWidth,g=c.offsetHeight,f=0,e=g;this._open=!0;for(var h,k=["north","south","west","east"],m=0,l=k.length;m<l;++m)if((h=b[k[m]])&&(zk(h.$n()).isVisible()||zk(h.$n("colled")).isVisible())){var n=h==this;c=h._ambit(n);var p=this.$class;switch(k[m]){case "north":case "south":c.w=d-c.w;"north"==k[m]?f=c.ts:c.y=g-c.y;e-=c.ts;if(n){c.w=this.$n("colled").offsetWidth;a&&(a=p._aryToObject(this._cmargins),c.w+=a.left+a.right);b._resizeWgt(h,c,!0);this._open=!1;return}break;default:if(c.y+=
f,c.h=e-c.h,"east"==k[m]&&(c.x=d-c.x),n){c.h=this.$n("colled").offsetHeight;a&&(a=p._aryToObject(this._cmargins),c.h+=a.top+a.bottom);b._resizeWgt(h,c,!0);this._open=!1;return}}}},_alignTo:function(){var a=this.$n("colled"),b=this.$n("real"),c=b.style,d=zul.layout.Borderlayout;switch(this.getPosition()){case d.NORTH:c.top=jq.px(a.offsetTop+a.offsetHeight);c.left=jq.px(a.offsetLeft);break;case d.SOUTH:c.top=jq.px(a.offsetTop-b.offsetHeight);c.left=jq.px(a.offsetLeft);break;case d.WEST:c.left=jq.px(a.offsetLeft+
a.offsetWidth);c.top=jq.px(a.offsetTop);break;case d.EAST:c.left=jq.px(a.offsetLeft-b.offsetWidth),c.top=jq.px(a.offsetTop)}},_doScroll:function(){zWatch.fireDown("onScroll",this)},_fixSplit:function(){var a=this.$n("split");a&&(a.style.display=this._splittable?"block":"none")},_fixFontIcon:function(){zk(this).redoCSS(-1,{fixFontIcon:!0,selector:".z-borderlayout-icon"})},_isVertical:function(){var a=zul.layout.Borderlayout;return this.getPosition()!=a.WEST&&this.getPosition()!=a.EAST},_ambit:function(a){var b=
this.getCurrentMargins_(),c=this.getPosition();if(c&&!this._open){a=this.$n("colled");var d={x:b.left,y:b.top,w:a?a.offsetWidth:0,h:a?a.offsetHeight:0};a=!0}else{d=this.parent.$n();var g=this.getWidth()||"",f=this.getHeight()||"",e;d={x:b.left,y:b.top,w:0<(e=g.indexOf("%"))?Math.max(Math.floor(d.offsetWidth*zk.parseInt(g.substring(0,e))/100),0):this.$n("real").offsetWidth,h:0<(e=f.indexOf("%"))?Math.max(Math.floor(d.offsetHeight*zk.parseInt(f.substring(0,e))/100),0):this.$n("real").offsetHeight};
!(zk.chrome||zk.safari||zk.edge)||"west"!=c&&"east"!=c||this._width||this._hflex||d.w++}c=a?{offsetHeight:0,offsetWidth:0}:this.$n("split")||{offsetHeight:0,offsetWidth:0};a||this._fixSplit();this._ambit2(d,b,c);return d},_ambit2:zk.$void,setBtnPos_:function(a,b){var c=this.$n("splitbtn");b?c.style.marginLeft=jq.px0((a.w-c.offsetWidth)/2):c.style.marginTop=jq.px0((a.h-c.offsetHeight)/2)},_reszSplt:function(a){var b=this.$n("split"),c=this.$n("splitbtn");zk(b).isVisible()&&(zk(c).isVisible()&&this.setBtnPos_(a,
this._isVertical()),zk.copy(b.style,this._reszSp2(a,{w:b.offsetWidth,h:b.offsetHeight})));return a},_reszSp2:zk.$void,getIconClass_:function(a){var b=zul.layout.Borderlayout;switch(this.getPosition()){case b.NORTH:return a?"z-icon-angle-double-down":"z-icon-angle-double-up";case b.SOUTH:return a?"z-icon-angle-double-up":"z-icon-angle-double-down";case b.WEST:return a?"z-icon-angle-double-right":"z-icon-angle-double-left";case b.EAST:return a?"z-icon-angle-double-left":"z-icon-angle-double-right"}return""},
titleRenderer_:function(a){if(this._title){var b=this.uuid,c=this.getPosition()!=zul.layout.Borderlayout.CENTER,d=this.parent;a.push('<div id="',b,'-cap" class="',this.$s("header"),'">');c&&(a.push('<i id="',b,'-btn" class="',d.$s("icon")," ",this.getIconClass_(),'"'),this._collapsible&&this._closable||a.push(' style="display:none;"'),a.push("></i>"));a.push(zUtl.encodeXML(this._title),"</div>")}},getFirstChild:function(){return this.firstChild}},{_aryToObject:function(a){return{top:a[0],left:a[1],
right:a[2],bottom:a[3]}},beforeSlideOut:function(a){a=this.$n("colled").style;a.display="";a.visibility="hidden";a.zIndex=1;this.parent.resize()},_afterSlideOutX:function(a){this.$class.afterSlideOut.call(this,a,!0);this._fixFontIcon()},afterSlideOut:function(a,b){if(this._open)zk(this.$n("real")).slideIn(this,{anchor:this.sanchor,afterAnima:b?this.$class._afterSlideInX:this.$class.afterSlideIn});else{a=this.$n("colled");var c=a.style;c.zIndex="";c.visibility="";zk(a).slideIn(this,{anchor:this.sanchor,
duration:200,afterAnima:b?function(a){this.fire("onOpen",{open:this._open})}:zk.$void})}this._fixFontIcon()},_afterSlideInX:function(a){this.$class.afterSlideIn.call(this,a);this.fire("onOpen",{open:this._open});this._fixFontIcon()},afterSlideIn:function(a){this.parent.resize();this._fixFontIcon()},afterSlideDown:function(a){jq(document).click(this.proxy(this._docClick));this._fixFontIcon()},afterSlideUp:function(a){var b=a.style;b.left=this._original[0];b.top=this._original[1];a._lastSize=null;b.zIndex=
"";this.$n("btn")&&(this.$n("btn").style.display=this._closable?"":"none");jq(a).removeClass(this.$s("slide"));jq(document).unbind("click",this.proxy(this._docClick));this._isSlide=!1;this._fixFontIcon()},_ignoredrag:function(a,b,c){c=c.domTarget;b=a.control;var d=b.$n("split");if(!c||d!=c&&!jq.contains(d,c))return!0;if(b.isSplittable()&&b._open){var g=zul.layout.Borderlayout,f=b.getPosition();c=b.getMaxsize();d=b.getMinsize();var e=b.parent,h=b.$n("real"),k=zul.layout.LayoutRegion._aryToObject(b._margins),
m=zk(h).padBorderWidth(),l=m+(f==g.WEST?k.left:k.right);k=m+(f==g.NORTH?k.top:k.bottom);switch(f){case g.NORTH:case g.SOUTH:c=(f=e.center||(f==g.NORTH?e.south:e.north))?g.CENTER==f.getPosition()?Math.min(c,h.offsetHeight+f.$n("real").offsetHeight-0):Math.min(c,e.$n().offsetHeight-f.$n("real").offsetHeight-f.$n("split").offsetHeight-b.$n("split").offsetHeight-0):e.$n().offsetHeight-b.$n("split").offsetHeight;break;case g.WEST:case g.EAST:c=(f=e.center||(f==g.WEST?e.east:e.west))?g.CENTER==f.getPosition()?
Math.min(c,h.offsetWidth+f.$n("real").offsetWidth-0):Math.min(c,e.$n().offsetWidth-f.$n("real").offsetWidth-f.$n("split").offsetWidth-b.$n("split").offsetWidth-0):e.$n().offsetWidth-b.$n("split").offsetWidth}b=zk(h).cmOffset();a._rootoffs={maxs:c,mins:d,top:b[1]+k,left:b[0]+l,right:h.offsetWidth,bottom:h.offsetHeight};return!1}return!0},_endeffect:function(a,b){var c=a.control;c._isVertical()?c.setHeight(a._point[1]+"px"):c.setWidth(a._point[0]+"px");c.$n().style.zIndex="";a._rootoffs=a._point=null;
c.parent.resize();c.fire("onSize",zk.copy({width:c.$n("real").style.width,height:c.$n("real").style.height},b.data))},_snap:function(a,b){var c=a.control,d=b[0];b=b[1];var g=zul.layout.Borderlayout,f=c.$n("split"),e=a._rootoffs;switch(c.getPosition()){case g.NORTH:b>e.maxs+e.top&&(b=e.maxs+e.top);b<e.mins+e.top&&(b=e.mins+e.top);var h=d;var k=b-e.top;break;case g.SOUTH:e.top+e.bottom-b-f.offsetHeight>e.maxs?(b=e.top+e.bottom-e.maxs-f.offsetHeight,k=e.maxs):e.top+e.bottom-e.mins-f.offsetHeight<=b?
(b=e.top+e.bottom-e.mins-f.offsetHeight,k=e.mins):k=e.top-b+e.bottom-f.offsetHeight;h=d;break;case g.WEST:d>e.maxs+e.left&&(d=e.maxs+e.left);d<e.mins+e.left&&(d=e.mins+e.left);h=d-e.left;k=b;break;case g.EAST:e.left+e.right-d-f.offsetWidth>e.maxs?(d=e.left+e.right-e.maxs-f.offsetWidth,h=e.maxs):e.left+e.right-e.mins-f.offsetWidth<=d?(d=e.left+e.right-e.mins-f.offsetWidth,h=e.mins):h=e.left-d+e.right-f.offsetWidth,k=b}a._point=[h,k];return[d,b]},_ghosting:function(a,b,c){a=a.node;c=zk(a);jq(document.body).prepend('<div id="zk_layoutghost" class="z-splitter-ghost" style="font-size:0;line-height:0;background:#AAA;position:absolute;top:'+
b[1]+"px;left:"+b[0]+"px;width:"+c.offsetWidth()+"px;height:"+c.offsetHeight()+"px;cursor:"+a.style.cursor+';"></div>');return jq("#zk_layoutghost")[0]}})})();

zkreg('zul.layout.LayoutRegion');
zk._m={};
zk._m['default']=layoutregion$mold$=function(a){var b=this.uuid,g=this.getPosition(),c=zul.layout.Borderlayout,d=g!=c.CENTER,h=this.parent;a.push('<div id="',b,'"><div id="',b,'-real"',this.domAttrs_({id:1}),">");this.titleRenderer_(a);a.push('<div id="',b,'-cave" class="',this.$s("body"),'"');zk.ios&&this._nativebar&&a.push(' style="-webkit-overflow-scrolling:touch;"');a.push(">");var e=this.getFirstChild();e&&e.redraw(a);a.push("</div></div>");if(d){d=this.$s("icon");e=" z-icon-ellipsis-"+(c.WEST==g||c.EAST==g?
"v":"h");var f="";switch(g){case c.NORTH:f="z-icon-caret-up";break;case c.SOUTH:f="z-icon-caret-down";break;case c.WEST:f="z-icon-caret-left";break;case c.EAST:f="z-icon-caret-right"}a.push('<div id="',b,'-split" class="',this.$s("splitter"),'"><span id="',b,'-splitbtn" class="',this.$s("splitter-button"));this._collapsible&&this._closable||a.push(" ",this.$s("splitter-button-disabled"));a.push('">','<i class="',d,e,'"></i>','<i class="',d," ",f,'"></i>','<i class="',d,e,'"></i>',"</span></div>",
'<div id="',b,'-colled" class="',this.$s("collapsed"),'" style="display:none"');(title=this._title)&&a.push(' title="',title,'"');a.push('><i id="',b,'-btned" class="',h.$s("icon")," ",this.getIconClass_(!0),'"');this._collapsible&&this._closable||a.push(' style="display:none;"');a.push('></i><div id="',this.uuid,'-title" class="',this.$s("title"),'">',this._title,"</div></div>")}a.push("</div>")};

;zkmld(zk._p.p.LayoutRegion,zk._m);
var North=zul.layout.North=zk.$extends(_zkf=zul.layout.LayoutRegion,{_sumFlexHeight:!0,setWidth:zk.$void,sanchor:"t",$init:function(){this.$supers("$init",arguments);this._cmargins=[0,0,0,0]},getPosition:function(){return zul.layout.Borderlayout.NORTH},getSize:function(){return this.$supers(North,"getHeight",arguments)},setSize:function(){return this.$supers(North,"setHeight",arguments)},_ambit2:function(a,b,c){a.w=b.left+b.right;a.h+=c.offsetHeight;a.ts=a.y+a.h+b.bottom},_reszSp2:function(a,b){a.h-=
b.h;return{left:jq.px0(a.x),top:jq.px0(a.y+a.h),width:jq.px0(a.w)}}});

zkreg('zul.layout.North');
var South=zul.layout.South=zk.$extends(_zkf=zul.layout.LayoutRegion,{_sumFlexHeight:!0,setWidth:zk.$void,sanchor:"b",$init:function(){this.$supers("$init",arguments);this._cmargins=[0,0,0,0]},getPosition:function(){return zul.layout.Borderlayout.SOUTH},getSize:function(){return this.$supers(South,"getHeight",arguments)},setSize:function(){return this.$supers(South,"setHeight",arguments)},_ambit2:function(a,b,c){a.w=b.left+b.right;a.h+=c.offsetHeight;a.ts=a.y+a.h+b.bottom;a.y=a.h+b.bottom},_reszSp2:function(a,
b){a.h-=b.h;a.y+=b.h;return{left:jq.px0(a.x),top:jq.px0(a.y-b.h),width:jq.px0(a.w)}}});

zkreg('zul.layout.South');
zul.layout.Center=zk.$extends(zul.layout.LayoutRegion,{_sumFlexWidth:!0,_maxFlexHeight:!0,_slidable:!1,_closable:!1,setHeight:zk.$void,setWidth:zk.$void,setVisible:zk.$void,getSize:zk.$void,setSize:zk.$void,setCmargins:zk.$void,setSplittable:zk.$void,setOpen:zk.$void,setCollapsible:zk.$void,setMaxsize:zk.$void,setMinsize:zk.$void,setSlide:zk.$void,setSlidable:zk.$void,setClosable:zk.$void,doMouseOver_:zk.$void,doMouseOut_:zk.$void,doClick_:zk.$void,getPosition:function(){return zul.layout.Borderlayout.CENTER}});

zkreg('zul.layout.Center');
var East=zul.layout.East=zk.$extends(_zkf=zul.layout.LayoutRegion,{_sumFlexWidth:!0,_maxFlexHeight:!0,setHeight:zk.$void,sanchor:"r",$init:function(){this.$supers("$init",arguments);this._cmargins=[0,0,0,0]},getPosition:function(){return zul.layout.Borderlayout.EAST},getSize:function(){return this.$supers(East,"getWidth",arguments)},setSize:function(){return this.$supers(East,"setWidth",arguments)},_ambit2:function(a,b,c){a.w+=c.offsetWidth;a.h=b.top+b.bottom;a.ts=a.x+a.w+b.right;a.x=a.w+b.right},
_reszSp2:function(a,b){a.w-=b.w;a.x+=b.w;return{left:jq.px0(a.x-b.w),top:jq.px0(a.y),height:jq.px0(a.h)}}});

zkreg('zul.layout.East');
var West=zul.layout.West=zk.$extends(_zkf=zul.layout.LayoutRegion,{_sumFlexWidth:!0,_maxFlexHeight:!0,setHeight:zk.$void,sanchor:"l",$init:function(){this.$supers("$init",arguments);this._cmargins=[0,0,0,0]},getPosition:function(){return zul.layout.Borderlayout.WEST},getSize:function(){return this.$supers(West,"getWidth",arguments)},setSize:function(){return this.$supers(West,"setWidth",arguments)},_ambit2:function(a,b,c){a.w+=c.offsetWidth;a.h=b.top+b.bottom;a.ts=a.x+a.w+b.right},_reszSp2:function(a,
b){a.w-=b.w;return{left:jq.px0(a.x+a.w),top:jq.px0(a.y),height:jq.px0(a.h)}}});

zkreg('zul.layout.West');
zul.layout.Absolutelayout=zk.$extends(zul.Widget,{},{redraw:function(b){b.push("<div ",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div>")}});

zkreg('zul.layout.Absolutelayout');
zk._m={};
zk._m['default']=absolutelayout$mold$=zul.layout.Absolutelayout.redraw;

;zkmld(zk._p.p.Absolutelayout,zk._m);
zul.layout.Absolutechildren=zk.$extends(zul.Widget,{_x:0,_y:0,$define:{x:function(){this.desktop&&this._rePositionX()},y:function(){this.desktop&&this._rePositionY()}},_rePositionBoth:function(){this._rePositionX();this._rePositionY()},_rePositionX:function(){jq(this.$n()).css("left",this._x)},_rePositionY:function(){jq(this.$n()).css("top",this._y)},bind_:function(){this.$supers(zul.layout.Absolutechildren,"bind_",arguments);this._rePositionBoth()}});

zkreg('zul.layout.Absolutechildren');
zk._m={};
zk._m['default']=absolutechildren$mold$=zul.layout.Absolutelayout.redraw;

;zkmld(zk._p.p.Absolutechildren,zk._m);
zul.layout.Anchorlayout=zk.$extends(zul.Widget,{});

zkreg('zul.layout.Anchorlayout');
zk._m={};
zk._m['default']=anchorlayout$mold$=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div>")};

;zkmld(zk._p.p.Anchorlayout,zk._m);
zul.layout.Anchorchildren=zk.$extends(zul.Widget,{_anchor:null,$define:{anchor:function(){if(this.desktop)this.onSize()}},bind_:function(){this.$supers(zul.layout.Anchorchildren,"bind_",arguments);zWatch.listen({onSize:this})},unbind_:function(){zWatch.unlisten({onSize:this});this.$supers(zul.layout.Anchorchildren,"unbind_",arguments)},onSize:function(){var b=this.$n(),c=this.parent.$n(),e=jq(c).width();c=jq(c).height();var a=this._anchor?this._anchor.split(" ",2):[],d=a[0];a=a[1];d&&(0<d.indexOf("%")?
b.style.width=d:b.style.width=jq.px0(e+zk.parseInt(d)));a&&(0<a.indexOf("%")?b.style.height=a:b.style.height=jq.px0(c+zk.parseInt(a)))}});

zkreg('zul.layout.Anchorchildren');
zk._m={};
zk._m['default']=anchorchildren$mold$=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div>")};

;zkmld(zk._p.p.Anchorchildren,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.layout',1);zk.load('zul.mesh',function(){if(zk._p=zkpi('zul.sel'))try{
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(e,l,f){e instanceof String&&(e=String(e));for(var m=e.length,n=0;n<m;n++){var q=e[n];if(l.call(f,q,n,e))return{i:n,v:q}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,l,f){e!=Array.prototype&&e!=Object.prototype&&(e[l]=f.value)};
$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(e,l,f,m){if(l){f=$jscomp.global;e=e.split(".");for(m=0;m<e.length-1;m++){var n=e[m];n in f||(f[n]={});f=f[n]}e=e[e.length-1];m=f[e];l=l(m);l!=m&&null!=l&&$jscomp.defineProperty(f,e,{configurable:!0,writable:!0,value:l})}};
$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(e,f){return $jscomp.findInternal(this,e,f).v}},"es6","es3");
(function(){function e(a){switch(a.data.keyCode){case 33:case 34:case 38:case 40:case 37:case 39:case 32:case 36:case 35:return a.stop(),!1}return!0}function l(a){return a.target.$button||zk.isLoaded("zul.wgt")&&a.target.$instanceof(zul.wgt.Button,zul.wgt.Toolbarbutton)}function f(a){var b;(b=jq.nodeName(a.domTarget,"input","textarea","button","select","option","a")&&!a.target.$instanceof(zul.sel.SelectWidget)||l(a))||(b=a.target.$inputWidget||zk.isLoaded("zul.inp")&&a.target.$instanceof(zul.inp.InputWidget));
return b}function m(a){return a&&(a=a.uuid)?zk.Widget.$(a):null}function n(a){return zk.isLoaded("zkex.sel")&&a.$instanceof(zkex.sel.Listgroup)}function q(a){return zk.isLoaded("zkex.sel")&&a.$instanceof(zkex.sel.Listgroupfoot)}var r=zul.sel.SelectWidget=zk.$extends(zul.mesh.MeshWidget,{rightSelect:!0,_anchorTop:0,_anchorLeft:0,_isSelecting:!0,_startRow:null,$init:function(){this.$supers("$init",arguments);this._selItems=[]},$define:{checkmark:function(a){this.desktop&&this.rerender()},multiple:function(a){if(!this._multiple&&
this._selItems.length){a=this.getSelectedItem();for(var b;b=this._selItems.pop();)b!=a&&(this._checkmark?b._selected=!1:b._setSelectedDirectly(!1));this._selItems.push(a)}this._checkmark&&this.desktop&&this.rerender()},selectedIndex:[function(a){return-1>a||!a&&0!==a?-1:a},function(){var a=this._selectedIndex;this.clearSelection();this._selectedIndex=a;if(-1<a){for(var b,c=this.getBodyWidgetIterator();0<=a--;)b=c.next();b&&(a=1<this._selItems.length,this._selectOne(b,!0),a||((a=this._scrollbar)?a.scrollToElement(item.$n()):
zk(b).scrollIntoView(this.ebody)))}}],name:function(){this.destkop&&this.updateFormData()},selectOnHighlightDisabled:_zkf},setChgSel:function(a){for(var b={},c=0;;){var d=a.indexOf(",",c);(c=(0<=d?a.substring(c,d):a.substring(c)).trim())&&(b[c]=!0);if(0>d)break;c=d+1}this.$$selectAll=void 0;for(a=this.getBodyWidgetIterator();d=a.next();)this._changeSelect(d,1==b[d.uuid])},setFocusIndex:function(a){if(!(0>a)){var b=this;setTimeout(function(){for(var c,d=b.getBodyWidgetIterator();(c=d.next())&&a--&&
d.hasNext(););b._focusItem=c})}},updateFormData:function(){if(this._name){this.efield||(this.efield=jq(this.$n()).append('<div style="display:none;"></div>').find("> div:last-child")[0]);jq(this.efield).children().remove();for(var a="",b='<input type="hidden" name="'+zUtl.encodeXML(this._name)+'" value="',c=0,d=this._selItems.length;c<d;c++)a+=b+zUtl.encodeXML(this._selItems[c].getValue())+'"/>';jq(this.efield).append(a)}else this.efield&&(jq(this.efield).remove(),this.efield=null)},setSelectedItem:function(a){if(a){var b=
1<this._selItems.length;this._selectOne(a,!0);b||((b=this._scrollbar)&&b.scrollToElement(a.$n()),this._nativebar&&zk(a).scrollIntoView(this.ebody));(zk.edge||4<=zk.ff)&&this.ebody&&this._nativebar&&(this._currentTop=this.ebody.scrollTop,this._currentLeft=this.ebody.scrollLeft)}else this.clearSelection()},getSelectedItem:function(){return this._selItems[0]},getSelectedItems:function(){return this._selItems.$clone()},setHeight:function(a){if(!this._nvflex&&this._height!=a){this._height=a;var b=this.$n();
b&&(b.style.height=a||"",this.onSize())}},setVflex:function(a){this.$supers("setVflex",arguments);if(this.desktop)this.onSize()},setHflex:function(a){this.$supers("setHflex",arguments);if(this.desktop)this.onSize()},_getEbodyWd:function(){var a=this.$n("a");zk.webkit&&(a.style.display="none");var b=zk.opera&&0==this.ebody.offsetHeight?this.ebody.offsetWidth:this.ebody.clientWidth;zk.webkit&&(a.style.display="");return b},_beforeCalcSize:function(){if(zk.ie8){var a=this.$n("a");this._oldCSS=a.style.display;
a.style.display="none"}11>zk.ie&&this._syncFocus(this._focusItem);this._calcHgh()},_afterCalcSize:function(){zk.ie8&&(this.$n("a").style.display=this._oldCSS,delete this._oldCSS);this.$supers("_afterCalcSize",arguments)},indexOfItem:function(a){if(a.getMeshWidget()==this)for(var b=0,c=this.getBodyWidgetIterator(),d;d=c.next();b++)if(d==a)return b;return-1},toggleItemSelection:function(a){a.isSelected()?this._removeItemFromSelection(a):this._addItemToSelection(a);this.updateFormData()},selectItem:function(a){a?
!this._multiple&&a.isSelected()||this.setSelectedIndex(this.indexOfItem(a)):this.setSelectedIndex(-1)},_addItemToSelection:function(a){if(!a.isSelected()){if(this._multiple){var b=this.indexOfItem(a);if(b<this._selectedIndex||0>this._selectedIndex)this._selectedIndex=b;a._setSelectedDirectly(!0)}else this._selectedIndex=this.indexOfItem(a);this._selItems.push(a)}},_removeItemFromSelection:function(a){a.isSelected()&&(this._multiple?(a._setSelectedDirectly(!1),this._selItems.$remove(a)):this.clearSelection())},
clearSelection:function(){if(this._selItems.length){for(var a;a=this._selItems.pop();)a._setSelectedDirectly(!1);this._selectedIndex=-1;this._updHeaderCM()}else this._focusItem=null,this._anchorTop=this._anchorLeft=0,this._syncFocus()},focus_:function(a){var b;if(b=this.$n("a")){if(this._focusItem)for(var c=this.getBodyWidgetIterator(),d;d=c.next();){if(this._isFocus(d)){d.focus_(a);break}}else this._currentTop&&(c=this.ebody.scrollHeight,b.style.top=this._currentTop>c?c+"px":this._currentTop+"px"),
this._currentLeft&&(b.style.left=this._currentLeft+"px");this.focusA_(b,a);return!0}return!1},focusA_:function(a,b){zk(a).focus(b)},bind_:function(){this.$supers(r,"bind_",arguments);var a=this.$n("a");a&&this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onKeyDown").domListen_(a,"onBlur","doBlur_");this.updateFormData();this._updHeaderCM()},unbind_:function(){var a=this.$n("a");a&&this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onKeyDown").domUnlisten_(a,"onBlur","doBlur_");this.$supers(r,
"unbind_",arguments)},clearCache:function(){this.$supers("clearCache",arguments);this.efield=null},doFocus_:function(a){var b=this._focusItem||this._lastSelectedItem;b&&b._doFocusIn();this.$supers("doFocus_",arguments)},doBlur_:function(a){this._focusItem&&(this._lastSelectedItem=this._focusItem,this._focusItem._doFocusOut());this._focusItem=null;this.$supers("doBlur_",arguments)},shallIgnoreSelect_:function(a){return"onRightClick"==a.name?this.rightSelect?-1:!0:!1},_shallIgnore:function(a,b){if(this.checkOnHighlightDisabled_()||
!a.domTarget||!a.target.canActivate())return!0;if(b){try{var c=a.domTarget;if(c)for(;c.id!=this.uuid;)if(!(c=c.parentNode))return!0}catch(h){zk.debugLog(h.message||h)}if("string"==typeof(b=this.nonselectableTags)){if(!b)return;if("*"==b)return!0;c=jq.nodeName(a.domTarget);var d="input"==c&&"button"==a.domTarget.type.toLowerCase();return 0>b.indexOf(c)?0<=b.indexOf("button")&&(l(a)||d):!d||0<=b.indexOf("button")}}return f(a)},checkOnHighlightDisabled_:zk.$void,_doItemSelect:function(a,b){var c,d=b.domTarget,
h=a.$n("cm");h=this._checkmark&&(d==h||d.parentNode==h);if(!(zk.dragging||!h&&(this._shallIgnore(b,!0)||(c=this.shallIgnoreSelect_(b,a))&&!(c=0>c))))if(d=f(b),!this._checkmark||b.data.shiftKey||b.data.ctrlKey||b.data.metaKey||this._cdo&&!h){if((zk.gecko||zk.webkit)&&a.isListen("onDoubleClick")){h=jq.now();var e=a._last;a._last=h;if(e&&900>h-e)return}this._syncFocus(a);this._multiple?b.data.shiftKey?this._selectUpto(a,b,d):b.data.ctrlKey||b.data.metaKey||zk.mobile?this._toggleSelect(a,!a.isSelected(),
b,d):c&&a.isSelected()||this._select(a,b,d):this._select(a,b,d);d||a.focus()}else this._syncFocus(a),this._multiple?(h=a.isSelected())&&c||this._toggleSelect(a,!h,b,d):this._select(a,b,d)},doKeyDown_:function(a){if(!this._shallIgnore(a))switch(a.data.keyCode){case 33:case 34:case 38:case 40:case 37:case 39:case 32:case 36:case 35:return jq.nodeName(a.domTarget,"a")||this.focus(),a.domTarget==this.$n("a")&&(a.target==this&&(a.target=this._focusItem||this.getSelectedItem()||this),this._doKeyDown(a)),
a.stop(),!1}jq.nodeName(a.domTarget,"input","textarea")||(this._disableSelection_=!0,zk(this.$n()).disableSelection());a.target==this&&(a.target=this._focusItem||this.getSelectedItem()||this);this.$supers("doKeyDown_",arguments)},doKeyUp_:function(a){this._disableSelection_&&(this._disableSelection_=!1,zk(this.$n()).enableSelection());a.stop({propagation:!0});this.$supers("doKeyUp_",arguments)},_doKeyDown:function(a){if(zAu.processing()||this._shallIgnore(a))return!0;var b=this._focusItem||this.getSelectedItem(),
c=a.data,d=c.shiftKey,h=c.ctrlKey||c.metaKey;d&&!this._multiple&&(d=!1);this._startRow&&!d&&this._multiple?this._startRow=null:!this._startRow&&d&&(this._startRow=b);var p=!1;zk.webkit&&"string"==typeof c.keyCode&&(c.keyCode=zk.parseInt(c.keyCode));switch(c.keyCode){case 33:case 34:var g=this.paging||this._paginal;if(b&&g&&!g.isDisabled()){a=this.getActivePage()+(33==c.keyCode?-1:1);-1<a&&a<this.getPageCount()&&this.fire("onAcrossPage",{page:a,offset:this.indexOfItem(b),shift:d&&this._multiple?33==
c.keyCode?this.getPageSize():-this.getPageSize():0});return}g=this._visibleRows();0==g&&(g=this.getPageSize()||20);33==c.keyCode&&(g=-g);break;case 38:case 40:g=40==c.keyCode?1:-1;break;case 32:b&&(this._multiple?this._toggleSelect(b,!b.isSelected(),a):this._select(b,a));break;case 36:case 35:g=35==c.keyCode?1:-1;p=!0;break;case 37:b&&this._doLeft(b);break;case 39:b&&this._doRight(b)}if(0<g||0>g&&b)for(b&&d&&!b.isDisabled()&&b.isSelectable()&&this._toggleSelect(b,this._getToSelFlag(b,this._startRow,
g),a),b=b?b.$n():null;;){if(b)b=0<g?b.nextSibling:b.previousSibling;else if(b=this.getBodyWidgetIterator().next())b=b.$n();else return;if(!b){if(p)break;(p=this.paging||this._paginal)&&!p.isDisabled()&&(b=p.getActivePage(),0<g?b+1<p.getPageCount():0<b)&&(this.fire("onAcrossPage",{page:b+(0<g?1:0),offset:0<g?0:-1,shift:this._multiple&&d?0<g?-1:1:0}),this.$class.shallSyncSelInView||(this.$class.shallSyncSelInView={}),this.$class.shallSyncSelInView[this.uuid]=!0);break}c=zk.Widget.$(b);c.$instanceof(zul.sel.Treerow)&&
(c=c.parent);if(!c.isDisabled()&&c.isSelectable()&&(d&&this._toggleSelect(c,p?this._getToSelFlag(c,this._startRow,g):!0,a),zk(b).isVisible())){var f=c;if(!p&&(0<g?--g:++g,0==g))break}}f&&(d||(h?this._focus(f):this._select(f,a)),this._syncFocus(f),(d=this._scrollbar)?d.scrollToElement(f.$n()):zk(f.$n()).scrollIntoView(this.ebody));return e(a)},_getToSelFlag:function(a,b,c){if(!b)return!0;a=b.compareItemPos_(a);return 0==a||-1==a&&-1==c||1==a&&1==c},_doKeyUp:function(a){return zAu.processing()||this._shallIgnore(a)||
e(a)},_doLeft:zk.$void,_doRight:zk.$void,_syncFocus:function(a){var b=this.$n("a");if(b){var c=b.style,d=this._anchorTop,h=this._anchorLeft,e;a&&(e=a.$n())?(a=zk(e).revisedOffset(),a=this._toStyleOffset(b,a[0]+this.ebody.scrollLeft,a[1])):a=[h?h:0,d?d:0];this.fixAnchor_(a,b);if(this._anchorTop!=a[1]||this._anchorLeft!=a[0])this._anchorTop=a[1],this._anchorLeft=a[0],this.fire("onAnchorPos",{top:this._anchorTop,left:this._anchorLeft});c.top=this._anchorTop+"px";c.left=this._anchorLeft+"px"}},_toStyleOffset:function(a,
b,c){var d=zk(a).revisedOffset(),h=zk.parseInt(a.style.left);a=zk.parseInt(a.style.top);return[b-d[0]+h,c-d[1]+a]},fixAnchor_:function(a,b){var c=this.ebody,d=c.scrollWidth;c=c.scrollHeight;a[0]>=d&&(a[0]=d-jq(b).width());a[1]>=c&&(a[1]=c-jq(b).height())},_select:function(a,b,c){this._selectOne(a,c)&&this.fireOnSelect(a,b)},_selectUpto:function(a,b,c){if(a.isSelected())c||this._focus(a);else{var d=!1,h=!1,e=this._focusItem||this._lastSelectedItem;if(!e.isSelected())for(var g=this.indexOfItem(a),f=
Number.MAX_VALUE,k=0;k<this._selItems.length;++k){var l=this._selItems[k],m=this.indexOfItem(l),n=f;f=Math.min(g-m,f);f!=n&&(e=l)}g=this.getBodyWidgetIterator();for(f=this.getSelectedItem();k=g.next();)if(!k.isDisabled()&&k.isSelectable())if(d){if(this._changeSelect(k,!0),k==a)break}else if(h){if(this._changeSelect(k,!0),this._isFocus(k)||k==e)break}else if(f){if(h=k==a,d=this._isFocus(k)||k==e,h||d)if(this._changeSelect(k,!0),h&&d)break}else if(k==a){this._changeSelect(k,!0);break}c||this._focus(a);
this.fireOnSelect(a,b)}},setSelectAll:_zkf=function(a,b){for(var c=this.getBodyWidgetIterator(),d;d=c.next();)d._loaded&&!d.isDisabled()&&d.isSelectable()&&this._changeSelect(d,!0);a&&!0!==b&&this.fireOnSelect(this.getSelectedItem(),b)},selectAll:_zkf,_selectOne:function(a,b){var c=this.getSelectedItem();if(this._multiple){if(a&&!b&&this._unsetFocusExcept(a),!this._unsetSelectAllExcept(a)&&a&&c==a)return b||this._setFocus(a,!0),!1}else{if(c){if(c==a)return b||this._setFocus(a,!0),!1;this._changeSelect(c,
!1);a&&(b||this._setFocus(c,!1))}a&&!b&&this._unsetFocusExcept(a)}a&&(this._changeSelect(a,!0),b||this._setFocus(a,!0));return!0},_toggleSelect:function(a,b,c,d){this._isSelecting=b;if(!this._multiple){var e=this.getSelectedItem();a!=e&&b&&this._changeSelect(a,!1)}this._changeSelect(a,b);d||this._focus(a);this.fireOnSelect(a,c)},fireOnSelect:function(a,b){for(var c=[],d=this.getSelectedItems(),e=d.length;e--;)d[e].isSelected()&&c.push(d[e]);e=!0;d=!1;this._multiple&&this._headercm&&(d=jq(this._headercm).hasClass(zk.Widget.$(this._headercm).$s("checked")));
if(b){var f=b.data;this._multiple&&(this._headercm&&jq.isAncestor(this._headercm,b.domTarget)&&!d?e=!1:(b=b.domTarget,e=a&&a.$n("cm"),e=f.ctrlKey||f.metaKey||f.shiftKey||this._checkmark&&(!this._cdo||b==e||b.parentNode==e||d)))}this.fire("onSelect",zk.copy({items:c,reference:a,clearFirst:!e,selectAll:d},f),{rtags:{selectAll:d}})},_focus:function(a){this.canActivate({checkOnly:!0})&&(this._unsetFocusExcept(a),this._setFocus(a,!0))},_changeSelect:function(a,b){var c=!!a.isSelected()!=b;c&&a.setSelected(b);
return c},_isFocus:function(a){return this._focusItem==a},_setFocus:function(a,b){var c=this._isFocus(a)!=b;c&&b&&(a.focus()||this.focus(),!this.paging&&zk.gecko&&this.fireOnRender(5));b||a._doFocusOut();return c},_unsetSelectAllExcept:function(a){this.$$selectAll=void 0;for(var b=!1,c=this.getSelectedItems(),d=c.length;d--;)c[d]!=a&&this._changeSelect(c[d],!1)&&(b=!0);return b},_unsetFocusExcept:function(a){this._focusItem&&this._focusItem!=a?this._setFocus(this._focusItem,!1):this._focusItem=null},
_updHeaderCM:function(){if(this._headercm&&this._multiple){var a=this,b;this._nUpdHeaderCM=0<(b=this._nUpdHeaderCM)?b+1:1;setTimeout(function(){if(void 0==a.$$selectAll&&0>=--a._nUpdHeaderCM&&a.desktop&&a._headercm&&a._multiple){var b=zk.Widget.$(a._headercm).getZclass()+"-checked";jq(a._headercm)[a._isAllSelected()?"addClass":"removeClass"](b)}},100)}},$fireService:function(a,b,c){this._$services||(this._$services={});this._$services[a]||(this._$services[a]=[]);this._$services[a].push(c);this.fire(a,
b,{toServer:!0},250)},$doService:function(a,b){var c=this._$services&&this._$services[a];if(c){for(;c.length;)c.shift().call(this,b);this._$services[a]=null}},$hasService:function(a){return this._$services&&this._$services[a]},_isAllSelected:function(){if(!this._selItems.length){if(this._headercm&&this._model&&!this.$hasService("onUpdateSelectAll")){var a=zk.Widget.$(this._headercm).getZclass()+"-checked";jq(this._headercm).removeClass(a)}return!1}if(this._model&&(this.$hasService("onUpdateSelectAll")||
this.$fireService("onUpdateSelectAll",null,function(a){if(this.desktop&&this._headercm&&this._multiple){var b=zk.Widget.$(this._headercm).getZclass()+"-checked";jq(this._headercm)[a?"addClass":"removeClass"](b);this.$$selectAll=a}}),void 0!=this.$$selectAll))return this.$$selectAll;a=this.groupSelect;for(var b=this.getBodyWidgetIterator({skipHidden:!0}),c;c=b.next();)if((!n(c)&&!q(c)||a)&&c._loaded&&!c.isDisabled()&&c.isSelectable()&&!c.isSelected())return!1;return!0},_ignoreHghExt:function(){return 0<
this._rows},onResponse:function(a,b){if(this._shallSyncFocus){var c=this._shallSyncFocus;if(c&&!0===c)jq(this.$n("a")).offset({top:0,left:0});else{if(!c.desktop&&(c=this.getSelectedItem(),!c&&jq.isNumeric(this.getSelectedIndex()))){var d=this.getSelectedIndex();if(0<=d)for(var e=this.getBodyWidgetIterator();e.hasNext();){var f=e.next();if(f&&f._index==d){c=f;break}}}this._focusItem=c;this._syncFocus(c)}this._shallSyncFocus=!1}this._shallSyncCM&&(b.rtags.selectAll||this._updHeaderCM(),this._shallSyncCM=
!1);this.$supers(r,"onResponse",arguments)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this.desktop&&a.$instanceof(zul.sel.ItemWidget)&&a.isSelected()&&(this._shallSyncFocus=a)},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);var b=this._selItems,c;this.desktop&&(c=b.length)&&a.$instanceof(zul.sel.ItemWidget)&&(this._shallSyncFocus=b[c-1]);this._focusItem==a&&(this._lastSelectedItem=this._focusItem=null,this._itemForSelect=a)},replaceWidget:function(a){this.$supers("replaceWidget",
arguments);a._lastSelectedItem=m(this._lastSelectedItem);a._focusItem=m(this._focusItem)}})})();

(function(){zul.sel.ItemWidget=zk.$extends(zul.Widget,{_selectable:!0,$define:{checkable:function(b){this.setSelectable(b)},selectable:function(){this.desktop&&this.rerender()},disabled:function(){this.desktop&&this.rerender()},value:null},setSelected:function(b){if(this._selected!=b){var a=this.getMeshWidget();a&&a.toggleItemSelection(this);this._setSelectedDirectly(b)}},_setSelectedDirectly:function(b){var a=this.$n();this._selected=b;a&&(jq(a)[b?"addClass":"removeClass"](this.$s("selected")),this._updHeaderCM())},
getLabel:function(){return this.firstChild?this.firstChild.getLabel():null},isSelected:function(){return this._selected},isStripeable_:function(){return!0},getMeshWidget:function(){return this.parent},_getVisibleChild:function(b){for(var a=0,c=b.cells.length;a<c;a++)if(zk(b.cells[a]).isVisible())return b.cells[a];return b},setVisible:function(b){if(this._visible!=b&&(this.$supers("setVisible",arguments),this.isStripeable_())){var a=this.getMeshWidget();a&&a.stripe()}},domClass_:function(b){var a=
this.$supers("domClass_",arguments);b&&b.zclass||(this.getZclass(),this.isDisabled()&&(a+=(a?" ":"")+this.$s("disabled")),zk.isLoaded("zkex.sel")&&this.$instanceof(zkex.sel.Listgroup)||zk.isLoaded("zkex.sel")&&this.$instanceof(zkex.sel.Listgroupfoot)?this.getMeshWidget().groupSelect&&this.isSelected()&&(a+=(a?" ":"")+this.$s("selected")):this.isSelected()&&(a+=(a?" ":"")+this.$s("selected")));return a},focus_:function(b){var a=this.getMeshWidget();this._doFocusIn();a._syncFocus(this);a.focusA_(a.$n("a"),
b);return!0},_doFocusIn:function(){var b=this.$n(),a=this.getMeshWidget();if(b){var c=this.$s("focus"),d=a?a._focusItem:null,e;d&&(e=d.$n())&&jq(e).removeClass(c);jq(b).addClass(c)}a&&(a._focusItem=this)},_doFocusOut:function(){var b=this.$n();if(b){var a=this.$s("focus");jq(b).removeClass(a);jq(b.cells).removeClass(a)}},_updHeaderCM:function(b){var a;if((a=this.getMeshWidget())&&a._headercm&&a._multiple)if(b)a._updHeaderCM();else{b=zk.Widget.$(a._headercm).$s("checked");var c=jq(a._headercm);this.isSelected()||
void 0!=a.$$selectAll&&!this._userSelection?c.hasClass(b)||a._updHeaderCM():c.removeClass(b)}},getDragMessage_:function(){var b=this.getMeshWidget().itemIterator(),a=2;if(!this.isSelected())return zUtl.encodeXML(this.getLabel());for(;b.hasNext();){var c=b.next();if(c.isSelected()){c=c.getLabel();9<c.length&&(c=c.substring(0,9)+"...");c=zUtl.encodeXML(c);var d=d?d+('</div><div class="z-drop-content"><span id="zk_ddghost-img'+a++ +'" class="z-drop-icon"></span>&nbsp;'+c):c}}return d},cloneDrag_:function(b,
a){var c=this.getDragMessage_();a=zk.DnD.ghost(b,a,c);b._orgcursor=document.body.style.cursor;document.body.style.cursor="pointer";jq(this.getDragNode()).addClass("z-dragged");b._dragImg=jq('span[id^="zk_ddghost-img"]');return a},beforeParentChanged_:function(b){if(!b){var a=this.getMeshWidget();a&&(a._shallSyncCM=!0)}this.$supers("beforeParentChanged_",arguments)},afterParentChanged_:function(){if(this.parent){var b=this.getMeshWidget();b&&(b._shallSyncCM=!0)}this.$supers("afterParentChanged_",arguments)},
doSelect_:function(b){if(!this.isDisabled()&&this.isSelectable())try{this._userSelection=!0,b.itemSelected||(this.getMeshWidget()._doItemSelect(this,b),b.itemSelected=!0),this.$supers("doSelect_",arguments)}finally{this._userSelection=null}},doKeyDown_:function(b){var a=this.getMeshWidget();jq.nodeName(b.domTarget,"input","textarea")||(this._disableSelection_=!0,zk(a.$n()).disableSelection());a._doKeyDown(b);this.$supers("doKeyDown_",arguments)},doKeyUp_:function(b){var a=this.getMeshWidget();this._disableSelection_&&
(zk(a.$n()).enableSelection(),this._disableSelection_=!1);a._doKeyUp(b);this.$supers("doKeyUp_",arguments)},deferRedrawHTML_:function(b){b.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')},compareItemPos_:function(b){return 0}})})();

(function(){function f(a){return zk.isLoaded("zkex.sel")&&a.$instanceof(zkex.sel.Listgroup)}function g(a){a._nativebar&&(a=a.frozen)&&a._syncFrozen()}function h(a){if(a.desktop){var b=a.$n("empty"),c=0;if(a._nrows)b.style.display="none";else{if(a.listhead)for(var e=a.listhead.firstChild;e;e=e.nextSibling)c++;b.colSpan=c||1;b.style.display="table-cell"}}a._shallFixEmpty=!1}var d=zul.sel.Listbox=zk.$extends(zul.sel.SelectWidget,{_nrows:0,groupSelect:!1,_scrollbar:null,$define:{emptyMessage:function(a){if(this.desktop){var b=
jq(this.$n("empty-content")),c=this.$s("emptybody-content");a&&0!=a.trim().length?b.addClass(c):b.removeClass(c);b.html(a)}}},$init:function(){this.$supers(d,"$init",arguments);this._groupsInfo=[]},getGroupCount:function(){return this._groupsInfo.length},getGroups:function(){return this._groupsInfo.$clone()},hasGroup:function(){return this._groupsInfo.length},nextItem:function(a){if(a)for(;(a=a.nextSibling)&&!a.$instanceof(zul.sel.Listitem););return a},previousItem:function(a){if(a)for(;(a=a.previousSibling)&&
!a.$instanceof(zul.sel.Listitem););return a},getOddRowSclass:function(){return null==this._scOddRow?this.$s("odd"):this._scOddRow},setOddRowSclass:function(a){a||(a=null);this._scOddRow!=a&&(this._scOddRow=a,this.$n()&&this.rows&&this.stripe());return this},inSelectMold:function(){return"select"==this.getMold()},onSize:function(){this.$supers(d,"onSize",arguments);var a=this,b=this.desktop&&!this.inSelectMold()&&!this._nativebar;!this._scrollbar&&b&&(!zk.mobile||zk.mobile&&(this.getHeight()||this.getVflex()))&&
(this._scrollbar=zul.mesh.Scrollbar.init(this));setTimeout(function(){a.desktop&&(b&&a.refreshBar_(),a._syncSelInView())},300)},destroyBar_:function(){var a=this._scrollbar;a&&(a.destroy(),this._scrollbar=null)},bind_:function(a,b,c){this.$supers(d,"bind_",arguments);this._shallStripe=!0;var e=this;c.push(function(){e.stripe();g(e);h(e)});this._shallScrollIntoView=!0;zWatch.listen({onCommandReady:this})},unbind_:function(){zWatch.unlisten({onCommandReady:this});this.destroyBar_();this.$supers(d,"unbind_",
arguments)},_syncSelInView:function(){if(this._shallScrollIntoView){if(!this.paging||this.$class.shallSyncSelInView&&this.$class.shallSyncSelInView[this.uuid]||this._listbox$shallSyncSelInView){this.$class.shallSyncSelInView&&(this.$class.shallSyncSelInView[this.uuid]=!1);this._listbox$shallSyncSelInView&&(this._listbox$shallSyncSelInView=!1);var a=0<this._selItems.length?this._selItems[this._selItems.length-1]:void 0;if(a){var b=this._scrollbar;b?b.scrollToElement(a.$n()):(zk(a).scrollIntoView(this.ebody),
this._tmpScrollTop=this.ebody.scrollTop)}}this._shallScrollIntoView=!1}},_doScroll:function(){this._tmpScrollTop&&(this.ebody.scrollTop=this._tmpScrollTop,this._tmpScrollTop=null);this.$super(zul.sel.Listbox,"_doScroll")},onCommandReady:function(){this._shallStripe&&this.stripe()},onResponse:function(a,b){this.desktop&&this._shallFixEmpty&&h(this);this.$supers(d,"onResponse",arguments)},_syncStripe:function(){this._shallStripe=!0},stripe:function(){var a=this.getOddRowSclass();if(a){for(var b=!(this._offset&
1),c=this.getBodyWidgetIterator(),e=0,d;d=c.next();e++)d.isVisible()&&d.isStripeable_()&&(jq(d)[b?"removeClass":"addClass"](a),b=!b);this._shallStripe=!1;return this}},rerender:function(){this.$supers(d,"rerender",arguments);this._syncStripe();return this},getCaveNode:function(){return this.$n("rows")||this.$n("cave")},insertChildHTML_:function(a,b,c){(b=!b||a.$instanceof(zul.sel.Listitem)&&!b.$instanceof(zul.sel.Listitem)?null:b.getFirstNode_())?jq(b).before(a.redrawHTML_()):jq(this.getCaveNode()).append(a.redrawHTML_());
a.bind(c)},insertBefore:function(a,b,c){if(this.$super("insertBefore",a,b,c||!this.z_rod&&!a.$instanceof(zul.sel.Listitem)))return this._fixOnAdd(a,c),!0},appendChild:function(a,b){if(this.$super("appendChild",a,b||!this.z_rod&&!a.$instanceof(zul.sel.Listitem)))return this.insertingBefore_||this._fixOnAdd(a,b),!0},_fixOnAdd:function(a,b,c,e){if(a.$instanceof(zul.sel.Listitem)){f(a)&&this._groupsInfo.push(a);this.firstItem&&this.previousItem(a)||(this.firstItem=a);this.lastItem&&this.nextItem(a)||
(this.lastItem=a);++this._nrows;a.isSelected()&&!this._selItems.$contains(a)&&this._selItems.push(a);var d=c=!0}else a.$instanceof(zul.sel.Listhead)?this.listhead=a:a.$instanceof(zul.mesh.Paging)?this.paging=a:a.$instanceof(zul.sel.Listfoot)?this.listfoot=a:a.$instanceof(zul.mesh.Frozen)&&(this.frozen=a);this._syncEmpty();if(!e){if(!b&&!d)return this.rerender();c&&this._syncStripe();b||this._syncSize();this.desktop&&g(this)}},removeChild:function(a,b){if(this.$super("removeChild",a,b))return this._fixOnRemove(a,
b),!0},_fixOnRemove:function(a,b){if(a==this.listhead)this.listhead=null;else if(a==this.paging)this.paging=null;else if(a==this.frozen)this.frozen=null,this.destroyBar_();else if(a==this.listfoot)this.listfoot=null;else if(!a.$instanceof(zul.mesh.Auxhead)){if(a==this.firstItem){var c=this.firstChild;for(var d=zul.sel.Listitem;c&&!c.$instanceof(d);c=c.nextSibling);this.firstItem=c}if(a==this.lastItem){c=this.lastChild;for(d=zul.sel.Listitem;c&&!c.$instanceof(d);c=c.previousSibling);this.lastItem=
c}f(a)&&this._groupsInfo.$remove(a);--this._nrows;a.isSelected()&&this._selItems.$remove(a);c=!0}this._syncEmpty();b||(c&&this._syncStripe(),this._syncSize())},redrawEmpty_:function(a){a.push('<tbody class="',this.$s("emptybody"),'"><tr><td id="',this.uuid,'-empty" style="display:none">','<div id="',this.uuid,'-empty-content"');this._emptyMessage&&0!=this._emptyMessage.trim().length&&a.push('class="',this.$s("emptybody-content"),'"');a.push(">",this._emptyMessage,"</div></td></tr></tbody>")},replaceChildHTML_:function(a,
b,c,d,g){if(a._renderdefer){var e=this.getOddRowSclass(),f=jq(b).hasClass(e);this.$supers("replaceChildHTML_",arguments);f&&jq(a).addClass(e)}else this.$supers("replaceChildHTML_",arguments)},_syncEmpty:function(){this._shallFixEmpty=!0},onChildReplaced_:function(a,b){this.$supers(d,"onChildReplaced_",arguments);a&&this._fixOnRemove(a,!0);b&&this._fixOnAdd(b,!0,!1,!0);(a&&a.$instanceof(zul.sel.Listitem)||b&&b.$instanceof(zul.sel.Listitem))&&this._syncStripe();this._syncSize();this.desktop&&g(this)},
getHeadWidgetClass:function(){return zul.sel.Listhead},itemIterator:_zkf=function(a){return new zul.sel.ItemIter(this,a)},getBodyWidgetIterator:_zkf,_updHeaderCM:function(){var a;this._headercm&&this._multiple&&(a=this.listhead)&&(a=a.firstChild)&&(a._checked=this._isAllSelected());this.$supers(d,"_updHeaderCM",arguments)},checkOnHighlightDisabled_:function(){if(this._selectOnHighlightDisabled){var a=window.getSelection||document.selection;if(a)return zk.ie&&9>zk.ie?"Text"==a.type&&0<a.createRange().htmlText.length:
0<a().toString().length}},scrollToIndex:function(a,b){this.$supers(d,"_scrollToIndex",arguments)},_getFirstItemIndex:function(){return this.firstItem._index},_getLastItemIndex:function(){return this.lastItem._index}});zul.sel.ItemIter=zk.$extends(zk.Object,{$init:function(a,b){this.box=a;this.opts=b},_init:function(){if(!this._isInit){this._isInit=!0;var a=this.box.firstItem;if(this.opts&&this.opts.skipHidden)for(;a&&!a.isVisible();a=a.nextSibling);this.p=a}},hasNext:function(){this._init();return this.p},
next:function(){this._init();var a=this.p,b=a?a.parent.nextItem(a):null;if(this.opts&&this.opts.skipHidden)for(;b&&!b.isVisible();b=b.parent.nextItem(b));a&&(this.p=b);return a}})})();

zkreg('zul.sel.Listbox');
zk._m={};
zk._m['paging']=listbox$mold$=function(a){var b=this.uuid,c=this.getZclass(),d=this.getInnerWidth(),h="100%"==d?' width="100%"':"";d="100%"!=d?"width:"+d:"";var k=this.inPagingMold(),l=11>zk.ie||zk.gecko?"a":"button";a.push("<div",this.domAttrs_({tabindex:1}),">");if(k&&this.paging){var g=this.getPagingPosition();if("top"==g||"both"==g)a.push('<div id="',b,'-pgit" class="',this.$s("paging-top"),'">'),this.paging.redraw(a),a.push("</div>")}if(this.listhead){a.push('<div id="',b,'-head" class="',this.$s("header"),
'">','<table id="',b,'-headtbl"',h,' style="table-layout:fixed;',d,'">');this.domFaker_(a,"-hdfaker");a.push('<tbody id="',b,'-headrows">');for(var e=this.heads,f=0,m=e.length;f<m;)e[f++].redraw(a);a.push('</tbody></table></div><div class="',this.$s("header-border"),'"></div>')}a.push('<div id="',b,'-body" class="',this.$s("body"));this._autopaging&&a.push(" ",this.$s("autopaging"));a.push('"');e=this.getHeight();f=zk.ios&&this._nativebar;(e||f)&&a.push(' style="overflow:hidden;',e?"height:"+e+";":
"",f?"-webkit-overflow-scrolling:touch;":"",'"');a.push(">");this.domPad_&&!k&&this.domPad_(a,"-tpad");a.push("<table",h,' id="',b,'-cave"',' style="table-layout:fixed;',d,'">');this.listhead&&this.domFaker_(a,"-bdfaker",c);a.push('<tbody id="',b,'-rows">');for(c=this.firstItem;c;c=this.nextItem(c))c.redraw(a);a.push("</tbody>");this.redrawEmpty_(a);a.push("</table>");this.domPad_&&!k&&this.domPad_(a,"-bpad");a.push("<",l,' id="',b,'-a" style="top:',jq.px0(this._anchorTop),";left:",jq.px0(this._anchorLeft),
'" onclick="return false;" href="javascript:;" class="z-focus-a"');c=this._tabindex;void 0!=c&&a.push(' tabindex="'+c+'"');a.push("></",l,">","</div>");this._nativebar&&this.frozen&&(a.push('<div id="',b,'-frozen" class="',this.$s("frozen"),'">'),this.frozen.redraw(a),a.push("</div>"));this.listfoot&&(a.push('<div id="',b,'-foot" class="',this.$s("footer"),'">','<table id="',b,'-foottbl"',h,' style="table-layout:fixed;',d,'">'),this.listhead&&this.domFaker_(a,"-ftfaker"),a.push('<tbody id="',b,'-footrows">'),
this.listfoot.redraw(a),a.push("</tbody></table></div>"));if("bottom"==g||"both"==g)a.push('<div id="',b,'-pgib" class="',this.$s("paging-bottom"),'">'),this.paging.redraw(a),a.push("</div>");a.push("</div>")};

;zk._m['default']=[zk._p.p.Listbox,'paging'];
zkmld(zk._p.p.Listbox,zk._m);
(function(){zul.sel.Listitem=zk.$extends(zul.sel.ItemWidget,{getListbox:function(){return this.parent},getListgroup:function(){if(zk.isLoaded("zkex.sel")&&this.parent&&this.parent.hasGroup())for(var a=this;a;a=a.previousSibling)if(a.$instanceof(zkex.sel.Listgroup))return a;return null},setLabel:function(a){this._autoFirstCell().setLabel(a)},getDragOptions_:function(a){var b=a.change;a.change=function(a,e,d){b(a,e,d);if(e=a._dragImg)for(a=jq(a.node).hasClass("z-drop-allow"),d=0;d<e.length;d++)a?jq(e[d]).removeClass("z-icon-times").addClass("z-icon-check"):
jq(e[d]).removeClass("z-icon-check").addClass("z-icon-times")};return this.$supers("getDragOptions_",arguments)},setImage:function(a){this._autoFirstCell().setImage(a)},_autoFirstCell:function(){this.firstChild||this.appendChild(new zul.sel.Listcell);return this.firstChild},domStyle_:function(a){if(zk.isLoaded("zkex.sel")&&(this.$instanceof(zkex.sel.Listgroup)||this.$instanceof(zkex.sel.Listgroupfoot))||a&&a.visible)return this.$supers("domStyle_",arguments);var b=this.$supers("domStyle_",arguments),
c=this.getListgroup();return c&&!c.isOpen()?b+"display:none;":b},domClass_:function(){var a=this.$supers("domClass_",arguments),b=this.getListbox();return b&&jq(this.$n()).hasClass(b=b.getOddRowSclass())?a+" "+b:a},replaceWidget:function(a){this._syncListitems(a);this.$supers("replaceWidget",arguments)},scrollIntoView:function(){var a=this.getListbox()._scrollbar;a?(a.syncSize(),a.scrollToElement(this.$n())):this.$supers("scrollIntoView",arguments)},_updHeaderCM:function(a){var b,c;!this.isSelected()&&
(b=this.getListbox())&&b._headercm&&b._multiple&&void 0!=b.$$selectAll&&(c=b.listhead)&&(c=c.firstChild)&&(c._checked=!1);this.$supers("_updHeaderCM",arguments)},_syncListitems:function(a){var b;if(b=this.getListbox()){b.firstItem.uuid==a.uuid&&(b.firstItem=a);b.lastItem.uuid==a.uuid&&(b.lastItem=a);var c=b._selItems,e,d;(e=this.isSelected())&&c.$remove(this);(d=a.isSelected())&&c.push(a);e!=d&&b._updHeaderCM()}},compareItemPos_:function(a){var b=this._index;a=a._index;return b==a?0:b>a?-1:1},shallFireSizedLaterWhenAddChd_:function(){if("group"==
this.getListbox()._model)return zWatch.listen({onCommandReady:this}),!0;this.$supers("shallFireSizedLaterWhenAddChd_",arguments)},onCommandReady:function(a){zUtl.fireSized(this);zWatch.unlisten({onCommandReady:this})}})})();

zkreg('zul.sel.Listitem');
zk._m={};
zk._m['default']=listitem$mold$=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</tr>")};

;zkmld(zk._p.p.Listitem,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,e,a){b instanceof String&&(b=String(b));for(var c=b.length,d=0;d<c;d++){var f=b[d];if(e.call(a,f,d,b))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,a){b!=Array.prototype&&b!=Object.prototype&&(b[e]=a.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,e,a,c){if(e){a=$jscomp.global;b=b.split(".");for(c=0;c<b.length-1;c++){var d=b[c];d in a||(a[d]={});a=a[d]}b=b[b.length-1];c=a[b];e=e(c);e!=c&&null!=e&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6","es3");
(function(){function b(a){return zk.isLoaded("zkex.sel")&&a.$instanceof(zkex.sel.Listgroup)}function e(a){return zk.isLoaded("zkex.sel")&&a.$instanceof(zkex.sel.Listgroupfoot)}zul.sel.Listcell=zk.$extends(zul.LabelImageWidget,{_colspan:1,$define:{colspan:[function(a){return 1<a?a:1},function(){var a=this.$n();a&&(a.colSpan=this._colspan)}]},setLabel:function(){this.$supers("setLabel",arguments);if(this.desktop){var a=this.parent;b(a)?a.rerender():a.$instanceof(zul.sel.Option)&&this.getListbox().rerender()}},
getListbox:function(){var a=this.parent;return a?a.parent:null},getTextNode:function(){return jq(this.$n()).find(">div:first")[0]},getMaxlength:function(){var a=this.getListbox();return a?"select"==a.getMold()?a.getMaxlength():(a=this.getListheader())?a.getMaxlength():0:0},getListheader:function(){var a=this.getListbox();if(a&&a.listhead){var c=this.getChildIndex();if(c<a.listhead.nChildren)return a.listhead.getChildAt(c)}return null},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})},
domContent_:function(){var a=this.$supers("domContent_",arguments),c=this._colHtmlPre();return a?c?c+"&nbsp;"+a:a:c},domClass_:function(a){var c=this.$supers("domClass_",arguments),d=this.parent;a&&a.zclass||!b(d)&&!e(d)||(c+=" "+d.$s("inner"));return c},_colHtmlPre:function(){var a="",c=this.getListbox(),d=this.parent;if(null!=c&&d.firstChild==this){var f=b(d);if(c.isCheckmark()&&!e(d)&&(!f||c.groupSelect&&c.isMultiple())){var g=d.isSelectable();c=c.isMultiple();a+='<span id="'+d.uuid+'-cm" class="'+
d.$s("checkable")+" "+(c?d.$s("checkbox"):d.$s("radio"));if(!g||d.isDisabled())a+=" "+d.$s("disabled");a+='"';g||(a+=' style="visibility:hidden"');a+='><i class="'+d.$s("icon")+" "+(c?"z-icon-check":"z-icon-radio")+'"></i></span>'}f&&(f=d._open?d.getIconOpenClass_()+" "+d.$s("icon-open"):d.getIconCloseClass_()+" "+d.$s("icon-close"),a+='<span id="'+d.uuid+'-img" class="'+d.$s("icon")+'"><i class="'+f+'"></i></span>');if(a)return a}return this.getImage()||this.getLabel()||this.firstChild?"":"&nbsp;"},
doFocus_:function(a){this.$supers("doFocus_",arguments);var c=this.getListbox(),d=c?c.frozen:null,b=this.$n();d&&b&&c._moveToHidingFocusCell(b.cellIndex)},doMouseOver_:function(a){var c=this.$n();c&&zk.gecko&&(this._draggable||this.parent._draggable)&&!jq.nodeName(a.domTarget,"input","textarea")&&jq(c).addClass("z-draggable-over");this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){var c=this.$n();c&&zk.gecko&&(this._draggable||this.parent._draggable)&&!jq.nodeName(a.domTarget,"input",
"textarea")&&jq(c).removeClass("z-draggable-over");this.$supers("doMouseOut_",arguments)},domAttrs_:function(){return this.$supers("domAttrs_",arguments)+(1<this._colspan?' colspan="'+this._colspan+'"':"")},domStyle_:function(a){var c=this.$supers("domStyle_",arguments),d=this.getListbox(),b=this.getListheader(),e=zul.mesh.MeshWidget.WIDTH0;b&&(b.isVisible()||d&&d._model&&!this.parent._loaded||(c+="width:"+e+";white-space: nowrap;"),b._align&&(c+="text-align:"+b._align+";"),b._valign&&(c+="vertical-align:"+
b._valign+";"));return c},bindChildren_:function(){var a;(a=this.parent)&&a.$instanceof(zul.sel.Option)||this.$supers("bindChildren_",arguments)},unbindChildren_:function(){var a;(a=this.parent)&&a.$instanceof(zul.sel.Option)||this.$supers("unbindChildren_",arguments)},deferRedrawHTML_:function(a){a.push("<td",this.domAttrs_({domClass:1}),' class="z-renderdefer"></td>')}})})();

zkreg('zul.sel.Listcell',true);
zk._m={};
zk._m['default']=listcell$mold$=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.$s("content"),'"',this.domTextStyleAttr_(),">",this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div></td>")};

;zkmld(zk._p.p.Listcell,zk._m);
zul.sel.Listhead=zk.$extends(zul.mesh.ColumnMenuWidget,{getListbox:function(){return this.parent},getGroupPackage_:function(){return"zkex.sel"}});

zkreg('zul.sel.Listhead');
zk._m={};
zk._m['default']=listhead$mold$=zul.mesh.HeadWidget.redraw;

;zkmld(zk._p.p.Listhead,zk._m);
zul.sel.Listheader=zk.$extends(zul.mesh.SortWidget,{getListbox:_zkf=function(){return this.parent?this.parent.parent:null},$init:function(){this.$supers("$init",arguments);this.listen({onGroup:this},-1E3)},getMeshBody:_zkf,checkClientSort_:function(a){var b;return!(!(b=this.getMeshBody())||b.hasGroup())&&this.$supers("checkClientSort_",arguments)},$define:{maxlength:[function(a){return!a||0>a?0:a},function(){this.desktop&&(this.rerender(),this.updateCells_())}]},setVisible:function(a){this.isVisible()!=
a&&(this.$supers("setVisible",arguments),this.desktop&&this.smartUpdate("visible",a))},group:function(a,b){var c,g=this.getSortDirection();if(a){if("ascending"==g)return!1}else if("descending"==g)return!1;var m=a?this._sortAscending:this._sortDescending;if("fromServer"==m)return!1;if("none"==m)return b.stop(),!1;var n=this.getMeshWidget();if(!n||n.isModel()||!zk.feature.pe||!zk.isLoaded("zkex.sel"))return!1;var d=this.getMeshBody();if(!d)return!1;b.stop();b=d.desktop;var x=d.$n();try{d.unbind();if(d.hasGroup())for(var f=
d.getGroups(),e=f.length;0<=--e;)d.removeChild(f[e]);f=[];for(var y=this.getChildIndex(),q=e=0,z=n.getBodyWidgetIterator(),r;r=z.next();q++){var h=0;for(c=r.firstChild;c;c=c.nextSibling,h++)h==y&&(f[e++]={wgt:c,index:q})}var A="ascending"==g?-1:1,t=this.sorting,u="client(number)"==m;f.sort(function(a,b){var c=t(a.wgt,b.wgt,u)*A;0==c&&(c=a.index<b.index?-1:1);return c});for(var k=d.firstItem;k;k=d.nextItem(k))d.removeChild(k);var B=this.getChildIndex();e=0;for(h=f.length;e<h;e++){var l=f[e];if(!v||
0!=t(v.wgt,l.wgt,u)){if(c=l.wgt.parent.getChildAt(B))if(c.getLabel())var w=new zkex.sel.Listgroup({label:c.getLabel()});else{var p=c.firstChild;w=p&&p.$instanceof(zul.wgt.Label)?new zkex.sel.Listgroup({label:p.getValue()}):new zkex.sel.Listgroup({label:msgzul.GRID_OTHER})}d.appendChild(w)}d.appendChild(l.wgt.parent);var v=l}this._fixDirection(a)}finally{d.replaceHTML(x,b)}return!0},onGroup:function(a){var b=this.getSortDirection();"ascending"==b?this.group(!1,a):"descending"==b?this.group(!0,a):this.group(!0,
a)||this.group(!1,a)},updateCells_:function(){var a=this.getListbox();if(null!=a&&"select"!=a.getMold()){for(var b=this.getChildIndex(),c,g=a.getBodyWidgetIterator();c=g.next();)b<c.nChildren&&c.getChildAt(b).rerender();(c=a.listfoot)&&b<c.nChildren&&c.getChildAt(b).rerender()}},bind_:function(){this.$supers(zul.sel.Listheader,"bind_",arguments);var a=this.$n("cm"),b=this.$n();if(a){var c=this.getListbox();c&&(c._headercm=a);this.domListen_(a,"onClick","_doClick")}b&&this.domListen_(b,"onMouseOver",
"_doMouseOver").domListen_(b,"onMouseOut","_doMouseOut");(a=this.$n("btn"))&&this.domListen_(a,"onClick","_doMenuClick")},unbind_:function(){var a=this.$n("cm"),b=this.$n();if(a){var c=this.getListbox();c&&(c._headercm=null);this._checked=null;this.domUnlisten_(a,"onClick","_doClick")}b&&this.domUnlisten_(b,"onMouseOver","_doMouseOver").domUnlisten_(b,"onMouseOut","_doMouseOut");(a=this.$n("btn"))&&this.domUnlisten_(a,"onClick","_doMenuClick");this.$supers(zul.sel.Listheader,"unbind_",arguments)},
_doMouseOver:function(a){(this.isSortable_()||this.parent._menupopup&&"none"!=this.parent._menupopup)&&jq(this.$n()).addClass(this.$s("hover"))},_doMouseOut:function(a){if(this.isSortable_()||this.parent._menupopup&&"none"!=this.parent._menupopup)a=jq(this.$n()),a.hasClass(this.$s("visited"))||a.removeClass(this.$s("hover"))},_doClick:function(a){this._checked=!this._checked;var b=this.getListbox(),c=this.$n("cm");c=jq(c);this._checked?(c.addClass(this.$s("checked")),b.selectAll(!0,a)):(c.removeClass(this.$s("checked")),
b._select(null,a));b.fire("onCheckSelectAll",this._checked,{toServer:!0})},doClick_:function(a){var b=this.getListbox(),c=this.$n("cm");if(b&&b._checkmark&&(b=a.domTarget,b==c||b.parentNode==c))return;this.$supers("doClick_",arguments)},domContent_:function(){var a=this.$supers("domContent_",arguments),b=this.getListbox();null!=b&&this.parent.firstChild==this&&b._checkmark&&b._multiple&&!b._listbox$noSelectAll&&(a='<span id="'+this.uuid+'-cm" class="'+this.$s("checkable")+(b.$$selectAll?" "+this.$s("checked"):
"")+'"><i class="'+this.$s("icon")+' z-icon-check"></i></span>'+(a?"&nbsp;"+a:""));return a},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this._maxlength})}});

zkreg('zul.sel.Listheader',true);
zk._m={};
zk._m['default']=listheader$mold$=zul.mesh.HeaderWidget.redraw;

;zkmld(zk._p.p.Listheader,zk._m);
zul.sel.Listfoot=zk.$extends(zul.Widget,{getListbox:function(){return this.parent},setVflex:function(a){this.$super(zul.sel.Listfoot,"setVflex",!1)},setHflex:function(a){this.$super(zul.sel.Listfoot,"setHflex",!1)},deferRedrawHTML_:function(a){a.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}});

zkreg('zul.sel.Listfoot');
zk._m={};
zk._m['default']=listfoot$mold$=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);a=this.getListbox();a._nativebar&&!a.frozen&&b.push('<td class="',this.$s("bar"),'" />');b.push("</tr>")};

;zkmld(zk._p.p.Listfoot,zk._m);
zul.sel.Listfooter=zk.$extends(zul.mesh.FooterWidget,{getListbox:function(){return this.getMeshWidget()},getListheader:function(){return this.getHeaderWidget()},getMaxlength:function(){var a=this.getListheader();return a?a.getMaxlength():0},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})}});

zkreg('zul.sel.Listfooter',true);
zk._m={};
zk._m['default']=listfooter$mold$=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.$s("content"),'">',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div></td>")};

;zkmld(zk._p.p.Listfooter,zk._m);
zul.sel.Option=zk.$extends(zul.Widget,{_selected:!1,$define:{disabled:function(a){var b=this.$n();b&&(b.disabled=a?"disabled":"")},value:null},focus:function(a){var b=this.parent;b&&b.focus(a)},setVisible:function(a){this._visible!=a&&(this._visible=a,this.desktop&&this.parent.rerender())},setSelected:function(a){if(this.__updating__)delete this.__updating__;else try{a=a||!1,this.__updating__=!0,this._selected!=a&&(this.parent&&this.parent.toggleItemSelection(this),this._setSelectedDirectly(a))}finally{delete this.__updating__}},
_setSelectedDirectly:function(a){var b=this.$n();b&&b.selected!=a&&(b.selected=a?"selected":"");this._selected=a},isSelected:function(){return this._selected},getLabel:function(){return this.firstChild?this.firstChild.getLabel():null},getMaxlength:function(){return this.parent?this.parent.getMaxlength():0},bind_:function(){this.$supers("bind_",arguments);this.isSelected()&&(this.parent._selectedIndex=this._index)},getOptionIndex_:function(){var a=this.parent,b=-1;if(a)for(w=a.firstChild;w&&(!w.$instanceof(zul.sel.Option)||
(b++,w!=this));w=w.nextSibling);return b},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})},domAttrs_:function(){var a=this.getValue();return this.$supers("domAttrs_",arguments)+(this.isDisabled()?' disabled="disabled"':"")+(this.isSelected()?' selected="selected"':"")+(a?' value="'+a+'"':"")},replaceWidget:function(a){this._syncItems(a);this.$supers("replaceWidget",arguments)},_syncItems:function(a){if(this.parent&&this.isSelected()){var b=this.parent._selItems;
b&&b.$remove(this)&&b.push(a)}}});

zkreg('zul.sel.Option');
zk._m={};
zk._m['select']=option$mold$=function(a){a.push("<option",this.domAttrs_(),">",this.domLabel_(),"</option>")};

;zkmld(zk._p.p.Option,zk._m);
zul.sel.Select=zk.$extends(zul.Widget,{_selectedIndex:-1,_rows:0,$init:function(){this.$supers("$init",arguments);this._selItems=[]},$define:{multiple:function(a){var b=this.$n();b&&(b.multiple=a?"multiple":"")},disabled:function(a){var b=this.$n();b&&(b.disabled=a?"disabled":"")},selectedIndex:function(a){var b=0,d=0,c,e=this.$n();this.clearSelection();for(c=this.firstChild;c&&b<a;c=c.nextSibling,b++)c.$instanceof(zul.sel.Option)?c.isVisible()||d++:b--;a-=d;e&&(e.selectedIndex=a);-1<a&&c&&c.$instanceof(zul.sel.Option)&&
(c.setSelected(!0),this._selItems.push(c))},name:function(a){var b=this.$n();b&&(b.name=a)},rows:function(a){var b=this.$n();b&&(b.size=a)},maxlength:function(a){this.desktop&&this.rerender()}},setChgSel:function(a){for(var b={},d=0;;){var c=a.indexOf(",",d);(d=(0<=c?a.substring(d,c):a.substring(d)).trim())&&(b[d]=!0);if(0>c)break;d=c+1}for(a=this.firstChild;a;a=a.nextSibling)this._changeSelect(a,1==b[a.uuid])},_changeSelect:function(a,b){var d=!!a.isSelected()!=b;d&&a.setSelected(b);return d},toggleItemSelection:function(a){a.isSelected()?
this._removeItemFromSelection(a):this._addItemToSelection(a)},selectItem:function(a){if(!a)this.setSelectedIndex(-1);else if(this._multiple||!a.isSelected())a.getOptionIndex_?this.setSelectedIndex(a.getOptionIndex_()):this.setSelectedIndex(a.getChildIndex())},_addItemToSelection:function(a){if(!a.isSelected())if(this._multiple){var b=a.getOptionIndex_?a.getOptionIndex_():a.getChildIndex();if(b<this._selectedIndex||0>this._selectedIndex)this._selectedIndex=b;a._setSelectedDirectly(!0);this._selItems.push(a)}else this.selectItem(a)},
_removeItemFromSelection:function(a){a.isSelected()&&(this._multiple?(a._setSelectedDirectly(!1),this._selItems.$remove(a)):this.clearSelection())},clearSelection:function(){if(this._selItems.length){for(var a;a=this._selItems.pop();)a._setSelectedDirectly(!1);this._selectedIndex=-1}},domAttrs_:function(){var a;return this.$supers("domAttrs_",arguments)+(this.isDisabled()?' disabled="disabled"':"")+(this.isMultiple()?' multiple="multiple"':"")+(-1<(a=this.getSelectedIndex())?' selectedIndex="'+a+
'"':"")+(0<(a=this.getRows())?' size="'+a+'"':"")+((a=this.getName())?' name="'+a+'"':"")},bind_:function(){this.$supers(zul.sel.Select,"bind_",arguments);var a=this.$n();this.domListen_(a,"onChange").domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_");zk.gecko||(a=[this,this._fixSelIndex],zWatch.listen({onRestore:a,onVParent:a}));this._fixSelIndex()},unbind_:function(){var a=this.$n();this.domUnlisten_(a,"onChange").domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_").$supers(zul.sel.Select,
"unbind_",arguments);a=[this,this._fixSelIndex];zWatch.unlisten({onRestore:a,onVParent:a})},_fixSelIndex:function(){0>this._selectedIndex&&(this.$n().selectedIndex=-1)},_doChange:function(a){var b=[],d=this.$n();if(this._multiple){d=d.options;for(var c,e=0,k=d.length;e<k;++e){var g=d[e],h=zk.Widget.$(g.id);a=g.selected;h&&h._selected!=a&&(h.setSelected(a),c=!0);if(a&&(b.push(g.id),!f))var f=g.id}if(!c)return}else{a=d.selectedIndex;zk.opera&&(d.selectedIndex=a);f=0>a?a:-1;c=this.firstChild;for(e=a;c&&
-1<e;c=c.nextSibling)c.$instanceof(zul.sel.Option)&&(c.isVisible()&&e--,f++);if(this._selectedIndex==f)return;this.setSelectedIndex(f);b.push(f=d.options[a].id)}this.fire("onSelect",{items:b,reference:f})},doBlur_:zk.ie8_?function(a){this._doChange(a);return this.$supers("doBlur_",arguments)}:zk.$void,beforeCtrlKeys_:function(a){this._doChange(a)},onChildAdded_:function(){this.rerender()},onChildRemoved_:function(){this.childReplacing_||this.rerender()}});

zkreg('zul.sel.Select');
zk._m={};
zk._m['select']=select$mold$=function(b){b.push("<select",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.$instanceof(zul.sel.Option)&&a.isVisible()&&a.redraw(b);b.push("</select>")};

;zkmld(zk._p.p.Select,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}},"es6","es3");
var Tree=zul.sel.Tree=zk.$extends(zul.sel.SelectWidget,{_scrollbar:null,_barPos:null,unbind_:function(){this.destroyBar_();this.$supers(Tree,"unbind_",arguments)},onSize:function(){this.$supers(Tree,"onSize",arguments);var a=this,b=this.frozen;this._shallSyncFrozen&&b&&this._nativebar&&(b.onSize(),this._shallSyncFrozen=!1);setTimeout(function(){a.desktop&&!a._nativebar&&(a._scrollbar||(a._scrollbar=zul.mesh.Scrollbar.init(a)),a.refreshBar_())},200)},refreshBar_:function(a){var b=this._scrollbar;if(b){if(this._currentLeft||
this._currentTop)var c={l:this._currentLeft,t:this._currentTop};this.inPagingMold()&&c&&(a=!0);b.syncSize(a||this._shallShowScrollbar);delete this._shallShowScrollbar;c&&b.scrollTo(c.l,c.t);a=this.frozen;var d;a&&0!=(d=a._start)&&(a._doScrollNow(d),b.setBarPosition(d))}},destroyBar_:function(){var a=this._scrollbar;a&&(a.destroy(),this._scrollbar=null)},clear:function(){if(this._treechildren&&this._treechildren.nChildren)for(var a=this._treechildren.firstChild;a;a=a.nextSibling)a.detach()},insertBefore:function(a,
b,c){if(this.$super("insertBefore",a,b,!this.z_rod))return this._fixOnAdd(a,c,c),!0},appendChild:function(a,b){if(this.$super("appendChild",a,!this.z_rod))return this.insertingBefore_||this._fixOnAdd(a,b,b),!0},_fixOnAdd:function(a,b,c){a.$instanceof(zul.sel.Treecols)?this.treecols=a:a.$instanceof(zul.sel.Treechildren)?(this.treechildren=a,this._fixSelectedSet()):a.$instanceof(zul.mesh.Paging)?this.paging=a:a.$instanceof(zul.sel.Treefoot)?this.treefoot=a:a.$instanceof(zul.mesh.Frozen)&&(this.frozen=
a);b||this.rerender();c||this._syncSize()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);a==this.treecols?this.treecols=null:a==this.treefoot?this.treefoot=null:a==this.treechildren?(this.treechildren=null,this._selItems=[],this._sel=null):a==this.paging?this.paging=null:a==this.frozen&&(this.frozen=null,this.destroyBar_());this.childReplacing_||this._syncSize()},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this.childReplacing_&&this._fixOnAdd(a,!0)},_onTreeitemAdded:function(a){this._fixNewChild(a);
this._onTreechildrenAdded(a.treechildren)},_onTreeitemRemoved:function(a){var b,c;a.isSelected()&&(this._selItems.$remove(a),(b=this._sel==a)&&!this._multiple&&(this._sel=null));this._onTreechildrenRemoved(a.treechildren);b&&this._fixSelected();(c=a.previousSibling||a.getParentItem())?this._shallSyncFocus=c:this._shallSyncFocus=!0},_onTreechildrenAdded:function(a){if(a&&a.parent!=this){var b=0;a=a.getItems();for(var c=a.length;b<c;++b)a[b]&&this._fixNewChild(a[b])}},_onTreechildrenRemoved:function(a){if(null!=
a&&a.parent!=this){for(var b,c=0,d=a.getItems(),e=d.length;c<e;++c)if(a=d[c],a.isSelected()&&(this._selItems.$remove(a),this._sel==a)){if(!this._multiple){this._sel=null;return}b=!0}b&&this._fixSelected()}},_fixNewChild:function(a){a.isSelected()&&(this._sel&&!this._multiple?(a._selected=!1,a.rerender()):(this._sel||(this._sel=a),this._selItems.push(a)))},_fixSelectedSet:function(){this._sel=null;this._selItems=[];for(var a=0,b=this.getItems(),c=b.length;a<c;++a)if(b[a].isSelected()){if(null==this._sel)this._sel=
b[a];else if(!this._multiple){b[a]._selected=!1;continue}this._selItems.push(b[a])}},_fixSelected:function(){switch(this._selItems.length){case 1:var a=this._selItems[0];case 0:break;default:for(var b=0,c=this.getItems(),d=c.length;b<d;++b)if(c[b].isSelected()){a=c[b];break}}return a!=this._sel?(this._sel=a,!0):!1},_sizeOnOpen:function(){this._shallShowScrollbar=!0;var a=this.treecols,b;if(!a||this.isSizedByContent()||"min"==this._hflex)this.syncSize();else for(a=a.firstChild;a;a=a.nextSibling)if(a._hflex||
!(b=a._width)||"auto"==b){this.syncSize();return}this.doResizeScroll_()},getHeadWidgetClass:function(){return zul.sel.Treecols},itemIterator:_zkf=function(a){return new zul.sel.TreeItemIter(this,a)},getBodyWidgetIterator:_zkf,getItems:function(a){return this.treechildren?this.treechildren.getItems(null,a):[]},getItemCount:function(a){return null!=this.treechildren?this.treechildren.getItemCount(a):0},_doLeft:function(a){a.isOpen()&&a.setOpen(!1)},_doRight:function(a){a.isOpen()||a.setOpen(!0)},shallIgnoreSelect_:function(a){var b=
a.domTarget;if(b)return b=b.id,b.endsWith("open")||b.endsWith("icon")||"onRightClick"==a.name&&!this.rightSelect},clearSelection:function(){this.$supers("clearSelection",arguments);this._sel=null},_addItemToSelection:function(){this.$supers("_addItemToSelection",arguments);this._sel=this._selItems[0]},_removeItemFromSelection:function(){this.$supers("_removeItemFromSelection",arguments);this._sel=this._selItems[0]},checkOnHighlightDisabled_:function(){if(this._selectOnHighlightDisabled){var a=window.getSelection||
document.selection;if(a)return zk.ie&&9>zk.ie?"Text"==a.type&&0<a.createRange().htmlText.length:0<a().toString().length}}});zul.sel.TreeItemIter=zk.$extends(zk.Object,{$init:function(a,b){this.tree=a;this.opts=b},_init:function(){this._isInit||(this._isInit=!0,this.items=this.tree.getItems(this.opts),this.length=this.items.length,this.cur=0)},hasNext:function(){this._init();return this.cur<this.length},next:function(){this._init();return this.items[this.cur++]}});

zkreg('zul.sel.Tree');
zk._m={};
zk._m['paging']=tree$mold$=function(a){var b=this.uuid,c=this.getInnerWidth(),h="100%"==c?' width="100%"':"";c="100%"!=c?"width:"+c:"";var d=this.inPagingMold(),k=11>zk.ie||zk.gecko?"a":"button";a.push("<div",this.domAttrs_({tabindex:1}),">");if(d&&this.paging){var g=this.getPagingPosition();if("top"==g||"both"==g)a.push('<div id="',b,'-pgit" class="',this.$s("paging-top"),'">'),this.paging.redraw(a),a.push("</div>")}if(this.treecols){a.push('<div id="',b,'-head" class="',this.$s("header"),'">','<table id="',b,'-headtbl"',
h,' style="table-layout:fixed;',c,'">');this.domFaker_(a,"-hdfaker");a.push('<tbody id="',b,'-headrows">');for(var e=this.heads,f=0,l=e.length;f<l;)e[f++].redraw(a);a.push('</tbody></table></div><div class="',this.$s("header-border"),'"></div>')}a.push('<div id="',b,'-body" class="',this.$s("body"));this._autopaging&&a.push(" ",this.$s("autopaging"));a.push('"');e=this.getHeight();f=zk.ios&&this._nativebar;(e||f)&&a.push(' style="',e?"height:"+e+";":"",f?"-webkit-overflow-scrolling:touch;":"",'"');
a.push(">");this.domPad_&&!d&&this.domPad_(a,"-tpad");a.push('<table id="',b,'-cave"',h,' style="table-layout:fixed;',c,'">');this.treecols&&this.domFaker_(a,"-bdfaker");this.treechildren?this.treechildren.redraw(a):a.push('<tbody id="',this.uuid,'-rows"/>');a.push("</table>");this.domPad_&&!d&&this.domPad_(a,"-bpad");a.push("<",k,' style="top:',jq.px0(this._anchorTop),";left:",jq.px0(this._anchorLeft),'" id="',b,'-a"  onclick="return false;" href="javascript:;" class="z-focus-a"');d=this._tabindex;
void 0!=d&&a.push(' tabindex="'+d+'"');a.push("></",k,">","</div>");this._nativebar&&this.frozen&&(a.push('<div id="',b,'-frozen" class="',this.$s("frozen"),'">'),this.frozen.redraw(a),a.push("</div>"));this.treefoot&&(a.push('<div id="',b,'-foot" class="',this.$s("footer"),'">','<table id="',b,'-foottbl"',h,' style="table-layout:fixed;',c,'">'),this.treecols&&this.domFaker_(a,"-ftfaker"),a.push('<tbody id="',b,'-footrows">'),this.treefoot.redraw(a),a.push("</tbody></table></div>"));if("bottom"==
g||"both"==g)a.push('<div id="',b,'-pgib" class="',this.$s("paging-bottom"),'">'),this.paging.redraw(a),a.push("</div>");a.push("</div>")};

;zk._m['default']=[zk._p.p.Tree,'paging'];
zkmld(zk._p.p.Tree,zk._m);
(function(){function d(a,b){if(a){a=a.firstChild;for(var c;a;a=a.nextSibling)(c=a.treerow)&&b<c.nChildren&&c.getChildAt(b).rerender(),d(a.treechildren,b)}}function l(a,b,c,m,d){for(var g=[],f=0,n=0,e=a.firstChild;e;e=e.nextSibling,n++){e.treechildren&&l(e.treechildren,b,c,m,d);for(var h=0,k=e.getFirstCell();k;k=k.nextSibling,h++)h==b&&(g[f++]={wgt:k,index:n})}var p="ascending"==c?-1:1;g.sort(function(a,b){var c=m(a.wgt,b.wgt,d)*p;0==c&&(c=a.index<b.index?-1:1);return c});f=0;for(h=g.length;f<h;f++)a.appendChild(g[f].wgt.parent.parent)}
zul.sel.Treecol=zk.$extends(zul.mesh.SortWidget,{getTree:function(){return this.parent?this.parent.parent:null},getMeshBody:function(){var a=this.getTree();return a?a.treechildren:null},checkClientSort_:function(a){var b;return!(!this.getMeshBody()||!(b=this.getTree())||"paging"==b._mold)&&this.$supers("checkClientSort_",arguments)},replaceCavedChildrenInOrder_:function(a){var b=this.getMeshWidget(),c=this.getMeshBody(),d=c.desktop;try{c.unbind(),l(c,this.getChildIndex(),this.getSortDirection(),this.sorting,
"client(number)"==this[a?"_sortAscending":"_sortDescending"]),this._fixDirection(a)}finally{a=b._syncingbodyrows;b._syncingbodyrows=!0;try{b.clearCache(),jq(b.$n("rows")).replaceWith(c.redrawHTML_()),c.bind(d),b._bindDomNode()}finally{b._syncingbodyrows=a}}},$define:{maxlength:[function(a){return!a||0>a?0:a},function(){this.desktop&&(this.rerender(),this.updateCells_())}]},updateCells_:function(){var a=this.getTree();if(a){var b=this.getChildIndex(),c=a.treefoot;d(a.treechildren,b);c&&b<c.nChildren&&
c.getChildAt(b).rerender()}},bind_:function(){this.$supers(zul.sel.Treecol,"bind_",arguments);var a;(a=this.$n())&&this.domListen_(a,"onMouseOver","_doSortMouseEvt").domListen_(a,"onMouseOut","_doSortMouseEvt")},unbind_:function(){var a;(a=this.$n())&&this.domUnlisten_(a,"onMouseOver","_doSortMouseEvt").domUnlisten_(a,"onMouseOut","_doSortMouseEvt");this.$supers(zul.sel.Treecol,"unbind_",arguments)},_doSortMouseEvt:function(a){if("none"!=this.getSortAscending())jq(this.$n())["onMouseOver"==a.name?
"addClass":"removeClass"](this.getZclass()+"-sort-over")},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this._maxlength})}})})();

zkreg('zul.sel.Treecol',true);
zk._m={};
zk._m['default']=treecol$mold$=function(b){b.push("<th",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.$s("content"),'"',this.domTextStyleAttr_(),'><div class="',this.$s("sorticon"),'"><i id="',this.uuid,'-sort-icon"></i></div>',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div></th>")};

;zkmld(zk._p.p.Treecol,zk._m);
zul.sel.Treecols=zk.$extends(zul.mesh.HeadWidget,{getTree:function(){return this.parent},setVisible:function(a){this._visible!=a&&(this.$supers("setVisible",arguments),this.getTree().rerender())}});

zkreg('zul.sel.Treecols');
zk._m={};
zk._m['default']=treecols$mold$=zul.mesh.HeadWidget.redraw;

;zkmld(zk._p.p.Treecols,zk._m);
(function(){function g(a){var b;if((b=a.parent)&&b.lastChild==a)return a.previousSibling}function k(a,b,d){if(!d){a&&a._syncIcon();var c;(c=b.parent)&&c.lastChild==b&&(c=b.previousSibling)&&c._syncIcon()}}var l=zul.sel.Treechildren=zk.$extends(zul.Widget,{bind_:function(a,b,d){this.$supers(l,"bind_",arguments);zWatch.listen({onResponse:this});var c=this;d.push(function(){var a=c.getTree(),b;a&&a._nativebar&&(b=a.frozen)&&b._syncFrozen()})},unbind_:function(){zWatch.unlisten({onResponse:this});this.$supers(l,
"unbind_",arguments)},onResponse:function(){if(this.desktop){var a=this.getTree();a&&a.frozen&&(a._shallSyncFrozen=!0,a.onSize())}},getTree:function(){return this.isTopmost()?this.parent:this.parent?this.parent.getTree():null},getLinkedTreerow:function(){return this.parent?this.parent.treerow:null},isTopmost:function(){return this.parent&&this.parent.$instanceof(zul.sel.Tree)},isRealElement:function(){return!1},insertBefore:function(a,b,d){var c=g(a);if(this.$supers("insertBefore",arguments))return k(c,
a,d),!0},appendChild:function(a,b){var d=g(a);if(this.$supers("appendChild",arguments))return this.insertingBefore_||k(d,a,b),!0},insertChildHTML_:function(a,b,d){var c,e=this.isTopmost();b&&(b=b.$n()?b.getFirstNode_():null);b||e||(c=this.getCaveNode()||this.parent.getCaveNode());b?jq(b).before(a.redrawHTML_()):c?jq(c).after(a.redrawHTML_()):e?jq(this.parent.$n("rows")).append(a.redrawHTML_()):jq(this).append(a.redrawHTML_());a.bind(d)},getCaveNode:function(){for(var a,b=this.lastChild;b;b=b.previousSibling)if(a=
b.getCaveNode())return b.treechildren&&(b=b.treechildren.getCaveNode())&&(a=b),a},isRealVisible:function(){return this._isRealVisible()&&this.$supers("isRealVisible",arguments)},_isRealVisible:function(){var a;return this.isVisible()&&(this.isTopmost()||(a=this.parent)&&a.isOpen()&&a._isRealVisible())},getItems:function(a,b){a=a||[];for(var d=b&&b.skipHidden,c=this.firstChild;c;c=c.nextSibling)if(!d||c.isVisible())a.push(c),!c.treechildren||d&&!c.isOpen()||c.treechildren.getItems(a,b);return a},getItemCount:function(a){for(var b=
0,d=a&&a.skipHidden,c=this.firstChild;c;c=c.nextSibling)if(!d||c.isVisible())b++,!c.treechildren||d&&!c.isOpen()||(b+=c.treechildren.getItemCount(a));return b},beforeParentChanged_:function(a){var b=this.getTree();b&&b._onTreechildrenRemoved(this);a&&(b=a.$instanceof(zul.sel.Tree)?a:a.getTree())&&b._onTreechildrenAdded(this);this.$supers("beforeParentChanged_",arguments)},removeHTML_:function(a){for(var b,d=this.firstChild;d;d=d.nextSibling)(b=d.$n())&&d.removeHTML_(b);this.$supers("removeHTML_",
arguments)},getOldWidget_:function(a){var b=this.$supers("getOldWidget_",arguments);return b&&b.$instanceof(zul.sel.Treerow)?(b=b.parent)?b.treechildren:null:b},$n:function(a){return this.isTopmost()?this.getTree().$n("rows"):this.firstChild?a?this.firstChild.$n(a):this.firstChild.$n():null},replaceWidget:function(a){for(;this.firstChild!=this.lastChild;)this.lastChild.detach();this.firstChild&&this.firstChild.treechildren&&this.firstChild.treechildren.detach();zul.sel.Treeitem._syncSelItems(this,
a);this.$supers("replaceWidget",arguments)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this.desktop&&this.getTree()._syncSize()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);this.desktop&&this.getTree()._syncSize()},replaceChildHTML_:function(a,b,d,c,e){var f=a.getOldWidget_(b);f?f.unbind(c):this.shallChildROD_(a)&&this.$class._unbindrod(a);e=a.redrawHTML_(c,e);if(zk.ie11_||zk.edge){b=jq(b);var h=e.length;f=b[0];if(1048576<h){var g=e.lastIndexOf("</tr>",
h/2);h=e.substr(0,g);e=e.substr(g);f.insertAdjacentHTML("afterend",e);f.insertAdjacentHTML("afterend",h)}else f.insertAdjacentHTML("afterend",e);b.remove()}else jq(b).replaceWith(e);a.bind(d,c)}})})();

zkreg('zul.sel.Treechildren');
zk._m={};
zk._m['default']=treechildren$mold$=function(b){if(this.parent.$instanceof(zul.sel.Tree)){b.push('<tbody id="',this.parent.uuid,'-rows" ',this.domAttrs_({id:1}),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</tbody>")}else for(a=this.firstChild;a;a=a.nextSibling)a.redraw(b)};

;zkmld(zk._p.p.Treechildren,zk._m);
(function(){function p(a){for(;a&&!a.$instanceof(zul.sel.Tree);a=a.parent)if(a.isOpen&&!a.isOpen())return!0}function k(a,b){b.isSelected()&&a.$remove(b);if(b=b.treechildren)for(b=b.firstChild;b&&a.length;b=b.nextSibling)k(a,b)}function g(a,b){b.isSelected()&&a.push(b);if(b=b.treechildren)for(b=b.firstChild;b;b=b.nextSibling)g(a,b)}function m(a,b){var c=a.$n();c&&(c.style.display=b?"":"none");if(a=a.treechildren)for(a=a.firstChild;a;a=a.nextSibling)a._visible&&a._open&&m(a,b)}function l(a,b){a=b;for(b=
[a.getChildIndex()];a;)if(a=a.parent.parent,a.$instanceof(zul.sel.Treeitem))b.unshift(a.getChildIndex());else break;return b}function n(a,b){for(var c=0;;){if(a[c]<b[c])return-1;if(a[c]>b[c])break;else if(a[c]==b[c]){if(void 0==a[c])break;c++}else{if(void 0==a[c])return-1;break}}return 1}zul.sel.Treeitem=zk.$extends(zul.sel.ItemWidget,{_open:!0,$define:{open:function(a,b){var c=this.$n("open");var e=this.$n("icon");if(!c||p(this.parent))e&&(c=e.className,e.className=a?c.replace("-right","-down").replace("-close",
"-open"):c.replace("-down","-right").replace("-open","-close"));else{e&&(c=e.className,e.className=a?c.replace("-right","-down").replace("-close","-open"):c.replace("-down","-right").replace("-open","-close"));var d=this.getTree(),f=d?d.ebodytbl:null;e=f?f.clientWidth:0;a||zWatch.fireDown("onHide",this);this._showKids(a);a&&zUtl.fireShown(this);d&&(d._sizeOnOpen(),b||this.fire("onOpen",{open:a},{toServer:d.inPagingMold()||d.isModel()}),d._syncFocus(this),f&&(d._fixhdwcnt=d._fixhdwcnt||0,d._fixhdwcnt++||
(d._fixhdoldwd=e),setTimeout(function(){!--d._fixhdwcnt&&d.$n()&&d._fixhdoldwd!=f.clientWidth&&d._calcSize()},250)))}}},_showKids:function(a){var b=this.treechildren;if(b){var c=b.firstChild;for(b=b._isRealVisible();c;c=c.nextSibling)c.$n().style.display=b&&c.isVisible()&&a?"":"none",c.isOpen()&&c._showKids(a)}},isStripeable_:function(){return!1},getMeshWidget:_zkf=function(){return this.parent?this.parent.getTree():null},getTree:_zkf,getZclass:function(){return this.treerow?this.treerow.getZclass():
null},$n:function(a){return this.treerow?a?this.treerow.$n(a):this.treerow.$n()||jq(this.treerow.uuid,zk)[0]:null},isContainer:function(){return null!=this.treechildren},isEmpty:function(){return!this.treechildren||!this.treechildren.nChildren},getLevel:function(){for(var a=0,b=this;b.parent&&(b=b.parent.parent,b&&!b.$instanceof(zul.sel.Tree));++a);return a},getLabel:function(){var a=this.getFirstCell();return a?a.getLabel():null},setLabel:function(a){this._autoFirstCell().setLabel(a)},getFirstCell:function(){return this.treerow?
this.treerow.firstChild:null},_autoFirstCell:function(){this.treerow||this.appendChild(new zul.sel.Treerow);var a=this.treerow.firstChild;a||(a=new zul.sel.Treecell,this.treerow.appendChild(a));return a},getImage:function(){var a=this.getFirstCell();return a?a.getImage():null},setImage:function(a){this._autoFirstCell().setImage(a);return this},getParentItem:function(){var a=this.parent&&this.parent.parent?this.parent.parent:null;return a&&a.$instanceof(zul.sel.Treeitem)?a:null},_isRealVisible:function(){var a;
return this.isVisible()&&(a=this.parent)&&a._isRealVisible()},_isVisibleInTree:function(){if(this.isVisible()){var a=this.parent,b;return a&&a.isVisible()&&(b=a.parent)?b.$instanceof(zul.sel.Tree)?!0:b._isVisibleInTree():!1}},setVisible:function(a){this.isVisible()!=a&&(this.$supers("setVisible",arguments),this.treerow&&this.treerow.setVisible(a),m(this,this._isRealVisible()));return this},beforeParentChanged_:function(a){var b=this.getTree();b&&b._onTreeitemRemoved(this);a&&(b=a.getTree())&&b._onTreeitemAdded(this);
this.$supers("beforeParentChanged_",arguments)},isRealElement:function(){return!1},insertBefore:function(a,b,c){if(this.$super("insertBefore",a,b,c||!this.z_rod&&a.$instanceof(zul.sel.Treechildren)))return this._fixOnAdd(a,c),!0},appendChild:function(a,b){if(this.$super("appendChild",a,b||!this.z_rod&&a.$instanceof(zul.sel.Treechildren)))return this.insertingBefore_||this._fixOnAdd(a,b),!0},_fixOnAdd:function(a,b){a.$instanceof(zul.sel.Treerow)?this.treerow=a:a.$instanceof(zul.sel.Treechildren)&&
(this.treechildren=a,!b&&this.treerow&&this.rerender())},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);a==this.treerow?this.treerow=null:a==this.treechildren&&(this.treechildren=null,this.childReplacing_||this._syncIcon(!0))},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this.childReplacing_?this._fixOnAdd(a,!0):this.desktop&&this._fixOnAdd(a,!0)},removeHTML_:function(a){for(var b,c=this.firstChild;c;c=c.nextSibling)(b=c.$n())&&c.removeHTML_(b);this.$supers("removeHTML_",
arguments)},replaceWidget:function(a){zul.sel.Treeitem._syncSelItems(this,a);this.treechildren&&this.treechildren.detach();this.$supers("replaceWidget",arguments)},_removeChildHTML:function(a){var b;for(a=this.firstChild;a;a=a.nextSibling)a!=this.treerow&&(b=a.$n())&&a.removeHTML_(b)},_renderChildHTML:function(a){var b=this.getTree(),c=b.ebodyrows;if(c&&c.childNodes.length){for(var e=0,d=c.childNodes,f=d.length-1,h=0,k=l(b,this);e<=f;){h=e+f>>>1;var g=zk.Widget.$(d[h].id).parent;g=l(b,g);1==n(k,g)?
e=h+1:(f=h-1,e>=f&&--h)}0<=h?jq(d[h]).after(a):c.firstChild?jq(c.firstChild).before(a):jq(c).append(a)}else jq(c).append(a)},insertChildHTML_:function(a,b,c){(b=b?b.getFirstNode_():null)?jq(b).before(a.redrawHTML_()):this._renderChildHTML(a.redrawHTML_());a.bind(c)},getOldWidget_:function(a){var b=this.$supers("getOldWidget_",arguments);return b&&b.$instanceof(zul.sel.Treerow)?b.parent:b},replaceHTML:function(a,b,c){this._removeChildHTML(a);this.$supers("replaceHTML",arguments)},_syncIcon:function(a){if(this.desktop&&
this.treerow){var b=this.treerow;(b=b.firstChild)&&b._syncIcon(a);if(b=this.treechildren)for(b=b.firstChild;b;b=b.nextSibling)b._syncIcon(a)}},compareItemPos_:function(a){if(this==a)return 0;var b=this.getTree();return n(l(b,a),l(b,this))}},{_syncSelItems:function(a,b){var c;if((c=a.getTree())&&(c=c._selItems))if(a.$instanceof(zul.sel.Treechildren)){for(a=a.firstChild;a;a=a.nextSibling)k(c,a);for(a=b.firstChild;a;a=a.nextSibling)g(c,a)}else k(c,a),g(c,b)}})})();

zkreg('zul.sel.Treeitem');
zk._m={};
zk._m['default']=treeitem$mold$=function(a){this.treerow&&this.treerow.redraw(a);this.treechildren&&this.treechildren.redraw(a)};

;zkmld(zk._p.p.Treeitem,zk._m);
zul.sel.Treerow=zk.$extends(zul.Widget,{getTree:function(){return this.parent?this.parent.getTree():null},getLevel:function(){return this.parent?this.parent.getLevel():0},getLinkedTreechildren:function(){return this.parent?this.parent.treechildren:null},domClass_:function(a){var b=this.$supers("domClass_",arguments),c=this.parent;!c||a&&a.zclass||(this.getZclass(),c.isDisabled()&&(b+=(b?" ":"")+this.$s("disabled")),c.isSelected()&&(b+=(b?" ":"")+this.$s("selected")));return b},domTooltiptext_:function(){return this._tooltiptext||
this.parent._tooltiptext||this.parent.parent._tooltiptext},domStyle_:function(a){return(this.parent&&!this.parent._isRealVisible()&&this.isVisible()?"display:none;":"")+this.$supers("domStyle_",arguments)},removeChild:function(a){for(var b=a.firstChild;b;){var c=b.nextSibling;a.removeChild(b);b=c}this.$supers("removeChild",arguments)},doClick_:function(a){var b=this.parent,c=a.domTarget;c==this.$n("open")||c==this.$n("icon")?(b.setOpen(!b._open),a.stop(),this.getTree().focus()):b.isDisabled()||this.$supers("doClick_",
arguments)},scrollIntoView:function(){var a=this.getTree()._scrollbar;a?(a.syncSize(),a.scrollToElement(this.$n())):this.$supers("scrollIntoView",arguments)},deferRedrawHTML_:function(a){a.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}});

zkreg('zul.sel.Treerow');
zk._m={};
zk._m['default']=treerow$mold$=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</tr>")};

;zkmld(zk._p.p.Treerow,zk._m);
(function(){zul.sel.Treecell=zk.$extends(zul.LabelImageWidget,{setWidth:zk.$void,_colspan:1,$define:{colspan:[function(a){return 1<a?a:1},function(){var a=this.$n();a&&(a.colSpan=this._colspan)}]},getTree:function(){return this.parent?this.parent.getTree():null},domStyle_:function(a){a=this.$super("domStyle_",zk.copy(a,{width:!0}));var b=this.getTreecol(),c=zul.mesh.MeshWidget.WIDTH0;b&&b._align&&(a+="text-align: "+b._align+";");return this.isVisible()&&b&&!b.isVisible()?a+"width: "+c+";":a},getTreecol:function(){var a=
this.getTree();if(a&&a.treecols){var b=this.getChildIndex();if(b<a.treecols.nChildren)return a.treecols.getChildAt(b)}return null},getLevel:function(){return this.parent?this.parent.getLevel():0},getMaxlength:function(){var a=this.getTreecol();return a?a.getMaxlength():0},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})},getTextNode:function(){return this.getCaveNode()},domContent_:function(){var a=this.$supers("domContent_",arguments),b=this._colHtmlPre();
return a?b?b+'<span class="'+this.$s("text")+'">&nbsp;'+a+"</span>":a:b},bind_:function(){this.$supers("bind_",arguments);if(this._clearCache){this._clearCache=!1;var a;(a=this.parent)&&a.clearCache()}},doMouseOver_:function(a){var b=this.$n();b&&zk.gecko&&(this._draggable||this.parent._draggable)&&!jq.nodeName(a.domTarget,"input","textarea")&&jq(b).addClass("z-draggable-over");this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){var b=this.$n();b&&zk.gecko&&(this._draggable||this.parent._draggable)&&
!jq.nodeName(a.domTarget,"input","textarea")&&jq(b).removeClass("z-draggable-over");this.$supers("doMouseOut_",arguments)},doFocus_:function(a){this.$supers("doFocus_",arguments);var b=this.getTree(),c=b?b.frozen:null,e=b&&b._treechildren?b._treechildren.$n():null;if(c&&e){var d=jq(a.domTarget).parents("td");for(var f=0,g=d.length;f<g;f++)if(c=d[f],c.parentNode.parentNode==e){b._moveToHidingFocusCell(c.cellIndex);break}}},_syncIcon:function(a){this.rerender(a?-1:!1);this.parent&&(this._clearCache=
!0)},_colHtmlPre:function(){if(this.parent.firstChild==this){var a=this.parent.parent,b=a.getTree(),c=new zk.Buffer;if(b&&b.isCheckmark()){var e=a.isSelectable(),d=b.isMultiple(),f=d?a.$s("checkbox"):a.$s("radio");d=d?" z-icon-check":" z-icon-radio";c.push('<span id="',this.parent.uuid,'-cm" class="',a.$s("checkable")," ",f);e&&!a.isDisabled()||c.push(" ",a.$s("disabled"));c.push('"');e||c.push(' style="visibility:hidden"');c.push('><i class="',a.$s("icon"),d,'"></i></span>')}e=b?b.getZclass():"";
f=0;for(b=this._getTreeitems(a,b).length;f<b;++f)this._appendIcon(c,e,"spacer",!1);a.isContainer()?(a=a.isOpen()?"open":"close",this._appendIcon(c,e,a,!0)):this._appendIcon(c,e,"spacer",!1);return c.join("")}return this.getImage()||this.getLabel()||this.nChildren?null:"&nbsp;"},_getTreeitems:function(a,b){for(var c=[];;){a=a.parent;if(!a)break;a=a.parent;if(!a||a==b)break;c.unshift(a)}return c},_appendIcon:function(a,b,c,e){var d,f="";a.push('<span class="');if("spacer"==c)a.push(b,"-line ",b,"-",
c,'"'),f+="&nbsp;";else{var g="";e&&(d=this.parent)&&(g=d.uuid+"-icon");a.push(b,'-icon"');d=this.getIconOpenClass_();-1<c.indexOf("close")&&(d=this.getIconCloseClass_());f+='<i id="'+g+'" class="'+d+" "+b+"-"+c+'"></i>'}e&&(d=this.parent)&&a.push(' id="',d.uuid,'-open"');a.push(">",f,"</span>")},getIconOpenClass_:function(){return"z-icon-caret-down"},getIconCloseClass_:function(){return"z-icon-caret-right"},getWidth:function(){var a=this.getTreecol();return a?a.getWidth():null},domAttrs_:function(){return this.$supers("domAttrs_",
arguments)+(1<this._colspan?' colspan="'+this._colspan+'"':"")},updateDomContent_:function(){this.$supers("updateDomContent_",arguments);this.parent&&this.parent.clearCache()},deferRedrawHTML_:function(a){a.push("<td",this.domAttrs_({domClass:1}),' class="z-renderdefer"></td>')}})})();

zkreg('zul.sel.Treecell',true);
zk._m={};
zk._m['default']=treecell$mold$=function(b,a){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.$s("content"),'"',this.domTextStyleAttr_(),">",this.domContent_());if(!a)for(a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div></td>")};

;zkmld(zk._p.p.Treecell,zk._m);
zul.sel.Treefoot=zk.$extends(zul.Widget,{getTree:function(){return this.parent},setVflex:function(a){this.$super(zul.sel.Treefoot,"setVflex",!1)},setHflex:function(a){this.$super(zul.sel.Treefoot,"setHflex",!1)},deferRedrawHTML_:function(a){a.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}});

zkreg('zul.sel.Treefoot');
zk._m={};
zk._m['default']=treefoot$mold$=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);a=this.getTree();a._nativebar&&!a.frozen&&b.push('<td class="',this.$s("bar"),'" />');b.push("</tr>")};

;zkmld(zk._p.p.Treefoot,zk._m);
zul.sel.Treefooter=zk.$extends(zul.mesh.FooterWidget,{getTree:function(){return this.getMeshWidget()},getTreecol:function(){return this.getHeaderWidget()},getMaxlength:function(){var a=this.getTreecol();return a?a.getMaxlength():0},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})}});

zkreg('zul.sel.Treefooter',true);
zk._m={};
zk._m['default']=treefooter$mold$=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.$s("content"),'">',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div></td>")};

;zkmld(zk._p.p.Treefooter,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.sel',1);zk.load('zul.wgt,zul.lang,zk.fmt',function(){if(zk._p=zkpi('zul.inp'))try{
(function(){var h=11>zk.ie?function(){return!0}:zk.opera?function(a){return 32==a||46<a}:function(a){return 32<=a},k=zk.ie?function(a){setTimeout(function(){a==zk.currentFocus&&zjq.fixInput(a.getInputNode())},0)}:zk.$void,f=windowY=0;zul.inp.RoundUtl={syncWidth:function(a,b,c){var d=a.$n();(a._inplace||d.style.width)&&(c||zk(d).isRealVisible())&&d.style.width&&(c=d.offsetWidth,b=b?b.offsetWidth:0,a.getInputNode().style.width=jq.px0(c-b))},buttonVisible:function(a,b){var c=a.$n("btn");c&&(b=b?"removeClass":
"addClass",jq(c)[b](a.$s("disabled")),jq(a.getInputNode())[b](a.$s("rightedge")),a.onSize())},doFocus_:function(a){a._inplace&&(null!=a._inplaceTimerId&&(clearTimeout(a._inplaceTimerId),a._inplaceTimerId=null),a.onSize())},doBlur_:function(a){if(a._inplace){var b=a.$n();null!=a._inplaceTimerId&&(clearTimeout(a._inplaceTimerId),a._inplaceTimerId=null);a._inplaceTimerId=setTimeout(function(){a.desktop&&jq(a.$n()).addClass(a.getInplaceCSS())},a._inplaceTimeout);a.onSize();a.getHflex()||(b.style.width=
a.getWidth()||"")}},onSize:function(a){var b=a.getWidth();a.getHflex()||b&&-1==b.indexOf("%")||(a.getInputNode().style.width="");this.syncWidth(a,a.$n("btn"),!0)}};var g=zul.inp.InputWidget=zk.$extends(zul.Widget,{_maxlength:0,_cols:0,_type:"text",_placeholder:null,_inplaceTimerId:null,_inplaceTimeout:150,_inplaceIgnore:!1,$define:{name:function(a){var b=this.getInputNode();b&&(b.name=a)},disabled:function(a){var b=this.getInputNode();b&&(a=(b.disabled=a)?"addClass":"removeClass",jq(this.$n())[a](this.$s("disabled")))},
readonly:function(a){var b=this.getInputNode();if(b){k(this);var c=a?"addClass":"removeClass";b.readOnly=a;jq(this.$n())[c](this.$s("readonly"))}},cols:function(a){var b=this.getInputNode();b&&(this.isMultiline()?b.cols=a:b.size=a)},maxlength:function(a){var b=this.getInputNode();b&&!this.isMultiline()&&(b.maxLength=a)},tabindex:function(a){var b=this.getInputNode();b&&(null==a?b.removeAttribute("tabindex"):b.tabIndex=a)},inplace:function(a){this.rerender()},placeholder:function(a){this.rerender()},
instant:null,errorboxSclass:null,errorboxIconSclass:null},getInplaceCSS:function(){return this._inplace?this.$s("inplace"):""},select:function(a,b){var c=this.getInputNode();zk.ff&&zk.currentFocus!=c&&this.focus_();zk(c).setSelectionRange(a,b)},getType:function(){return this._type},isMultiline:function(){return!1},inRoundedMold:function(){return!0},getText:function(){return this.coerceToString_(this.getValue())},setText:function(a){this.setValue(this.coerceFromString_(a))},getValue:function(){return this._value},
setValue:function(a,b){if(b)this.clearErrorMessage(null!=this.cst);else{var c=this._validate(a);a=c.value}this.$class._clearOnChanging(this);!(c&&c.error||!b&&this._equalValue(this._value,a))&&(this._value=a,b=this.getInputNode())&&(this._defRawVal=this._lastChg=b.value=this.coerceToString_(a))},set_value:function(a,b){this.setValue(this.unmarshall_(a),b)},getInputNode:_zkf=function(){return this.$n("real")||this.$n()},getTextNode:_zkf,domAttrs_:function(a){var b=this.$supers("domAttrs_",arguments);
a&&a.text||(b+=this.textAttrs_());return b},textAttrs_:function(){var a="";if(this.isMultiline()){var b=this._cols;0<b&&(a+=' cols="'+b+'"')}else a+=' value="'+this._areaText()+'"',a+=' type="'+this.getType()+'"',b=this._cols,0<b&&(a+=' size="'+b+'"'),b=this._maxlength,0<b&&(a+=' maxlength="'+b+'"');b=this._tabindex;void 0!=b&&(a+=' tabindex="'+b+'"');(b=this._name)&&(a+=' name="'+b+'"');this._disabled&&(a+=' disabled="disabled"');this._readonly&&(a+=' readonly="readonly"');this._placeholder&&(a+=
' placeholder="'+zUtl.encodeXML(this._placeholder)+'"');(b=jq.filterTextStyle(this.domStyle_({width:!0,height:!0,top:!0,left:!0})))&&(a+=' style="'+b+'"');return a},_onChanging:function(a){this.$class._onChanging.call(this,a)},_areaText:function(){return zUtl.encodeXML(this.coerceToString_(this._value))},setConstraint:function(a){"string"==typeof a&&"["!=a.charAt(0)?this._cst=new zul.inp.SimpleConstraint(a):this._cst=a;this._cst&&(this._reVald=!0)},getConstraint:function(){return this._cst},doFocus_:function(a){this.$supers("doFocus_",
arguments);this._lastChg=this.getInputNode().value;if(a.domTarget.tagName&&(this._inplace&&(jq(this.$n()).removeClass(this.getInplaceCSS()),null!=this._inplaceTimerId&&(clearTimeout(this._inplaceTimerId),this._inplaceTimerId=null)),this._errbox)){var b=this,c=b._cst&&b._cst._pos;setTimeout(function(){b._errbox&&b._errbox.open(b,null,c||b._errbox._defaultPos,{dodgeRef:!c})})}},doBlur_:function(a){this.$class._stopOnChanging(this,!0);!zk.alerting&&this.shallUpdate_(zk.currentFocus)&&(this.updateChange_(),
this.$supers("doBlur_",arguments));if(this._inplace&&(this.$class._clearInplaceTimeout(this),!this._inplaceIgnore)){var b=this;b._inplaceTimerId=setTimeout(function(){b.desktop&&jq(b.$n()).addClass(b.getInplaceCSS())},b._inplaceTimeout)}if(zk.ios&&jq(this.$n()).data("fixscrollposition")){var c=window.pageYOffset;window.pageXOffset==f&&c==windowY||window.scrollTo(f,windowY)}this._lastKeyDown=null},_doTouch:zk.ios?function(a){f=window.pageXOffset;windowY=window.pageYOffset}:zk.$void,_doSelect:function(a){if(this.isListen("onSelection")){a=
this.getInputNode();var b=zk(a).getSelectionRange(),c=b[0];b=b[1];this.fire("onSelection",{start:c,end:b,selected:a.value.substring(c,b)})}},shallUpdate_:function(a){return!a||!zUtl.isAncestor(this,a)},getErrorMesssage:function(){return this.getErrorMessage()},getErrorMessage:function(){return this._errmsg},setErrorMessage:function(a){this.clearErrorMessage(!0,!0);this._markError(a,null,!0)},clearErrorMessage:function(a,b){var c=this._errbox;c&&(this._errbox=null,c.destroy());b||(this._errmsg=null,
jq(this.getInputNode()).removeClass(this.$s("invalid")));a&&(this._reVald=!0)},coerceFromString_:function(a){return a},coerceToString_:function(a){return a||""},_markError:function(a,b,c){this._errmsg=a;if(this.desktop){jq(this.getInputNode()).addClass(this.$s("invalid"));var d=this._cst,e;"[c"!=d&&(d&&(e=d.showCustomError)&&(e=e.call(d,this,a)),e||(this._errbox=this.showError_(a)));c||this.fire("onError",{value:b,message:a})}},validate_:function(a){var b;if(b=this._cst){if("string"==typeof b)return!1;
a=b.validate(this,a);return!a&&b.serverValidate?!1:a}},_validate:function(a){zul.inp.validating=!0;try{var b=a,c;if(("string"==typeof b||null==b)&&(b=this.coerceFromString_(b))&&((c=b.error)||b.server)){this.clearErrorMessage(!0);if(b.server||"[c"==this._cst)return this._reVald=!1,{rawValue:a||"",server:!0};this._markError(c,b);return b}if(this.desktop){var d=this._errmsg;this.clearErrorMessage(!0);c=this.validate_(b);if(!1===c)return this._reVald=!1,{value:b,server:!0};if(c)return this._markError(c,
b),{error:c};this._reVald=!1;d&&this.fire("onError",{value:b})}else this._errmsg=null;return{value:b}}finally{zul.inp.validating=!1}},_shallIgnore:function(a,b){if(a.keyCode||a.charCode){if(!zk.mac||!a.metaKey){var c=11>zk.ie||zk.opera?a.keyCode:a.charCode;if(!a.altKey&&!a.ctrlKey&&h(c)&&0>b.indexOf(String.fromCharCode(c)))return a.stop(),!0}}else if(c=(c=a.domEvent.originalEvent.clipboardData.getData("text"))?c:window.clipboardData.getData("text"),b=b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),!(new RegExp("^["+
b+"]+$")).test(c))return a.stop(),!0},showError_:function(a){a=new zul.inp.Errorbox(this,a);a.show();return a},onShow:function(){this.__ebox&&(this.setFloating_(!0),this.__ebox.show())},_equalValue:function(a,b){return a==b||this.marshall_(a)==this.marshall_(b)},marshall_:function(a){return a},unmarshall_:function(a){return a},updateChange_:function(){if(zul.inp.validating)return!1;var a=this.getInputNode(),b=a.value;if(!this._reVald&&b==this._defRawVal)return!1;var c=this._errmsg,d=this._validate(b);
if(!d.error||d.server){var e;if(null!=d.rawValue)var f={rawValue:d.rawValue};else!d.error&&(b=this.coerceToString_(d.value),a.value!==b&&(a.value=b),this._reVald=!1,e=c||!this._equalValue(d.value,this._value))&&(this._value=d.value,this._defRawVal=b);(e||d.server)&&this.fire("onChange",this.$class._onChangeData(this,null!=f?f:{value:this.marshall_(d.value)}),d.server?{toServer:!0}:null,90)}return!0},fireOnChange:function(a){this.fire("onChange",this.$class._onChangeData(this,{value:this.marshall_(this.getValue())}),
a)},_resetForm:function(){var a=this.getInputNode();if(a.value!=a.defaultValue){var b=this;setTimeout(function(){b.updateChange_()},0)}},focus_:function(a){zk.ie11_&&!a&&(a=0);zk(this.getInputNode()).focus(a);return!0},domClass_:function(a){var b=this.$supers("domClass_",arguments);a&&a.zclass||!this._disabled||(b+=" "+this.$s("disabled"));a&&a.input||!this._inplace||(b+=" "+this.getInplaceCSS());a&&a.zclass||!this._readonly||(b+=" "+this.$s("readonly"));return b},bind_:function(){this.$supers(g,
"bind_",arguments);var a=this.getInputNode();this._lastChg=this._defRawVal=a.value;this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_").domListen_(a,"onSelect");if(zk.ie10_||zk.ie11_){var b=this;setTimeout(function(){b.domListen_(a,"onInput","doInput_")},100)}else this.domListen_(a,"onInput","doInput_");zk.ios&&this.domListen_(a,"onTouchStart","_doTouch");(a=a.form)&&jq(a).bind("reset",this.proxy(this._resetForm));zWatch.listen({onShow:this})},unbind_:function(){zWatch.unlisten({onShow:this});
this.$class._stopOnChanging(this);this.clearErrorMessage(!0);var a=this.getInputNode();this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_").domUnlisten_(a,"onSelect").domUnlisten_(a,"onInput","doInput_");zk.ios&&this.domUnlisten_(a,"onTouchStart","_doTouch");(a=a.form)&&jq(a).unbind("reset",this.proxy(this._resetForm));this.$supers(g,"unbind_",arguments)},doInput_:function(a){var b=this;setTimeout(function(){!b||zk.chrome||b._lastKeyDown||zk.currentFocus==b||b.doBlur_(a)},
10)},resetSize_:function(a){var b;this.$n()!=(b=this.getInputNode())&&(b.style["w"==a?"width":"height"]="");this.$supers("resetSize_",arguments)},doKeyDown_:function(a){var b=a.keyCode;this._lastKeyDown=b;if(this._readonly&&8==b&&a.target==this)a.stop();else if(9!=b||a.altKey||a.ctrlKey||a.shiftKey||!this._tabbable)this.$class._stopOnChanging(this),this.$supers("doKeyDown_",arguments);else{b=this.getInputNode();var c=zk(b),d=c.getSelectionRange(),e=b.value;e=e.substring(0,d[0])+"\t"+e.substring(d[1]);
b.value=e;e=d[0]+1;c.setSelectionRange(e,e);a.stop()}},doKeyUp_:function(){if(this.isMultiline()){var a=this._maxlength;if(0<a){var b=this.getInputNode(),c=b.value;c!=this._defRawVal&&c.length>a&&(b.value=c.substring(0,a))}}(this.isListen("onChanging")||this._instant)&&this.$class._startOnChanging(this);this.$supers("doKeyUp_",arguments)},afterKeyDown_:function(a,b){if(!b&&this._inplace)if(this._multiline||13!=a.keyCode)jq(this.getInputNode()).removeClass(this.getInplaceCSS());else{var c=jq(this.getInputNode()),
d=this.getInplaceCSS();c.toggleClass(d).hasClass(d)&&c.zk.setSelectionRange(0,c[0].value.length)}if(13!=a.keyCode||!this.isMultiline())return this.$supers("afterKeyDown_",arguments)},beforeCtrlKeys_:function(a){this.updateChange_()},shallIgnoreClick_:function(a){return this.isDisabled()},setInsertedText:function(a){if(a){var b=this.getInputNode();if(b){var c=zk(b);zk.currentFocus!=b&&c.focus();b=c.getSelectionRange()[0];var d=this.getText();c=d.substring(0,b);d=d.substring(b);b+=a.length;this.setText(c+
a+d);this.select(b,b);this.fireOnChange()}}}},{onChangingDelay:350,onChangingForced:!0,_isInView:function(a){a=a.getInputNode();return zk(a).isRealScrollIntoView(!0)},_onChanging:function(a){if(this.desktop){var b=this.getInputNode();b=this.valueEnter_||b.value;if(this._lastChg!=b){this._lastChg=b;var c=this.valueSel_;this.valueSel_=null;this.isListen("onChanging")&&this.fire("onChanging",zul.inp.InputWidget._onChangeData(this,{value:b},c==b),{ignorable:1,rtags:{onChanging:1}},a||5);this._instant&&
this.updateChange_()}}},_onChangeData:function(a,b,c){b.start=zk(a.getInputNode()).getSelectionRange()[0];c&&(b.bySelectBack=!0);return b},_startOnChanging:function(a){var b=zul.inp.InputWidget;b._stopOnChanging(a);a._tidChg=setTimeout(a.proxy(b._onChanging),b.onChangingDelay)},_stopOnChanging:function(a,b){a._tidChg&&(clearTimeout(a._tidChg),a._tidChg=null);b&&(b=zul.inp.InputWidget,(b.onChangingForced&&a.isListen("onChanging")||a._instant)&&b._onChanging.call(a,-1),b._clearOnChanging(a))},_clearOnChanging:function(a){a.valueEnter_=
a.valueSel_=null},_clearInplaceTimeout:function(a){a._inplaceTimerId&&(clearTimeout(a._inplaceTimerId),a._inplaceTimerId=null)}});zul.inp.InputCtrl={isPreservedFocus:function(a){return!0},isPreservedMouseMove:function(a){return!0},isIgnoredDragForErrorbox:function(a,b,c){a=a.control.$n("c");return c.domTarget==a&&jq(a).hasClass("z-errbox-close-over")}}})();

(function(){var l={u:"up",d:"down",l:"left",r:"right"};zul.inp.Errorbox=zk.$extends(zul.wgt.Notification,{_defaultPos:"end_before",$init:function(a,b){this.parent=a;this.parent.__ebox=this;this.msg=b;this.sclass=a._errorboxSclass;this.iconSclass=a._errorboxIconSclass||"z-icon-exclamation-triangle";this.$supers("$init",[b,{ref:parent}])},domClass_:function(a){var b=this.sclass,c=this.$supers(zul.inp.Errorbox,"domClass_",arguments);b&&(c+=" "+b);return c},show:function(){this.$n()||jq(document.body).append(this);
var a=this.parent._cst&&this.parent._cst._pos,b=this;a=this.parent._cst&&this.parent._cst._pos;this.parent.isRealVisible()&&setTimeout(function(){b.parent&&zul.inp.InputWidget._isInView(b)&&b.open(b.parent,null,a||b._defaultPos,{dodgeRef:!a})},50);zWatch.listen({onHide:[this.parent,this.onParentHide]})},destroy:function(){this.parent&&(zWatch.unlisten({onHide:[this.parent,this.onParentHide]}),delete this.parent.__ebox);this.close();this.unbind();jq(this).remove();this.parent=null},onParentHide:function(){this.__ebox&&
(this.__ebox.setFloating_(!1),this.__ebox.close())},bind_:function(){this.$supers(zul.inp.Errorbox,"bind_",arguments);var a=zul.inp.Errorbox;this._drag=new zk.Draggable(this,null,{starteffect:zk.$void,endeffect:a._enddrag,ignoredrag:a._ignoredrag,change:a._change});zWatch.listen({onMove:this})},unbind_:function(){var a=this._drag;this._drag=null;a&&a.destroy();zWatch.unlisten({onMove:this});this.parent&&zWatch.unlisten({onHide:[this.parent,this.onParentHide]});this.$supers(zul.inp.Errorbox,"unbind_",
arguments)},getInputNode:function(){return this.parent?this.parent.$n():null},onMove:function(){this.isOpen()&&(this.reposition(),this._fixarrow())},onSize:function(){this.$supers("onSize",arguments);this.isOpen()&&this._fixarrow()},setDomVisible_:function(a,b){this.$supers("setDomVisible_",arguments);var c=this._stackup;c&&(c.style.display=b?"":"none")},doClick_:function(a){var b=a.domTarget;b==this.$n("cls")||b==this.$n("clsIcon")?(b=this.parent)&&b.clearErrorMessage?(b.clearErrorMessage(!0,!0),
b.focus(0)):zAu.wrongValue_(b,!1):(this.$supers("doClick_",arguments),this.parent.focus(0))},open:function(){this.$supers("open",arguments);this.setTopmost();this._fixarrow()},afterCloseAnima_:function(a){a=zk.copy(a,{keepVisible:!0});this.$supers("afterCloseAnima_",arguments)},redraw:function(a){var b=this.uuid,c=this.$s("icon"),d=this.iconSclass;a.push("<div",this.domAttrs_(),'><div id="',b,'-p" class="',this.$s("pointer"),'"></div><i id="',b,'-icon" class="',c," ",d,'"></i><div id="',b,'-cave" class="',
this.$s("content"),'" title="',zUtl.encodeXML(msgzk.GOTO_ERROR_FIELD),'">',zUtl.encodeXML(this.msg,{multiline:!0}),'</div><div id="',b,'-cls" class="',this.$s("close"),'"><i id="',b,'-clsIcon" class="',c,' z-icon-times"></i></div></div>')},onFloatUp:function(a){a=a.origin;if(a==this)this.setTopmost();else if(a&&a!=this.parent&&this.isVisible()){for(var b=this,c=a;(b=b.parent)&&!b.isFloating_();)if(b==a)return;for(;c&&!c.isFloating_();c=c.parent);b==c&&(a=a.$n())&&this._uncover(a)}},_uncover:function(a){var b=
zk(a).cmOffset(),c=this.$n(),d=zk(c).cmOffset();if(jq.isOverlapped(b,[a.offsetWidth,a.offsetHeight],d,[c.offsetWidth,c.offsetHeight])){var e=this.parent.$n();d=zk(e).cmOffset();e=d[1]+e.offsetHeight;a=b[1]+a.offsetHeight<=e?e:d[1]-c.offsetHeight;a=zk(c).toStyleOffset(0,a);c.style.top=a[1]+"px";this._fixarrow()}},_fixarrow:function(){var a=this.parent.$n();var b=this.$n();var c=this.$n("p"),d=zk(a).revisedOffset(),e=zk(b).revisedOffset(),h=e[0]-d[0],g=e[1]-d[1];e=b.style;var k=2+zk(c).borderWidth()/
2||0,f=2+zk(c).borderHeight()/2||0;d=h>=a.offsetWidth-k?g<f-b.offsetHeight?"ld":g>=a.offsetHeight-f?"lu":"l":h<k-b.offsetWidth?g<f-b.offsetHeight?"rd":g>=a.offsetHeight-f?"ru":"r":0>g?"d":"u";b.style.padding="0";if("d"==d||"u"==d)a=(Math.max(h,0)+Math.min(b.offsetWidth+h,a.offsetWidth))/2-h-6,b=b.offsetWidth-11,c.style.left=(a>b?b:1>a?1:a)+"px","d"==d?(c.style.top=null,c.style.bottom="-4px",e.paddingBottom=f+"px"):(c.style.top="-4px",e.paddingTop=f+"px");else if("l"==d||"r"==d)a=(Math.max(g,0)+Math.min(b.offsetHeight+
g,a.offsetHeight))/2-g-6,b=b.offsetHeight-11,c.style.top=(a>b?b:1>a?1:a)+"px","r"==d?(c.style.left=null,c.style.right="-4px",e.paddingRight=k+"px"):(c.style.left="-4px",e.paddingLeft=k+"px");else{b=c.style;b.left=b.top=b.right=b.bottom=null;switch(d){case "lu":b.left="0px";b.top="-4px";e.paddingTop=f+"px";break;case "ld":b.left="0px";b.bottom="-4px";e.paddingBottom=f+"px";break;case "ru":b.right="0px";b.top="-4px";e.paddingTop=f+"px";break;case "rd":b.right="0px",b.bottom="-4px",e.paddingBottom=f+
"px"}d="ru"==d||"lu"==d?"u":"d"}c.className=this.$s("pointer")+(l[d]?" "+this.$s(l[d]):"");jq(c).show()},isInView_:function(){return zul.inp.InputWidget._isInView(this)},getPositionArgs_:function(){var a=this.parent,b=a?a._cst&&a._cst._pos:!1;return[a,null,b||"end_before",{dodgeRef:!b}]}},{_enddrag:function(a){a=a.control;a.setTopmost();a._fixarrow()},_ignoredrag:function(a,b,c){return zul.inp.InputCtrl.isIgnoredDragForErrorbox(a,b,c)},_change:function(a){a=a.control;var b=a._stackup,c=a.$n();b&&
(b.style.top=c.style.top,b.style.left=c.style.left);a._fixarrow();zk.mobile&&zk(c).redoCSS()}})})();

zkreg('zul.inp.Errorbox');
(function(){var f="before_start before_end end_before end_after after_end after_start start_after start_before overlap overlap_end overlap_before overlap_after at_pointer after_pointer".split(" "),h={"no positive":"NO_POSITIVE","no negative":"NO_NEGATIVE","no zero":"NO_ZERO","no empty":"NO_EMPTY","no future":"NO_FUTURE","no past":"NO_PAST","no today":"NO_TODAY",strict:"STRICT",server:"SERVER"};zul.inp.SimpleConstraint=zk.$extends(zk.Object,{_finishParseCst:!0,$init:function(b,a,c){if("string"==typeof b)this._flags=
{},this._errmsg={},this._cstArr=[],this._cst=b,this._finishParseCst=!1,this._init(b);else{this._flags="number"==typeof b?this._cvtNum(b):b||{};this._regex="string"==typeof a?new RegExp(a,"g"):a;this._errmsg={};this._regex&&(this._errmsg.regex=c);for(flag in this._flags)this._errmsg[flag]=c;this._flags.SERVER&&(this.serverValidate=!0)}},_init:function(b){var a=0,c=0,e=b.length;a:for(;0<=c;a=c+1){for(;;++a){if(a>=e)return;var d=b.charAt(a);if("/"==d){for(c=++a;;++c){if(c>=e){c=-1;break}d=b.charAt(c);
if("/"==d)break;"\\"==d&&++c}this._regex=new RegExp(0<=c?b.substring(a,c):b.substring(a),"g");this._cstArr[this._cstArr.length]="regex";continue a}if(":"==d){var g=0,f=e;for(c=++a;;++c){if(c>=e){c=-1;break}d=b.charAt(c);if("{"==d)for(g=c+1,++c;;++c){if("}"==b.charAt(c)){f=c;break}}else if(","==d)break}this._errmsg[this._cstArr[this._cstArr.length-1]]=g?b.substring(g,f).trim():0<=c?b.substring(a,c).trim():b.substring(a).trim();continue a}if(!zUtl.isChar(d,{whitespace:1}))break}for(c=a;;++c){if(c>=
e){a=b.substring(a);c=-1;break}d=b.charAt(c);if(","==d||":"==d||";"==d||"/"==d)if(this._regex&&a==c)a++;else{a=b.substring(a,c);":"!=d&&"/"!=d||--c;break}}this.parseConstraint_(a.trim().toLowerCase())}},getFlags:function(){return this._flags},parseConstraint_:function(b){var a=this._flags,c=this._cstArr,e=h[b];b&&e?("server"==b&&(this.serverValidate=!0),a[e]=!0,c[c.length]=e):b&&f.$contains(b)?this._pos=b:!c.length&&zk.debugJS&&zk.error("Unknown constraint: "+b)},_cvtNum:function(b){var a={};b&1&&
(a.NO_POSITIVE=a.NO_FUTURE=!0);b&2&&(a.NO_NEGATIVE=a.NO_PAST=!0);b&4&&(a.NO_ZERO=a.NO_TODAY=!0);b&256&&(a.NO_EMPTY=!0);b&512&&(a.STRICT=!0);if(b&=61440)this._pos=f[(b>>12)-1];return a},validate:function(b,a){this._finishParseCst||(this._init(this._cst),this._finishParseCst=!0);var c=this._flags,e=this._errmsg;a&&a.$toNumber&&(a=a.$toNumber());switch(typeof a){case "string":if(c.NO_EMPTY&&(!a||!a.trim()))return e.NO_EMPTY||msgzul.EMPTY_NOT_ALLOWED;var d=this._regex;if(d&&(d=a.match(d),!d||d.join("")!=
a))return e.regex||msgzul.ILLEGAL_VALUE;if(c.STRICT&&a&&b.validateStrict&&(e=b.validateStrict(a)))return e;return;case "number":if(0<a){if(c.NO_POSITIVE)return e.NO_POSITIVE||this._msgNumDenied()}else if(0==a){if(c.NO_ZERO)return e.NO_ZERO||this._msgNumDenied()}else if(c.NO_NEGATIVE)return e.NO_NEGATIVE||this._msgNumDenied();return}if(a&&a.getFullYear)if(b=a.getTimeZone(),d=zUtl.today(null,b),a=Dates.newInstance([a.getFullYear(),a.getMonth(),a.getDate()],b),0>(d-a)/864E5){if(c.NO_FUTURE)return e.NO_FUTURE||
this._msgDateDenied()}else if(0==a-d){if(c.NO_TODAY)return e.NO_TODAY||this._msgDateDenied()}else{if(c.NO_PAST)return e.NO_PAST||this._msgDateDenied()}else if(!a&&c.NO_EMPTY)return e.NO_EMPTY||msgzul.EMPTY_NOT_ALLOWED},_msgNumDenied:function(){var b=this._flags,a=this._errmsg;return b.NO_POSITIVE?a.NO_POSITIVE||(b.NO_ZERO?b.NO_NEGATIVE?msgzul.NO_POSITIVE_NEGATIVE_ZERO:msgzul.NO_POSITIVE_ZERO:b.NO_NEGATIVE?msgzul.NO_POSITIVE_NEGATIVE:msgzul.NO_POSITIVE):b.NO_NEGATIVE?a.NO_NEGATIVE||(b.NO_ZERO?msgzul.NO_NEGATIVE_ZERO:
msgzul.NO_NEGATIVE):b.NO_ZERO?a.NO_ZERO||msgzul.NO_ZERO:a||msgzul.ILLEGAL_VALUE},_msgDateDenied:function(){var b=this._flags,a=this._errmsg;return b.NO_FUTURE?a.NO_FUTURE||(b.NO_TODAY?b.NO_PAST?NO_FUTURE_PAST_TODAY:msgzul.NO_FUTURE_TODAY:b.NO_PAST?msgzul.NO_FUTURE_PAST:msgzul.NO_FUTURE):b.NO_PAST?a.NO_PAST||(b.NO_TODAY?msgzul.NO_PAST_TODAY:msgzul.NO_PAST):b.NO_TODAY?a.NO_TODAY||msgzul.NO_TODAY:a||msgzul.ILLEGAL_VALUE},reparseConstraint:function(){this._finishParseCst=!1}})})();

zul.inp.SimpleSpinnerConstraint=zk.$extends(zul.inp.SimpleConstraint,{$define:{min:_zkf=function(){},max:_zkf},parseConstraint_:function(g){var a=g.replace(/ +/g," ").split(/[, ]/),f=a.length,b=this._cstArr;if(a.$contains("max")&&a.$contains("min")){b[b.length]="maxmin";var d=!0}for(var c=0;c<f+1;c++){var e=a[c];if("min"==e||"max"==e)d||(b[b.length]=e,d=!0),this["_"+e]=+a[++c]}if(!d)return this.$supers("parseConstraint_",arguments)},validate:function(g,a){var f=this.$supers("validate",arguments);
switch(typeof a){case "number":var b=this._max&&a>this._max,d=this._min&&a<this._min;if(b||d)var c=(b=(c=this._errmsg.maxmin)?c:b?this._errmsg.max:this._errmsg.min)?b:msgzul.OUT_OF_RANGE+": "+(null!=this._min?null!=this._max?this._min+" - "+this._max:">= "+this._min:"<= "+this._max)}return c||f}});

zul.inp.SimpleDoubleSpinnerConstraint=zk.$extends(zul.inp.SimpleConstraint,{$define:{min:_zkf=function(){},max:_zkf},parseConstraint_:function(e){for(var a=e.replace(/ +/g," ").split(/[, ]/),d=a.length,b,c=0;c<d+1;c++)"min"==a[c]?(this._min=1*a[++c],b=!0):"max"==a[c]&&(this._max=1*a[++c],b=!0);if(!b)return this.$supers("parseConstraint_",arguments)},validate:function(e,a){var d=this.$supers("validate",arguments);switch(typeof a){case "number":if(this._max&&a>this._max||this._min&&a<this._min){var b=
msgzul.OUT_OF_RANGE+": ";b+=null!=this._max?this._min+" ~ "+this._max:">= "+this._min}}return b?b:d}});

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,g=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var f=0;f<g&&c<e;)if(b[c++]!=a[f++])return!1;return f>=g}},"es6","es3");
zul.inp.SimpleDateConstraint=zk.$extends(zul.inp.SimpleConstraint,{$init:function(a,b){this._wgt=b;this._localizedSymbols=b._localizedSymbols;this.$super("$init",a)},format:"yyyyMMdd",parseConstraint_:function(a){var b=this.format.length+1,c=this._cstArr,d=this._wgt;d=d&&d.getTimeZone&&d.getTimeZone();if(a.startsWith("between")){var e=a.indexOf("and",7);0>e&&zk.debugJS&&zk.error("Unknown constraint: "+a);this._beg=(new zk.fmt.Calendar(null,this._localizedSymbols)).parseDate(a.substring(7,e),this.format,
null,null,null,d);this._end=(new zk.fmt.Calendar(null,this._localizedSymbols)).parseDate(a.substring(e+3,e+3+b),this.format,null,null,null,d);this._beg.getTime()>this._end.getTime()&&(b=this._beg,this._beg=this._end,this._end=b);this._beg.setHours(0,0,0,0);this._end.setHours(0,0,0,0);c[c.length]="between"}else a.startsWith("before")&&!a.startsWith("before_")?(this._end=(new zk.fmt.Calendar(null,this._localizedSymbols)).parseDate(a.substring(6,6+b),this.format,null,null,null,d),this._end.setHours(0,
0,0,0),c[c.length]="before"):a.startsWith("after")&&!a.startsWith("after_")&&(this._beg=(new zk.fmt.Calendar(null,this._localizedSymbols)).parseDate(a.substring(5,5+b),this.format,null,null,null,d),this._beg.setHours(0,0,0,0),c[c.length]="after");return this.$supers("parseConstraint_",arguments)},validate:function(a,b){var c=this.$supers("validate",arguments);if(b instanceof DateImpl){var d=this._errmsg,e=Dates.newInstance([b.getFullYear(),b.getMonth(),b.getDate()],b.getTimeZone());if(null!=this._beg&&
this._beg.getTime()>e.getTime())return d.between||d.after||this.outOfRangeValue();if(null!=this._end&&this._end.getTime()<e.getTime())return d.between||d.before||this.outOfRangeValue()}return c},outOfRangeValue:function(){var a=this._wgt._format,b=msgzul.OUT_OF_RANGE_SEPARATOR?" "+msgzul.OUT_OF_RANGE_SEPARATOR+" ":" ~ ";return msgzul.OUT_OF_RANGE+": "+(null!=this._beg?null!=this._end?(new zk.fmt.Calendar(null,this._localizedSymbols)).formatDate(this._beg,a)+b+(new zk.fmt.Calendar).formatDate(this._end,
a):">= "+(new zk.fmt.Calendar).formatDate(this._beg,a):"<= "+(new zk.fmt.Calendar).formatDate(this._end,a))}});

zul.inp.Textbox=zk.$extends(zul.inp.InputWidget,{_value:"",_rows:1,$define:{multiline:function(){this.rerender()},tabbable:null,rows:function(a){var b=this.getInputNode();b&&this.isMultiline()&&(b.rows=a)},type:11>zk.ie?function(){this.rerender()}:function(a){var b=this.getInputNode();b&&(b.type=a)},submitByEnter:null},textAttrs_:function(){var a=this.$supers("textAttrs_",arguments);this._multiline&&(a+=' rows="'+this._rows+'"');return a},doKeyDown_:function(a,b){13==a.keyCode&&this._submitByEnter&&
this._multiline&&!a.shiftKey&&(a.stop(),this.fire("onOK"));this.$supers("doKeyDown_",arguments)}});

zkreg('zul.inp.Textbox');
zk._m={};
zk._m['rounded']=textbox$mold$=function(a){this.isMultiline()?a.push("<textarea",this.domAttrs_(),">\n",this._areaText(),"</textarea>"):a.push("<input",this.domAttrs_(),"/>")};

;zk._m['default']=[zk._p.p.Textbox,'rounded'];
zkmld(zk._p.p.Textbox,zk._m);
zul.inp.FormatWidget=zk.$extends(zul.inp.InputWidget,{$define:{format:function(){var a=this.getInputNode();a&&(a.value=this.coerceToString_(this._value))}},doFocus_:function(a){this.$supers("doFocus_",arguments);this._shortcut&&(this.getInputNode().value=this._shortcut)},updateChange_:function(a){var b=this.$supers("updateChange_",arguments);a&&delete this._shortcut;return b}});

(function(){var c,b={};zk.load("zul.lang",function(){c="0123456789"+zk.MINUS+zk.PERCENT+(zk.groupingDenied?"":zk.GROUPING)});zul.inp.NumberInputWidget=zk.$extends(zul.inp.FormatWidget,{$define:{rounding:null,localizedSymbols:[function(a){return a?(a=jq.evalJSON(a),b[a[0]]||(b[a[0]]=a[1]),b[a[0]]):a},function(){var a=this._localizedSymbols;this._allowKeys=a?"0123456789"+a.MINUS+a.PERCENT+(zk.groupingDenied?"":a.GROUPING):null;this.rerender()}]},getAllowedKeys_:function(){return this._allowKeys||c},
doKeyPress_:function(a){a.ctrlKey&&a.altKey&&a.stop();this._shallIgnore(a,this.getAllowedKeys_())||this.$supers("doKeyPress_",arguments)},doPaste_:function(a){a.ctrlKey&&a.altKey&&a.stop();this._shallIgnore(a,this.getAllowedKeys_())||this.$supers("doPaste_",arguments)},getType:function(){return!zk.mobile||this._format||this._locale?this._type:"number"},domAttrs_:function(a){var b=this.$supers("domAttrs_",arguments);a&&a.text||!zk.ios||!zk.ipad?a&&a.text||!zk.android||(b+=' inputmode="numeric"'):b+=
' pattern="[0-9]*"';return b}})})();

zul.inp.Intbox=zk.$extends(zul.inp.NumberInputWidget,{intValue:function(){return this.$supers("getValue",arguments)},coerceFromString_:function(b){if(!b)return null;var a=zk.fmt.Number.unformat(this._format,b,!1,this._localizedSymbols),c=parseInt(a.raw,10);var d=17>a.raw.length?c.toString():(new zk.BigDecimal(a.raw)).$toString();if(isNaN(c)||a.raw!=d&&a.raw!="-"+d)return{error:zk.fmt.Text.format(msgzul.INTEGER_REQUIRED,b)};if(2147483647<c||-2147483648>c)return{error:zk.fmt.Text.format(msgzul.OUT_OF_RANGE+
"(\u22122147483648 - 2147483647)")};a.divscale&&(c=Math.round(c/Math.pow(10,a.divscale)));return c},coerceToString_:function(b){var a=this._format;return a?zk.fmt.Number.format(a,b,this._rounding,this._localizedSymbols):null!=b?""+b:""}});

zkreg('zul.inp.Intbox');
zk._m={};
zk._m['rounded']=input$mold$=function(a){a.push("<input",this.domAttrs_(),"/>")};

;zk._m['default']=[zk._p.p.Intbox,'rounded'];
zkmld(zk._p.p.Intbox,zk._m);
zul.inp.Longbox=zk.$extends(zul.inp.NumberInputWidget,{coerceFromString_:function(a){if(!a)return null;var b=zk.fmt.Number.unformat(this._format,a,!1,this._localizedSymbols),c=new zk.Long(b.raw),d=c.$toString();if(b.raw!=d&&b.raw!="-"+d)return{error:zk.fmt.Text.format(msgzul.INTEGER_REQUIRED,a)};b.divscale&&c.scale(-b.divscale);return this._isOutRange(c.$toString())?{error:zk.fmt.Text.format(msgzul.OUT_OF_RANGE+"(\u22129223372036854775808 - 9223372036854775807)")}:c},coerceToString_:function(a){var b=
this._format;return null!=a?"string"==typeof a?a:b?zk.fmt.Number.format(b,a.$toString(),this._rounding,this._localizedSymbols):a.$toLocaleString():""},_isOutRange:function(a){var b="-"==a.charAt(0);b&&(a=a.substring(1));if(19<a.length)return!0;if(19>a.length)return!1;b=b?"9223372036854775808":"9223372036854775807";for(var c=0;19>c;++c){if(a.charAt(c)>b.charAt(c))return!0;if(a.charAt(c)<b.charAt(c))break}return!1},marshall_:function(a){return a?a.$toString():a},unmarshall_:function(a){return a?new zk.Long(a):
a}});

zkreg('zul.inp.Longbox');
zk._m={};
zk._m['rounded']=[zk._p.p.Intbox,'rounded'];
zk._m['default']=[zk._p.p.Intbox,'rounded'];
zkmld(zk._p.p.Longbox,zk._m);
zul.inp.Doublebox=zk.$extends(zul.inp.NumberInputWidget,{coerceFromString_:function(a){if(!a)return null;var e=zk.fmt.Number.unformat(this._format,a,!1,this._localizedSymbols),b=e.raw,f=parseFloat(b),c=""+f,d=c.indexOf("."),g=b.indexOf(".");if(isNaN(f)||0>c.indexOf("e")){0==g&&(b="0"+b,++g);0<=g&&b.substring(b.substring(g+1))&&0>d&&(d=c.length,c+=".");var h=b.length,k=c.length;if(0<=d&&d<g)for(k-=d,h-=g,d=g-d;0<d--;)c="0"+c;if(k<h)for(d=h-k;0<d--;)c+="0";if(isNaN(f)||b!=c&&b!="-"+c&&0>b.indexOf("e"))return isNaN(f)||
b==c?{error:zk.fmt.Text.format(msgzul.NUMBER_REQUIRED,a)}:{error:zk.fmt.Text.format(msgzul.ILLEGAL_VALUE)}}if(7==this._rounding&&(this._errmsg||zk.fmt.Number.isRoundingRequired(a,this.getFormat(),this._localizedSymbols)))return{server:!0};e.divscale&&(f/=Math.pow(10,e.divscale));return f},_allzero:function(a){for(var e=a.length;0<e--;)if("0"!=a.charAt(e))return!1;return!0},coerceToString_:function(a){var e=this._format,b=this._localizedSymbols,f=(b?b:zk).DECIMAL;return null==a?"":e?zk.fmt.Number.format(e,
a,this._rounding,b):"."==f?""+a:(""+a).replace(".",f)},getAllowedKeys_:function(){var a=this._localizedSymbols;return this.$supers("getAllowedKeys_",arguments)+(a?a:zk).DECIMAL+"e"}});

zkreg('zul.inp.Doublebox');
zk._m={};
zk._m['rounded']=[zk._p.p.Intbox,'rounded'];
zk._m['default']=[zk._p.p.Intbox,'rounded'];
zkmld(zk._p.p.Doublebox,zk._m);
zul.inp.Decimalbox=zk.$extends(zul.inp.NumberInputWidget,{$define:{scale:null},coerceFromString_:function(a){if(!a)return null;var b=zk.fmt.Number.unformat(this._format,a,!1,this._localizedSymbols),c=new zk.BigDecimal(b.raw),d=c.$toString();if(b.raw!=d&&b.raw!="-"+d)return{error:zk.fmt.Text.format(msgzul.NUMBER_REQUIRED,a)};if(7==this._rounding&&(this._errmsg||zk.fmt.Number.isRoundingRequired(a,this.getFormat(),this._localizedSymbols)))return{server:!0};b.divscale&&c.setPrecision(c.getPrecision()+
b.divscale);0<this._scale&&(c=zk.fmt.Number.setScale(c,this._scale,this._rounding));return c},coerceToString_:function(a){var b=this._format;return null!=a?"string"==typeof a?a:b?zk.fmt.Number.format(b,a.$toString(),this._rounding,this._localizedSymbols):a.$toLocaleString():""},marshall_:function(a){return a?a.$toString():a},unmarshall_:function(a){return a?new zk.BigDecimal(a):a},getAllowedKeys_:function(){var a=this._localizedSymbols;return this.$supers("getAllowedKeys_",arguments)+(a?a:zk).DECIMAL}});

zkreg('zul.inp.Decimalbox');
zk._m={};
zk._m['rounded']=[zk._p.p.Intbox,'rounded'];
zk._m['default']=[zk._p.p.Intbox,'rounded'];
zkmld(zk._p.p.Decimalbox,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}},"es6","es3");
zul.inp.ComboWidget=zk.$extends(zul.inp.InputWidget,{_buttonVisible:!0,$define:{buttonVisible:function(a){zul.inp.RoundUtl.buttonVisible(this,a)},autodrop:null,popupWidth:function(a){if(this._open){a=this.getPopupNode_();var b=this.getPopupNode_(!0);if(a){var c=this._getPopupSize(a,b);this._fixsz(c);this._checkPopupSpaceAndPosition(a,this.$n());this._fixFfWhileBothScrollbar(a,b)}}},type:11>zk.ie?function(){this.rerender()}:function(a){var b=this.getInputNode();b&&(b.type=a)}},setWidth:function(){this.$supers("setWidth",
arguments);if(this.desktop)this.onSize()},onSize:function(){zul.inp.RoundUtl.onSize(this);if(this._open){var a=this.getPopupNode_();a&&this._checkPopupSpaceAndPosition(a,this.$n())}},onFloatUp:function(a){if((this._inplace||this.isOpen())&&!jq(this.getPopupNode_()).is(":animated")&&!zUtl.isAncestor(this,a.origin)&&(this.isOpen()&&this.close({sendOnOpen:!0}),this._inplace)){a=this.$n();var b=this.getInplaceCSS();jq(a).hasClass(b)||(a.style.width=jq.px0(zk(a).revisedWidth(a.offsetWidth)),jq(this.getInputNode()).addClass(b),
jq(a).addClass(b),this.onSize(),a.style.width=this.getWidth()||"")}},onResponse:function(a,b){if((b.rtags.onOpen||b.rtags.onChanging)&&this.isOpen())if(jq(this.getPopupNode_()).is(":animated")){var c=this;setTimeout(function(){if(c.desktop)c.onResponse(a,b)},50)}else{var d=this.getPopupNode_(),e=this.getPopupSize_(d);try{var f=d.scrollLeft;var g=d.scrollTop;d.style.height="auto";zk.ie8&&(d.style.width=e[0]);this._fixsz(e)}finally{d.scrollTop=g||0,d.scrollLeft=f||0}}},onScroll:function(a){this.isOpen()&&
a&&((a=this.getInputNode())&&zul.inp.InputWidget._isInView(this)?zk(this.getPopupNode_()).position(a,"after_start"):this.close({sendOnOpen:!0}))},setOpen:function(a,b){this.isRealVisible()&&(a?this.open(b):this.close(b))},isOpen:function(){return this._open},open:function(a){if(!this._open){this._inplace&&(this._inplaceIgnore=!0);this._open=!0;a&&a.focus&&this.focus();var b=this.getPopupNode_(),c=this.getInputNode(),d=this.getPopupNode_(!0);if(b){this.setFloating_(!0,{node:b});zWatch.fire("onFloatUp",
this);var e=this.setTopmost();b.style.zIndex=0<e?e:1;b.style.position="absolute";b.style.display="block";e=this._getPopupSize(b,d);var f=zk.ie10_||zk.ie11_;f&&this._fixsz(e);b.style.visibility="hidden";b.style.left="-10000px";zk(b).makeVParent();zWatch.fireDown("onVParent",this);f&&(b.style.height=b.style.width="auto");this._fixsz(e);b.style.left="";var g=this.$n();e=jq(g);f=jq(b);this._checkPopupSpaceAndPosition(b,g);this._shallSyncPopupPosition=!1;g=f.offset().top;b.style.display="none";b.style.visibility=
"";e.offset().top>g?this.slideDown_(b,"b"):this.slideDown_(b);this._fixFfWhileBothScrollbar(b,d);this._shadow||(this._shadow=new zk.eff.Shadow(b,{left:-4,right:4,top:-2,bottom:3}));a&&a.sendOnOpen&&this.fire("onOpen",{open:!0,value:c.value},{rtags:{onOpen:1}});a=this.$s("open");e.addClass(a);f.addClass(a)}}},_getPopupSize:function(a,b){var c=this.getPopupSize_(a);a.style.width=c[0];a.style.height="auto";b&&(b.style.width=b.style.height="auto");this.presize_()&&(c=this.getPopupSize_(a));return c},
_checkPopupSpaceAndPosition:function(a,b){a=zk(a);var c=a.dimension().height,d=a.dimension().width,e=(b.nodeType?zk(b):b).dimension(!0),f=e.top,g=e.left,p=e.height;e=e.width;var m=jq.innerX(),n=jq.innerY(),q=jq.innerHeight(),r=jq.innerWidth(),h="start",k="after",l;m+r-g-e>d?h="start":g-m>d?h="end":l={overflow:!0};n+q-f-p>c?k="after":f-n>c?k="before":l={overflow:!0};a.position(b,k+"_"+h,l)},_fixFfWhileBothScrollbar:function(a,b){if(zk.gecko&&(b=b?b.rows:null)&&10<a.offsetHeight-a.clientHeight&&150>
a.offsetHeight){for(var c=0,d=b.length;d--;)c+=b[d].offsetHeight;a.style.height=jq.px0(c+20)}},_checkPopupPosition:function(){var a=this.getPopupNode_(),b=zk(a),c=this.getInputNode();a=b.dimension(!0);c=zk(c).dimension(!0);var d=a.top+a.height,e=a.left+a.width;b=d-b.scrollOffset()[1];var f=c.top+c.height,g=c.left+c.width;return b>=jq.innerHeight()||a.top<c.top&&d<c.top||a.left<g&&e>c.left&&d>c.top&&a.top<f?this._shallSyncPopupPosition=!0:!1},presize_:zk.$void,slideDown_:function(a,b){zk(a).slideDown(this,
{afterAnima:this._afterSlideDown,duration:100,anchor:b})},slideUp_:function(a){a.style.display="none"},zsync:function(){this.$supers("zsync",arguments);!zk.css3&&this.isOpen()&&this._shadow&&this._shadow.sync()},_afterSlideDown:function(a){this.desktop||(zk(a).undoVParent(),jq(a).remove());this._shadow&&this._shadow.sync()},getPopupNode_:function(a){return a?this.$n("cave"):this.$n("pp")},close:function(a){if(this._open){this._inplace&&(this._inplaceIgnore=!1);var b=this;if(jq(this.getPopupNode_()).is(":animated"))setTimeout(function(){b.desktop&&
b.close(a)},50);else{this._open=!1;a&&a.focus&&this.focus();var c=this.getPopupNode_();if(c){this.setFloating_(!1);zWatch.fireDown("onHide",this);this.slideUp_(c);zk.afterAnimate(function(){zk(c).undoVParent();zWatch.fireDown("onVParent",b)},-1);this._shadow&&(this._shadow.destroy(),this._shadow=null);a&&a.sendOnOpen&&this.fire("onOpen",{open:!1,value:this.getInputNode().value},{rtags:{onOpen:1}});var d=this.$s("open");jq(this.$n()).removeClass(d);jq(c).removeClass(d)}}}},_fixsz:function(a){var b=
this.getPopupNode_();if(b){var c=this.getPopupNode_(!0);"auto"==a[1]&&350<b.offsetHeight?b.style.height="350px":10>b.offsetHeight&&this._shadow&&this._shadow.sync();var d=this.$n(),e;(e=this.getPopupWidth())?(e.endsWith("%")?b.style.width=jq.px0(d.offsetWidth*parseFloat(e)/100):b.style.width=e,c&&(c.style.width="100%")):"auto"==a[0]&&(b.offsetWidth<=d.offsetWidth?(b.style.width=jq.px0(zk(b).revisedWidth(d.offsetWidth)),c&&(c.style.width="100%")):(a=jq.innerWidth()-20,a<d.offsetWidth&&(a=d.offsetWidth),
b.offsetWidth>a&&(b.style.width=jq.px0(a))))}},dnPressed_:zk.$void,upPressed_:zk.$void,otherPressed_:zk.$void,enterPressed_:function(a){this.close({sendOnOpen:!0});this.updateChange_();a.stop()},escPressed_:function(a){this.close({sendOnOpen:!0});a.stop()},getPopupSize_:function(a){return["auto","auto"]},redrawpp_:function(a){},beforeParentMinFlex_:function(a){"w"==a&&zul.inp.RoundUtl.syncWidth(this,this.$n("btn"))},afterKeyDown_:function(a,b){!b&&this._inplace&&jq(this.$n()).toggleClass(this.getInplaceCSS(),
13==a.keyCode?null:!1);return this.$supers("afterKeyDown_",arguments)},_dnInputOpen:function(){this._autodrop&&!this._open&&this.open({sendOnOpen:!0})},bind_:function(){this.$supers(zul.inp.ComboWidget,"bind_",arguments);var a;if(a=this.$n("btn"))this.domListen_(a,zk.android?"onTouchstart":"onClick","_doBtnClick"),this._inplace&&this.domListen_(a,"onMouseDown","_doBtnMouseDown");this.domListen_(this.$n("real"),"onInput","_dnInputOpen");zWatch.listen({onSize:this,onFloatUp:this,onResponse:this,onScroll:this});
if(!zk.css3)jq.onzsync(this)},unbind_:function(){this.close();var a=this.$n("btn");a&&(this.domUnlisten_(a,zk.android?"onTouchstart":"onClick","_doBtnClick"),this._inplace&&this.domUnlisten_(a,"onMouseDown","_doBtnMouseDown"));zWatch.unlisten({onSize:this,onFloatUp:this,onResponse:this,onScroll:this});zk.css3||jq.unzsync(this);this.domUnlisten_(this.$n("real"),"onInput","_dnInputOpen");this.$supers(zul.inp.ComboWidget,"unbind_",arguments)},inRoundedMold:function(){return!0},_doBtnClick:function(a){this._inplaceIgnore=
!1;this._buttonVisible&&(this._disabled||jq(this.getPopupNode_()).is(":animated")||(this._open?this.close({focus:zul.inp.InputCtrl.isPreservedFocus(this),sendOnOpen:!0}):this.open({focus:zul.inp.InputCtrl.isPreservedFocus(this),sendOnOpen:!0})),zk.ios&&(this._windowX=window.pageXOffset,this._windowY=window.pageYOffset),a.stop(this._open?{propagation:1}:null))},_doBtnMouseDown:function(a){this._inplaceIgnore=!0},doKeyDown_:function(a){this._disabled||(this._doKeyDown(a),a.stopped||this.$supers("doKeyDown_",
arguments))},doClick_:function(a){this._disabled||(a.domTarget==this.getPopupNode_()?this.close({focus:zul.inp.InputCtrl.isPreservedFocus(this),sendOnOpen:!0}):this._readonly&&!this.isOpen()&&this._buttonVisible&&this.open({focus:zul.inp.InputCtrl.isPreservedFocus(this),sendOnOpen:!0}),this.$supers("doClick_",arguments))},_doKeyDown:function(a){var b=a.keyCode,c=this._open;a.target==this&&(9==b||zk.webkit&&0==b)?c&&this.close({sendOnOpen:!0}):!a.altKey||38!=b&&40!=b?!c||13!=b&&27!=b?38==b?this.upPressed_(a):
40==b?this.dnPressed_(a):this.otherPressed_(a):13==b?this.enterPressed_(a):this.escPressed_(a):(c?this.close({sendOnOpen:!0}):this.open({sendOnOpen:!0}),b={propagation:!0},11>zk.ie&&(b.dom=!0),a.stop(b))},getIconClass_:zk.$void,redraw_:_zkf=function(a){var b=this.uuid,c=this._buttonVisible;a.push("<span",this.domAttrs_({text:!0,tabindex:!0}),'><input id="',b,'-real" class="',this.$s("input"));c||a.push(" ",this.$s("rightedge"));a.push('" autocomplete="off"',this.textAttrs_(),'/><a id="',b,'-btn" class="',
this.$s("button"));c||a.push(" ",this.$s("disabled"));a.push('"><i class="',this.$s("icon")," ",this.getIconClass_(),'"></i></a>');this.redrawpp_(a);a.push("</span>")}},{$redraw:_zkf});

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var h=0;h<f&&c<e;)if(b[c++]!=a[h++])return!1;return h>=f}},"es6","es3");
zul.inp.Combobox=zk.$extends(zul.inp.ComboWidget,{_autocomplete:!0,$define:{autocomplete:null,emptySearchMessage:null,repos:function(){if(this.desktop){var a=this.getInputNode();a.value=null!=this.valueEnter_?this.valueEnter_:this._value||"";if(11>=zk.ie&&a.value){var b=a.value.length;b=[b,b]}this._typeahead(this._bDel,b);this._bDel=null;if(a=this.getPopupNode_())a.style.width="auto",zk.webkit&&(this._shallRedoCss=!0)}this._repos=!1}},onResponse:function(){var a=arguments;if(this.isOpen()&&jq(this.getPopupNode_()).is(":animated")){var b=
this;setTimeout(function(){b.desktop&&b.onResponse.apply(b,a)},50)}else{this.$supers("onResponse",arguments);this._shallRedoCss&&(zk(this.getPopupNode_()).redoCSS(-1),this._shallRedoCss=null);if(this._shallCheckPopupPosition||a[1]&&a[1].rtags&&a[1].rtags.onChanging&&this.isOpen())this._checkPopupPosition(),this._shallCheckPopupPosition=!1,this._fixEmptySearchMessage();this.isOpen()&&this._shallSyncPopupPosition&&(zk(this.getPopupNode_()).position(this.getInputNode(),"before_start"),this._shallSyncPopupPosition=
!1)}},setSelectedItemUuid_:function(a){if(this.desktop){if(!this._sel||a!=this._sel.uuid){var b=this._sel,c;this._sel=this._lastsel=null;(a=zk.$(a))&&(c=a);this._hiliteOpt(b,this._sel=c);this._lastsel=c}}else this._initSelUuid=a},setValue:function(a){this.$supers("setValue",arguments);this._reIndex();this.valueEnter_=null;this._lastsel=this._sel},_reIndex:function(){var a=this.getValue();if(!this._sel||a!=this._sel.getLabel()){if(this._sel){var b=this._sel.$n();b&&jq(b).removeClass(this._sel.$s("selected"))}this._sel=
this._lastsel=null;for(b=this.firstChild;b;b=b.nextSibling)if(a==b.getLabel()){this._sel=b;break}}},validateStrict:function(a){var b=this._cst;return this._findItem(a,!0)?null:(b?b._errmsg.STRICT?b._errmsg.STRICT:"":"")||msgzul.VALUE_NOT_MATCHED},_findItem:function(a,b){return this._findItem0(a,b)},_findItem0:function(a,b,c,d){var e=this.firstChild;if(e&&a){a=a.toLowerCase();var f=this._sel;f&&f.parent==this||(f=e);for(d=d?f.nextSibling?f.nextSibling:e:f;;){if((!b||!d.isDisabled())&&d.isVisible()&&
(c?d.getLabel().toLowerCase().startsWith(a):a==d.getLabel().toLowerCase()))return d;(d=d.nextSibling)||(d=e);if(d==f)break}}},_hilite:function(a){this._hilite2(this._findItem(this.valueEnter_=this.getInputNode().value,this._isStrict()||a&&a.strict),a)},_hilite2:function(a,b){b=b||{};var c=this._sel;this._sel=a;this._hiliteOpt(c,a);if(b.sendOnSelect&&this._lastsel!=a){if(this._lastsel=a){var d=this.getInputNode(),e=a.getLabel();this.valueEnter_=d.value=e;b.noSelectRange||(zk.gecko?d.select():zk(d).setSelectionRange(0,
e.length))}b.sendOnChange&&this.$supers("updateChange_",[]);this.fire("onSelect",{items:a?[a]:[],reference:a,prevSeld:c})}},_hiliteOpt:function(a,b){if(a&&a.parent==this){var c=a.$n();c&&jq(c).removeClass(a.$s("selected"))}b&&!b.isDisabled()&&jq(b.$n()).addClass(b.$s("selected"))},_isStrict:function(){var a=this.getConstraint();return a&&a._flags&&a._flags.STRICT},getIconClass_:function(){return"z-icon-caret-down"},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this._shallCheckPopupPosition=
!0},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);this._shallCheckPopupPosition=!0},open:function(a){this.$supers("open",arguments);this._hilite()},dnPressed_:function(a){this._updnSel(a)},upPressed_:function(a){this._updnSel(a,!0)},_updnSel:function(a,b){var c=this.getInputNode(),d=c.value;if(d||this._sel){d=d.toLowerCase();var e=this._sel;this._next(null,b);e&&e.parent==this||(e=this._next(null,!b));if(!e){a.stop();return}for(var f=e;;){if(!f.isDisabled()&&f.isVisible()){var h=
f.getLabel().toLowerCase();if(d==h){var g=f;break}else if(!k&&h.startsWith(d)){var k=f;break}}h=this._next(f,b);if(f==h)break;if((f=h)==e)break}g||(g=k);g?(c=zk(c).getSelectionRange(),0==c[0]&&c[1]==d.length&&(g=this._next(g,b))):g=this._next(null,!b)}else g=this._next(null,!0);g&&zk(g).scrollIntoView(this.$n("pp"));this._select(g,{sendOnSelect:!0,sendOnChange:!0});a.stop()},_next:function(){function a(a,c,d){c=c?"previousSibling":"nextSibling";for(a=d?a:a[c];a;a=a[c])if(!a.isDisabled()&&a.isVisible())return a;
return null}return function(b,c){b&&(b=a(b,c));return b?b:a(c?this.firstChild:this.lastChild,!c,!0)}}(),_select:function(a,b){var c=this.getInputNode(),d=c.value=a?a.getLabel():"";this.valueSel_=d;this._hilite2(a,b);d&&(zk.gecko?c.select():zk(c).setSelectionRange(0,d.length))},otherPressed_:function(a){var b=a.keyCode;this._bDel=8==b||46==b;if(this._readonly)switch(b){case 35:case 36:this._hilite2(),this.getInputNode().value="";case 37:case 39:this._updnSel(a,37==b||35==b);break;case 8:a.stop();break;
default:96<=b&&105>=b&&(b-=48),a=String.fromCharCode(b),(a=this._findItem0(a,!0,!0,!!this._sel))&&this._select(a,{sendOnSelect:!0})}},doKeyUp_:function(a){if(!this._disabled){if(!this._readonly){var b=a.keyCode;this._typeahead(8==b||46==b)}this.$supers("doKeyUp_",arguments)}},_typeahead:function(a,b){if(zk.currentFocus==this){var c=this.getInputNode(),d=c.value;b=b||zk(c).getSelectionRange();var e=this.firstChild;this.valueEnter_=d;if(!d||!e||b[0]!=d.length||b[0]!=b[1])return this._hilite({strict:!0});
if((b=this._findItem(d,!0))||a||!this._autocomplete)return b&&b.getLabel().toLowerCase().startsWith(d.toLowerCase())&&this._autocomplete&&(c.value=b.getLabel()),this._hilite2(b);d=d.toLowerCase();(b=this._sel)&&b.parent==this||(b=e);for(a=b;;){if(!a.isDisabled()&&a.isVisible()&&a.getLabel().toLowerCase().startsWith(d)){c.value=a.getLabel();zk(c).setSelectionRange(d.length,c.value.length);this._hilite2(a);break}(a=a.nextSibling)||(a=e);if(a==b){this._hilite2();break}}}},updateChange_:function(){var a=
this._value!=this.getInputNode().value;if(this.$supers("updateChange_",arguments)&&a)return this._hilite({sendOnSelect:!0,noSelectRange:!0}),!0;this.valueEnter_=null},bind_:function(){this.$supers(zul.inp.Combobox,"bind_",arguments);this.isListen("onOpen")&&this.listen({onChanging:zk.$void},-1E3);this._initSelUuid&&(this.setSelectedItemUuid_(this._initSelUuid),this._initSelUuid=null)},unbind_:function(){this._hilite2();this._sel=this._lastsel=null;this.isListen("onOpen")&&this.unlisten({onChanging:zk.$void});
this.$supers(zul.inp.Combobox,"unbind_",arguments)},redrawpp_:function(a){var b=this.uuid,c=this._emptySearchMessage;a.push('<div id="',b,'-pp" class="',this.$s("popup")," ",this.getSclass(),'" style="display:none">');c&&a.push('<div id="',b,'-emptySearchMessage" class="',this.$s("emptySearchMessage")," ",this.$s("emptySearchMessage-hidden"),'">',c,"</div>");a.push('<ul id="',b,'-cave" class="',this.$s("content"),'" >');for(b=this.firstChild;b;b=b.nextSibling)b.redraw(a);a.push("</ul></div>")},afterAnima_:function(a){a&&
this._lastsel&&zk(this._lastsel).scrollIntoView(this.$n("pp"));this.$supers("afterAnima_",arguments)},_fixsz:function(){var a=this.getPopupNode_();a.style.width="auto";this.$supers("_fixsz",arguments);zk(a).hasVScroll()&&!this.getPopupWidth()&&(a.style.width=jq.px(a.offsetWidth+jq.scrollbarWidth()))},_fixEmptySearchMessage:function(){this._emptySearchMessage&&jq(this.$n("emptySearchMessage")).toggleClass(this.$s("emptySearchMessage-hidden"),0<this.nChildren)}});

zkreg('zul.inp.Combobox');
zk._m={};
zk._m['rounded']=combobox$mold$=zul.inp.ComboWidget.$redraw;

;zk._m['default']=[zk._p.p.Combobox,'rounded'];
zkmld(zk._p.p.Combobox,zk._m);
zul.inp.Comboitem=zk.$extends(zul.LabelImageWidget,{$define:{disabled:function(b){var a=this.$n();if(a){var c=this.$s("disabled");b?jq(a).addClass(c):jq(a).removeClass(c)}},description:_zkf=function(){this.rerender()},content:_zkf},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{pre:1})},doClick_:function(b){if(!this._disabled){var a=this.parent;a._select(this,{sendOnSelect:!0,sendOnChange:!0});this._updateHoverImage();a.close({sendOnOpen:!0,focus:!0});a._shallClose=!0;zul.inp.InputCtrl.isPreservedFocus(this)&&
zk(a.getInputNode()).focus();b.stop()}},domClass_:function(b){var a=this.$supers("domClass_",arguments);!this._disabled||b&&b.zclass||(a+=" "+this.$s("disabled"));return a},deferRedrawHTML_:function(b){b.push("<li",this.domAttrs_({domClass:1}),' class="z-renderdefer"></li>')}});

zkreg('zul.inp.Comboitem');
zk._m={};
zk._m['default']=comboitem$mold$=function(a){a.push("<li",this.domAttrs_({text:!0}),">");var b=this.domIcon_(),c=this.domImage_();c?b?a.push('<span class="',this.$s("image"),'">',c,'</span><span class="',this.$s("icon"),'">',b,'</span><span class="',this.$s("text"),'">',this.domLabel_()):a.push('<span class="',this.$s("image"),'">',c,'</span><span class="',this.$s("text"),'">',this.domLabel_()):b?a.push('<span class="',this.$s("icon"),'">',b,'</span><span class="',this.$s("text"),'">',this.domLabel_()):a.push('<span class="',
this.$s("image"),'">',c,'</span><span class="',this.$s("text"),'">',this.domLabel_());var d;(d=this._description)&&a.push('<br/><span class="',this.$s("inner"),'">',zUtl.encodeXML(d),"</span>");(d=this._content)&&a.push('<span class="',this.$s("content"),'">',d,"</span>");a.push("</span></li>")};

;zkmld(zk._p.p.Comboitem,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}},"es6","es3");
zul.inp.Bandbox=zk.$extends(zul.inp.ComboWidget,{getPopupSize_:function(a){var b=this.firstChild;if(b){var c="min"==b._hflex&&b._hflexsz?jq.px0(b._hflexsz+zk(a).padBorderWidth()):b.getWidth();var d="min"==b._vflex&&b._vflexsz?jq.px0(b._vflexsz+zk(a).padBorderHeight()):b.getHeight()}return[c||"auto",d||"auto"]},getCaveNode:function(){return this.$n("pp")||this.$n()},redrawpp_:function(a){a.push('<div id="',this.uuid,'-pp" class="',this.$s("popup"),'" style="display:none">');for(var b=this.firstChild;b;b=
b.nextSibling)b.redraw(a);a.push("</div>")},getIconClass_:function(){return"z-icon-search"},open:function(a){this.firstChild?this.$supers("open",arguments):a&&a.sendOnOpen&&this.fire("onOpen",{open:!0,value:this.getInputNode().value},{rtags:{onOpen:1}})},presize_:function(){var a=this.firstChild;if(a&&("min"==a._hflex||"min"==a._vflex))return zWatch.fireDown("onFitSize",a,{reverse:!0}),!0},enterPressed_:function(a){a.domTarget==this.getInputNode()&&this.$supers("enterPressed_",arguments)},doKeyUp_:function(a){a.domTarget==
this.getInputNode()&&this.$supers("doKeyUp_",arguments)},_fixsz:function(a){this.$supers("_fixsz",arguments);var b=this.getPopupNode_(),c=zk(b),d=b.firstChild;a[0].endsWith("%")||this.getPopupWidth()?d.style.width="100%":"auto"!=a[0]&&(b.style.width=c.revisedWidth(d.offsetWidth+c.padBorderWidth())+"px")},doFocus_:function(a){var b=a.domTarget;b!=this.getInputNode()&&b!=this.$n("btn")||this.$supers("doFocus_",arguments)}});

zkreg('zul.inp.Bandbox');
zk._m={};
zk._m['rounded']=bandbox$mold$=zul.inp.ComboWidget.$redraw;

;zk._m['default']=[zk._p.p.Bandbox,'rounded'];
zkmld(zk._p.p.Bandbox,zk._m);
zul.inp.Bandpopup=zk.$extends(zul.Widget,{afterChildrenMinFlex_:function(a){"w"==a&&(a=(a=this.parent)&&a.$n("pp"))&&(a.style.width=jq.px0(this._hflexsz+zk(a).padBorderWidth()),zk(a)._updateProp(["width"]))},doClick_:function(a){a.domTarget==this.$n()&&this.parent.focus();this.$supers("doClick_",arguments)}});

zkreg('zul.inp.Bandpopup',true);
zk._m={};
zk._m['default']=bandpopup$mold$=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div>")};

;zkmld(zk._p.p.Bandpopup,zk._m);
(function(){function l(a){a=""+a;var b=a.indexOf(".");return 0>b?0:a.length-b-1}function p(a,b){b=Math.pow(10,b);return Math.round(a*b)/b}function q(a){var b=a.$n("btn"),c=a._curpos,d=a.isDecimal();b.title=d?c.toFixed(l(g(a))):c;a.updateFormData(c);var e=a.isVertical(),f=zk(a.$n()).cmOffset(),h=e?a._getHeight():a._getWidth();c=0<h?(c-a._minpos)*h/(a._maxpos-a._minpos):0;d||(c=Math.round(c));f=zk(b).toStyleOffset(f[0],f[1]);f=e?[0,f[1]+c]:[f[0]+c,0];f=a._snap(f[0],f[1]);return f[e?1:0]}function r(a,
b){var c=jq(a.$n("btn")),d=a.isVertical()?["top","height"]:["left","width"],e={};e[d[0]]=jq.px0(b?b+zk.parseInt(c.css(d[0]))-c[d[1]]()/2:q(a));return e}function g(a){var b=a._step;return a.isDecimal()&&-1==b?.1:b}zul.inp.Slider=zk.$extends(zul.Widget,{_orient:"horizontal",_height:"200px",_width:"200px",_curpos:0,_minpos:0,_maxpos:100,_slidingtext:"{0}",_pageIncrement:-1,_step:-1,_mode:"integer",$define:{orient:function(){this.rerender()},curpos:function(){this.desktop&&this._fixPos()},minpos:function(a){this._curpos<
a&&(this._curpos=a);this._fixStep();this.desktop&&this._fixPos()},maxpos:function(a){this._curpos>a&&(this._curpos=a);this._fixStep();this.desktop&&this._fixPos()},slidingtext:null,pageIncrement:null,step:function(){this._fixStep()},name:function(){this.efield&&(this.efield.name=this._name)},mode:function(){this._fixStep();this.desktop&&this._fixPos()}},domClass_:function(){var a=this.$supers("domClass_",arguments),b=this.isVertical();a=b?a+(" "+this.$s("vertical")):a+(" "+this.$s("horizontal"));
this.inSphereMold()?a+=" "+this.$s("sphere"):this.inScaleMold()&&!b&&(a+=" "+this.$s("scale"));return a},onup_:function(a){a=zul.inp.Slider.down_btn;var b;a&&(b=zk.Widget.$(a));zul.inp.Slider.down_btn=null;b&&jq(document).unbind("zmouseup",b.onup_)},doMouseDown_:function(a){jq(document).bind("zmouseup",this.onup_);zul.inp.Slider.down_btn=this.$n("btn");this.$supers("doMouseDown_",arguments)},doClick_:function(a){var b=jq(this.$n("btn")),c=b.zk.revisedOffset(),d=this,e=this._pageIncrement,f=0>e&&0>
g(this),h=this.isVertical(),m=this._getHeight(),n=this._getWidth(),k=h?a.pageY-c[1]:a.pageX-c[0];b[0]&&!b.is(":animated")&&(f||(this._curpos=0<e?p(this._constraintPos(this._curpos+(0<k?e:-e)),l(e)):this._getSteppedPos(k/(h?m:n)*(this._maxpos-this._minpos)+this._curpos),k=null),e=r(this,k),k=b.zk.getAnimationSpeed("slow"),h&&zk.parseInt(e.top)>m&&(e.top=jq.px0(m)),!h&&zk.parseInt(e.left)>n&&(e.left=jq.px0(n)),b.animate(e,k,function(){c=f?d._realpos():d._curpos;c=d._constraintPos(c);d.fire("onScroll",
d.isDecimal()?{decimal:c}:c);d._fixPos()}),jq(this.$n("area")).animate(h?{height:e.top}:{width:e.left},k),this.$supers("doClick_",arguments))},_makeDraggable:function(){var a={constraint:this._orient||"horizontal",starteffect:this._startDrag,snap:a,change:this._dragging,endeffect:this._endDrag};0<g(this)&&(a.snap=this._getStepOffset());this._drag=new zk.Draggable(this,this.$n("btn"),a)},_snap:function(a,b){var c=this.$n("btn");var d=zk(this.$n()).cmOffset();d=zk(c).toStyleOffset(d[0],d[1]);a<=d[0]?
a=d[0]:(c=d[0]+this._getWidth(),a>c&&(a=c));b<=d[1]?b=d[1]:(c=d[1]+this._getHeight(),b>c&&(b=c));return[a,b]},_startDrag:function(a){a=a.control;var b=a.getSclass();a.$n("btn").title="";a.slidepos=a._curpos;vert=a.isVertical();jq(document.body).append('<div id="zul_slidetip" class="'+a.$s("popup")+(b?" "+b+'">':'">')+a._slidingtext.replace(/\{0\}/g,a.slidepos)+"</div>");a.slidetip=jq("#zul_slidetip")[0];a.slidetip&&(a=a.slidetip.style,zk.webkit&&(a.top="0px",a.left="0px"))},_dragging:function(a){a=
a.control;var b=a.isDecimal(),c=a._realpos();if(c!=a.slidepos){a.slidepos=c=a._constraintPos(c);var d=b?c.toFixed(l(g(a))):c;a.slidetip&&(a.slidetip.innerHTML=a._slidingtext.replace(/\{0\}/g,d));a.fire("onScrolling",b?{decimal:c}:c)}a._fixPos()},_endDrag:function(a){a=a.control;var b=a._constraintPos(a._realpos());a.fire("onScroll",a.isDecimal()?{decimal:b}:b);a._fixPos();jq(a.slidetip).remove();a.slidetip=null},_realpos:function(a){var b=zk(this.$n("btn")).revisedOffset(),c=zk(this.$n()).revisedOffset(),
d=this._maxpos;a=this._minpos;var e=g(this);if(this.isVertical()){var f=this._getHeight();b=f?(b[1]-c[1])*(d-a)/f:0}else b=(f=this._getWidth())?(b[0]-c[0])*(d-a)/f:0;this.isDecimal()||(b=Math.round(b));return 0<e?this._curpos=0<b?p(b+a,l(e)):a:this._curpos=(0<b?b:0)+a},_constraintPos:function(a){var b=g(this),c=this._maxpos;return a=a<c?a-(a-this._minpos)%b:c},_getSteppedPos:function(a){var b=this._minpos,c=g(this),d=1;a-=b;this.isDecimal()&&(d=Math.pow(10,l(c)),a*=d,c*=d);var e=a%c;return(a-e+Math.round(e/
c)*c)/d+b},_getWidth:function(){return this.$n().clientWidth-this.$n("btn").offsetWidth},_getHeight:function(){return this.$n().clientHeight-this.$n("btn").offsetHeight},_getStepOffset:function(){var a=this.isVertical()?this._getHeight():this._getWidth(),b=g(this),c=[0,0];b&&(c[this.isVertical()?1:0]=0<a?a*b/(this._maxpos-this._minpos):0);return c},_fixSize:function(){var a=this.$n(),b=this.$n("btn"),c=this.$n("inner").style;this.isVertical()?(b.style.top="-"+b.offsetHeight/2+"px",a=a.clientHeight,
c.height=jq.px0(0<a?a:this._height-b.offsetHeight)):(b.style.left="-"+b.offsetWidth/2+"px",a=a.clientWidth,c.width=jq.px0(0<a?a:this._width-b.offsetWidth))},_fixPos:function(){var a=this.$n("btn"),b=this.isVertical(),c=jq.px0(q(this));this.$n("area").style[b?"height":"width"]=c;a.style[b?"top":"left"]=c;this.slidetip&&zk(this.slidetip).position(a,b?"end_before":"before_start")},_fixStep:function(){var a=g(this);this._drag&&(0>=a?this._drag.opts.snap&&delete this._drag.opts.snap:this._drag.opts.snap=
this._getStepOffset())},onSize:function(){this._fixSize();this._fixPos()},inScaleMold:function(){return"scale"==this.getMold()},inSphereMold:function(){return"sphere"==this.getMold()},isVertical:function(){return"vertical"==this._orient},isDecimal:function(){return"decimal"==this._mode},updateFormData:function(a){this._name&&(a=a||0,this.efield?this.efield.value=a:this.efield=jq.newHidden(this._name,a,this.$n()))},onShow:function(){this._drag||this._makeDraggable()},bind_:function(){this.$supers(zul.inp.Slider,
"bind_",arguments);this._fixSize();this.isRealVisible()&&this._makeDraggable();zWatch.listen({onSize:this,onShow:this});this.updateFormData(this._curpos);this._fixPos()},unbind_:function(){this.efield=null;this._drag&&(this._drag.destroy(),this._drag=null);zWatch.unlisten({onSize:this,onShow:this});this.$supers(zul.inp.Slider,"unbind_",arguments)}})})();

zkreg('zul.inp.Slider');
zk._m={};
zk._m['scale']=slider$mold$=function(b){var c=this.isVertical(),a=this.uuid;b.push("<div",this.domAttrs_(c?{width:!0}:{height:!0}),'><div id="',a,'-inner" class="',this.$s("center"),'"><div id="',a,'-area" class="',this.$s("area"),'" style="position: absolute"></div><div id="',a,'-btn" class="',this.$s("button"),'"></div></div></div>')};

;zk._m['sphere']=[zk._p.p.Slider,'scale'];
zk._m['default']=[zk._p.p.Slider,'scale'];
zkmld(zk._p.p.Slider,zk._m);
zul.inp.Spinner=zk.$extends(zul.inp.NumberInputWidget,{_step:1,_buttonVisible:!0,$define:{step:_zkf=function(){},buttonVisible:function(a){zul.inp.RoundUtl.buttonVisible(this,a)}},inRoundedMold:function(){return!0},intValue:function(){return this.$supers("getValue",arguments)},setConstraint:function(a){if("string"==typeof a&&"["!=a.charAt(0)){var b=new zul.inp.SimpleSpinnerConstraint(a);this._min=b._min;this._max=b._max;this.$supers("setConstraint",[b])}else this.$supers("setConstraint",arguments)},
coerceFromString_:function(a){if(!a)return null;var b=zk.fmt.Number.unformat(this._format,a,!1,this._localizedSymbols),c=parseInt(b.raw,10);if(isNaN(c)||b.raw!=""+c&&b.raw!="-"+c)return{error:zk.fmt.Text.format(msgzul.INTEGER_REQUIRED,a)};if(2147483647<c||-2147483648>c)return{error:zk.fmt.Text.format(msgzul.OUT_OF_RANGE+"(\u22122147483648 - 2147483647)")};b.divscale&&(c=Math.round(c/Math.pow(10,b.divscale)));return c},coerceToString_:function(a){var b=this._format;return b?zk.fmt.Number.format(b,
a,this._rounding,this._localizedSymbols):null!=a?""+a:""},onSize:function(){zul.inp.RoundUtl.onSize(this)},onHide:zul.inp.Textbox.onHide,validate:zul.inp.Intbox.validate,doKeyDown_:function(a){var b=this.getInputNode();if(!b.disabled&&!b.readOnly){switch(a.keyCode){case 38:this.checkValue();this._increase(!0);a.stop();return;case 40:this.checkValue();this._increase(!1);a.stop();return}this.$supers("doKeyDown_",arguments)}},_ondropbtnup:function(a){this.domUnlisten_(document.body,"onZMouseup","_ondropbtnup");
this._stopAutoIncProc();this._currentbtn=null},_btnDown:function(a){if(this._buttonVisible&&!this._disabled){var b=this.$n("btn");zk.dragging||(this._currentbtn&&this._ondropbtnup(a),this.domListen_(document.body,"onZMouseup","_ondropbtnup"),this._currentbtn=b);this.checkValue();var c=zk(b).revisedOffset();a.pageY-c[1]<b.offsetHeight/2?(this._increase(!0),this._startAutoIncProc(!0)):(this._increase(!1),this._startAutoIncProc(!1));a.stop()}},checkValue:function(){var a=this.getInputNode(),b=this._min,
c=this._max;this._noPreviousValue=""==a.value;a.value||(a.value=b&&c?0>=b&&0<=c?0:b:b?0>=b?0:b:c?0<=c?0:c:0)},_btnUp:function(a){if(this._buttonVisible&&!this._disabled&&!zk.dragging){this._onChanging();this._stopAutoIncProc();a=this.getInputNode();if(11>zk.ie){var b=a.value.length;zk(a).setSelectionRange(b,b)}a.focus()}},_increase:function(a){var b=this.getInputNode(),c=this.coerceFromString_(b.value);c&&c.error||(this._noPreviousValue&&(0<this._min||0>this._max)?(a=c,this._noPreviousValue=!1):a=
a?c+this._step:c-this._step,a>Math.pow(2,31)-1?a=Math.pow(2,31)-1:a<-Math.pow(2,31)&&(a=-Math.pow(2,31)),null!=this._max&&a>this._max?a=c:null!=this._min&&a<this._min&&(a=c),b.value=this.coerceToString_(a),this._onChanging())},_clearValue:function(){this.getInputNode().value=this._defRawVal="";return!0},_startAutoIncProc:function(a){var b=this;this.timerId&&clearInterval(this.timerId);this.timerId=setInterval(function(){b._increase(a)},200)},_stopAutoIncProc:function(){this.timerId&&clearTimeout(this.timerId);
this.timerId=null},doFocus_:function(a){this.$supers("doFocus_",arguments);zul.inp.RoundUtl.doFocus_(this)},doBlur_:function(a){if(zk.ie8_){var b=this.$n("btn");if(b&&!this._instant&&0<jq("#"+b.id+":hover").length)return}this.$supers("doBlur_",arguments);zul.inp.RoundUtl.doBlur_(this)},afterKeyDown_:function(a,b){!b&&this._inplace&&jq(this.$n()).toggleClass(this.getInplaceCSS(),13==a.keyCode?null:!1);return this.$supers("afterKeyDown_",arguments)},bind_:function(){this.$supers(zul.inp.Spinner,"bind_",
arguments);var a;(a=this.$n("btn"))&&this.domListen_(a,"onZMouseDown","_btnDown").domListen_(a,"onZMouseUp","_btnUp");zWatch.listen({onSize:this})},unbind_:function(){this.timerId&&(clearTimeout(this.timerId),this.timerId=null);zWatch.unlisten({onSize:this});var a=this.$n("btn");a&&this.domUnlisten_(a,"onZMouseDown","_btnDown").domUnlisten_(a,"onZMouseUp","_btnUp");this.$supers(zul.inp.Spinner,"unbind_",arguments)},getBtnUpIconClass_:function(){return"z-icon-angle-up"},getBtnDownIconClass_:function(){return"z-icon-angle-down"}});

zkreg('zul.inp.Spinner');
zk._m={};
zk._m['rounded']=spinner$mold$=function(a){var c=this.uuid,b=this._buttonVisible;a.push("<span",this.domAttrs_({text:!0,tabindex:!0}),">",'<input id="',c,'-real"','class="',this.$s("input"));b||a.push(" ",this.$s("rightedge"));a.push('" autocomplete="off"',this.textAttrs_(),"/>",'<span id="',c,'-btn"','class="',this.$s("button"));b||a.push(" ",this.$s("disabled"));b=this.$s("icon")+" ";a.push('"><a id="',c,'-btn-up" class="',b,this.$s("up"),'"><i class="',this.getBtnUpIconClass_(),'"></i></a><i class="',this.$s("separator"),
'"></i><a id="',c,'-btn-down" class="',b,this.$s("down"),'"><i class="',this.getBtnDownIconClass_(),'"></i></a>');a.push("</span></span>")};

;zk._m['default']=[zk._p.p.Spinner,'rounded'];
zkmld(zk._p.p.Spinner,zk._m);
(function(){function h(a,b){a=""+a;b=a.indexOf(b);return 0>b?0:a.length-b-1}function l(a,b){var c=a._localizedSymbols?a._localizedSymbols.DECIMAL:zk.DECIMAL,d=h(a._step,c);b=h(b||a._value,c);a._fixedDigits=Math.max(d,b)}zul.inp.Doublespinner=zk.$extends(zul.inp.NumberInputWidget,{_step:1,_buttonVisible:!0,$define:{step:function(a){l(this)},buttonVisible:function(a){zul.inp.RoundUtl.buttonVisible(this,a)}},inRoundedMold:function(){return!0},doubleValue:function(){return this.$supers("getValue",arguments)},
setConstraint:function(a){if("string"==typeof a&&"["!=a.charAt(0)){var b=new zul.inp.SimpleDoubleSpinnerConstraint(a);this._min=b._min;this._max=b._max;this.$supers("setConstraint",[b])}else this.$supers("setConstraint",arguments)},coerceFromString_:function(a){if(!a)return null;var b=zk.fmt.Number.unformat(this._format,a,!1,this._localizedSymbols),c=b.raw,d=parseFloat(c),e=""+d,f=e.indexOf("."),g=c.indexOf(".");if(isNaN(d)||0>e.indexOf("e")){0==g&&(c="0"+c,++g);0<=g&&c.substring(c.substring(g+1))&&
0>f&&(f=e.length,e+=".");var h=c.length,k=e.length;if(0<=f&&f<g)for(k-=f,h-=g,f=g-f;0<f--;)e="0"+e;if(k<h)for(f=h-k;0<f--;)e+="0";if(isNaN(d)||c!=e&&c!="-"+e&&0>c.indexOf("e"))return isNaN(d)||c==e?{error:zk.fmt.Text.format(msgzul.NUMBER_REQUIRED,a)}:{error:zk.fmt.Text.format(msgzul.ILLEGAL_VALUE)}}b.divscale&&(d/=Math.pow(10,b.divscale));l(this,d);return d},coerceToString_:function(a){var b=this._format,c=this._localizedSymbols?this._localizedSymbols.DECIMAL:zk.DECIMAL;if("number"===typeof a&&0==
a%1){var d=1;this._step&&(decimal=(this._step+"").split(".")[1])&&(d=decimal.length);a=parseFloat(a).toFixed(d)}return null==a?"":b?zk.fmt.Number.format(b,parseFloat(a),this._rounding,this._localizedSymbols):"."==c?""+a:(""+a).replace(".",c)},onSize:function(){zul.inp.RoundUtl.onSize(this)},onHide:zul.inp.Textbox.onHide,validate:zul.inp.Doublebox.validate,doKeyDown_:function(a){var b=this.getInputNode();if(!b.disabled&&!b.readOnly){switch(a.keyCode){case 38:this.checkValue();this._increase(!0);a.stop();
return;case 40:this.checkValue();this._increase(!1);a.stop();return}this.$supers("doKeyDown_",arguments)}},_ondropbtnup:function(a){this.domUnlisten_(document.body,"onZMouseup","_ondropbtnup");this._stopAutoIncProc();this._currentbtn=null},_btnDown:function(a){if(this._buttonVisible&&!this._disabled){var b=this.$n("btn");zk.dragging||(this._currentbtn&&this._ondropbtnup(a),this.domListen_(document.body,"onZMouseup","_ondropbtnup"),this._currentbtn=b);this.checkValue();var c=zk(b).revisedOffset();
a.pageY-c[1]<b.offsetHeight/2?(this._increase(!0),this._startAutoIncProc(!0)):(this._increase(!1),this._startAutoIncProc(!1));a.stop()}},checkValue:function(){var a=this.getInputNode(),b=this._min,c=this._max;a.value||(a.value=b&&c?0>=b&&0<=c?0:b:b?0>=b?0:b:c?0<=c?0:c:0)},_btnUp:function(a){if(this._buttonVisible&&!this._disabled&&!zk.dragging){this._onChanging();this._stopAutoIncProc();a=this.getInputNode();if(11>zk.ie){var b=a.value.length;zk(a).setSelectionRange(b,b)}a.focus()}},_increase:function(a){var b=
this.getInputNode(),c=this.coerceFromString_(b.value);if(!c||!c.error){var d=Math.max(h(c),this._fixedDigits),e=c,f=this._step;if(d){var g=Math.pow(10,d);e=Math.round(e*g);f=Math.round(f*g)}a=a?e+f:e-f;d&&(a/=g);d=a;d>Math.pow(2,63)-1?d=Math.pow(2,63)-1:d<-Math.pow(2,63)&&(d=-Math.pow(2,63));null!=this._max&&d>this._max?d=c:null!=this._min&&d<this._min&&(d=c);b.value=this.coerceToString_(d);this._onChanging()}},_clearValue:function(){this.getInputNode().value=this._defRawVal="";return!0},_startAutoIncProc:function(a){var b=
this;this.timerId&&clearInterval(this.timerId);this.timerId=setInterval(function(){b._increase(a)},200)},_stopAutoIncProc:function(){this.timerId&&clearTimeout(this.timerId);this.timerId=null},syncWidth:function(){zul.inp.RoundUtl.syncWidth(this,this.$n("btn"))},doFocus_:function(a){this.$supers("doFocus_",arguments);zul.inp.RoundUtl.doFocus_(this)},doBlur_:function(a){this.$supers("doBlur_",arguments);zul.inp.RoundUtl.doBlur_(this)},afterKeyDown_:function(a,b){!b&&this._inplace&&jq(this.$n()).toggleClass(this.getInplaceCSS(),
13==a.keyCode?null:!1);return this.$supers("afterKeyDown_",arguments)},getAllowedKeys_:function(){var a=this._localizedSymbols;return this.$supers("getAllowedKeys_",arguments)+(a?a:zk).DECIMAL+"e"},bind_:function(){this.$supers(zul.inp.Doublespinner,"bind_",arguments);var a;(a=this.$n("btn"))&&this.domListen_(a,"onZMouseDown","_btnDown").domListen_(a,"onZMouseUp","_btnUp");zWatch.listen({onSize:this})},unbind_:function(){this.timerId&&(clearTimeout(this.timerId),this.timerId=null);zWatch.unlisten({onSize:this});
var a=this.$n("btn");a&&this.domUnlisten_(a,"onZMouseDown","_btnDown").domUnlisten_(a,"onZMouseUp","_btnUp");this.$supers(zul.inp.Doublespinner,"unbind_",arguments)},getBtnUpIconClass_:function(){return"z-icon-angle-up"},getBtnDownIconClass_:function(){return"z-icon-angle-down"}})})();

zkreg('zul.inp.Doublespinner');
zk._m={};
zk._m['rounded']=[zk._p.p.Spinner,'rounded'];
zk._m['default']=[zk._p.p.Spinner,'rounded'];
zkmld(zk._p.p.Doublespinner,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.inp',1);zk.load('zul',function(){if(zk._p=zkpi('zul.utl'))try{
zul.utl.Script=zk.$extends(zk.Widget,{$define:{content:function(a){a?(this._fn="function"==typeof a?a:new Function(a),this.desktop&&this._exec()):this._fn=null},src:function(a){a&&(this._srcrun=!1,this.desktop&&this._exec())},charset:null},_exec:function(){var a=this.packages;if(!a)return this._exec0();this.packages=null;zk.load(a);zk.loading?zk.afterLoad(this.proxy(this._exec0)):this._exec0()},_exec0:function(){var a=this,e=this._fn;e&&(this._fn=null,zk.afterMount(function(){e.apply(a)}));if(this._src&&
!this._srcrun){this._srcrun=!0;var b=document.createElement("script");b.id=this.uuid;b.type="text/javascript";b.charset=this._charset||"UTF-8";b.src=this._src;var c=this.$n();if(c){var d=c.nextSibling;jq(c).remove()}d?d.parentNode.insertBefore(b,d):document.body.appendChild(b)}this._node=jq(this.uuid,zk)[0]},ignoreFlexSize_:function(a){return!0},redraw:function(){},bind_:function(){this.$supers(zul.utl.Script,"bind_",arguments);this._visible=!1;this._exec()}});

zkreg('zul.utl.Script');
zul.utl.Timer=zk.$extends(zk.Widget,{_running:!0,_delay:0,$define:{repeats:_zkf=function(){this.desktop&&this._sync()},delay:_zkf,running:_zkf},play:function(){this.setRunning(!0)},stop:function(){this.setRunning(!1)},_sync:function(){this._stop();this._play()},_play:function(){if(this._running){var a=this.proxy(this._tmfn);this._repeats?(this._iid=setInterval(a,this._delay),zAu.onError(this.proxy(this._onErr))):this._tid=setTimeout(a,this._delay)}},_stop:function(){var a=this._iid;a&&(this._iid=
null,clearInterval(a));if(a=this._tid)this._tid=null,clearTimeout(a);zAu.unError(this.proxy(this._onErr))},_onErr:function(a,b){410!=b&&404!=b&&405!=b||this._stop()},_tmfn:function(){this._repeats||(this._running=!1);this.fire("onTimer",null,{ignorable:!0,rtags:{onTimer:1}})},redraw:function(){},bind_:function(){this.$supers(zul.utl.Timer,"bind_",arguments);this._visible=!1;this._running&&this._play()},unbind_:function(){this._stop();this.$supers(zul.utl.Timer,"unbind_",arguments)}});

zkreg('zul.utl.Timer');
zul.utl.Style=zk.$extends(zk.Widget,{$define:{src:function(){this._content=null;this.rerender()},content:function(){this._src=null;this.rerender()},media:function(b){var a=this.$n("real");a&&(a.media=b)}},bind_:zk.ie8_?function(){this.$supers(zul.utl.Style,"bind_",arguments);if(this._src){var b=this;setTimeout(function(){var a=b.$n("real");a&&(a.href=b._src)})}}:function(){this.$supers(zul.utl.Style,"bind_",arguments)}});

zkreg('zul.utl.Style');
zk._m={};
zk._m['default']=style$mold$=function(a){var c,b;a.push('<div style="display:none" id="',this.uuid,'">&#160;');(c=this._src)?a.push('<link id="',this.uuid,'-real" rel="stylesheet" type="text/css" href="',c,'"'):a.push('<style id="',this.uuid,'-real"');(b=this._media)&&a.push(' media="',b,'"');a.push(this.domAttrs_({id:!0}));c?a.push("/>"):(a.push(">"),(b=this._content)&&a.push(b),a.push("</style>"));a.push("</div>")};

;zkmld(zk._p.p.Style,zk._m);
zul.utl.Iframe=zk.$extends(zul.Widget,{_scrolling:"auto",$define:{src:function(b){var a=this.$n();a&&(a.src=b||"")},scrolling:function(b){b||(this._scrolling=b="auto");var a=this.$n();a&&(zk.gecko||zk.opera?a.scrolling="true"===b?"yes":"false"===b?"no":b:this.rerender())},align:function(b){var a=this.$n();a&&(a.align=b||"")},name:function(b){var a=this.$n();a&&(a.name=b||"")},autohide:function(b){var a=this.$n();a&&jq(a).attr("z_autohide",b)}},bind_:function(b,a,c){this.$supers(zul.utl.Iframe,"bind_",
arguments);if(this._src){var d=this;c.push(function(){d.$n().src=d._src})}},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments)+' src="'+zjq.src0+'" frameborder="0"',c=this._scrolling;"auto"!=c&&(a+=' scrolling="'+("true"===c?"yes":"false"===c?"no":c)+'"');if(c=this._align)a+=' align="'+c+'"';if(c=this._name)a+=' name="'+c+'"';if(c=this._autohide)a+=' z_autohide="'+c+'"';return a}});

zkreg('zul.utl.Iframe');
zk._m={};
zk._m['default']=iframe$mold$=function(a){a.push("<iframe",this.domAttrs_(),">","</iframe>")};

;zkmld(zk._p.p.Iframe,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.utl',1);zk.load('zul.wgt',function(){if(zk._p=zkpi('zul.tab'))try{
zul.tab.Tabbox=zk.$extends(zul.Widget,{_orient:"top",_tabscroll:!0,_maximalHeight:!1,_animating:!1,$define:{tabscroll:_zkf=function(){this.rerender()},orient:function(a){"horizontal"==a?this._orient="top":"vertical"==a&&(this._orient="left");this.rerender()},maximalHeight:_zkf,panelSpacing:_zkf},getTabs:function(){return this.tabs},getTabpanels:function(){return this.tabpanels},getToolbar:function(){return this.toolbar},domClass_:function(a){var b=this.$supers("domClass_",arguments);if(!a||!a.zclass){var c=
this.inAccordionMold()?this.$s("accordion"):this.$s(this.getOrient());b+=" "+c}return b},isHorizontal:function(){var a=this.getOrient();return"horizontal"==a||"top"==a||"bottom"==a},isTop:function(){var a=this.getOrient();return"horizontal"==a||"top"==a},isBottom:function(){return"bottom"==this.getOrient()},isVertical:function(){var a=this.getOrient();return"vertical"==a||"left"==a||"right"==a},isRight:function(){return"right"==this.getOrient()},isLeft:function(){var a=this.getOrient();return"vertical"==
a||"left"==a},inAccordionMold:function(){return-1!=this.getMold().indexOf("accordion")},getSelectedIndex:function(){return this._selTab?this._selTab.getIndex():-1},setSelectedIndex:function(a){this.tabs&&this.setSelectedTab(this.tabs.getChildAt(a))},getSelectedPanel:function(){return this._selTab?this._selTab.getLinkedPanel():null},setSelectedPanel:function(a){a&&a.getTabbox()!=this||(a=a.getLinkedTab())&&this.setSelectedTab(a)},getSelectedTab:function(){return this._selTab},setSelectedTab:function(a){this._selTab!=
a&&(a&&a.setSelected(!0),this._selTab=a)},bind_:function(a,b,c){this.$supers(zul.tab.Tabbox,"bind_",arguments);this._scrolling=!1;var d=this.getToolbar();this.inAccordionMold()?zWatch.listen({onResponse:this}):d&&this.getTabs()&&(zWatch.listen({onResponse:this}),this._toolbarWidth=jq(d.$n()).width());var f;d=["right","left","down","up"];for(var e=d.length;e--;)(f=this.$n(d[e]))&&this.domListen_(f,"onClick","_doClick",d[e]);this._fixMaxHeight()},unbind_:function(){zWatch.unlisten({onResponse:this});
for(var a,b=["right","left","down","up"],c=b.length;c--;)(a=this.$n(b[c]))&&this.domUnlisten_(a,"onClick","_doClick",b[c]);this._toolbarWidth=null;this.$supers(zul.tab.Tabbox,"unbind_",arguments)},_doClick:function(a,b){if(this.tabs&&this.tabs.nChildren){a=this.tabs.$n("cave");var c=jq(a).children(),d=this.tabs.$n(),f=this.isVertical();a=f?this.tabs._tabsScrollTop:this.tabs._tabsScrollLeft;d=f?d.offsetHeight:d.offsetWidth;f=a+d;switch(b){case "right":b=0;for(var e=c.length;b<e;b++)if(c[b].offsetLeft+
c[b].offsetWidth>f){a=c[b].offsetLeft+c[b].offsetWidth-a-d;if(!a||isNaN(a))return;this.tabs._doScroll("right",a);return}break;case "left":b=0;for(e=c.length;b<e;b++)if(c[b].offsetLeft>=a){b=jq(c[b]).prev("li")[0];if(!b)return;a-=b.offsetLeft;if(isNaN(a))return;this.tabs._doScroll("left",a);return}a-=c[c.length-1].offsetLeft;if(isNaN(a))break;this.tabs._doScroll("left",a);break;case "up":b=0;for(e=c.length;b<e;b++)if(c[b].offsetTop>=a){b=jq(c[b]).prev("li")[0];if(!b)return;a-=b.offsetTop;this.tabs._doScroll("up",
a);return}b=c[c.length-1];if(!b)break;a-=b.offsetTop;this.tabs._doScroll("up",a);break;case "down":for(b=0,e=c.length;b<e;b++)if(c[b].offsetTop+c[b].offsetHeight>f){a=c[b].offsetTop+c[b].offsetHeight-a-d;if(!a||isNaN(a))break;this.tabs._doScroll("down",a);break}}}},syncSize:function(){this._shallSize=!1;this.desktop&&zUtl.fireSized(this,-1)},onResponse:function(){if(this.inAccordionMold())this._shallSize&&this.syncSize();else if(this._toolbarWidth){var a=jq(this.getToolbar().$n()).width();a!=this._toolbarWidth&&
(this._toolbarWidth=a,this.getTabs().onSize())}},_syncSize:function(){this.desktop&&(this._shallSize=!0)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);a.$instanceof(zul.wgt.Toolbar)?this.toolbar=a:a.$instanceof(zul.tab.Tabs)?this.tabs=a:a.$instanceof(zul.tab.Tabpanels)&&(this.tabpanels=a);this.rerender()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);a==this.toolbar?this.toolbar=null:a==this.tabs?this.tabs=null:a==this.tabpanels&&(this.tabpanels=null);
this.childReplacing_||this.rerender()},setWidth:function(a){this.$supers("setWidth",arguments);this.desktop&&zUtl.fireSized(this,-1)},setHeight:function(a){this.$supers("setHeight",arguments);this.desktop&&zUtl.fireSized(this,-1)},_fixMaxHeight:function(){var a;if(this._maximalHeight){for(var b=0,c=this.getTabpanels().firstChild,d=c;d;d=d.nextSibling)if(a=d?d.getCaveNode():null)a=jq(a).outerHeight(),a>b&&(b=a);else return;for(d=c;d;d=d.nextSibling)if(a=d.getCaveNode())a.style.height=jq.px0(b)}}});

zkreg('zul.tab.Tabbox');
zk._m={};
zk._m['accordion-lite']=tabboxaccd$mold$=function(a){a.push("<div ",this.domAttrs_(),">");var b=this.getTabpanels();b&&b.redraw(a);a.push("</div>")};

;zk._m['default']=tabbox$mold$=function(a){var d=this.$s("icon"),e=this.uuid,g=this.isTabscroll(),b=this.tabs,c=this.tabpanels,h=this.toolbar,f=function(a){return'<i class="z-icon-chevron-'+a+'"></i>'};a.push("<div ",this.domAttrs_(),">");this.isHorizontal()?(this.isBottom()?(c&&c.redraw(a),b&&b.redraw(a)):(b&&b.redraw(a),c&&c.redraw(a)),g&&a.push('<div id="',e,'-left" class="',d," ",this.$s("left-scroll"),'">',f("left"),"</div>",'<div id="',e,'-right" class="',d," ",this.$s("right-scroll"),'">',f("right"),"</div>"),
g&&h&&h.redraw(a)):(b&&b.redraw(a),c&&c.redraw(a),this.isVertical()&&(g&&a.push('<div id="',e,'-up" class="',d," ",this.$s("up-scroll"),'">',f("up"),"</div>",'<div id="',e,'-down" class="',d," ",this.$s("down-scroll"),'">',f("down"),"</div>"),a.push('<div class="z-clear"></div>')));a.push("</div>")};

;zk._m['accordion']=[zk._p.p.Tabbox,'accordion-lite'];
zkmld(zk._p.p.Tabbox,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}},"es6","es3");
zul.tab.Tabs=zk.$extends(zul.Widget,{_tabsScrollLeft:0,_tabsScrollTop:0,getTabbox:function(){return this.parent},getWidth:function(){var a=this._width;if(!a){var b=this.getTabbox();if(b&&b.isVertical())return"50px"}return a},onSize:function(){this._fixWidth(!0);this._scrollcheck("init")},beforeSize:function(){var a=this.getTabbox(),b=a.getWidth(),c=this.$n().style;b&&!b.endsWith("%")&&"auto"!=b||a.inAccordionMold()||a.isVertical()||(this.$n("cave").style.width="",c.width&&(c.width="",a.isTabscroll()||
(a.$n().style.width="")))},insertChildHTML_:function(a,b,c){var d=a.previousSibling;b?jq(b).before(a.redrawHTML_()):d?jq(d).after(a.redrawHTML_()):(b=this.$n("edge"))?jq(b).before(a.redrawHTML_()):jq(this.getCaveNode()).append(a.redrawHTML_());a.bind(c)},setVflex:function(a){"min"!=a&&(a=!1);this.$super(zul.tab.Tabs,"setVflex",a)},setHflex:function(a){"min"!=a&&(a=!1);this.$super(zul.tab.Tabs,"setHflex",a)},bind_:function(a,b,c){this.$supers(zul.tab.Tabs,"bind_",arguments);zWatch.listen({onSize:this,
onResponse:this,beforeSize:this})},unbind_:function(){zWatch.unlisten({onSize:this,onResponse:this,beforeSize:this});this.$supers(zul.tab.Tabs,"unbind_",arguments)},_scrollcheck:function(a,b){this._shallCheck=!1;var c=this.getTabbox();if(this.desktop&&(!c||c.isRealVisible()&&c.isTabscroll())){var d=this.$n();var e=c.$n();if(d&&e)if(c.isVertical()){var g=d.offsetHeight;var f=d.scrollTop,n=0;jq(this.$n("cave")).children().each(function(){n+=this.offsetHeight});if(c._scrolling){var k=this._getArrowSize();
if(!(d.offsetHeight<=k)){var h=c.getSelectedTab();h=(b=b?b.$n():h?h.$n():null)?b.offsetTop:0;b=b?b.offsetHeight:0;n<=g+k&&(c._scrolling=!1,this._showbutton(!1),d.style.height=jq.px0(e.offsetHeight-2),d.scrollTop=0);switch(a){case "end":a=n-g-f;this._doScroll(0<=a?"down":"up",0<=a?a:Math.abs(a));break;case "init":case "vsel":h<f?this._doScroll("up",f-h):h+b>f+g&&this._doScroll("down",h+b-f-g)}}}else 0<n-g?(c._scrolling=!0,this._showbutton(!0),k=this._getArrowSize(),e=e.offsetHeight-k,d.style.height=
0<e?e+"px":"","end"==a&&(a=n-g-f+2,0<=a&&this._doScroll(this.uuid,"down",a))):this._showbutton(!1)}else if(!c.inAccordionMold()){g=this.$n("cave");h=c.getSelectedTab();f=(b=b?b.$n():h?h.$n():null)?b.offsetLeft:0;b=b?b.offsetWidth:0;h=d.offsetWidth;var l=this._tabsScrollLeft,m=0;k=c.toolbar;var p=0;jq(g).children().each(function(){m+=this.offsetWidth});k&&k.desktop&&(p=k.$n().offsetWidth);if(c._scrolling)switch(k=this._getArrowSize(),c.$n("right").style.right=p+"px",m<=h+k&&(c._scrolling=!1,this._showbutton(!1),
d.style.width=jq.px0(e.offsetWidth-p),this._fixTabsScrollLeft(0)),a){case "end":a=m-h-l;this._doScroll(0<=a?"right":"left",0<=a?a:Math.abs(a));break;case "init":this.$n("cave").style.width=m+k+"px";case "sel":f!=l&&(f<l?this._doScroll("left",l-f):f+b>l+h&&this._doScroll("right",f+b-l-h))}else 0<m-h?(c._scrolling=!0,this._showbutton(!0),g=this.$n("cave"),k=this._getArrowSize(),e=e.offsetWidth-p-k,g.style.width=m+k+"px",d.style.width=0<e?e+"px":"",c.$n("right").style.right=p+"px","sel"==a&&(f<l?this._doScroll("left",
l-f):f+b>l+h&&this._doScroll("right",f+b-l-h))):this._showbutton(!1)}}},_doScroll:function(a,b){this._doingScroll||(this._doingScroll={});if(!(0>=b||this._doingScroll[a])){var c=this,d=this.$n();this._doingScroll[a]=b;var e=60>=b?5:5*(zk.parseInt(b/60)+1);var g=function(a,b,d){switch(b){case "right":c._fixTabsScrollLeft(c._tabsScrollLeft+d);break;case "left":c._fixTabsScrollLeft(c._tabsScrollLeft-d);break;case "up":c._fixTabsScrollTop(c._tabsScrollTop-d);break;default:c._fixTabsScrollTop(c._tabsScrollTop+
d)}a=c._tabsScrollLeft;b=c._tabsScrollTop;c._fixTabsScrollLeft(0>=a?0:a);c._fixTabsScrollTop(0>=b?0:b)},f=setInterval(function(){b?(b<e?g(d,a,b):g(d,a,e),b-=e,b=0>b?0:b):(delete c._doingScroll[a],clearInterval(f))},10)}},_getArrowSize:function(){var a=this.getTabbox(),b=a.isVertical(),c=b?a.$n("up"):a.$n("left");a=b?a.$n("down"):a.$n("right");var d=0;c&&a&&(d=b?c.offsetHeight+a.offsetHeight:c.offsetWidth+a.offsetWidth);return d},_showbutton:function(a){var b=this.getTabbox();if(b.isTabscroll()){var c=
b.$s("scroll");jq(b).removeClass(c);a&&(b.isVertical()||b.inAccordionMold()||(a=b.toolbar,b.$n("left").style.height=b.$n("right").style.height="",a&&(a.$n().style.height="")),jq(b).addClass(c))}},_fixWidth:function(a){var b=this.$n(),c=this.getTabbox(),d=c.$n(),e=c._scrolling?this._getArrowSize():0;this._fixHgh(a);c.isVertical()?((c=c.getTabpanels())&&c._fixWidth(),b.style.width?b._width=b.style.width:b.style.width=b._width?b._width:"50px"):c.inAccordionMold()||d.offsetWidth<e||(c.isTabscroll()?((a=
c.toolbar)&&(a=a.$n()),d.style.width||(d.style.width="100%"),b.style.width=c._scrolling?jq.px0(zk(d).contentWidth()-(a?a.offsetWidth:0)-e):jq.px0(zk(d).contentWidth()-(a?a.offsetWidth:0)),a&&c._scrolling&&(c.$n("right").style.right=a.offsetWidth+"px")):d.style.width?b.style.width=jq.px0(zk(d).contentWidth()-zk(b).marginWidth()):d.offsetWidth&&(d.style.width=jq.px0(d.offsetWidth),b.style.width=jq.px0(zk(d).contentWidth()-zk(b).marginWidth())))},_fixHgh:function(a){if(!this.getTabbox()._scrolling){var b=
this.getTabbox();if(b.isVertical()){var c=this.$n();var d=b.$n(),e=b.$n("up"),g=b.$n("down"),f=this.$n("cave");jq(d).children("div");f=jq(f).children();b.getHeight()||b._vflex&&"min"!=b._vflex||(a?(a=f.length*f[0].offsetHeight,b=(b=b.getSelectedPanel())&&b.getPanelContentHeight_()||0,d.style.height=jq.px0(Math.max(a,b)+zk(d).padBorderHeight())):jq(d).css("height",""));c.style.height=jq.px0(zk(d).contentHeight()-zk(c).marginHeight());e&&g&&(e.style.width=g.style.width=c.style.width)}else d=b.$n("right"),
e=b.$n("left"),b=b.toolbar,c=this.$n(),g=jq.px0(c?c.offsetHeight:0),d&&e&&(d.style.height=e.style.height=g),b&&(b=b.$n())&&(b.style.height=g),c&&(c.style.height="")}},onResponse:function(){this._shallCheck&&this._scrollcheck("init")},onChildRemoved_:function(a){var b=this.parent;b&&a==b._selTab&&(b._selTab=null);this.desktop&&(this._shallCheck=!0);this.$supers("onChildRemoved_",arguments)},onChildAdded_:function(){this.desktop&&(this._shallCheck=!0);this.$supers("onChildAdded_",arguments)},onChildVisible_:function(){if(this.desktop){var a=
this.getTabbox();a.inAccordionMold()&&a.getHeight()&&a.syncSize()}this.$supers("onChildVisible_",arguments)},ignoreFlexSize_:function(a){var b=this.getTabbox();return b.isVertical()&&"h"==a||b.isHorizontal()&&"w"==a},_fixTabsScrollLeft:function(a){this.$n().scrollLeft=this._tabsScrollLeft=a},_fixTabsScrollTop:function(a){this.$n().scrollTop=this._tabsScrollTop=a}});

zkreg('zul.tab.Tabs');
zk._m={};
zk._m['default']=tabs$mold$=function(b){this.getTabbox();var a=this.uuid;b.push("<div ",this.domAttrs_(),">",'<ul id="',a,'-cave" class="',this.$s("content"),'">');for(a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</ul>","</div>")};

;zkmld(zk._p.p.Tabs,zk._m);
(function(){function k(a){a._oldId||(a._oldId=a.uuid,setTimeout(function(){delete a._oldId},0))}zul.tab.Tab=zk.$extends(zul.LabelImageWidget,{$init:function(){this.$supers("$init",arguments);this.listen({onClose:this},-1E3)},$define:{closable:_zkf=function(){this.rerender()},image:function(a){a&&this._preloadImag&&zUtl.loadImage(a);this.rerender()},disabled:_zkf,selected:function(a){this._sel()}},getTabbox:function(){return this.parent?this.parent.parent:null},getIndex:function(){return this.getChildIndex()},
getLinkedPanel:function(){var a;return(a=this.getTabbox())&&(a=a.getTabpanels())?a.getChildAt(this.getIndex()):null},_doCloseClick:function(a){this._disabled||(this.fire("onClose"),a.stop())},_sel:function(a,b){var c=this.getTabbox();if(c&&!c._animating){var d=c._selTab;if(d!=this||b)d&&c.inAccordionMold()&&(c=this.getLinkedPanel())&&c._changeSel(d.getLinkedPanel()),d&&d!=this&&this._setSel(d,!1,!1,b),this._setSel(this,!0,a,b)}},_setSel:function(a,b,c,d){var e,f=this.getTabbox(),g=a.getLinkedPanel();
if(a.isSelected()!=b||!c){if(b){f._selTab=a;var h;if(h=f.tabpanels)h._selPnl&&h._selPnl!=g&&h._selPnl._sel(!1,f.inAccordionMold()),h._selPnl=g}a._selected=b;this.desktop&&(b?jq(a).addClass(this.$s("selected")):jq(a).removeClass(this.$s("selected")),g&&g.isVisible()&&g._sel(b,!d),f.inAccordionMold()||(e=this.parent)&&e._fixWidth(b),a==this&&(f.isVertical()?e._scrollcheck("vsel",this):f.inAccordionMold()||e._scrollcheck("sel",this)),c&&this.fire("onSelect",{items:[this],reference:this.uuid}))}},setHeight:function(a){this.$supers("setHeight",
arguments);this.desktop&&(this._calcHgh(),zUtl.fireSized(this.parent))},setWidth:function(a){this.$supers("setWidth",arguments);this.desktop&&zUtl.fireSized(this.parent)},_calcHgh:function(){this.$n();var a=this.getTabbox();if(!a.isVertical()){var b=a.$n("right"),c=a.$n("left"),d=a.toolbar;a=a.tabs.$n();a=jq.px0(a?a.offsetHeight:0);b&&c&&(b.style.height=c.style.height=a);d&&(d=d.$n())&&(d.style.height=a)}},doClick_:function(a){this._disabled||(this._sel(!0),this.$supers("doClick_",arguments))},domClass_:function(a){var b=
this.$supers("domClass_",arguments);a&&a.zclass||(this.isDisabled()&&(b+=" "+this.$s("disabled")),this.isSelected()&&(b+=" "+this.$s("selected")));return b},domContent_:function(){var a=zUtl.encodeXML(this.getLabel()),b=this.getImage(),c=this.domIcon_();a||(a="&nbsp;");if(!b&&!c)return a;b=b?'<img src="'+b+'" class="'+this.$s("image")+'"/>'+(c?" "+c:""):c;return a?b+" "+a:b},setVflex:function(a){"min"!=a&&(a=!1);this.$supers("setVflex",arguments)},setHflex:function(a){"min"!=a&&(a=!1);this.$supers("setHflex",
arguments)},bind_:function(a,b,c){this.$supers(zul.tab.Tab,"bind_",arguments);var d=this.isClosable()?this.$n("cls"):null,e=this;d&&this.domListen_(d,"onClick","_doCloseClick");e.isSelected()&&zk.afterMount(function(){if(e.desktop&&e.getTabbox().inAccordionMold()){var a=e.getLinkedPanel(),b=a?a.$n("cave"):null;b&&"none"==b.style.display&&a._sel(!0,!0)}e.isSelected()&&e._sel(!1,!0)});this.getHeight()&&this._calcHgh();this.parent._shallCheck=!0},unbind_:function(){var a=this.$n("cls");k(this);a&&this.domUnlisten_(a,
"onClick","_doCloseClick");this.$supers(zul.tab.Tab,"unbind_",arguments)},onClose:function(){this.getTabbox().inAccordionMold()&&this.getTabbox()._syncSize()},deferRedrawHTML_:function(a){var b=this.getTabbox().inAccordionMold()?"div":"li";a.push("<",b,this.domAttrs_({domClass:1}),' class="z-renderdefer"></',b,">")},rerender:function(a){this.desktop&&k(this);this.$supers(zul.tab.Tab,"rerender",arguments)},contentRenderer_:function(a){a.push('<span id="',this.uuid,'-cnt" class="',this.$s("text"),'">',
this.domContent_(),"</span>")}});zul.tab.TabRenderer={isFrameRequired:function(){return!1}}})();

zkreg('zul.tab.Tab',true);
zk._m={};
zk._m['default']=tab$mold$=function(a){var c=this.getTabbox(),f=this.uuid,g=this.$s("icon");g='<i id="'+f+'-cls" class="z-icon-times '+g+'"></i>';var h=(c=c.inAccordionMold())?"div":"li",e=c?this.getLinkedPanel():null,d=e?e.$n():null;if(c){var b=d?d.firstChild:null;if(!e||b&&b!=e.$n("cave")&&(this._oldId?b.id!=this._oldId:b!=this.$n()))return;a=d?[]:a}a.push("<",h," ",this.domAttrs_(),">");(b=(b=this.firstChild)?b.$instanceof(zul.wgt.Caption):!1)||a.push('<a id="',f,'-cave" class="',this.$s("content"),'" >');this.isClosable()&&
a.push('<div id="',f,'-btn" class="',this.$s("button"),'">',g,"</div>");this.contentRenderer_(a);b||a.push("</a>");a.push("</",h,">");c&&d&&jq(d).prepend(a.join(""))};

;zkmld(zk._p.p.Tab,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
(function(){zul.tab.Tabpanels=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent},setWidth:function(a){var b=this.$n(),c=this.getTabbox();(c=b&&c?c.isVertical():!1)&&!this.__width&&(b.style.width="");this.$supers("setWidth",arguments);c&&(b.style.width&&(this.__width=b.style.width),zUtl.fireSized(this))},setStyle:function(a){var b=this.$n(),c=this.getTabbox();(c=b&&c?c.isVertical():!1)&&!this.__width&&(b.style.width="");this.$supers("setStyle",arguments);c&&(b.style.width&&(this.__width=
b.style.width),zUtl.fireSized(this))},setVflex:function(a){"min"!=a&&(a=!1);this.$supers("setVflex",arguments)},setHflex:function(a){"min"!=a&&(a=!1);this.$supers("setHflex",arguments)},bind_:function(){this.$supers(zul.tab.Tabpanels,"bind_",arguments);if(this.getTabbox().isVertical()){this._zwatched=!0;zWatch.listen({onSize:this,beforeSize:this});var a=this.$n();a.style.width&&(this.__width=a.style.width)}zWatch.listen({onResponse:this})},unbind_:function(){this._zwatched&&(zWatch.unlisten({onSize:this,
beforeSize:this}),this._zwatched=!1);zWatch.unlisten({onResponse:this});this.$supers(zul.tab.Tabpanels,"unbind_",arguments)},onSize:function(){this._fixWidth()},_fixWidth:function(){var a=this.parent.$n(),b=jq(a);if(!this.__width&&zk(a).isRealVisible()){a=b.width();var c=this.$n();a-=b.find(">div:first")[0].offsetWidth;c.style.width=jq.px0(a)}},beforeSize:function(){this.$n().style.width=this.__width||""},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);this._shallSync=!0},onChildAdded_:function(a){this.$supers("onChildAdded_",
arguments);var b=this.getTabbox(),c;b&&(!b.inAccordionMold()||(c=a.$n("cave"))&&"none"!=c.style.display)&&(this._shallSync=!0)},onResponse:function(){if(this._shallSync){var a;if(this.desktop&&(a=this.getTabbox())){var b=this._selPnl;a=a._selTab;b!=(a&&(a=a.getLinkedPanel()))&&(b&&b.desktop&&b._sel(!1,!0),a&&a._sel(!0,!0),this._selPnl=a)}this._shallSync=!1}}})})();

zkreg('zul.tab.Tabpanels');
zk._m={};
zk._m['default']=tabpanels$mold$=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div>")};

;zkmld(zk._p.p.Tabpanels,zk._m);
zul.tab.Tabpanel=zk.$extends(zul.ContainerWidget,{getTabbox:function(){return this.parent?this.parent.parent:null},isVisible:function(){return this.$supers("isVisible",arguments)&&this.isSelected()},setVisible:function(){this.$supers("setVisible",arguments);this.desktop&&!this.isSelected()&&(this.$n().style.display="none")},domClass_:function(){var b=this.$supers("domClass_",arguments);this.getTabbox().inAccordionMold()&&(b+=" "+this.$s("content"));return b},getLinkedTab:function(){var b=this.getTabbox();
return b?(b=b.getTabs())?b.getChildAt(this.getIndex()):null:null},getIndex:function(){return this.getChildIndex()},isSelected:function(){var b=this.getLinkedTab();return b&&b.isSelected()},_changeSel:function(b){if(b){var a=this.$n("cave");a&&!a.style.height&&(b=b.$n("cave"))&&(a.style.height=b.style.height)}},_sel:function(b,a){var d=this.getTabbox();if(d){var c=d.inAccordionMold();if(c&&a)a=zk(this.$n("cave")),b?(d._animating=!0,a.slideDown(this,{afterAnima:function(){delete d._animating}})):a.slideUp(this);
else if(a=jq(c?this.$n("cave"):this.$n()),c=a.zk.isVisible(),b)c||(a.show(),(zk.ie8||zk.webkit)&&a.scrollTop(this._lastScrollTop),zUtl.fireShown(this));else if(c){zWatch.fireDown("onHide",this);if(zk.ie8||zk.webkit)this._lastScrollTop=a.scrollTop();a.hide()}}},getPanelContentHeight_:function(){var b=this.$n(),a=this.parent&&this.parent.$n();a=a&&a.scrollHeight+zk(a).padBorderHeight();return Math.max(b&&b.offsetHeight,a)},_fixPanelHgh:function(){var b,a=this.getTabbox(),d=a.$n();if((b=d.style.height)&&
"auto"!=b)if(a.inAccordionMold()){var c=this.$n();b=d.offsetHeight;a=zk(c.parentNode);b-=a.padBorderHeight();for(a=c.parentNode.firstChild;a;a=a.nextSibling)a!=c&&(b-=a.offsetHeight);b-=c.firstChild.offsetHeight;this.$n("cave").style.height=jq.px0(b)}else c=this.$n(),b=a.isHorizontal()?zk(a).contentHeight()-zk(a.tabs).offsetHeight():zk(a).contentHeight()-zk(c.parentNode).padBorderHeight(),c.style.height=jq.px0(b)},onSize:function(){this.getTabbox().inAccordionMold()&&!zk(this.$n("cave")).isVisible()||
this._fixPanelHgh()},setVflex:function(b){"min"!=b&&(b=!1);this.$supers("setVflex",arguments)},setHflex:function(b){"min"!=b&&(b=!1);this.$supers("setHflex",arguments)},bind_:function(b){this.$supers(zul.tab.Tabpanel,"bind_",arguments);zWatch.listen({onSize:this});var a;this.getTabbox().inAccordionMold()&&(a=this.getLinkedTab())&&(a.$n()?!jq.isAncestor(this.$n(),a.$n())&&(a=this.$n("cave"))&&(a.style.display="none"):a.unbind().bind(b))},unbind_:function(){zWatch.unlisten({onSize:this});this._lastScrollTop=
null;this.$supers(zul.tab.Tabpanel,"unbind_",arguments)}});

zkreg('zul.tab.Tabpanel',true);
zk._m={};
zk._m['default']=tabpanel$mold$=function(b){var a=this.uuid;if(this.getTabbox().inAccordionMold()){var c=this.getLinkedTab();b.push('<div class="',this.getZclass(),'" id="',a,'">');c&&!c.$n()&&c.redraw(b);b.push('<div id="',a,'-cave"',this.domAttrs_({id:1,zclass:1}),">");for(a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div></div>")}else{b.push("<div ",this.domAttrs_(),">");for(a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div>")}};

;zkmld(zk._p.p.Tabpanel,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.tab',1);zk.load('zul.mesh',function(){if(zk._p=zkpi('zul.grid'))try{
zul.grid.Column=zk.$extends(zul.mesh.SortWidget,{getGrid:function(){return this.parent?this.parent.parent:null},$init:function(){this.$supers("$init",arguments);this.listen({onGroup:this},-1E3)},getMeshBody:function(){var a=this.getGrid();return a?a.rows:null},checkClientSort_:function(a){var c;return!(!(c=this.getMeshBody())||c.hasGroup())&&this.$supers("checkClientSort_",arguments)},group:function(a,c){var d,l=this.getSortDirection();if(a){if("ascending"==l)return!1}else if("descending"==l)return!1;
var m=a?this._sortAscending:this._sortDescending;if("fromServer"==m)return!1;if("none"==m)return c.stop(),!1;var n=this.getMeshWidget();if(!n||n.isModel()||!zk.feature.pe||!zk.isLoaded("zkex.grid"))return!1;var b=this.getMeshBody();if(!b)return!1;c.stop();c=b.desktop;var w=b.$n();try{b.unbind();if(b.hasGroup())for(var f=b.getGroups(),e=f.length;0<=--e;)b.removeChild(f[e]);f=[];for(var x=this.getChildIndex(),q=e=0,y=n.getBodyWidgetIterator(),r;r=y.next();q++){var h=0;for(d=r.firstChild;d;d=d.nextSibling,
h++)h==x&&(f[e++]={wgt:d,index:q})}var z="ascending"==l?-1:1,t=this.sorting,u="client(number)"==m;for(f.sort(function(a,b){var c=t(a.wgt,b.wgt,u)*z;0==c&&(c=a.index<b.index?-1:1);return c});b.firstChild;)b.removeChild(b.firstChild);var A=this.getChildIndex();e=0;for(h=f.length;e<h;e++){var k=f[e];if(!v||0!=t(v.wgt,k.wgt,u)){if((d=k.wgt.parent.getChildAt(A))&&d.$instanceof(zul.wgt.Label)){var g=new zkex.grid.Group;g.appendChild(new zul.wgt.Label({value:d.getValue()}))}else{var p=d.firstChild;p&&p.$instanceof(zul.wgt.Label)?
(g=new zkex.grid.Group,g.appendChild(new zul.wgt.Label({value:p.getValue()}))):(g=new zkex.grid.Group,g.appendChild(new zul.wgt.Label({value:msgzul.GRID_OTHER})))}b.appendChild(g)}b.appendChild(k.wgt.parent);var v=k}this._fixDirection(a)}finally{b.replaceHTML(w,c)}return!0},setLabel:function(a){this.$supers("setLabel",arguments);this.parent&&this.parent._syncColMenu()},setVisible:function(a){this.isVisible()!=a&&(this.$supers("setVisible",arguments),this.parent&&this.parent._syncColMenu())},onGroup:function(a){var c=
this.getSortDirection();"ascending"==c?this.group(!1,a):"descending"==c?this.group(!0,a):this.group(!0,a)||this.group(!1,a)},bind_:function(){this.$supers(zul.grid.Column,"bind_",arguments);var a=this.$n();this.domListen_(a,"onMouseOver").domListen_(a,"onMouseOut");(a=this.$n("btn"))&&this.domListen_(a,"onClick","_doMenuClick")},unbind_:function(){var a=this.$n();this.domUnlisten_(a,"onMouseOver").domUnlisten_(a,"onMouseOut");(a=this.$n("btn"))&&this.domUnlisten_(a,"onClick","_doMenuClick");this.$supers(zul.grid.Column,
"unbind_",arguments)},_doMouseOver:function(a){(this.isSortable_()||this.parent._menupopup&&"none"!=this.parent._menupopup)&&jq(this.$n()).addClass(this.$s("hover"))},_doMouseOut:function(a){if(this.isSortable_()||this.parent._menupopup&&"none"!=this.parent._menupopup)a=jq(this.$n()),a.hasClass(this.$s("visited"))||a.removeClass(this.$s("hover"))}});

zkreg('zul.grid.Column',true);
zk._m={};
zk._m['default']=column$mold$=zul.mesh.HeaderWidget.redraw;

;zkmld(zk._p.p.Column,zk._m);
zul.grid.Columns=zk.$extends(zul.mesh.ColumnMenuWidget,{getGrid:function(){return this.parent},rerender:function(){this.desktop&&(this.parent?this.parent.rerender():this.$supers("rerender",arguments));return this},getGroupPackage_:function(){return"zkex.grid"}});

zkreg('zul.grid.Columns');
zk._m={};
zk._m['default']=columns$mold$=zul.mesh.HeadWidget.redraw;

;zkmld(zk._p.p.Columns,zk._m);
(function(){function d(a){if(a.desktop){var b=a.$n("empty"),c=0;if(a.rows&&a.rows.nChildren)b.style.display="none";else{if(a.columns)for(var d=a.columns.firstChild;d;d=d.nextSibling)c++;b.colSpan=c||1;b.style.display="table-cell"}}a._shallFixEmpty=!1}var e=zul.grid.Grid=zk.$extends(zul.mesh.MeshWidget,{_scrollbar:null,$define:{emptyMessage:function(a){if(this.desktop){var b=jq(this.$n("empty-content")),c=this.$s("emptybody-content");a&&0!=a.trim().length?b.addClass(c):b.removeClass(c);b.html(a)}}},
getCell:function(a,b){var c;if(!(c=this.rows)||c.nChildren<=a)return null;a=c.getChildAt(a);return a.nChildren<=b?null:a.getChildAt(b)},getOddRowSclass:function(){return null==this._scOddRow?this.$s("odd"):this._scOddRow},setOddRowSclass:function(a){a||(a=null);this._scOddRow!=a&&(this._scOddRow=a,this.$n()&&this.rows&&this.rows.stripe());return this},rerender:function(){this.$supers(e,"rerender",arguments);this.rows&&this.rows._syncStripe();return this},insertBefore:function(a,b,c){if(this.$super("insertBefore",
a,b,!this.z_rod))return this._fixOnAdd(a,c,c),!0},appendChild:function(a,b){if(this.$super("appendChild",a,!this.z_rod))return this.insertingBefore_||this._fixOnAdd(a,b,b),!0},_fixOnAdd:function(a,b,c){a.$instanceof(zul.grid.Rows)?(this.rows=a,this._syncEmpty()):a.$instanceof(zul.grid.Columns)?(this.columns=a,this._syncEmpty()):a.$instanceof(zul.grid.Foot)?this.foot=a:a.$instanceof(zul.mesh.Paging)?this.paging=a:a.$instanceof(zul.mesh.Frozen)&&(this.frozen=a);b||this.rerender();c||this._syncSize()},
onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.rows){this.rows=null;var b=!0;this._syncEmpty()}else a==this.columns?(this.columns=null,this._syncEmpty()):a==this.foot?this.foot=null:a==this.paging?this.paging=null:a==this.frozen&&(this.frozen=null,this.destroyBar_());b||this.childReplacing_||this._syncSize()},redrawEmpty_:function(a){a.push('<tbody class="',this.$s("emptybody"),'"><tr><td id="',this.uuid,'-empty" style="display:none">','<div id="',this.uuid,'-empty-content"');
this._emptyMessage&&0!=this._emptyMessage.trim().length&&a.push('class="',this.$s("emptybody-content"),'"');a.push(">",this._emptyMessage,"</div></td></tr></tbody>")},bind_:function(a,b,c){this.$supers(e,"bind_",arguments);var f=this;c.push(function(){d(f)})},unbind_:function(){this.destroyBar_();this.$supers(e,"unbind_",arguments)},onSize:function(){this.$supers(e,"onSize",arguments);var a=this,b=this.desktop&&!this._nativebar;!this._scrollbar&&b&&(!zk.mobile||zk.mobile&&(this.getHeight()||this.getVflex()))&&
(this._scrollbar=zul.mesh.Scrollbar.init(this));setTimeout(function(){b&&a.refreshBar_()},200)},destroyBar_:function(){var a=this._scrollbar;a&&(a.destroy(),this._scrollbar=null)},onResponse:function(a,b){this.desktop&&this._shallFixEmpty&&d(this);this.$supers(e,"onResponse",arguments)},_syncEmpty:function(){this._shallFixEmpty=!0},onChildAdded_:function(a){this.$supers(e,"onChildAdded_",arguments);this.childReplacing_&&this._fixOnAdd(a,!0)},insertChildHTML_:function(a,b,c){if(a.$instanceof(zul.grid.Rows)){this.rows=
a;if(b=this.$n("rows")){jq(b).replaceWith(a.redrawHTML_());a.bind(c);this.ebodyrows=a.$n();return}if(b=this.$n("tpad")){jq(b).after(a.redrawHTML_());a.bind(c);this.ebodyrows=a.$n();return}if(this.ebodytbl){jq(this.ebodytbl).append(a.redrawHTML_());a.bind(c);this.ebodyrows=a.$n();return}}this.rerender()},getHeadWidgetClass:function(){return zul.grid.Columns},getBodyWidgetIterator:function(a){return new zul.grid.RowIter(this,a)},hasGroup:function(){return this.rows&&this.rows.hasGroup()},scrollToIndex:function(a,
b){this.$supers(e,"_scrollToIndex",arguments)},_getFirstItemIndex:function(){return this.rows.firstChild._index},_getLastItemIndex:function(){return this.rows.lastChild._index}})})();
zul.grid.RowIter=zk.$extends(zk.Object,{$init:function(d,e){this.grid=d;this.opts=e},_init:function(){if(!this._isInit){this._isInit=!0;var d=this.grid.rows?this.grid.rows.firstChild:null;if(this.opts&&this.opts.skipHidden)for(;d&&!d.isVisible();d=d.nextSibling);this.p=d}},hasNext:function(){this._init();return this.p},next:function(){this._init();var d=this.p,e=d?d.nextSibling:null;if(this.opts&&this.opts.skipHidden)for(;e&&!e.isVisible();e=e.nextSibling);d&&(this.p=e);return d}});

zkreg('zul.grid.Grid');
zk._m={};
zk._m['paging']=grid$mold$=function(a){var b=this.uuid,d=this.getInnerWidth(),g="100%"==d?' width="100%"':"";d="100%"!=d?"width:"+d:"";var c=this.inPagingMold();a.push("<div",this.domAttrs_(),">");if(c&&this.paging){var f=this.getPagingPosition();if("top"==f||"both"==f)a.push('<div id="',b,'-pgit" class="',this.$s("paging-top"),'">'),this.paging.redraw(a),a.push("</div>")}if(this.columns){a.push('<div id="',b,'-head" class="',this.$s("header"),'">','<table id="',b,'-headtbl"',g,' style="table-layout:fixed;',d,'">');
this.domFaker_(a,"-hdfaker");a.push('<tbody id="',b,'-headrows">');c=this.heads;for(var e=0,h=c.length;e<h;)c[e++].redraw(a);a.push('</tbody></table></div><div class="',this.$s("header-border"),'"></div>')}a.push('<div id="',b,'-body" class="',this.$s("body"));this._autopaging&&a.push(" ",this.$s("autopaging"));a.push('"');c=this.getHeight();e=zk.ios&&this._nativebar;(c||e)&&a.push(' style="',c?"height:"+c+";":"",e?"-webkit-overflow-scrolling:touch;":"",'"');a.push(">");this.rows&&this.domPad_&&!this.inPagingMold()&&
this.domPad_(a,"-tpad");a.push('<table id="',b,'-cave"',g,' style="table-layout:fixed;',d,'">');this.columns&&this.domFaker_(a,"-bdfaker");this.rows&&this.rows.redraw(a);this.redrawEmpty_(a);a.push("</table>");this.rows&&this.domPad_&&!this.inPagingMold()&&this.domPad_(a,"-bpad");a.push("</div>");this._nativebar&&this.frozen&&(a.push('<div id="',b,'-frozen" class="',this.$s("frozen"),'">'),this.frozen.redraw(a),a.push("</div>"));this.foot&&(a.push('<div id="',b,'-foot" class="',this.$s("footer"),
'">','<table id="',b,'-foottbl"',g,' style="table-layout:fixed;',d,'">'),this.columns&&this.domFaker_(a,"-ftfaker"),a.push('<tbody id="',b,'-footrows">'),this.foot.redraw(a),a.push("</tbody></table></div>"));if("bottom"==f||"both"==f)a.push('<div id="',b,'-pgib" class="',this.$s("paging-bottom"),'">'),this.paging.redraw(a),a.push("</div>");a.push("</div>")};

;zk._m['default']=[zk._p.p.Grid,'paging'];
zkmld(zk._p.p.Grid,zk._m);
(function(){var n=function(){var a=zk.feature.pe;return function(){return a&&zk.isLoaded("zkex.grid")}}();zul.grid.Row=zk.$extends(zul.Widget,{$define:{align:function(a){var b=this.$n();b&&(b.align=a)},nowrap:function(a){var b=this.$n();if(b&&(b=b.cells))for(var c=b.length;c--;)b[c].noWrap=a},valign:function(a){var b=this.$n();b&&(b.vAlign=a)}},getGrid:function(){return this.parent?this.parent.parent:null},setVisible:function(a){this.isVisible()!=a&&(this.$supers("setVisible",arguments),this.desktop&&
this.isStripeable_()&&this.parent._syncStripe())},getSpans:function(){return zUtl.intsToString(this._spans)},setSpans:function(a){this.getSpans()!=a&&(this._spans=zUtl.stringToInts(a,1),this.rerender())},_getIndex:function(){return this.parent?this.getChildIndex():-1},getGroup:function(){if(n()&&this.parent&&this.parent.hasGroup())for(var a=this;a;a=a.previousSibling)if(a.$instanceof(zkex.grid.Group))return a;return null},setStyle:function(a){this._style!=a&&(zk._rowTime||(zk._rowTime=jq.now()),this._style=
a,this.rerender())},rerender:function(){this.desktop&&(this.$supers("rerender",arguments),this.parent&&this.parent._syncStripe())},getSclass:function(){var a=this.$supers("getSclass",arguments);if(null!=a)return a;var b=this.getGrid();return b?b.getSclass():a},_getChdextr:function(a){return a.$n("chdextr")||a.$n()},scrollIntoView:function(){var a=this.getGrid()._scrollbar;a?(a.syncSize(),a.scrollToElement(this.$n())):this.$supers("scrollIntoView",arguments)},insertChildHTML_:function(a,b,c){var d=
this.encloseChildHTML_({child:a,index:a.getChildIndex(),zclass:this.getZclass()});b?jq(this._getChdextr(b)).before(d):jq(this).append(d);a.bind(c)},removeChildHTML_:function(a){this.$supers("removeChildHTML_",arguments);jq(a.uuid+"-chdextr",zk).remove()},encloseChildHTML_:function(a){var b=a.out||new zk.Buffer,c=a.child,d=c.$instanceof(zul.wgt.Cell);d?c._headerVisible=a.visible:b.push('<td id="',c.uuid,'-chdextr"',this._childAttrs(c,a.index,!a.visible),'><div id="',c.uuid,'-cell" class="',a.zclass,
'-content">');c.redraw(b);d||b.push("</div></td>");if(!a.out)return b.join("")},_childAttrs:function(a,b,c){var d=b,h=1;if(this._spans)for(var e=0,k=this._spans.length;e<k;++e){if(e==b){h=this._spans[e];break}d+=this._spans[e]-1}b=zul.mesh.MeshWidget.WIDTH0;if((e=this.getGrid())&&(k=e.columns)&&d<k.nChildren){var f=k.getChildAt(d);var g=c?"text-overflow: ellipsis;white-space: nowrap;":f.isVisible()||e._model&&!this._loaded?"":"width: "+b+";";var l=f.getHeight();var m=f.getAlign();f=f.getValign()}c=
this.domStyle_({visible:1,width:1,height:1});(d=zk.isLoaded("zkex.grid")&&a.$instanceof(zkex.grid.Detail))&&(b=a.getWidth())&&(c+="width:"+b+";");if(g||l||m||f)c+=g,l&&(c+="height:"+l+";"),m&&(c+="text-align:"+m+";"),f&&(c+="vertical-align:"+f+";");a=d?a.$s("outer"):this.$s("inner");g="";1!==h&&(g+=' colspan="'+h+'"');this._nowrap&&(g+=' nowrap="nowrap"');c&&(g+=' style="'+c+'"');return g+' class="'+a+'"'},isStripeable_:function(){return!0},domStyle_:function(a){if(n()&&(this.$instanceof(zkex.grid.Group)||
this.$instanceof(zkex.grid.Groupfoot))||a&&a.visible)return this.$supers("domStyle_",arguments);var b=this.$supers("domStyle_",arguments),c=this.getGroup();this._align&&(b+=" text-align:"+this._align+";");this._valign&&(b+=" vertical-align:"+this._valign+";");return c&&!c.isOpen()?b+"display:none;":b},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);a.$instanceof(zul.grid.Detail)&&(this.detail=a)},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);a==this.detail&&
(this.detail=null)},doFocus_:function(a){this.$supers("doFocus_",arguments);var b=this.getGrid(),c=b?b.frozen:null,d=b&&b.rows?b.rows.$n():null;if(c&&d){var h=jq(a.domTarget).parents("td");for(var e=0,k=h.length;e<k;e++)if(c=h[e],c.parentNode.parentNode==d){b._moveToHidingFocusCell(c.cellIndex);break}}},doMouseOver_:function(a){if(!this._musin){this._musin=!0;var b=this.$n();b&&zk.gecko&&this._draggable&&!jq.nodeName(a.domTarget,"input","textarea")&&jq(b).addClass("z-draggable-over");this.$supers("doMouseOver_",
arguments)}},doMouseOut_:function(a){var b=this.$n();this._musin&&jq.isAncestor(b,a.domEvent.relatedTarget||a.domEvent.toElement)?this.parent._musout=this:(this._musin=!1,b&&zk.gecko&&this._draggable&&!jq.nodeName(a.domTarget,"input","textarea")&&jq(b).removeClass("z-draggable-over"),this.$supers("doMouseOut_",arguments))},domClass_:function(){var a=this.$supers("domClass_",arguments),b=this.getGrid();return b&&jq(this.$n()).hasClass(b=b.getOddRowSclass())?a+" "+b:a},deferRedrawHTML_:function(a){a.push("<tr",
this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}})})();

zkreg('zul.grid.Row');
zk._m={};
zk._m['default']=row$mold$=function(d){d.push("<tr",this.domAttrs_(),">");var f=this.getZclass(),a=this.getGrid().getHeadWidget();if(a)var b=a.firstChild;a=0;for(var c=this.firstChild;c;c=c.nextSibling,a++){var e={child:c,index:a,zclass:f,out:d};b&&(e.visible=b.isVisible());this.encloseChildHTML_(e);b&&(b=b.nextSibling)}d.push("</tr>")};

;zkmld(zk._p.p.Row,zk._m);
(function(){function f(a){a=a.getGrid();var b;a&&a._nativebar&&(b=a.frozen)&&b._syncFrozen()}var g=function(){var a=zk.feature.pe;return function(){return a&&zk.isLoaded("zkex.grid")}}(),h=zul.grid.Rows=zk.$extends(zul.Widget,{_visibleItemCount:0,$init:function(){this.$supers("$init",arguments);this._groupsInfo=[]},$define:{visibleItemCount:null},getGrid:function(){return this.parent},getGroupCount:function(){return this._groupsInfo.length},getGroups:function(){return this._groupsInfo.$clone()},hasGroup:function(){return this._groupsInfo.length},
bind_:function(a,b,d){this.$supers(h,"bind_",arguments);var c=this.getGrid();c&&(c.ebodyrows=this.$n());zWatch.listen({onResponse:this});var e=this;d.push(function(){e.stripe();f(e)})},unbind_:function(){zWatch.unlisten({onResponse:this});this.$supers(h,"unbind_",arguments)},onResponse:function(){this.desktop&&this._shallStripe&&(this.stripe(),this.getGrid().onSize())},replaceChildHTML_:function(a,b,d,c,e){if(a._renderdefer){var f=this.getGrid().getOddRowSclass(),g=jq(b).hasClass(f);this.$supers("replaceChildHTML_",
arguments);g&&jq(a).addClass(f)}else this.$supers("replaceChildHTML_",arguments)},_syncStripe:function(){this._shallStripe=!0},stripe:function(){var a=this.getGrid().getOddRowSclass();if(a){var b=this.$n();if(b){for(var d=0,c=this.firstChild,e=!(this._offset&1);c;c=c.nextSibling,++d)if(c.isVisible()&&c.isStripeable_()){for(;b.rows[d]&&b.rows[d].id!=c.uuid;++d);jq(b.rows[d])[e?"removeClass":"addClass"](a);c.fire("onStripe");e=!e}this._shallStripe=!1}}},onChildAdded_:function(a){this.$supers("onChildAdded_",
arguments);g()&&a.$instanceof(zkex.grid.Group)&&this._groupsInfo.push(a);var b;if(b=this.getGrid())b.fixForRowAdd_&&b.fixForRowAdd_(),b._syncEmpty();this._syncStripe();this.desktop&&f(this)},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);g()&&a.$instanceof(zkex.grid.Group)&&this._groupsInfo.$remove(a);this.childReplacing_||this._syncStripe();var b=this.getGrid();b&&b._syncEmpty()},deferRedrawHTML_:function(a){a.push("<tbody",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tbody>')}})})();

zkreg('zul.grid.Rows');
zk._m={};
zk._m['default']=rows$mold$=function(b){b.push("<tbody",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</tbody>")};

;zkmld(zk._p.p.Rows,zk._m);
zul.grid.Foot=zk.$extends(zul.Widget,{getGrid:function(){return this.parent},setVflex:function(a){this.$super(zul.grid.Foot,"setVflex",!1)},setHflex:function(a){this.$super(zul.grid.Foot,"setHflex",!1)},deferRedrawHTML_:function(a){a.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}});

zkreg('zul.grid.Foot');
zk._m={};
zk._m['default']=foot$mold$=function(a){a.push("<tr",this.domAttrs_(),">");for(var b=this.firstChild;b;b=b.nextSibling)b.redraw(a);this.getGrid()._nativebar&&a.push('<td class="',this.$s("bar"),'" />');a.push("</tr>")};

;zkmld(zk._p.p.Foot,zk._m);
zul.grid.Footer=zk.$extends(zul.mesh.FooterWidget,{getGrid:function(){return this.getMeshWidget()},getColumn:function(){return this.getHeaderWidget()}});

zkreg('zul.grid.Footer',true);
zk._m={};
zk._m['default']=footer$mold$=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass(),'-content">',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div></td>")};

;zkmld(zk._p.p.Footer,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.grid',1);(function(){if(zk._p=zkpi('zhtml'))try{
zhtml.Widget=zk.$extends(zk.Widget,{rawId:!0,className:"zhtml.Widget",widgetName:"zhtml",setDynamicProperty:function(a){var b=this.$n();if(b){var c=a[0];a=a[1];switch(c){case "checked":b.checked=this._defChecked=null!=a;break;case "value":b.value=this._defValue=a;break;case "style":zk(b).clearStyles().jq.css(jq.parseStyle(a));break;case "class":b.className=a;break;case "disabled":case "readOnly":b[c]="true"==a;break;default:b[c]=a}}},doClick_:function(a){var b=this.$n();b&&("INPUT"!=b.tagName?this.$supers("doClick_",
arguments):b.disabled||("checkbox"!=b.type&&"radio"!=b.type||this._doCheck(),this.fireX(a)))},_doCheck:function(){var a=this.$n();a&&(a=a.checked,a!=this._defChecked&&(this._defChecked=a,this.fire("onCheck",a)))},redraw:zk.Native.$redraw});

zkreg('zhtml.Widget');
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=c.length,g=a.length;b=Math.max(0,Math.min(b|0,c.length));for(var f=0;f<g&&b<e;)if(c[b++]!=a[f++])return!1;return f>=g}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===b&&(b=c.length);b=Math.max(0,Math.min(b|0,c.length));for(var e=a.length;0<e&&0<b;)if(c[--b]!=a[--e])return!1;return 0>=e}},"es6","es3");
zhtml.Text=zk.$extends(zhtml.Widget,{_value:"",_encode:!0,$define:{encode:_zkf=function(){var a=this.$n();if(a){var c=this._value;a.innerHTML=this._encode?zUtl.encodeXML(c):c}},value:_zkf},_checkContentRequired:function(a){return!a||!(a=a.trim())||a.startsWith("\x3c!--")&&a.endsWith("--\x3e")?!1:!0},redraw:function(a){var c=this.domAttrs_({id:1,zclass:1}),b=this._value,d=c||this.idRequired&&this._checkContentRequired(b);d&&a.push("<span",' id="',this.uuid,'"',c,">");a.push(this._encode?zUtl.encodeXML(b):
b);d&&a.push("</span>")}});

zkreg('zhtml.Text');
zhtml.Content=zk.$extends(zhtml.Widget,{$define:{content:function(){this.rerender()}},redraw:function(b){var a=this.prolog;a&&b.push(a);b.push((this._content||"").replace(/<\/(?=script>)/ig,"<\\/"));(a=this.epilog)&&b.push(a)}});

zkreg('zhtml.Content');
(function(){zhtml.Input=zk.$extends(zhtml.Widget,{_doChange:function(a){if(a=this.$n())a=a.value,a!=this._defValue&&(this._defValue=a,this.fire("onChange",this._onChangeData(a),null))},_onChangeData:function(a,b){return{value:a,start:zk(this.$n()).getSelectionRange()[0],marshal:this._onChangeMarshal}},_onChangeMarshal:function(){return[this.value,!1,this.start]},bind_:function(){this.$supers(zhtml.Input,"bind_",arguments);var a;this.isListen("onChange",{any:!0})&&(a=this.$n())&&(this._defValue=a.value,
this.domListen_(a,"onChange"));this.isListen("onCheck",{any:!0})&&(a=this.$n())&&(this._defChecked=a.checked,this.domListen_(a,"onCheck"))},unbind_:function(){void 0!==this._defValue&&this.domUnlisten_(this.$n(),"onChange");this.$supers(zhtml.Input,"unbind_",arguments)}})})();

zkreg('zhtml.Input');

}finally{zk.setLoaded(zk._p.n);}})();zk.load('zk.fmt,zul.inp',function(){if(zk._p=zkpi('zul.db'))try{
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(d,f,n){if(null==d)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(f instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return d+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,f,n){d!=Array.prototype&&d!=Object.prototype&&(d[f]=n.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,f,n,q){if(f){n=$jscomp.global;d=d.split(".");for(q=0;q<d.length-1;q++){var a=d[q];a in n||(n[a]={});n=n[a]}d=d[d.length-1];q=n[d];f=f(q);f!=q&&null!=f&&$jscomp.defineProperty(n,d,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("String.prototype.startsWith",function(d){return d?d:function(f,d){var q=$jscomp.checkStringArgs(this,f,"startsWith");f+="";var a=q.length,g=f.length;d=Math.max(0,Math.min(d|0,q.length));for(var k=0;k<g&&d<a;)if(q[d++]!=f[k++])return!1;return k>=g}},"es6","es3");
(function(){function d(a,g,k,e){2>e&&(e=2);return a&&a.length>e?(g[k]=a.substring(e),a.substring(0,e)):a}function f(a,g){a=""+a;for(g-=a.length;0<=--g;)a="0"+a;return a}function n(a,g){return Math.round((Dates.newInstance([a.getFullYear(),a.getMonth(),a.getDate()],a.getTimeZone())-g)/864E5)}var q=zk.$extends(zk.Object,{$init:function(a,g,k,e,d,f,h,c){this.$supers("$init",arguments);this._date=1<arguments.length?Dates.newInstance([a,g,k,e,d,f,h],c):a},setOffset:function(a){this._offset=a},setFullYear:function(a){this._date.setFullYear(a)},
getFullYear:function(){return this._date.getFullYear()+(this._offset||0)},getDate:function(){return this._date.getDate()},setDate:function(a){this._date.setDate(a)},getDay:function(){return this._date.getDay()},setDay:function(a){this._date.setDay(a)},getMonth:function(){return this._date.getMonth()},setMonth:function(a){this._date.setMonth(a)},getHours:function(){return this._date.getHours()},setHours:function(a){this._date.setHours(a)},getSeconds:function(){return this._date.getSeconds()},setSeconds:function(a){this._date.setSeconds(a)},
getMilliseconds:function(){return this._date.getMilliseconds()},setMilliseconds:function(a){this._date.setMilliseconds(a)},getTimezoneOffset:function(){return this._date.getTimezoneOffset()},getRealDate:function(){return this._date},getTimeZone:function(){return this._date.getTimeZone()}});zk.fmt.Date={parseDate:function(a,g,k,e,f,n){g||(g="yyyy/MM/dd");e=e||zUtl.today(g,n);f=f||{DOW_1ST:zk.DOW_1ST,MINDAYS:zk.MINDAYS,ERA:zk.ERA,YDELTA:zk.YDELTA,SDOW:zk.SDOW,S2DOW:zk.S2DOW,FDOW:zk.FDOW,SMON:zk.SMON,
S2MON:zk.S2MON,FMON:zk.FMON,APM:zk.APM};var h=e.getFullYear(),c=e.getMonth(),D=e.getDate(),z=e.getHours(),E=e.getMinutes(),F=e.getSeconds(),I=e.getMilliseconds(),t=-1<g.indexOf("a")&&(-1<g.indexOf("h")||-1<g.indexOf("K"));a:{var v=a;var l=g;-1<l.indexOf("'")&&(l=l.replace(/'/g,""));var A=[],K=l.indexOf("MMM"),x=l.indexOf("E"),G=l.length,u=[],p=l.indexOf("a"),b=v.replace(/[^.]/g,"").length;var m=l.replace(/[^.]/g,"").length;for(var w=0,B=0,H=v.length;B<H;w++,B++){var C=v.charAt(B),L=G>w?l.charAt(w):
"";if(C.match(/\d/))u.push(C);else if(0<=K&&K<=w||0<=x&&x<=w||-1<p&&p<=w)C.match(/\w/)?u.push(C):128>C.charCodeAt(0)&&(46!=C.charCodeAt(0)||b==m||46==L.charCodeAt(0))?u.length&&(A.push(u.join("")),u=[]):u.push(C);else if(u.length){if(v.charAt(B-1).match(/\d/))for(;L==l.charAt(w-1)&&L;)L=l.charAt(++w);A.push(u.join(""));u=[]}else if(C.match(/\w/)){l=void 0;break a}}u.length&&A.push(u.join(""));l=A}A=/.*\D.*/;K=!A.test(a);if(l&&l.length){G=b=x=0;for(u=g.length;b<u;++b)if(m=g.charAt(b),"a"<=m&&"z">=
m||"A"<=m&&"Z">=m){p=1;for(v=b;++v<u&&g.charAt(v)==m;++p);var r;if(v<u){var y=g.charAt(v);y="y"==y||"M"==y||"d"==y||"E"==y}b=K?l[0].substring(b-G,v-G):l[x++];switch(m){case "y":if(k&&b&&b.length<p)return;y&&(3>=p&&(p=2),b&&b.length>p&&(l[--x]=b.substring(p),b=b.substring(0,p)));if(k&&b&&A.test(b))return;isNaN(r=parseInt(b,10))||(h=Math.min(r,2E5),100>h&&(h+=29<h?1900:2E3));break;case "M":m=b?b.toLowerCase():"";w=!isNaN(b);if(!m)break;if(!w&&b){if(3==p)B=f.SMON;else if(4==p)B=f.FMON;else break;w=B.length;
for(var M;0<=--w;)if(H=B[w].toLowerCase(),k&&m==H||!k&&m.startsWith(H)){c=H.length;b&&b.length>c&&(l[--x]=b.substring(c));c=w;M=!0;break}if(M)break}if(3==p&&b){y&&(b=d(b,l,--x,b.length));if(isNaN(r=parseInt(b,10)))return;c=r-1}else if(2>=p){y&&b&&2<b.length&&(l[--x]=b.substring(2),b=b.substring(0,2));if(isNaN(r=parseInt(b,10)))return;c=r-1}else for(c=0;;++c){if(12==c)return;if(3==p){if(f.SMON[c]==b)break}else if(b&&f.FMON[c].startsWith(b))break}if(11<c)return;break;case "E":y&&d(b,l,--x,p);break;
case "d":if(k&&b&&b.length<p)return;y&&(b=d(b,l,--x,p));if(k&&b&&A.test(b))return;if(!isNaN(r=parseInt(b,10))){D=r;var N=!0;if(0>D||31<D)return}break;case "H":case "h":case "K":case "k":if(k&&b&&b.length<p)return;if(t?"H"==m||"k"==m:"h"==m||"K"==m)break;y&&(b=d(b,l,--x,p));if(k&&b&&A.test(b))return;isNaN(r=parseInt(b,10))||(z="h"==m&&12==r||"k"==m&&24==r?0:"K"==m?r%12:r);break;case "m":case "s":case "S":if(k&&b&&b.length<p)return;y&&(b=d(b,l,--x,p));if(k&&b&&A.test(b))return;isNaN(r=parseInt(b,10))||
("m"==m?E=r:"s"==m?F=r:I=r);break;case "a":if(t){if(!b)return;var O=b.toUpperCase().startsWith(f.APM[0].toUpperCase())}}b=v-1}else G++;t&&!1===O&&(z+=12);1==c&&29==D&&f.YDELTA?(t=new q(h-f.YDELTA,c,D,z,E,F,I,n),t.setOffset(f.YDELTA)):t=Dates.newInstance([h,c,D,z,E,F,I],n);N||t.getMonth()==c||(t=Dates.newInstance([h,c+1,0,z,E,F,I],n));if(k){if(t.getFullYear()!=h||t.getMonth()!=c||t.getDate()!=D||t.getHours()!=z||t.getMinutes()!=E||t.getSeconds()!=F)return;a=a.trim();for(b=0;b<l.length;b++)a=a.replace(l[b],
"");for(v=a.length;v--;)if(m=a.charAt(v),("9"<m||"0">m)&&0>g.indexOf(m))return}return+t==+e?e:t}},formatDate:function(a,g,k){g||(g="yyyy/MM/dd");k=k||{DOW_1ST:zk.DOW_1ST,MINDAYS:zk.MINDAYS,ERA:zk.ERA,YDELTA:zk.YDELTA,SDOW:zk.SDOW,S2DOW:zk.S2DOW,FDOW:zk.FDOW,SMON:zk.SMON,S2MON:zk.S2MON,FMON:zk.FMON,APM:zk.APM};for(var e="",d=0,q=g.length;d<q;++d){var h=g.charAt(d);if("a"<=h&&"z">=h||"A"<=h&&"Z">=h){for(var c=1;++d<q;++c)if(g.charAt(d)!=h){"r"==g.charAt(d)&&d++;break}switch(h){case "y":e=3>=c?e+f(a.getFullYear()%
100,2):e+f(a.getFullYear(),c);break;case "M":e=2>=c?e+f(a.getMonth()+1,c):3==c?e+k.SMON[a.getMonth()]:e+k.FMON[a.getMonth()];break;case "d":e+=f(a.getDate(),c);break;case "E":e=3>=c?e+k.SDOW[(a.getDay()-k.DOW_1ST+7)%7]:e+k.FDOW[(a.getDay()-k.DOW_1ST+7)%7];break;case "D":c=a;h=Dates.newInstance([c.getFullYear(),0,1],c.getTimeZone());c=f(1+n(c,h));e+=c;break;case "w":e+=zUtl.getWeekOfYear(a.getFullYear(),a.getMonth(),a.getDate(),k.DOW_1ST,k.MINDAYS);break;case "W":c=a;var J=k.DOW_1ST;h=Dates.newInstance([c.getFullYear(),
c.getMonth(),1],c.getTimeZone());var z=h.getDay();J=(J>z?z+7:z)-J;c=f(1+Math.floor((n(c,h)+J)/7));e+=c;break;case "G":e+=k.ERA;break;case "F":c=a;h=Dates.newInstance([c.getFullYear(),c.getMonth(),1],c.getTimeZone());c=f(1+Math.floor(n(c,h)/7));e+=c;break;case "H":2>=c&&(e+=f(a.getHours(),c));break;case "k":h=a.getHours();0==h&&(h="24");2>=c&&(e+=f(h,c));break;case "K":2>=c&&(e+=f(a.getHours()%12,c));break;case "h":h=a.getHours();h%=12;0==h&&(h="12");2>=c&&(e+=f(h,c));break;case "m":2>=c&&(e+=f(a.getMinutes(),
c));break;case "s":2>=c&&(e+=f(a.getSeconds(),c));break;case "S":3>=c&&(e+=f(a.getMilliseconds(),c));break;case "Z":e+=-(a.getTimezoneOffset()/60);break;case "z":e+=-(a.getTimezoneOffset()/60);break;case "a":e+=k.APM[11<a.getHours()?1:0];break;case "u":e+="uur";break;default:e+="1"}--d}else"'"!=h&&(e+=h)}return e}};zk.fmt.Calendar=zk.$extends(zk.Object,{_offset:zk.YDELTA,$init:function(a,g){this._date=a;g&&(this._offset=g.YDELTA)},getTime:function(){return this._date},setTime:function(a){this._date=
a},setYearOffset:function(a){this._offset=a},getYearOffset:function(){return this._offset},formatDate:function(a,g,d){d&&(this._offset=d.YDELTA);if(this._offset)if(1==a.getMonth()&&29==a.getDate()){var e=new q(a);e.setOffset(this._offset)}else e=Dates.newInstance(a),e.setFullYear(e.getFullYear()+this._offset);return zk.fmt.Date.formatDate(e||a,g,d)},toUTCDate:function(){if(q.isInstance(this._date))return this._date.getRealDate();var a;(a=this._date)&&this._offset&&(a=Dates.newInstance(a)).setFullYear(a.getFullYear()-
this._offset);return a},parseDate:function(a,g,d,e,f,n){a=zk.fmt.Date.parseDate(a,g,d,e,f,n);f&&(this._offset=f.YDELTA);if(this._offset&&g){if(q.isInstance(a))return a.getRealDate();f=0;for(d=g.length;d--;)"y"==g.charAt(d)&&f++;3<f?a.setFullYear(a.getFullYear()-this._offset):f&&(g=a.getFullYear(),2E3>g?a.setFullYear(g+(100*Math.ceil(this._offset/100)-this._offset)):a.setFullYear(g-this._offset%100))}return a},getYear:function(){return q.isInstance(this._date)?this._date.getFullYear():this._date.getFullYear()+
this._offset},escapeDSTConflict:function(a,d){if(a)return d=Dates.newInstance(a.getTime()+36E5,d),d.getHours()!=(a.getHours()+1)%24?d:a}})})();

(function(){var p={},n=zul.db.Timebox=zk.$extends(zul.inp.FormatWidget,{_buttonVisible:!0,_format:"HH:mm",_timezoneAbbr:"",_timezone:"",$init:function(){this.$supers("$init",arguments);this.$class._updFormat(this,this._format)},$define:{timezoneAbbr:function(a){this.$class._updFormat(this,this._format)},timezone:function(a){this._value&&this._value.tz(a)},buttonVisible:function(a){zul.inp.RoundUtl.buttonVisible(this,a)},unformater:function(a){eval("Timebox._unformater = "+a)},localizedSymbols:[function(a){return a?
(p[a[0]]||(p[a[0]]=a[1]),p[a[0]]):a}]},inRoundedMold:function(){return!0},setFormat:function(a){a=a?a.replace(/\'/g,""):a;this.$class._updFormat(this,a);this.$supers("setFormat",arguments)},setValue:function(a,b){var d=this.getTimezone();d&&a&&a.tz(d);b&&null===a&&(this._changed=!1);this.$supers("setValue",arguments)},coerceToString_:function(a){if(!this._changed&&!a&&arguments.length)return"";for(var b="",d,e,c,f=0,g=this._fmthdler,h=g.length;f<h;f++)d=g[f],e=d.format(a),b+=e,d.type&&!1!==(c=d.isSingleLength())&&
(c+=e.length-1)&&d._doShift(this,c);return b},coerceFromString_:function(a){var b=n._unformater,d=this.getTimezone();if(b&&jq.isFunction(b)&&(b=b(a)))return this._shortcut=a,b;if(!a)return null;d=this._value?Dates.newInstance(this._value.getTime(),d):zUtl.today(this._format,d);b=[];var e=0;d.setSeconds(0);d.setMilliseconds(0);for(var c=0,f=this._fmthdler,g=f.length;c<g;c++)if(3==f[c].type){var h=!0;var k=f[c].unformat(d,a);f[c].getText(a).trim().length||e++}else f[c].type&&(b.push(f[c]),f[c].getText(a).trim().length||
e++);if(b.length==(h?--e:e))this._changed=!1;else{c=0;for(g=b.length;c<g;c++)h||6!=b[c].type&&7!=b[c].type||(k=!0),d=b[c].unformat(d,a,k);return d}},onSize:function(){var a=this.getInputNode();a&&this._value&&!a.value&&(a.value=this.coerceToString_(this._value));zul.inp.RoundUtl.onSize(this,this.$n("btn"))},onHide:zul.inp.Textbox.onHide,validate:zul.inp.Intbox.validate,doClick_:function(a){a.domTarget==this.getInputNode()&&this._doCheckPos();this.$supers("doClick_",arguments)},doKeyPress_:function(a){zk.opera&&
9!=a.keyCode?a.stop():this.$supers("doKeyPress_",arguments)},doKeyDown_:function(a){var b=this.getInputNode();if(!b.disabled&&!b.readOnly){if(!n._unformater){var d=a.keyCode;switch(d){case 48:case 96:case 49:case 97:case 50:case 98:case 51:case 99:case 52:case 100:case 53:case 101:case 54:case 102:case 55:case 103:case 56:case 104:case 57:case 105:this._doType(d-(96<=d?96:48));a.stop();return;case 35:this.lastPos=b.value.length;return;case 36:this.lastPos=0;return;case 37:0<this.lastPos&&this.lastPos--;
return;case 39:this.lastPos<b.value.length&&this.lastPos++;return;case 38:this._doUp();a.stop();return;case 40:this._doDown();a.stop();return;case 46:this._doDel();a.stop();return;case 8:this._doBack();a.stop();return;case 9:break;case 13:case 27:break;case 86:if(a.ctrlKey){var e=this,c=b.value;setTimeout(function(){var a=e.getInputNode();a&&c!=a.value&&(e._changed=!0)},0);break}default:112<=d&&123>=d||a.ctrlKey||a.altKey||a.stop()}}this.$supers("doKeyDown_",arguments)}},_ondropbtnup:function(a){this.domUnlisten_(document.body,
"onZMouseup","_ondropbtnup");this._stopAutoIncProc();this._currentbtn=null},_btnDown:function(a){if(this._buttonVisible&&!this._disabled){this._lastPos=this._getPos();var b=this.$n("btn"),d=this.getInputNode();zk.dragging||(this._currentbtn&&this._ondropbtnup(a),this.domListen_(document.body,"onZMouseup","_ondropbtnup"),this._currentbtn=b);d.value&&n._unformater&&(d.value=this.coerceToString_(this.coerceFromString_(d.value)));d.value||(d.value=this.coerceToString_());var e=zk(b).revisedOffset();b=
a.pageY-e[1]<b.offsetHeight/2;zk.webkit&&zk(d).focus();e=this._getPos();this._lastPos!=e&&zk(d).setSelectionRange(this._lastPos);b?(this._doUp(),this._startAutoIncProc(!0)):(this._doDown(),this._startAutoIncProc(!1));this._changed=!0;delete this._shortcut;var c=zk(d).getSelectionRange();if(zk.ie8_){var f=this;setTimeout(function(){if(zk.currentFocus==f&&f.desktop){var a=zk(d).getSelectionRange();c&&a&&c[0]!=c[1]&&(c[0]!=a[0]||c[1]!=a[1])&&zk(d).setSelectionRange(c[0],c[1])}},150)}zk.Widget.mimicMouseDown_(this);
zk(d).focus();a.stop()}},_btnUp:function(a){!this._buttonVisible||this._disabled||zk.dragging||(zk.opera&&zk(inp).focus(),this._onChanging(),this._stopAutoIncProc(),(11>zk.ie||zk.webkit)&&this._lastPos&&zk(this.getInputNode()).setSelectionRange(this._lastPos,this._lastPos))},_getPos:function(){return zk(this.getInputNode()).getSelectionRange()[0]},_doCheckPos:function(){this.lastPos=this._getPos()},_doUp:function(){this._changed=!0;this.getTimeHandler().increase(this,1);this._onChanging()},_doDown:function(){this._changed=
!0;this.getTimeHandler().increase(this,-1);this._onChanging()},_doBack:function(){this._changed=!0;this.getTimeHandler().deleteTime(this,!0)},_doDel:function(){this._changed=!0;this.getTimeHandler().deleteTime(this,!1)},_doType:function(a){this._changed=!0;this.getTimeHandler().addTime(this,a)},getTimeHandler:function(){var a=zk(this.getInputNode()).getSelectionRange(),b=a[0];a=a[1];for(var d,e=0,c=this._fmthdler,f=c.length;e<f;e++)if(c[e].type&&c[e].index[0]<=b&&(d=c[e],c[e].index[1]+1>=a))return c[e];
return d||this._fmthdler[0]},getNextTimeHandler:function(a){var b=this._fmthdler;a=b.$indexOf(a);for(var d;(d=b[++a])&&(!d.type||3==d.type););return d},_startAutoIncProc:function(a){this.timerId&&clearInterval(this.timerId);var b=this,d=a?"_doUp":"_doDown";this.timerId=setInterval(function(){(11>zk.ie||zk.webkit)&&b._lastPos&&zk(b.getInputNode()).setSelectionRange(b._lastPos,b._lastPos);b[d]()},300)},_stopAutoIncProc:function(){this.timerId&&clearTimeout(this.timerId);this.currentStep=this.defaultStep;
this.timerId=null},doFocus_:function(a){this.$supers("doFocus_",arguments);this.$n();var b=this.getInputNode(),d=zk(b).getSelectionRange();b.value||(b.value=n._unformater?"":this.coerceToString_());this._doCheckPos();d[0]!==d[1]&&(zk(b).setSelectionRange(d[0],d[1]),this.lastPos=d[1]);zul.inp.RoundUtl.doFocus_(this)},doBlur_:function(a){this._value||this._changed||n._unformater||(this.getInputNode().value=this._defRawVal="");this.$supers("doBlur_",arguments);zul.inp.RoundUtl.doBlur_(this)},afterKeyDown_:function(a,
b){!b&&this._inplace&&jq(this.$n()).toggleClass(this.getInplaceCSS(),13==a.keyCode?null:!1);return this.$supers("afterKeyDown_",arguments)},bind_:function(){this.$supers(zul.db.Timebox,"bind_",arguments);var a;(a=this.$n("btn"))&&this.domListen_(a,"onZMouseDown","_btnDown").domListen_(a,"onZMouseUp","_btnUp");zWatch.listen({onSize:this})},unbind_:function(){this.timerId&&(clearTimeout(this.timerId),this.timerId=null);zWatch.unlisten({onSize:this});var a=this.$n("btn");a&&this.domUnlisten_(a,"onZMouseDown",
"_btnDown").domUnlisten_(a,"onZMouseUp","_btnUp");this._changed=!1;this.$supers(zul.db.Timebox,"unbind_",arguments)},getBtnUpIconClass_:function(){return"z-icon-angle-up"},getBtnDownIconClass_:function(){return"z-icon-angle-down"}},{_updFormat:function(a,b){for(var d=[],e=a._localizedSymbols?a._localizedSymbols.APM:zk.APM,c=0,f=b.length;c<f;c++){var g=b.charAt(c);switch(g){case "a":d.push(new zul.inp.AMPMHandler([c,c+e[0].length-1],3,a));break;case "K":var h=c,k="K"==b.charAt(c+1)?++c:c;d.push(new zul.inp.HourHandler2([h,
k],7));break;case "h":h=c;k="h"==b.charAt(c+1)?++c:c;d.push(new zul.inp.HourHandler([h,k],6));break;case "H":h=c;k="H"==b.charAt(c+1)?++c:c;d.push(new zul.inp.HourInDayHandler([h,k],4));break;case "k":h=c;k="k"==b.charAt(c+1)?++c:c;d.push(new zul.inp.HourInDayHandler2([h,k],5));break;case "m":h=c;k="m"==b.charAt(c+1)?++c:c;d.push(new zul.inp.MinuteHandler([h,k],1));break;case "s":h=c;k="s"==b.charAt(c+1)?++c:c;d.push(new zul.inp.SecondHandler([h,k],2));break;case "z":d.push({index:[c,c],format:function(a){return function(){return a}}(a._timezoneAbbr)});
break;default:var l="";for(k=h=c;(l+=g)&&++k<f;)if(g=b.charAt(k),-1!="ahKHksmz".indexOf(g)){k--;break}d.push({index:[h,k],format:function(a){return function(){return a}}(l)});c=k}}c=0;for(f=d.length;c<f;c++)if(3==d[c].type){var m=d[c].index[1]-d[c].index[0];if(!m)break}else m&&(d[c].index[0]+=m,d[c].index[1]+=m);a._fmthdler=d}});zul.inp.TimeHandler=zk.$extends(zk.Object,{maxsize:59,minsize:0,digits:2,$init:function(a,b,d){this.index=a;this.type=b;a[0]==a[1]&&(this.digits=1);this.wgt=d},format:function(a){return"00"},
unformat:function(a,b){return a},increase:function(a,b){var d=a.getInputNode(),e=this.index[0],c=this.index[1]+1,f=d.value,g=this.getText(f),h=!1!==this.isSingleLength();g=zk.parseInt(h?g:g.replace(/ /g,"0"))+b;var k=this.maxsize+1;if(g<this.minsize){g=this.maxsize;var l=1}else g>=k?(g=this.minsize,l=-1):h&&(l=0<b?10==g?1:0:9==g?-1:0);10>g&&!h&&(g="0"+g);d.value=f.substring(0,e)+g+f.substring(c);h&&l&&(this._doShift(a,l),c+=l);zk(d).setSelectionRange(e,c)},deleteTime:function(a,b){var d=a.getInputNode(),
e=zk(d).getSelectionRange(),c=e[0],f=d.value,g=this.$class._getMaxLen(a);f.length>g&&(f=d.value=f.substr(0,g),e=[Math.min(e[0],g),Math.min(e[1],g)],c=e[0]);if(c!=e[1])d.value=f.substring(0,c)+this.$class._cleanSelectionText(a,this)+f.substring(e[1]);else{var h=a._fmthdler,k=h.$indexOf(this);e=b?-1:1;var l=b?0:1;g=b?1:0;if(c==this.index[l]+l){if(h=h[k+2*e])c=h.index[g]+g+e}else c+=e,h=this;if(h){var m=h.isSingleLength();d.value=f.substring(0,(g+=c)-1)+(m?"":" ")+f.substring(g);m&&h._doShift(a,m)}m&&
!b&&c--}zk(d).setSelectionRange(c,c)},_addNextTime:function(a,b){var d=a.getInputNode(),e;if(e=a.getNextTimeHandler(this)){var c=e.index[0];zk(d).setSelectionRange(c,Math.max(c,zk(d).getSelectionRange()[1]));e.addTime(a,b)}},addTime:function(a,b){var d=a.getInputNode(),e=zk(d).getSelectionRange(),c=d.value,f=e[0],g=this.$class._getMaxLen(a),h=this.isSingleLength();c.length>g&&(c=d.value=c.substr(0,g),e=[Math.min(e[0],g),Math.min(e[1],g)],f=e[0]);if(f!=g){if(f==this.index[0]){var k=this.getText(c).substring(0===
h?0:2).trim();k.length||(k="0");zk.parseInt(b+k)>this.maxsize&&(0!==h&&(c=d.value=c.substring(0,f)+(h?"0":"00")+c.substring(f+2),h||f++,zk(d).setSelectionRange(f,Math.max(e[1],f)),e=zk(d).getSelectionRange()),h&&this._doShift(a,h))}else if(f==this.index[1]+1){if(!1!==h&&(k=this.getText(c),(k=zk.parseInt(k+b))<=this.maxsize))if(k&&10>k)f--;else if(k||h)c=d.value=c.substring(0,f+h)+(h?"":"0")+c.substring(f),k?this._doShift(a,1):(zk(d).setSelectionRange(f,Math.max(e[1],f)),h&&this._doShift(a,h));if(!k||
k>this.maxsize){this._addNextTime(a,b);return}}if(f!=e[1]){k=this.$class._cleanSelectionText(a,this);var l;!1!==h&&(l=f-this.index[1])&&this._doShift(a,l);d.value=c.substring(0,f++)+b+k.substring(l?0:1)+c.substring(e[1])}else d.value=c.substring(0,f)+b+c.substring(++f);a.lastPos=f;zk(d).setSelectionRange(f,f)}},getText:function(a){return a.substring(this.index[0],this.index[1]+1)},_doShift:function(a,b){a=a._fmthdler;var d=a.$indexOf(this),e;for(this.index[1]+=b;e=a[++d];)e.index[0]+=b,e.index[1]+=
b},isSingleLength:function(){return 1==this.digits&&this.index[0]-this.index[1]}},{_getMaxLen:function(a){for(var b=a.getInputNode().value,d=0,e,c=0,f=a._fmthdler,g=f.length;c<g;c++)a=f[c],d=c==g-1?d+a.format().length:d+(a.type?a.getText(b):a.format()).length,a.type&&(e=a);return 1==e.digits?++d:d},_cleanSelectionText:function(a,b){var d=a.getInputNode(),e=zk(d).getSelectionRange();d=e[0];e=e[1];var c=a._fmthdler,f=c.$indexOf(b),g="",h=!0,k;do{var l=b.index[0];var m=b.index[1]+1;b.type&&(k=b.isSingleLength())&&
(b._doShift(a,k),e--);if(m>=e&&b.type){for(l=e-l;0<l--;)g+=" ";break}if(b.type){var n=h?d:l;h=!1}else{for(l-=n;0<l--;)g+=" ";g+=b.format()}}while(b=c[++f]);return g}});zul.inp.HourInDayHandler=zk.$extends(zul.inp.TimeHandler,{maxsize:23,minsize:0,format:function(a){var b=1==this.digits;return a?(a=a.getHours(),!b&&10>a&&(a="0"+a),a.toString()):b?"0":"00"},unformat:function(a,b){a.setHours(zk.parseInt(this.getText(b)));return a}});zul.inp.HourInDayHandler2=zk.$extends(zul.inp.TimeHandler,{maxsize:24,
minsize:1,format:function(a){return a?(a=a.getHours(),0==a?a="24":2==this.digits&&10>a&&(a="0"+a),a.toString()):"24"},unformat:function(a,b){b=zk.parseInt(this.getText(b));24==b&&(b=0);a.setHours(b);return a}});zul.inp.HourHandler=zk.$extends(zul.inp.TimeHandler,{maxsize:12,minsize:1,format:function(a){return a?(a=a.getHours(),a%=12,0==a?a="12":2==this.digits&&10>a&&(a="0"+a),a.toString()):"12"},unformat:function(a,b,d){b=zk.parseInt(this.getText(b));12==b&&(b=0);a.setHours(d?b:b+12);return a}});
zul.inp.HourHandler2=zk.$extends(zul.inp.TimeHandler,{maxsize:11,minsize:0,format:function(a){var b=1==this.digits;return a?(a=a.getHours(),a%=12,!b&&10>a&&(a="0"+a),a.toString()):b?"0":"00"},unformat:function(a,b,d){b=zk.parseInt(this.getText(b));a.setHours(d?b:b+12);return a}});zul.inp.MinuteHandler=zk.$extends(zul.inp.TimeHandler,{format:function(a){var b=1==this.digits;return a?(a=a.getMinutes(),!b&&10>a&&(a="0"+a),a.toString()):b?"0":"00"},unformat:function(a,b){a.setMinutes(zk.parseInt(this.getText(b)));
return a}});zul.inp.SecondHandler=zk.$extends(zul.inp.TimeHandler,{format:function(a){var b=1==this.digits;return a?(a=a.getSeconds(),!b&&10>a&&(a="0"+a),a.toString()):b?"0":"00"},unformat:function(a,b){a.setSeconds(zk.parseInt(this.getText(b)));return a}});zul.inp.AMPMHandler=zk.$extends(zul.inp.TimeHandler,{format:function(a){var b=this.wgt._localizedSymbols?this.wgt._localizedSymbols.APM:zk.APM;if(!a)return b[0];a=a.getHours();return b[12>a?0:1]},unformat:function(a,b){a=this.getText(b).trim();
b=this.wgt._localizedSymbols?this.wgt._localizedSymbols.APM:zk.APM;return a.length==b[0].length?b[0]==a:!0},addTime:function(a,b){var d=a.getInputNode(),e=this.index[0],c=this.index[1]+1,f=d.value,g=f.substring(e,c),h=a._localizedSymbols?a._localizedSymbols.APM:zk.APM;g!=h[0]&&g!=h[1]&&(g=h[0],d.value=f.substring(0,e)+g+f.substring(c));this._addNextTime(a,b)},deleteTime:function(a,b){var d=a.getInputNode(),e=zk(d).getSelectionRange(),c=this.index[0],f=this.index[1]+1,g=d.value;if(e[1]-e[0]>f-c)return this.$supers("deleteTime",
arguments);e=[""];for(var h=f-c;0<h;h--)e.push(" ");d.value=g.substring(0,c)+e.join("")+g.substring(f);zk(d).setSelectionRange(c,c)},increase:function(a,b){b=a.getInputNode();var d=this.index[0],e=this.index[1]+1,c=b.value,f=c.substring(d,e);a=a._localizedSymbols?a._localizedSymbols.APM:zk.APM;f=a[0]==f?a[1]:a[0];b.value=c.substring(0,d)+f+c.substring(e);zk(b).setSelectionRange(d,e)}})})();

zkreg('zul.db.Timebox');
zk._m={};
zk._m['rounded']=timebox$mold$=zul.inp.Spinner.molds["default"];

;zk._m['default']=[zk._p.p.Timebox,'rounded'];
zkmld(zk._p.p.Timebox,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(e,g,l){e instanceof String&&(e=String(e));for(var p=e.length,n=0;n<p;n++){var a=e[n];if(g.call(l,a,n,e))return{i:n,v:a}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,g,l){e!=Array.prototype&&e!=Object.prototype&&(e[g]=l.value)};
$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(e,g,l,p){if(g){l=$jscomp.global;e=e.split(".");for(p=0;p<e.length-1;p++){var n=e[p];n in l||(l[n]={});l=l[n]}e=e[e.length-1];p=l[e];g=g(p);g!=p&&null!=g&&$jscomp.defineProperty(l,e,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(e,l){return $jscomp.findInternal(this,e,l).v}},"es6","es3");$jscomp.checkStringArgs=function(e,g,l){if(null==e)throw new TypeError("The 'this' value for String.prototype."+l+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+l+" must not be a regular expression");return e+""};
$jscomp.polyfill("String.prototype.startsWith",function(e){return e?e:function(e,l){var g=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=g.length,a=e.length;l=Math.max(0,Math.min(l|0,g.length));for(var b=0;b<a&&l<n;)if(g[l++]!=e[b++])return!1;return b>=a}},"es6","es3");
(function(){function e(a,b,c,d,f){var m=Dates.newInstance([a,b,c],f);return d&&m.getMonth()!=b&&m.getDate()!=c?Dates.newInstance([a,b+1,0],f):m}function g(a){var b=a.parent;return(b=b&&b.getTimeZone&&b.getTimeZone())?b:a._defaultTzone}var l=zk.gecko?function(a,b){b?setTimeout(function(){zk(a).focus()}):zk(a).focus()}:function(a){zk(a).focus()},p=zul.db.Renderer={cellHTML:function(a,b,c,d,f){return d},beforeRedraw:function(a){},disabled:function(a,b,c,d,f){b=Dates.newInstance([b,c,d,0,0,0,0],g(a));
var m;if((m=a._constraint)&&"string"==typeof m&&(-1<m.indexOf("no past")&&0>(b-f)/864E5||-1<m.indexOf("no future")&&0>(f-b)/864E5||-1<m.indexOf("no today")&&0==f-b))return!0;f=!1;if(a._beg&&(f=0>(b-a._beg)/864E5))return f;a._end&&(f=0>(a._end-b)/864E5);return f},labelOfWeekOfYear:function(a,b){return b},titleOfWeekOfYear:function(a){return"Wk"},titleHTML:function(a,b,c){var d=a.uuid,f=a._view,m=a.getTime(),e=m.getMonth(),h=m.getFullYear();m=(new zk.fmt.Calendar(m,a._localizedSymbols)).getYear()-h;
var k=h-(h%10+1),l=zk.parseInt(h/100),g=a.$s("text"),p=a._minyear;a=a._maxyear;switch(f){case "day":b.push('<span id="',d,'-tm" class="',g,'">',c.SMON[e],'</span> <span id="',d,'-ty" class="',g,'">',h+m,"</span>");break;case "month":b.push('<span id="',d,'-ty" class="',g,'">',h+m,"</span>");break;case "year":b.push('<span id="',d,'-tyd" class="',g,'">',(k+1>p?k+1:p)+m,"-",(k+10<a?k+10:a)+m,"</span>");break;case "decade":c=100*l,b.push('<span id="',d,'-tyd" class="',g,'">',(c>p?c:p)+m,"-",(c+99<a?
c+99:a)+m,"</span>")}},dayView:function(a,b,c){var d=a.uuid,f=(7-c.DOW_1ST)%7,m=(6+f)%7,e=a.$s("weekend"),h=a.$s("weekday"),k=a.$s("cell");b.push('<table class="',a.$s("body"),'" id="',d,'-mid"',zUtl.cellps0,">","<thead><tr>");for(a=0;7>a;++a)b.push('<th class="',a==f||a==m?e:h,'">'+c.S2DOW[a]+"</th>");b.push("</tr></thead><tbody>");for(a=0;6>a;++a){b.push('<tr id="',d,"-w",a,'">');for(c=0;7>c;++c)b.push('<td class="',k," ",c==f||c==m?e:h,'"></td>');b.push("</tr>")}b.push("</tbody></table>")},monthView:function(a,
b,c){var d=a.uuid,f=a.$s("cell");b.push('<table class="',a.$s("body")," ",a.$s("month"),'" id="',d,'-mid"',zUtl.cellps0,"><tbody>");for(a=0;12>a;++a)a%4||b.push("<tr>"),b.push('<td class="',f,'" id="',d,"-m",a,'" data-value="',a,'">',c.SMON[a]+"</td>"),(a+1)%4||b.push("</tr>");b.push("</tbody></table>")},yearView:function(a,b,c){var d=a.uuid,f=a.$s("cell"),m=a.$s("disabled"),e=a.getTime(),h=e.getFullYear();c=(new zk.fmt.Calendar(e,c)).getYear()-h;h-=h%10+1;e=a._minyear;var k=a._maxyear;b.push('<table class="',
a.$s("body")," ",a.$s("year"),'" id="',d,'-mid"',zUtl.cellps0,"><tbody>");for(a=0;12>a;++a)a%4||b.push("<tr>"),h<e||h>k?(b.push('<td class="',m,'">&nbsp;</td>'),12==a+1&&b.push("</tr>")):(b.push('<td class="',f,'" data-value="',h,'" id="',d,"-y",a,'" >',h+c,"</td>"),(a+1)%4||b.push("</tr>")),h++;b.push("</tbody></table>")},decadeView:function(a,b,c){var d=a.uuid,f=a.$s("cell"),m=a.$s("disabled"),e=a.getTime(),h=e.getFullYear();c=(new zk.fmt.Calendar(e,c)).getYear()-h;var k=zk.parseInt(h/100);e=a._minyear;
var g=a._maxyear,l=10*zk.parseInt(e/10),p=10*zk.parseInt(g/10);b.push('<table class="',a.$s("body")," ",a.$s("decade"),'" id="',d,'-mid"',zUtl.cellps0,"><tbody>");k=100*k-10;a=a.$s("selected");for(var n=0;12>n;++n,k+=10)n%4||b.push("<tr>"),k<l||k>p?(b.push('<td class="',m,'">&nbsp;</td>'),12==n+1&&b.push("</tr>")):(b.push('<td data-value="',k,'" id="',d,"-de",n,'" class="',f,h>=k&&h<=k+9?" "+a:"",'" >',(k<e?e:k)+c+"-<br />"+((k+9>g?g:k+9)+c)+"</td>"),(n+1)%4||b.push("</tr>"));b.push("</tbody></table>")},
todayView:function(a,b,c){var d=a.getTodayLinkLabel();d||(d=g(a),d=(new zk.fmt.Calendar).formatDate(zUtl.today(parent,d),a.getFormat(),c));b.push(d)}},n=zul.db.Calendar=zk.$extends(zul.Widget,{_view:"day",_minyear:1900,_maxyear:2099,$init:function(){this.$supers("$init",arguments);this.listen({onChange:this},-1E3)},$define:{value:function(){var a=this.parent;a&&a.getTimeZone||this._value.tz(this._defaultTzone);this.rerender()},defaultTzone:null,constraint:function(){this._fixConstraint();this.desktop&&
this.inServer&&this.rerender()},name:function(){this.efield&&(this.efield.name=this._name)},weekOfYear:function(){this.desktop&&zk.feature.ee&&this.rerender()},showTodayLink:function(){this.rerender()},todayLinkLabel:function(){this.rerender()}},redraw:function(){p.beforeRedraw(this);this.$supers("redraw",arguments)},onChange:function(a){this._updFormData(a.data.value)},doKeyDown_:function(a){var b=a.keyCode,c=37==b?-1:39==b?1:38==b?-7:40==b?7:0;c?(this._shift(c),a.stop()):32!=b&&13!=b||this._clickDate({target:this,
domTarget:jq(this.$n("mid")).find("."+this.$s("selected"))[0],stop:zk.$void})},setMinYear_:function(a){if(a){var b=this.getTime().getFullYear();this._minyear=a>b?b:100<a?a:100}else this._minyear=1900},setMaxYear_:function(a){if(a){var b=this.getTime().getFullYear();this._maxyear=a<b?b:a>this._minyear?a:this._minyear}else this._maxyear=2099},_shift:function(a,b){var c=this.getTime(),d=g(this),f=Dates.newInstance(c.getTime(),d),e=Dates.newInstance([this._minyear,0,1,0,0,0,0],d);d=Dates.newInstance([this._maxyear,
11,31,23,59,59,999],d);switch(this._view){case "day":f.setDate(c.getDate()+a);break;case "month":7==a?a=4:-7==a&&(a=-4);f.setMonth(c.getMonth()+a);break;case "year":7==a?a=4:-7==a&&(a=-4);f.setYear(c.getFullYear()+a);break;case "decade":7==a?a=4:-7==a&&(a=-4),a*=10,f.setYear(c.getFullYear()+a)}if(!(f.getTime()<e.getTime()||f.getTime()>d.getTime()))switch(this._shiftDate(this._view,a),a=this.getTime(),this._view){case "day":c.getYear()==a.getYear()&&c.getMonth()==a.getMonth()?(b=b||{},b.sameMonth=
!0,this._markCal(b)):this.rerender();break;case "month":c.getYear()==a.getYear()?this._markCal(b):this.rerender();break;default:this.rerender()}},_fixConstraint:function(){var a=this._constraint||"";if("string"==typeof this._constraint)for(var b=a.split(","),c=g(this),d=0;d<b.length;d++)if(a=jq.trim(b[d]),a.startsWith("between")){var f=a.indexOf("and",7);0>f&&zk.debugJS&&zk.error("Unknown constraint: "+a);this._beg=(new zk.fmt.Calendar(null,this._localizedSymbols)).parseDate(a.substring(7,f),"yyyyMMdd",
null,null,null,c);this._end=(new zk.fmt.Calendar(null,this._localizedSymbols)).parseDate(a.substring(f+3,f+3+9),"yyyyMMdd",null,null,null,c);this._beg.getTime()>this._end.getTime()&&(a=this._beg,this._beg=this._end,this._end=a);this._beg.setHours(0,0,0,0);this._end.setHours(0,0,0,0)}else a.startsWith("before_")||a.startsWith("after_")||(a.startsWith("before")?(this._end=(new zk.fmt.Calendar(null,this._localizedSymbols)).parseDate(a.substring(6,15),"yyyyMMdd",null,null,null,c),this._end.setHours(0,
0,0,0)):a.startsWith("after")&&(this._beg=(new zk.fmt.Calendar(null,this._localizedSymbols)).parseDate(a.substring(5,14),"yyyyMMdd",null,null,null,c),this._beg.setHours(0,0,0,0)))},getFormat:function(){return this._fmt||"yyyy/MM/dd"},_updFormData:function(a){a=(new zk.fmt.Calendar).formatDate(a,this.getFormat(),this._localizedSymbols);this._name&&(a=a||"",this.efield?this.efield.value=a:this.efield=jq.newHidden(this._name,a,this.$n()))},focus_:function(a){if("decade"!=this._view)this._markCal({timeout:a});
else{var b;(b=this.$n("a"))&&l(b,!0)}return!0},bind_:function(a,b,c){this.$supers(n,"bind_",arguments);var d=this.$n(),f=this.$n("title"),e=this.$n("mid"),g=this.$n("left"),h=this.$n("right"),k=this.$n("today");"decade"!=this._view&&this._markCal({silent:!0});this.domListen_(f,"onClick","_changeView").domListen_(e,"onClick","_clickDate").domListen_(g,"onClick","_clickArrow").domListen_(h,"onClick","_clickArrow").domListen_(k,"onClick","_clickToday").domListen_(d,"onMousewheel");this._updFormData(this.getTime())},
unbind_:function(){var a=this.$n(),b=this.$n("title"),c=this.$n("mid"),d=this.$n("left"),f=this.$n("right"),e=this.$n("today");this.domUnlisten_(b,"onClick","_changeView").domUnlisten_(c,"onClick","_clickDate").domUnlisten_(d,"onClick","_clickArrow").domUnlisten_(f,"onClick","_clickArrow").domUnlisten_(e,"onClick","_clickToday").domUnlisten_(a,"onMousewheel").$supers(n,"unbind_",arguments);this.efield=null},rerender:function(){if(this.desktop){var a=this.$n().style,b=a.width,c=a.height,d=this.$supers("rerender",
arguments);a=this.$n().style;a.width=b;a.height=c;return d}},_clickArrow:function(a){if(!zk.animating()){var b=jq.nodeName(a.domTarget,"a")?a.domTarget:jq(a.domTarget).parent("a")[0];jq(b).attr("disabled")||(this._shiftView(jq(b).hasClass(this.$s("left"))?-1:1),a.stop())}},_clickToday:function(){this.setValue(zUtl.today(parent,g(this)));this._setView("day")},_shiftView:function(a,b){switch(this._view){case "day":this._shiftDate("month",a);break;case "month":this._shiftDate("year",a);break;case "year":this._shiftDate("year",
10*a);break;case "decade":this._shiftDate("year",100*a)}b?this.rerender():this._setView(this._view,a)},_doMousewheel:function(a,b){jq(this.$n(0<-b?"right":"left")).attr("disabled")||(this._shiftView(0<b?-1:1,!0),a.stop())},getTime:function(){return this._value||zUtl.today(this.getFormat(),g(this))},_setTime:function(a,b,c,d){var f=this.getTime();a=null!=a?a:f.getFullYear();b=null!=b?b:f.getMonth();f=null!=c?c:f.getDate();var m=g(this);this._value=val=(new zk.fmt.Calendar).escapeDSTConflict(e(a,b,
f,null==c,m),m);d&&this.fire("onChange",{value:val})},_clickDate:function(a){for(var b=a.domTarget,c;b;b=b.parentNode)try{if(void 0!==(c=jq(b).data("value"))){c=zk.parseInt(c);break}}catch(f){}this._chooseDate(b,c);var d;(d=this.$n("a"))&&l(d,!0);a.stop()},_chooseDate:function(a,b){if(a&&!jq(a).hasClass(this.$s("disabled"))){var c=this.getTime();switch(this._view){case "day":var d=this.getTime();this._setTime(null,null!=a._monofs&&0!=a._monofs?c.getMonth()+a._monofs:null,b,!0);a=this.getTime();d.getYear()==
a.getYear()&&d.getMonth()==a.getMonth()?this._markCal({sameMonth:!0}):this.rerender();break;case "month":this._setTime(null,b);this._setView("day");break;case "year":this._setTime(b);this._setView("month");break;case "decade":this._setTime(b),this._setView("year")}}},_shiftDate:function(a,b,c){var d=this.getTime(),f=d.getFullYear(),m=d.getMonth();d=d.getDate();var l=g(this);switch(a){case "day":d+=b;var h=!0;break;case "month":m+=b;break;case "year":f+=b;break;case "decade":f+=b}a=e(f,m,d,!h,l);c||
(this._value=a,this.fire("onChange",{value:this._value,shallClose:!1,shiftView:!0}));return a},_changeView:function(a){var b=this.$n("tm"),c=this.$n("ty"),d=this.$n("tyd"),f=this.$n("title");a.domTarget==b?this._setView("month"):a.domTarget==c?this._setView("year"):a.domTarget==d?this._setView("decade"):a.domTarget==f&&(null==b&&null!=c?this._setView("year"):null==c?this._setView("decade"):this._setView("month"));a.stop()},_setView:function(){function a(a){a.isOutOfRange(!0)?jq(a.$n("left")).attr("disabled",
"disabled"):jq(a.$n("left")).removeAttr("disabled");a.isOutOfRange()?jq(a.$n("right")).attr("disabled","disabled"):jq(a.$n("right")).removeAttr("disabled")}return function(b,c){if(this._view!=b)if(this._view=b,10>zk.ie)this.rerender();else{var d=new zk.Buffer;var f=this.getLocalizedSymbols();p[b+"View"](this,d,f);jq(this.$n("mid")).after(d.join("")).remove();b=[];this.unbind_(null,b);this.bind_(this.desktop,null,b);d=[];p.titleHTML(this,d,f);jq(this.$n("title")).html(d.join(""));jq(this.$n("mid")).transition({scale:0},
0).transition({scale:1});a(this);var e;(e=this.$n("a"))&&l(e,!0)}else if(c){d=[];f=this.getLocalizedSymbols();var g=this.$n("mid");e=-1==c;c=g.offsetWidth;var h=-1*c,k=this,n=this.$s("anima"),y=this.isShowTodayLink()?jq(this.$n("today")).parent():jq();y.is(":hidden")&&y.css("display","none");p[b+"View"](this,d,f);jq(g).after('<div style="height:'+g.offsetHeight+"px;width:"+c+'px" class="'+n+'"><div class="'+n+'-inner"></div');var r=g.nextSibling.firstChild;jq(r).append(g);g=r.firstChild;e?jq(g).before(d.join("")).remove():
jq(g).after(d.join("")).remove();this.clearCache();"decade"!=b&&this._markCal();if(e){jq(r.firstChild).after(g);var t=g.previousSibling;jq(r).css({left:h});h=0}else jq(r.firstChild).before(g),t=g.nextSibling;jq(r).animate({left:h},{done:function(){k.domUnlisten_(g,"onClick","_clickDate");jq(r.parentNode).after(t).remove();k.domListen_(t,"onClick","_clickDate");var a=[];p.titleHTML(k,a,f);jq(k.$n("title")).html(a.join(""));k.clearCache();y.css("display","")}});a(this)}}}(),getLocalizedSymbols:function(){return this._localizedSymbols||
{DOW_1ST:zk.DOW_1ST,MINDAYS:zk.MINDAYS,ERA:zk.ERA,YDELTA:zk.YDELTA,SDOW:zk.SDOW,S2DOW:zk.S2DOW,FDOW:zk.FDOW,SMON:zk.SMON,S2MON:zk.S2MON,FMON:zk.FMON,APM:zk.APM}},isOutOfRange:function(a,b){var c=this._view;var d=b||this.getTime(),f=d.getFullYear(),e=f-(f%10+1),g=zk.parseInt(f/100);b=this._minyear;var h=this._maxyear,k=100*zk.parseInt(b/100),l=100*zk.parseInt(h/100);zk.parseInt(b/10);zk.parseInt(h/10);if("decade"==c)return c=100*g,a?c==k:c==l;if("year"==c)return c=e,a?c<b:c+10>=h;if("day"==c)return c=
f,d=d.getMonth(),a?c<=b&&0==d:c>=h&&11==d;c=f;return a?c<=b:c>=h},_markCal:function(a){this._markCal0(a);var b;!(b=this.$n("a"))||a&&a.silent||l(b,a&&a.timeout)},_markCal0:function(a){var b=this.getTime(),c=b.getMonth(),d=this.$n("mid"),f=jq(d);d=this.$s("selected");var e=b.getFullYear(),g=this._minyear,h=this._maxyear;if("day"==this._view){var k=zk.DOW_1ST;this._localizedSymbols&&void 0!=this._localizedSymbols.DOW_1ST&&(k=this._localizedSymbols.DOW_1ST);var l=b.getDate(),n=b.getTimeZone();b=Dates.newInstance([e,
c,1],"UTC").getDay()-k;k=Dates.newInstance([e,c+1,0],"UTC").getDate();var r=Dates.newInstance([e,c,0],"UTC").getDate();n=zUtl.today(null,n);var t=this.$s("outside"),z=this.$s("disabled");f.find("."+d).removeClass(d);a&&a.sameMonth||(f.find("."+t).removeClass(t),f.find("."+z).removeClass(z));0>b&&(b+=7);f=0;for(var q=-b+1;6>f;++f){var x=this.$n("w"+f);if(null!=x)for(var w=0;7>w;++w,++q)if(b=0>=q?r+q:q<=k?q:q-k,0==w&&q>k)x.style.display="none";else{0==w&&(x.style.display="");var u=0>=q?-1:q<=k?0:1,
A=q==l;if(!(e>=h&&11==c&&1==u||e<=g&&0==c&&-1==u)){var v=jq(x.cells[w]);v[0]._monofs=u;A&&v.addClass(d);a&&a.sameMonth||(u&&v.addClass(t),p.disabled(this,e,c+u,b,n)&&v.addClass(z),v[0].innerHTML=p.cellHTML(this,e,c+u,b,u),v.data("value",b))}}}}else for(a=(g="month"==this._view)?"m":"y",c=g?c:e%10+1,f.find("."+d).removeClass(d),f=0;12>f;++f)c==f&&(l=this.$n(a+f))&&jq(l).addClass(d)},domClass_:function(a){var b="";this._weekOfYear&&(b+=this.$s("wk")+" ");return b+this.$supers("domClass_",arguments)}})})();

zkreg('zul.db.Calendar');
zk._m={};
zk._m['default']=calendar$mold$=function(a){var b=zul.db.Renderer,c=this.uuid,g=this._view,e=11>zk.ie||zk.gecko?"a":"button",d=this.getLocalizedSymbols(),f=this.$s("icon"),h=this.isOutOfRange(!0)?' disabled="disabled"':"",k=this.isOutOfRange()?' disabled="disabled"':"",l=this._showTodayLink;a.push('<div id="',c,'"',this.domAttrs_(),'><div class="',this.$s("header"),'"><a id="',c,'-left" href="javascript:;" class="',f," ",this.$s("left"),'"',h,'><i class="z-icon-angle-left"></i></a>','<a id="',c,'-title" href="javascript:;" class="',
this.$s("title"),'">');b.titleHTML(this,a,d);a.push('</a><a id="',c,'-right" href="javascript:;" class="',f," ",this.$s("right"),'"',k,'><i class="z-icon-angle-right"></i></a></div>');switch(g){case "day":b.dayView(this,a,d);break;case "month":b.monthView(this,a,d);break;case "year":b.yearView(this,a,d);break;case "decade":b.decadeView(this,a,d)}l&&(a.push('<div class="',this.$s("header")," ",this.$s("today"),'"><a id="',c,'-today" href="javascript:;" class="',this.$s("title"),'">'),b.todayView(this,
a,d),a.push("</a></div>"));a.push("<",e,' id="',c,'-a" tabindex="-1" onclick="return false;" href="javascript:;" class="z-focus-a"></',e,"></div>")};

;zkmld(zk._p.p.Calendar,zk._m);
(function(){var k={},m=/\'/g,h=zul.db.Datebox=zk.$extends(zul.inp.FormatWidget,{_buttonVisible:!0,_lenient:!0,$init:function(){this.$supers("$init",arguments);this.afterInit(this.$class._initPopup);this.listen({onChange:this},-1E3)},$define:{buttonVisible:function(a){zul.inp.RoundUtl.buttonVisible(this,a)},format:function(){this._pop&&(this._pop.setFormat(this._format),this._value&&(this._value=this._pop.getTime()));var a=this.getInputNode();a&&(a.value=this.getText())},constraint:function(a){"string"==
typeof a&&"["!=a.charAt(0)?this._cst=new zul.inp.SimpleDateConstraint(a,this):this._cst=a;this._cst&&(this._reVald=!0);this._pop&&(this._pop.setConstraint(this._constraint),this._pop.rerender())},timeZone:function(a){this._timezone=a;this._tm.setTimezone(a);this._setTimeZonesIndex();this._value&&this._value.tz(a);this._pop&&this._pop._fixConstraint();(a=this._cst)&&a instanceof zul.inp.SimpleConstraint&&a.reparseConstraint()},timeZonesReadonly:function(a){var b=this.$n("dtzones");b&&(b.disabled=a?
"disabled":"")},displayedTimeZones:function(a){this._dtzones=a?a.split(","):null},unformater:function(a){eval("Datebox._unformater = "+a)},lenient:null,localizedSymbols:[function(a){return a?(k[a[0]]||(k[a[0]]=a[1]),k[a[0]]):a},function(){this._tm&&(this._tm._localizedSymbols=this._localizedSymbols);this._pop&&this._pop.setLocalizedSymbols(this._localizedSymbols)}],weekOfYear:function(a){this._pop&&this._pop.setWeekOfYear(a)},showTodayLink:function(a){this._pop&&this._pop.setShowTodayLink(a)},todayLinkLabel:function(a){this._pop&&
this._pop.setTodayLinkLabel(a)}},getIconClass_:function(){return"z-icon-calendar"},inRoundedMold:function(){return!0},_setTimeZonesIndex:function(){var a=this.$n("dtzones");if(a&&this._timezone)for(var b=jq(a).children("option"),c=b.length;c--;)b[c].text==this._timezone&&(a.selectedIndex=c)},onSize:function(){zul.inp.RoundUtl.onSize(this);this.isOpen()&&this.$class._reposition(this,!0)},getTimeFormat:function(){var a=this._format,b=a.indexOf("a"),c=a.indexOf("h"),d=a.indexOf("K"),e=a.indexOf("H"),
f=a.indexOf("k"),g=a.indexOf("m");a=a.indexOf("s");g=-1<g?"mm":"";a=-1<a?"ss":"";return(-1<b||c)&&(-1<c||-1<d)?(e=this.$class._prepareTimeFormat(c<d?"KK":"hh",g,a),-1==b?e:-1!=c&&b<c||-1!=d&&b<d?"a "+e:e+" a"):this.$class._prepareTimeFormat(e<f?"kk":-1<e?"HH":"",g,a)},getDateFormat:function(){return this._format.replace(/[(s\.S{1,3})ahKHksm]*:?/g,"").trim()},setOpen:function(a,b){if(this.isRealVisible()){var c;if(c=this._pop)a?c.open(!b):c.close(!b)}},isOpen:function(){return this._pop&&this._pop.isOpen()},
setValue:function(a,b){var c=this.getTimeZone();c&&a&&a.tz(c);this.$supers("setValue",arguments)},coerceFromString_:function(a,b){var c=h._unformater,d=this.getTimeZone();if(c&&jq.isFunction(c)&&(c=c(a)))return this._shortcut=a,c;if(a){c=this.getFormat();a=(new zk.fmt.Calendar).parseDate(a,b||c,!this._lenient,this._value,this._localizedSymbols,d);if(!a)return{error:zk.fmt.Text.format(msgzul.DATE_REQUIRED+this.localizedFormat.replace(m,""))};c.match(/[HkKh]/)||(a=(new zk.fmt.Calendar).escapeDSTConflict(a,
d));return a}return null},coerceToString_:function(a,b){return a?(new zk.fmt.Calendar).formatDate(a,b||this.getFormat(),this._localizedSymbols):""},doClick_:function(a){this._disabled||(this._readonly&&this._buttonVisible&&this._pop&&!this._pop.isOpen()&&this._pop.open(),this.$supers("doClick_",arguments))},doKeyDown_:function(a){this._doKeyDown(a);a.stopped||this.$supers("doKeyDown_",arguments)},_doKeyDown:function(a){if(!jq.nodeName(a.domTarget,"option","select")){var b=a.keyCode,c=this._pop.isOpen();
9==b||zk.webkit&&0==b?c&&this._pop.close():!a.altKey||38!=b&&40!=b?!c||13!=b&&27!=b?18==b||27==b||13==b||112<=b&&123>=b||this._pop.isOpen()&&this._pop.doKeyDown_(a):13==b?this.enterPressed_(a):this.escPressed_(a):(c?this._pop.close():this._pop.open(),b={propagation:!0},11>zk.ie&&(b.dom=!0),a.stop(b))}},enterPressed_:function(a){this._pop.close();this.updateChange_();a.stop()},escPressed_:function(a){this._pop.close();a.stop()},afterKeyDown_:function(a,b){!b&&this._inplace&&jq(this.$n()).toggleClass(this.getInplaceCSS(),
13==a.keyCode?null:!1);return this.$supers("afterKeyDown_",arguments)},bind_:function(){this.$supers(h,"bind_",arguments);var a;this.getInputNode();if(a=this.$n("btn"))this.domListen_(a,zk.android?"onTouchstart":"onClick","_doBtnClick"),this._inplace&&this.domListen_(a,"onMouseDown","_doBtnMouseDown");zWatch.listen({onSize:this,onScroll:this,onShow:this});this._pop.setFormat(this.getDateFormat())},unbind_:function(){var a;(a=this._pop)&&a.close(!0);if(a=this.$n("btn"))this.domUnlisten_(a,zk.android?
"onTouchstart":"onClick","_doBtnClick"),this._inplace&&this.domUnlisten_(a,"onMouseDown","_doBtnMouseDown");zWatch.unlisten({onSize:this,onScroll:this,onShow:this});this.$supers(h,"unbind_",arguments)},_doBtnClick:function(a){this._inplaceIgnore=!1;this._buttonVisible&&(this._disabled||this.setOpen(!jq(this.$n("pp")).zk.isVisible(),zul.db.DateboxCtrl.isPreservedFocus(this)),a.stop(this._pop&&this._pop._open?{propagation:1}:null))},_doBtnMouseDown:function(){this._inplaceIgnore=!0},_doTimeZoneChange:function(a){a=
this.$n("dtzones").value;this.updateChange_();this.fire("onTimeZoneChange",{timezone:a},{toServer:!0},150);this._pop&&this._pop.close()},onChange:function(a){a=a.data;var b=this.getInputNode().value;this._pop&&this._pop.setValue(a.value);!a.value&&b&&this.getFormat()&&"[c"==this._cst&&(a.value=b)},onScroll:function(a){this.isOpen()&&a&&(pp=this._pop)&&(this.getInputNode()&&zul.inp.InputWidget._isInView(this)?this.$class._reposition(this,!0):pp.close())},onShow:function(){this.__ebox&&(this.setFloating_(!0),
this.__ebox.show())},getTimeZoneLabel:function(){return""},redrawpp_:function(a){a.push('<div id="',this.uuid,'-pp" class="',this.$s("popup"),'" style="display:none">');for(var b=this.firstChild;b;b=b.nextSibling)b.redraw(a);this._redrawTimezone(a);a.push("</div>")},_redrawTimezone:function(a){var b=this._dtzones;if(b){a.push('<div class="',this.$s("timezone"),'">',this.getTimeZoneLabel(),'<select id="',this.uuid,'-dtzones">');for(var c=0,d=b.length;c<d;c++)a.push('<option value="',b[c],'">',b[c],
"</option>");a.push("</select></div>")}},updateChange_:function(){this.isOpen()||this.$supers("updateChange_",arguments)}},{_initPopup:function(){this._pop=new zul.db.CalendarPop;this._tm=new zul.db.CalendarTime;this.appendChild(this._pop);this.appendChild(this._tm)},_reposition:function(a,b){if(a.$n()){var c=a.$n("pp"),d=a.$n(),e=a.getInputNode();c&&(zk(c).position(d,a.position,{dodgeRef:d}),a._pop.syncShadow(),b||zk(e).focus())}},_prepareTimeFormat:function(a,b,c){var d=[];a&&d.push(a);b&&d.push(b);
c&&d.push(c);return d.join(":")}}),l=zul.db.CalendarPop=zk.$extends(zul.db.Calendar,{$init:function(){this.$supers("$init",arguments);this.listen({onChange:this},-1E3)},setFormat:function(a){this._fmt=a},setLocalizedSymbols:function(a){this._localizedSymbols=a},rerender:function(){this.$supers("rerender",arguments);this.desktop&&this.syncShadow()},close:function(a){var b=this.parent,c=b.$n("pp");if(c&&zk(c).isVisible()){b._inplace&&(b._inplaceIgnore=!1,b._inplaceTimerId=setTimeout(function(){b.desktop&&
jq(b.$n()).addClass(b.getInplaceCSS())},b._inplaceTimeout));try{if((zk.ff||zk.safari)&&zk.currentFocus){var d=zk.currentFocus.getInputNode?zk.currentFocus.getInputNode():zk.currentFocus.$n();jq.nodeName(d,"input")&&jq.isAncestor(c,d)&&jq(d).blur()}}catch(e){zk.debugLog(e.message||e)}this._shadow&&(this._shadow.destroy(),this._shadow=null);c.style.display="none";c.className=b.$s("popup");jq(c).zk.undoVParent();b.setFloating_(!1);a?b.updateChange_():zul.db.DateboxCtrl.isPreservedFocus(this)&&zk(b.getInputNode()).focus();
a=b.$s("open");jq(b.$n()).removeClass(a);jq(c).removeClass(a)}},isOpen:function(){return zk(this.parent.$n("pp")).isVisible()},open:function(a){var b=this.parent,c=b.$n(),d=b.$n("pp");if(c&&d){b._inplace&&(b._inplaceIgnore=!0);b.setFloating_(!0,{node:d});zWatch.fire("onFloatUp",b);var e=this.setTopmost();this._setView("day");var f=b.getZclass();d.className=c.className+" "+d.className;jq(d).removeClass(f);d.style.width="auto";d.style.display="block";d.style.zIndex=0<e?e:1;this.setDomVisible_(d,!0,
{visibility:!0});jq(d).zk.makeVParent();d.offsetWidth<c.offsetWidth?d.style.width=c.offsetWidth+"px":(e=jq.innerWidth()-20,e<c.offsetWidth&&(e=c.offsetWidth),d.offsetWidth>e&&(d.style.width=e));f=b.getInputNode();b.$n();delete b._shortcut;c=b.getTimeFormat();e=b.getTimeZone();var g=h._unformater;(g=g?g(f.value):null)||(g=(new zk.fmt.Calendar(zk.fmt.Date.parseDate(f.value,b._format,!1,b._value,this._localizedSymbols,e),this._localizedSymbols)).toUTCDate()||(f.value?b._value:zUtl.today(c,e)));g&&this.setValue(g);
c?(f=b._tm,f.setVisible(!0),f.setFormat(c),f.setValue(g||Dates.newInstance().tz(e)),f.onSize()):b._tm.setVisible(!1);c=b.$s("open");jq(b.$n()).addClass(c);jq(d).addClass(c);b.$class._reposition(b,a)}},syncShadow:function(){this._shadow||(this._shadow=new zk.eff.Shadow(this.parent.$n("pp"),{left:-4,right:4,top:2,bottom:3}));this._shadow.sync()},onChange:function(a){var b=this.getTime(),c=this.parent,d=c.getTimeFormat(),e=c.getValue();c.isReadonly();var f=c.getTimeZone(),g=new zk.fmt.Calendar;if(d){var h=
c._tm.getValue();b.setHours(h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds());d.match(/[HkKh]/)||(b=g.escapeDSTConflict(b,f))}else e&&(b=Dates.newInstance([b.getFullYear(),b.getMonth(),b.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],f),this.getFormat().match(/[HkKh]/)||(b=g.escapeDSTConflict(b,f)));a.data.shiftView||(c.getInputNode().value=c.coerceToString_(b));"day"==this._view&&!1!==a.data.shallClose&&(this.close(),a.data.value=b,this.$class._equalDate(b,
e)||c.updateChange_());a.stop()},onFloatUp:function(a){this.isOpen()&&(zUtl.isAncestor(this.parent,a.origin)||this.close(!0))},bind_:function(){this.$supers(l,"bind_",arguments);this._bindTimezoneEvt();zWatch.listen({onFloatUp:this})},unbind_:function(){zWatch.unlisten({onFloatUp:this});this._unbindfTimezoneEvt();this._shadow&&(this._shadow.destroy(),this._shadow=null);this.$supers(l,"unbind_",arguments)},_bindTimezoneEvt:function(){var a=this.parent,b=a.$n("dtzones");b&&(b.disabled=a.isTimeZonesReadonly()?
"disable":"",a.domListen_(b,"onChange","_doTimeZoneChange"),a._setTimeZonesIndex())},_unbindfTimezoneEvt:function(){var a=this.parent,b=a.$n("dtzones");b&&a.domUnlisten_(b,"onChange","_doTimeZoneChange")},_setView:function(a,b){this.parent.getTimeFormat()&&this.parent._tm.setVisible("day"==a);this.$supers("_setView",arguments);9<zk.ie&&this.syncShadow();zk.ie9_&&b&&zk(this.parent.$n("pp")).redoCSS(500)},doKeyDown_:function(a){this.$supers("doKeyDown_",arguments);27==a.keyCode&&this.parent.escPressed_(a)}},
{_equalDate:function(a,b){return a==b||a&&b&&a.getTime()==b.getTime()}});zul.db.CalendarTime=zk.$extends(zul.db.Timebox,{$init:function(){this.$supers("$init",arguments);this.listen({onChanging:this},-1E3)},onChanging:function(a){var b=this.parent,c=b.getValue()||b._pop.getValue();new zk.fmt.Calendar;c=b.coerceToString_(c,"yyyy/MM/dd ")+a.data.value;var d="yyyy/MM/dd "+b.getTimeFormat();c+=-1<d.indexOf("a")?0>c.indexOf("AM")&&0>c.indexOf("PM")?"AM":"":"";c=b.coerceFromString_(c,d);c instanceof DateImpl&&
(b.getInputNode().value=a.data.value=b.coerceToString_(c),b.fire(a.name,a.data));"day"==this._view&&!1!==a.data.shallClose&&this.close();a.stop()}});zul.db.DateboxCtrl={isPreservedFocus:function(a){return!0}}})();

zkreg('zul.db.Datebox');
zk._m={};
zk._m['rounded']=datebox$mold$=zul.inp.ComboWidget.$redraw;

;zk._m['default']=[zk._p.p.Datebox,'rounded'];
zkmld(zk._p.p.Datebox,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.db',1);zk.load('zul.wgt',function(){if(zk._p=zkpi('zkex.inp'))try{
(function(){function c(){this._picker=new zkex.inp.Colorpicker({_wgt:this});this._palette=new zkex.inp.Colorpalette({_wgt:this});this.appendChild(this._picker);this.appendChild(this._palette)}zkex.inp.Colorbox=zk.$extends(zk.Widget,{_open:!1,$init:function(){this.$supers("$init",arguments);this.afterInit(c);this._currColor=new zkex.inp.Color},$define:{disabled:function(a){var b=this.$n();b&&(a=this._disabled,this[a?"domUnlisten_":"domListen_"](b,"onClick","_doBtnClick"),jq(b)[a?"addClass":"removeClass"](this.$s("disabled")))}},
setColor:function(a){this._currColor.getHex()!=a&&(this._currColor.setHex(a),a=this.$n("currcolor"))&&(a.style.backgroundColor=this._currColor.getHex())},getColor:function(){return this._currColor.getHex()},setValue:function(a){this.setColor(a)},getValue:function(){return this.getColor()},_syncPopupPosition:function(){zk(this.$n("pp")).position(this.$n(),this._getPosition())},_getPosition:function(){var a=this.parent;if(a)return a.$instanceof(zul.wgt.Toolbar)?"vertical"==a.getOrient()?"end_before":
"after_start":"after_start"},_syncShadow:function(a){this._popupShadow||(this._popupShadow=new zk.eff.Shadow(this.$n("pp"),{stackup:zk.useStackup}));this._popupShadow.sync()},_hideShadow:function(a){(a=this._popupShadow)&&a.hide()},bind_:function(){this.$supers("bind_",arguments);this._disabled||this.domListen_(this.$n(),zk.android?"onTouchstart":"onClick","_doBtnClick");var a=this.$n("palette-btn"),b=this.$n("picker-btn");a&&(this._palette.$n().style.display="none",this.domListen_(a,"onClick","openPalette"));
b&&(this._picker.$n().style.display="none",this.domListen_(b,"onClick","openPicker"));if(a=this.$n("currcolor"))a.style.backgroundColor=this._currColor.getHex()},unbind_:function(){this._disabled||this.domUnlisten_(this.$n(),zk.android?"onTouchstart":"onClick","_doBtnClick");this._popupShadow&&this._popupShadow.destroy();this.domUnlisten_(this.$n("palette-btn"),"onClick","openPalette").domUnlisten_(this.$n("picker-btn"),"onClick","openPicker");this.$supers("unbind_",arguments)},domClass_:function(a){var b=
this.$supers("domClass_",arguments);a&&a.zclass||this._disabled&&(b+=" "+this.$s("disabled"));return b},_doBtnClick:function(a){(this._open=!this._open)?this.openPopup():this.closePopup();a.stop();zUtl.fireShown(this)},openPopup:function(){this._open=!0;this.$n();var a=this.$n("pp");this._picker.$n();this.setFloating_(!0,{node:a});this.closePicker();this.openPalette();a.style.width=a.style.height="auto";a.style.display="block";jq(a).zk.makeVParent();this._syncPopupPosition();this._syncShadow()},closePopup:function(){this._open=
!1;this.$n();var a=this.$n("pp");a.style.display="none";jq(a).zk.undoVParent();this._hideShadow();this.setFloating_(!1)},onChange:function(a){this.$n("currcolor").style.backgroundColor=a;this._currColor.setHex(a);this.fire("onChange",{color:a},{toServer:!0},150)},onHide:function(){this._open=!1;this.$n();var a=this.$n("pp");a.style.display="none";jq(a).zk.undoVParent();this._hideShadow()},openPalette:function(){var a=this._palette.$n();if(a){var b=this._picker.$n();b&&zk(b).isVisible()&&this.closePicker();
a.style.display="block";jq(this.$n("pp")).addClass(this._palette.$s("popup"));this._syncPopupPosition();this._syncShadow();a=this._palette;a.setColor(this._currColor.getHex());a.onShow()}},closePalette:function(a){var b=this._palette.$n();b&&zk(b).isVisible()&&(b.style.display="none",jq(this.$n("pp")).removeClass(this._palette.$s("popup")),a&&this.closePopup())},openPicker:function(){var a=this._picker.$n();a&&(this.closePalette(),a.style.display="block",jq(this.$n("pp")).addClass(this._picker.$s("popup")),
this._syncPopupPosition(),this._syncShadow(),a=this._picker,a.setColor(this._currColor.getHex()),a.onShow())},closePicker:function(){var a=this._picker.$n();a&&zk(a).isVisible()&&(a.style.display="none",jq(this.$n("pp")).removeClass(this._picker.$s("popup")))}})})();

zkreg('zkex.inp.Colorbox');
zk._m={};
zk._m['default']=colorbox$mold$=function(a){var b=this.uuid,c=this._picker,d=this._palette;a.push("<div",this.domAttrs_(),">",'<i id="',b,'-currcolor" class="',this.$s("current"),'">&nbsp;</i>','<span id="',b,'-btn" class="',this.$s("button"),'"><i class="',this.$s("icon"),' z-icon-caret-down"></i></span>');if(c||d)a.push('<div id="',b,'-pp" style="display:none;" class="',this.$s("popup"),'">',d?'<div id="'+b+'-palette-btn" class="'+this.$s("paletteicon")+'"></div>':"",c?'<div id="'+b+'-picker-btn" class="'+this.$s("pickericon")+
'"></div>':""),c&&c.redraw(a),d&&d.redraw(a),a.push("</div>");a.push("</div>")};

;zkmld(zk._p.p.Colorbox,zk._m);
(function(){function k(b,a,c){c=b.control;var d=c.getNewColor();b=b.node;var e=zk(c.$n("bar")).revisedOffset();a=a[1]-e[1];b.style.top=jq.px(a);d.setHSV(359.99*(256-a)/255,d.getSaturation(),d.getValue());c._colorChanged("arrows");return!1}function l(b,a){b=a[1];return[a[0],0>b?0:255<b?255:b]}function m(b,a,c){b=b.control;a=b._newColor;c=b.$n("arrows");c=zk.parseInt(c.style.top);a.setHSV(359.99*(256-c)/255,a.getSaturation(),a.getValue());b._colorChanged("arrows")}function n(b,a,c){c=b.control;var d=
c.getNewColor(),e=zk(c.$n("overlay")).revisedOffset();b=b.node;var g=a[0]-e[0];a=a[1]-e[1];e=g/255;var f=1-a/255;b.style.left=jq.px(g);b.style.top=jq.px(a);d.setHSV(d.getHue(),e,f);c._colorChanged();return!1}function p(b,a){b=a[0];a=a[1];return[0>b?0:255<b?255:b,0>a?0:255<a?255:a]}function q(b,a,c){b=b.control;a=b._newColor;var d=b.$n("circle");c=zk.parseInt(d.style.left);d=zk.parseInt(d.style.top);c/=255;d=1-d/255;a.setHSV(a.getHue(),c,d);b._colorChanged()}var h=zkex.inp.Colorpicker=zk.$extends(zk.Widget,
{_inpChanged:!1,$init:function(b){this.$supers("$init",arguments);this._currColor=new zkex.inp.Color;this._newColor=new zkex.inp.Color;this._wgt=b._wgt},$define:{color:function(b){this._currColor.setHex(b);this._newColor.setHex(b)}},getNewColor:function(){return this._newColor},getInputType:function(){return"text"},redraw:function(b){var a=this.uuid;b.push("<div",this.domAttrs_(),">",'<div class="',this.$s("main"),'">','<div id="',a,'-gradient" class="',this.$s("gradient"),'">','<div id="',a,'-overlay" class="',
this.$s("overlay"),'"></div>','<div id="',a,'-circle" class="',this.$s("circle"),'"></div></div>','<div id="',a,'-hue" class="',this.$s("hue"),'">','<div id="',a,'-bar" class="',this.$s("bar"),'"></div>','<div id="',a,'-arrows" class="',this.$s("arrows"),'"></div></div>','</div><div class="',this.$s("info"),'">','<div id="',a,'-color" class="',this.$s("color"),'">','<div id="',a,'-newcolor" class="',this.$s("newcolor"),'"></div>','<div id="',a,'-currcolor" class="',this.$s("current"),'"></div></div>',
'<div id="',a,'-hex" class="',this.$s("hex"),'" >','<label id="',a,'-hex-text" class="',this.$s("text"),'">HEX</label>','<input id="',a,'-hex-inp" class="z-textbox ',this.$s("input"),'" type="text" size="8" maxlength="7"></input></div>','<div id="',a,'-rgb" class="',this.$s("rgb"),'">','<label id="',a,'-rgb-text" class="',this.$s("text")," ",this.$s("rgb-text"),'">RGB</label>','<div id="',a,'-r" class="',this.$s("r"),'">','<label id="',a,'-r-text" class="',this.$s("text")," ",this.$s("r-text"),'">R.</label>',
'<input id="',a,'-r-inp" class="z-intbox ',this.$s("input"),'" type="',this.getInputType(),'" size="3" maxlength="3"></input></div>','<div id="',a,'-g" class="',this.$s("g"),'">','<label id="',a,'-g-text" class="',this.$s("text")," ",this.$s("g-text"),'">G.</label>','<input id="',a,'-g-inp" class="z-intbox ',this.$s("input"),'" type="',this.getInputType(),'" size="3" maxlength="3"></input></div>','<div id="',a,'-b" class="',this.$s("b"),'">','<label id="',a,'-b-text" class="',this.$s("text")," ",
this.$s("b-text"),'">B.</label>','<input id="',a,'-b-inp" class="z-intbox ',this.$s("input"),'" type="',this.getInputType(),'" size="3" maxlength="3"></input></div></div>','<div id="',a,'-hsv" class="',this.$s("hsv"),'">','<label id="',a,'-hsv-text" class="',this.$s("text")," ",this.$s("hsv-text"),'">HSV</label>','<div id="',a,'-h" class="',this.$s("h"),'">','<label id="',a,'-h-text" class="',this.$s("text")," ",this.$s("h-text"),'">H.</label>','<input id="',a,'-h-inp" class="z-intbox ',this.$s("input"),
'" type="',this.getInputType(),'" size="3" maxlength="3"></input></div>','<div id="',a,'-s" class="',this.$s("s"),'">','<label id="',a,'-s-text" class="',this.$s("text")," ",this.$s("s-text"),'">S.</label>','<input id="',a,'-s-inp" class="z-intbox ',this.$s("input"),'" type="',this.getInputType(),'" size="3" maxlength="3"></input></div>','<div id="',a,'-v" class="',this.$s("v"),'">','<label id="',a,'-v-text" class="',this.$s("text")," ",this.$s("v-text"),'">V.</label>','<input id="',a,'-v-inp" class="z-intbox ',
this.$s("input"),'" type="',this.getInputType(),'" size="3" maxlength="3"></input></div></div>','<button type="button" id="',a,'-ok-btn" class="z-button ',this.$s("button"),'"><i class="',this.$s("icon"),' z-icon-check"></i></button>',"</div></div>")},bind_:function(){this.$supers(h,"bind_",arguments);var b=this.$n("arrows"),a=this.$n("hue"),c=this.$n("circle"),d=this.$n("gradient");this._arrowsDrag=new zk.Draggable(this,b,{constraint:"vertical",handle:a,ignoredrag:k,snap:l,change:m,endeffect:zk.$void});
this._circleDrag=new zk.Draggable(this,c,{handle:d,ignoredrag:n,snap:p,change:q,endeffect:zk.$void});this.domListen_(this.$n("ok-btn"),"onClick","_doOk");this.domListen_(this.$n("hex-inp"),"onBlur","_doHexChange");this.domListen_(this.$n("hex-inp"),"onInput","_doHexInput");zWatch.listen({onShow:this,onFloatUp:this,onHide:this})},unbind_:function(){this._arrowsDrag&&(this._arrowsDrag.destroy(),this._arrowsDrag=null);this._circleDrag&&(this._circleDrag.destroy(),this._circleDrag=null);this.domUnlisten_(this.$n("hex-inp"),
"onInput","_doHexInput");this.domUnlisten_(this.$n("hex-inp"),"onBlur","_doHexChange");this.domUnlisten_(this.$n("ok-btn"),"onClick","_doOk");zWatch.unlisten({onShow:this,onFloatUp:this,onHide:this});this.$supers(h,"unbind_",arguments)},onHide:function(){this._wgt.onHide()},onFloatUp:function(b){if(!zUtl.isAncestor(this.parent,b.origin))this._wgt.onHide()},onShow:function(){this._colorChanged("onShow")},_doHexChange:function(){this._newColor.setHex(this.$n("hex-inp").value);this._colorChanged("inp")},
_doHexInput:function(){var b=this.$n("hex-inp");b.value=b.value.replace(/[^#0-9a-fA-F]/,"")},_colorChanged:function(b){var a=this._newColor,c=a.getHue(),d=a.getSaturation(),e=a.getValue(),g=a.getHex();a=a.getRGB();this.$n("r-inp").value=a[0];this.$n("g-inp").value=a[1];this.$n("b-inp").value=a[2];this.$n("hex-inp").value=g.toUpperCase();this.$n("h-inp").value=Math.round(c);this.$n("s-inp").value=Math.round(100*d);this.$n("v-inp").value=Math.round(100*e);if("arrows"==b||"inp"==b||"onShow"==b)a=new zkex.inp.Color,
a.setHSV(c,1,1),this.$n("overlay").style.backgroundColor=a.getHex();if("inp"==b||"onShow"==b){a=this.$n("arrows");c=256-255*c/359.99;c=0>c?0:255<c?255:c;var f=this.$n("circle");d*=255;e=255*(1-e);a.style.top=jq.px(c);f.style.top=jq.px(e);f.style.left=jq.px(d)}"onShow"==b&&(this.$n("currcolor").style.backgroundColor=this._currColor.getHex());this.$n("newcolor").style.backgroundColor=g},_doInpChanged:function(b){if(this._inpChanged&&b.domTarget!=this.$n("hex-inp")){b=b.domTarget;var a=this._newColor,
c=a.getRGB(),d=a.getHue(),e=a.getSaturation(),g=a.getValue(),f=zk.parseInt(b.value);switch(b.id.split("-")[1]){case "r":a.setRGB(f,c[1],c[2]);break;case "g":a.setRGB(c[0],f,c[2]);break;case "b":a.setRGB(c[0],c[1],f);break;case "h":a.setHSV(f,e,g);break;case "s":a.setHSV(d,f/100,g);break;case "v":a.setHSV(d,e,f/100)}this._colorChanged("inp");this._inpChanged=!1}},doKeyDown_:function(b){var a=b.keyCode;b=b.domTarget;var c=this.$n("hex-inp");13==a&&b==c?this._doHexChange():this._inpChanged=!0},doKeyUp_:function(b){this._doInpChanged(b)},
_doOk:function(b){var a=this._wgt;a.onChange(this._newColor.getHex());a.onHide(!0);b.stop()}})})();

zkreg('zkex.inp.Colorpicker');
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,a,b){c instanceof String&&(c=String(c));for(var g=c.length,d=0;d<g;d++){var e=c[d];if(a.call(b,e,d,c))return{i:d,v:e}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){c!=Array.prototype&&c!=Object.prototype&&(c[a]=b.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,a,b,g){if(a){b=$jscomp.global;c=c.split(".");for(g=0;g<c.length-1;g++){var d=c[g];d in b||(b[d]={});b=b[d]}c=c[c.length-1];g=b[c];a=a(g);a!=g&&null!=a&&$jscomp.defineProperty(b,c,{configurable:!0,writable:!0,value:a})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
(function(){var c=zkex.inp.Colorpalette=zk.$extends(zk.Widget,{$init:function(a){this.$supers("$init",arguments);this._wgt=a._wgt;this._color=new zkex.inp.Color},redraw:function(a){var b=this.$s(),c=this.uuid,d=11>zk.ie||zk.gecko?"a":"button",e,f,h,k=0;a.push('<div id="',c,'" class="',b,'">','<div class="',this.$s("head"),'"><div id="',c,'-newcolor" class="',this.$s("newcolor"),'"></div>','<input id="',c,'-hex-inp" class="',this.$s("input"),' z-textbox" type="text" size="7" maxlength="7"></input></div>',
'<div class="',this.$s("body"),'">');for(f=0;6>f;f++)for(e=5;3<=e;e--)for(h=5;0<=h;h--)a.push(this.getCell_(a,51*f,51*e,51*h,b,k++));for(f=5;0<=f;f--)for(e=2;0<=e;e--)for(h=5;0<=h;h--)a.push(this.getCell_(a,51*f,51*e,51*h,b,k++));for(e=0;16>e;e++)f=Math.floor((e+16*e)%256),a.push(this.getCell_(a,f,f,f,b,k++));a.push(this.getCell_(a,255,255,255,b,k++),this.getCell_(a,255,255,255,b,k++),"<",d,' id="',c,'-a" tabindex="-1" onclick="return false;" href="javascript:;" class="z-focus-a"></',d,"></div></div>")},
getCell_:function(a,b,c,d,e,f){var g=new zkex.inp.Color;g.setRGB(b,c,d);b=g.getHex().toUpperCase();a.push('<span class="',e,'-color" data-color="',b,'" ','data-index="',f,'" style="background-color: ',b,';"></span>')},onFloatUp:function(a){if(!zUtl.isAncestor(this,a.origin))this._clearSelected({clearIndex:!0});else if(!zUtl.isAncestor(this.parent,a.origin))this._wgt.onHide()},bind_:function(){this.$supers(c,"bind_",arguments);this.domListen_(this.$n("btn"),"onClick","_doPopupPicker");this.domListen_(this.$n("hex-inp"),
"onInput","_doHexInput");zWatch.listen({onShow:this,onFloatUp:this,onHide:this})},unbind_:function(){this.domUnlisten_(this.$n("hex-inp"),"onInput","_doHexInput");this.domUnlisten_(this.$n("btn"),"onClick","_doPopupPicker");zWatch.unlisten({onShow:this,onFloatUp:this,onHide:this});this.syncIndex=this._selectedIndex=null;this.$supers(c,"unbind_",arguments)},onShow:function(){this._focus(!0)},onHide:function(){this._wgt.onHide()},setColor:function(a){this._color.setHex(a);this.$n("newcolor").style.backgroundColor=
a;this.$n("hex-inp").value=a.toUpperCase()},_doPopupPicker:function(a){var b=this._wgt;b.closePalette();b.openPicker();a.stop()},_doHexInput:function(){var a=this.$n("hex-inp");a.value=a.value.replace(/[^#0-9a-fA-F]/,"")},doMouseOver_:function(a){var b=a.domTarget;jq(b).hasClass(this.$s("color"))&&(this._clearSelected({clearIndex:!0}),this._doColorOver(b),this.syncIndex=!0,a.stop());this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){this._doColorOut(a.domTarget)},doClick_:function(a){var b=
a.domTarget;if(jq(b).hasClass(this.$s("color"))){var c=this.$n("hex-inp");c.value||(c.value=jq(b).data("color"));var d=this._wgt;d.onChange(c.value);d.closePalette(!0);jq(b).removeClass(this.$s("selected"));a.stop()}else b==this.$n("hex-inp")?this._clearSelected({clearIndex:!0}):this._focus();this.$supers("doClick_",arguments)},_doHexChange:function(){var a=this._wgt,b=this._color;b.setHex(this.$n("hex-inp").value);b=b.getHex();this.$n("hex-inp").value=b;a.onChange(b);a.closePalette(!0)},doKeyDown_:function(a){var b=
a.keyCode,c=a.domTarget,d=this.$n("hex-inp");switch(b){case 37:case 38:case 39:case 40:c!=d&&(this._shift(37==b?-1:39==b?1:38==b?-18:40==b?18:0),a.stop());break;case 13:a=this._selectedIndex,(c==d||a||0==a||this._syncIndex())&&this._doHexChange()}},doKeyUp_:function(a){switch(a.keyCode){case 37:case 38:case 39:case 40:a.domTarget!=this.$n("hex-inp")&&a.stop()}},_focus:function(a){var b=this.$n("a");b&&(a?setTimeout(function(){zk(b).focus()}):zk(b).focus())},_shift:function(a){var b=jq(this.$n()).find("."+
this.$s("color")),c=b.length,d=this._selectedIndex;d=d||0==d?d+a:this._syncIndex()?this._selectedIndex+a:0;this._clearSelected();0>d?d=0:d>=c&&(d=c-1);this._selectedIndex=d;this._doColorOver(b[d])},_syncIndex:function(){if(this.syncIndex){this.syncIndex=null;var a=jq(this.$n()).find("."+this.$s("selected"));if(a.length)return this._selectedIndex=a.data("index"),!0}return!1},_clearSelected:function(a){var b=this._selectedIndex;this.syncIndex=null;if(b||0==b)this._doColorOut(jq(this.$n()).find('[data-index="'+
b+'"]')),a&&a.clearIndex&&(this._selectedIndex=null)},_doColorOver:function(a){this.$n("hex-inp").value=this.$n("newcolor").style.backgroundColor=jq(a).data("color");jq(a).addClass(this.$s("selected"))},_doColorOut:function(a){jq(a).removeClass(this.$s("selected"))}})})();

zkreg('zkex.inp.Colorpalette');
(function(){function g(a,b,c,d){a.red=1<b?1:0>b?0:b;a.green=1<c?1:0>c?0:c;a.blue=1<d?1:0>d?0:d}zkex.inp.Color=zk.$extends(zk.Object,{$init:function(a){this.$supers("$init",arguments);this.red=this.green=this.blue=this.hue=this.saturation=this.value=0;a&&this.setHex(a)},setRGB:function(a,b,c){if(isNaN(a)||isNaN(b)||isNaN(c))return!1;g(this,a/255,b/255,c/255);a=this.red;b=this.green;c=this.blue;var d=Math.max(Math.max(a,b),c),e=Math.min(Math.min(a,b),c);this.value=d;this.saturation=0;0!=d&&(this.saturation=
1-e/d);this.hue=0;e!=d&&(e=d-e,a=60*(a==d?(b-c)/e:b==d?2+(c-a)/e:4+(a-b)/e),0>a&&(a+=360),this.hue=a);return!0},getRGB:function(){return[Math.round(255*this.red),Math.round(255*this.green),Math.round(255*this.blue)]},getHue:function(){return this.hue},getSaturation:function(){return this.saturation},getValue:function(){return this.value},setHex:function(a){if(null==a||"string"!=typeof a)return!1;"#"==a.substr(0,1)&&(a=a.substr(1));if(6!=a.length)return!1;var b=zk.parseInt(a.substring(0,2),16),c=zk.parseInt(a.substring(2,
4),16);a=zk.parseInt(a.substring(4,6),16);return this.setRGB(b,c,a)},getHex:function(){var a=this.getRGB(),b=a[1],c=a[2];a=a[0].toString(16);b=b.toString(16);c=c.toString(16);a="#"+(1==a.length?"0"+a:a);a+=1==b.length?"0"+b:b;return a+=1==c.length?"0"+c:c},setHSV:function(a,b,c){if(isNaN(a)||isNaN(b)||isNaN(c))return!1;this.hue=360<=a?359.99:0>a?0:a;this.saturation=1<b?1:0>b?0:b;this.value=1<c?1:0>c?0:c;a=this.value;var d=this.saturation;this.blue=this.green=this.red=a;if(0!=a&&0!=d){b=this.hue/60;
var e=Math.floor(b);var f=b-e;b=a*(1-d);c=a*(1-d*f);f=a*(1-d*(1-f));switch(e){case 0:e=a;d=f;a=b;break;case 1:e=c;d=a;a=b;break;case 2:e=b;d=a;a=f;break;case 3:e=b;d=c;break;case 4:e=f;d=b;break;default:e=a,d=b,a=c}g(this,e,d,a)}return!0}})})();

zkex.inp.ContentHandler=zk.$extends(zk.Object,{$init:function(a,b){this.$supers("$init",arguments);this._wgt=a;this.setContent(b)},redraw:function(a){var b=this._wgt,c=b.uuid,d=b.getZclass(),e=this._picker,f=this._palette;switch(this._type){case "color":a.push('<div id="',c,'-cnt-pp" style="display:none;" class="',b.$s("popup"),'">',f?'<div id="'+c+'-palette-btn" class="'+b.$s("paletteicon")+'"></div>':"",e?'<div id="'+c+'-picker-btn" class="'+b.$s("pickericon")+'"></div>':"");e&&this._picker.redraw(a);
f&&this._palette.redraw(a);a.push("</div>");break;case "content":a.push('<div id="',c,'-cnt-pp" class="',b.$s("content-popup"),'" style="display:none"><div class="',d,'-cnt-body">',this._content,"</div></div>")}},bind:function(){var a=this._wgt,b=this._type;a.menupopup||(a.domListen_(a.$n(),"onClick","onShow"),zWatch.listen({onFloatUp:a,onHide:a}));this._pp=a.$n("cnt-pp");jq(this._pp,zk).bind("mouseenter",this.proxy(this._doMouseOver)).bind("mouseleave",this.proxy(this._doMouseOut));switch(b){case "color":this._color||
(this._color=new zkex.inp.Color(this._hex));(b=a.$n("img"))&&jq(b).addClass("z-colorbox-color").css("backgroundColor",this._color.getHex());var c=this;jq(a.$n("palette-btn")).bind("click",function(){c.openPalette()});jq(a.$n("picker-btn")).bind("click",function(){c.openPicker()})}},unbind:function(){var a=this._wgt;if(!a.menupopup)switch(a.domUnlisten_(a.$n(),"onClick","onShow"),this._shadow&&(this._shadow.destroy(),this._shadow=null),jq(this._pp,zk).unbind("mouseenter",this.proxy(this._doMouseOver)).unbind("mouseleave",
this.proxy(this._doMouseOut)),this._pp=null,this._type){case "color":jq(a.$n("palette-btn")).unbind("click");jq(a.$n("picker-btn")).unbind("click");this._color=null;break;case "content":zWatch.unlisten({onFloatUp:this,onHide:this})}},_doMouseOver:function(){var a=this._wgt.getMenubar();a&&(a._bOver=!0)},_doMouseOut:function(){var a=this._wgt.getMenubar();a&&(a._bOver=!1)},isOpen:function(){var a=this._pp;return a&&zk(a).isVisible()},onShow:function(){this.openContent()},onHide:function(a){var b=this._pp;
b&&zk(b).isVisible()&&(b.style.display="none",jq(b).zk.undoVParent(),this._hideShadow(),a&&zWatch.fire("onFloatUp",null))},onFloatUp:function(a){if(!zUtl.isAncestor(this._wgt,a.origin))this.onHide()},onChange:function(a){switch(this._type){case "color":var b=this._wgt,c=b.$n("img");c&&(c.style.backgroundColor=this._hex=a);this._color.setHex(a);b.fire("onChange",{color:a,value:a},{toServer:!0},150)}},_syncShadow:function(a){this._shadow||(this._shadow=new zk.eff.Shadow(this._pp,{stackup:zk.useStackup}));
this._shadow.sync()},_hideShadow:function(a){this._shadow.hide()},setContent:function(a){if(a&&!this._wgt.menupopup){this._content=a;var b=this._type,c=this._getType(a),d=this._wgt;b!=c&&this.destroy();this._type=c;switch(c){case "color":a=a.substr(a.indexOf("#color")+6+1);this._color?(b=this._color,c=d.$n("img"),b.setHex(a),c&&(c.style.backgroundColor=b.getHex())):(this._color=new zkex.inp.Color(a),this._hex=this._color.getHex());this._picker||this._palette||(this._picker=new zkex.inp.Colorpicker({_wgt:this}),
d.appendChild(this._picker),this._palette=new zkex.inp.Colorpalette({_wgt:this}),d.appendChild(this._palette),d.rerender());break;case "content":d.rerender()}}},destroy:function(){var a=this._type;if(a)switch(a){case "color":a=this._picker;var b=this._palette,c=this._wgt;this._color&&(this._color=null);a&&b&&(c.removeChild(a),c.removeChild(b),this._picker=this._palette=this._type=this._hex=null,c.rerender());break;case "content":this._wgt.rerender()}},_getType:function(a){if(a)return 0==a.indexOf("#color")?
"color":"content"},openContent:function(){var a=this._pp;a&&("color"==this._type&&this.openPalette(),a.style.width=a.style.height="auto",a.style.display="block",jq(a).zk.makeVParent(),zk(a).position(this._wgt.$n(),this.getPosition()),this._syncShadow())},openPalette:function(){var a=this._wgt.$n(),b=this._palette.$n();a&&b&&((a=this._picker.$n())&&zk(a).isVisible()&&this.closePicker(),b.style.display="block",jq(this._wgt.$n("cnt-pp")).addClass(this._palette.$s("popup")),this._syncShadow(),b=this._palette,
b.setColor(this._color.getHex()),b.onShow())},closePalette:function(a){var b=this._palette.$n();b&&zk(b).isVisible()&&(b.style.display="none",jq(this._wgt.$n("cnt-pp")).removeClass(this._palette.$s("popup")),a&&zWatch.fire("onFloatUp",null))},openPicker:function(){var a=this._wgt.$n(),b=this._picker.$n();a&&b&&(this.closePalette(),b.style.display="block",jq(this._wgt.$n("cnt-pp")).addClass(this._picker.$s("popup")),this._syncShadow(),a=this._picker,a.setColor(this._color.getHex()),a.onShow())},closePicker:function(a){var b=
this._picker.$n();b&&zk(b).isVisible()&&(b.style.display="none",jq(this._wgt.$n("cnt-pp")).removeClass(this._picker.$s("popup")),a&&zWatch.fire("onFloatUp",null))},getPosition:function(){var a=this._wgt;return a.isTopmost()&&(a=a.getMenubar())?"vertical"==a.getOrient()?"end_before":"after_start":"end_before"}});


}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zkex.inp',1);zk.load('zul,zul.layout, zul.inp, zul.tab, zul.menu, zul.box',function(){if(zk._p=zkpi('zss'))try{
/* Spreadsheet.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/


(function () {
	function _calScrollWidth () {
		if(zkS.t(zss.Spreadsheet.scrollWidth)) return;
	    // scroll scrolling div
		var body = document.body,
			scr = jq('<div style="position:absolute;top:0px;left:0px;width:80px;height:50px;overflow:auto;"></div>')[0],
			inn = jq('<div style="width:100px;height:100px;overflow: scroll;"></div>')[0]; //scroll content div
	    // Put the scrolli div in the scrolling div
	    scr.appendChild(inn);

	    // Append the scrolling div to the doc
	    body.appendChild(scr);

	    //calcuate the scrollWidth;	
		zss.Spreadsheet.scrollWidth = (scr.offsetWidth - scr.clientWidth);
		if (zss.Spreadsheet.scrollWidth == 0)
			zss.Spreadsheet.scrollWidth = scr.offsetHeight - scr.clientHeight;
		body.removeChild(scr);
		return;
	}
	
	function doUpdate(wgt, shtId, data, token) {
		wgt.sheetCtrl._skipMove = data.sk; //whether to skip moving the focus/selection after update
		wgt.sheetCtrl._cmdCellUpdate(shtId, data);
		if (token)
			zkS.doCallback(token);
		delete wgt.sheetCtrl._skipMove; //reset to don't skip
	}

	function doBlockUpdate(wgt, json, token) {
		//ZSS-1267: start the rendering message...
		if (wgt.sheetCtrl) {
			wgt.sheetCtrl.startRenderingMessage();
		}

		var ar = wgt._cacheCtrl.getSelectedSheet(),
			tp = json.type;
		if (ar && tp != 'ack') { //fetch cell will empty return,(not thing need to fetch)
			var d = json.data,
				tRow = json.top,
				lCol = json.left,
				bRow = tRow + json.height - 1,
				rCol = lCol + json.width - 1;
			ar.update(d);
			wgt.sheetCtrl._cmdBlockUpdate(tp, d.dir, tRow, lCol, bRow, rCol);
		}
		if (token)
			zkS.doCallback(token);
		
		//ZSS-1267: close the rendering message...
		if (wgt.sheetCtrl) {
			wgt.sheetCtrl.closeRenderingMessage();
		}
	}
	
	function _doInsertRCCmd (sheet, data, token) {
		sheet._cmdInsertRC(data);
		if (token != "")
			zkS.doCallback(token);	
	}
	function _doRemoveRCCmd (sheet, data, token) {
		sheet._cmdRemoveRC(data, true);
		if (token != "")
			zkS.doCallback(token);
	}
	function _doMergeCmd (sheet, data, token) {
		sheet._cmdMerge(jq.evalJSON(data), true);
		if (token != "")
			zkS.doCallback(token);
	}
	function _doSizeCmd (sheet, data, token) {
		sheet._cmdSize(data, true);
		if (token != "")
			zkS.doCallback(token);
	}
	function _doMaxrowCmd (sheet, data) {
		sheet._cmdMaxrow(data);
	}
	
	function _doMaxcolumnCmd (sheet, data) {
		sheet._cmdMaxcolumn(data);
	}
	
	/**
	 * Returns CSS link in head
	 * 
	 * @return StyleSheet object
	 */
	function getCSS (id) {
		var head = document.getElementsByTagName("head")[0];
		for (var n = head.firstChild; n; n = n.nextSibling) {
			if (n.id == id) {
				return n;
			}
		}
		return null;
	}
	
	/**
	 * Create a StyleSheet at the end of head node
	 * @param {String} cssText the default style css text.
	 * @param {String} id the id of this style sheet, null-able, you must assign the id if you want to remove it later.
	 * @return {Object} StyleSheet object
	 */
	function createSSheet (cssText, id) {
	    var head = document.getElementsByTagName("head")[0],
    		styleObj = document.createElement("style"),
    		sheetobj;
	    jq(styleObj).attr("type", "text/css");
		
	    if (id)
	       jq(styleObj).attr("id", id);
	    if (zk.ie && zk.ie < 11) {
	        head.appendChild(styleObj);
	        sheetobj = styleObj.styleSheet;
	        sheetobj.cssText = cssText;
	    } else {
	        try {
	        	styleObj.appendChild(document.createTextNode(cssText));
	        } catch (e) {
	        	styleObj.cssText = cssText;
	        }
	        head.appendChild(styleObj);
			sheetobj = _getElementSheet(styleObj);
	    }
	    return sheetobj;
	}
	/**
	 * remove StyleSheet object by id if exist.
	 * @param {String} id the style sheet id 
	 */
	function removeSSheet (id) {

		var node = document.getElementById(id);
		if(node && node.type == "text/css"){
			// ZSS-561: force clear css, or IE 10,11 will cache old css
			if(zk.ie >= 10) {
				node.removeAttribute('href');
			}
			node.parentNode.removeChild(node);
		}
	}
	/**
	 * get stylesheet object from DOMElement
	 */
	function _getElementSheet () {
		if (zk.ie && zk.ie < 11) {
			return function (element) {
				return element.styleSheet;
			};
		} else {
			return function (element) {
				return element.sheet;
			};
		}
	}
	
//	/**
//	 * Synchronize frozen area with top panel, left panel and corner panel
//	 */
//	function syncFrozenArea (sheet) {
//		var scroll = sheet.sp.comp,
//			corner = sheet.cp.comp,
//			currentWidth =  corner.offsetWidth,
//			maxWidth = scroll.clientWidth,
//			currentHeight = corner.offsetHeight,
//			maxHeight = scroll.clientHeight;
//		
//		if (currentWidth > maxWidth) {
//			var max = jq.px0(maxWidth),
//				left = sheet.lp.comp;
//			jq(corner).css('width', max);
//			jq(left).css('width', max);
//			//jq(scroll).css('overflow-x', 'hidden');
//		}
//
//		if (currentHeight > maxHeight) {
//			var height = jq.px0(maxHeight),
//				top = sheet.tp.comp;
//			jq(corner).css('height', height);
//			jq(top).css('height', height);
//			//jq(scroll).css('overflow-y', 'hidden');
//		}
//	}

	// 20140509, RaymondChao: ZK does not handle command key in mac, workaround is
	// converting the metaKey to ctrlKey. It should be removed when ZK fixes it.
	function _convertKeyEvent (evt) {
		if (zk.mac && evt.metaKey) {
			evt.ctrlKey = true;
			evt.data.ctrlKey = true;
		}
		return evt;
	}
	
/**
 * Spreadsheet is a rich ZK Component to handle EXCEL like behavior
 */
var Spreadsheet = 
zss.Spreadsheet = zk.$extends(zul.wgt.Div, {
	/**
	 * Indicate Ctrl-Paste event key down status
	 */
	_ctrlPasteDown: false,
	/**
	 * Indicate whether to always open hyperlink in a separate browser tab window; default true.
	 * <p>If this value is true, Spreadsheet will always open the link in a separate browser tab window.</p>
	 * <p>If this value is false, Spreadsheet will click to open the link in the same browser tab window; or 
	 * CTRL-click to open the link in a separate browser tab window.</p>
	 * @see #linkTo
	 */
	_linkToNewTab: true, //ZSS-13: Support Open hyperlink in a separate browser tab window
	_cellPadding: 2,
	_protect: false,
	_maxRows: 20,
	_maxColumns: 10,
	_rowFreeze: -1,
	_columnFreeze: -1,
	_rowHeight: 20,
	_clientCacheDisabled: false,
	_topPanelHeight: 20,
	_leftPanelWidth: 36,
	_maxRenderedCellSize: 8000,
	_displayGridlines: true,
	_showContextMenu: false,
	_selectionRect: null,
	_focusRect: null,
	_highLightRect: null,
	_colorPickerExUsed: false,
	/**
	 * Contains spreadsheet's toolbar
	 */
	//_toolbarPanel: null
	/**
	 * Contains zss.Formulabar, zss.SSheetCtrl
	 */
	//cave: null
	$init: function () {
		this.$supers(Spreadsheet, '$init', arguments);
		
		this.appendChild(this.cave = new zul.layout.Borderlayout({
			vflex: true, sclass: 'zscave'
		}));//contains zss.SSheetCtrl
		
		this._onResponseCallback = [];
	},
	$define: {
		/**
		 * Indicate cache data at client, won't prune data while scrolling sheet
		 */
		clientCacheDisabled: null,
		/**
		 * synchronized update data
		 * @param array
		 */
		dataBlockUpdate: _dataUpdate = function (v) {
			var sheet = this.sheetCtrl;
			if (!sheet) return;
			var token = v[0],
				json = jq.evalJSON(v[2]);
			if (sheet._initiated) {
				doBlockUpdate(this, json, token);
			} else {
				sheet.addSSInitLater(doBlockUpdate, this, json, token);
			}
		},
		dataBlockUpdateJump: _dataUpdate,
		dataBlockUpdateEast: _dataUpdate,
		dataBlockUpdateWest: _dataUpdate,
		dataBlockUpdateSouth: _dataUpdate,
		dataBlockUpdateNorth: _dataUpdate,
		dataBlockUpdateError: _dataUpdate,
		/**
		 * update data
		 * @param array
		 */
		dataUpdate: _updateCell = function (v) {
			var sheet = this.sheetCtrl;
			if (!sheet)	return;
			var token = v[0],
				shtId = v[1],
				data = v[2];
			
			if (sheet._initiated) {
				doUpdate(this, shtId, data, token);
			} else {
				sheet.addSSInitLater(doUpdate, this, shtId, data, token);
			}
		},
		dataUpdateStart: _updateCell,
		dataUpdateCancel: _updateCell,
		dataUpdateStop: _updateCell,
		dataUpdateRetry: _updateCell,
		redrawWidget: function (v) {
			var	sheet = this.sheetCtrl;
			if (!sheet)	return;
			
			var serverSheetId = v[0],
				wgtUuid = v[1],
				fn = function () {
					var w = zk.Widget.$(wgtUuid);
					if (w)
						w.redrawWidgetTo(sheet);
				};
			if (!this.isSheetCSSReady()) {
				sheet.addSSInitLater(fn);
			} else {
				fn();
			}
		},
		/**
		 * Inserts new row or column
		 */
		insertRowColumn: function (v) {
			var sheet = this.sheetCtrl;
			if (!sheet) return;
			
			var token = v[0],
				data = v[2],
				sheet = this.sheetCtrl;
			if (sheet._initiated)
				_doInsertRCCmd(sheet, data, token);
			else {
				sheet.addSSInitLater(_doInsertRCCmd, sheet, data, token);
			}
		},
		/**
		 * Removes row or column
		 */
		removeRowColumn: function (v) {
			var sheet = sheet = this.sheetCtrl;
			if (!sheet) return;
			var token = v[0], 
				data = v[2];

			if (sheet._initiated)
				_doRemoveRCCmd(sheet, data, token);
			else {
				sheet.addSSInitLater(_doRemoveRCCmd, sheet, data, token);
			}
		},
		mergeCell: function (v) {
			var sheet = this.sheetCtrl;
			if (!sheet) return;
			var token = v[0], 
				data = v[2];

			if (sheet._initiated)
				_doMergeCmd(sheet, data, token);
			else {
				sheet.addSSInitLater(_doMergeCmd, sheet, data, token);
			}
		},
		columnSize:  _size = function (v) {
			var sheet = this.sheetCtrl;
			if (!sheet) return;
			
			var data = v[2];
			if (sheet._initiated)
				_doSizeCmd(sheet, data);
			else {
				sheet.addSSInitLater(_doSizeCmd, sheet, data);
			}
		},
		/**
		 * Sets sheet protection. Default is false
		 * @param boolean
		 */
		/**
		 * Returns whether protection is enabled or disabled
		 * @return boolean
		 */
		protect: function (v) {
			var sheetCtrl = this.sheetCtrl;
			if (sheetCtrl) {
				sheetCtrl.fireProtectSheet(v);
				var ls = sheetCtrl.getLastSelection();
				if (v) {
					if (!sheetCtrl.isRangeSelectable(ls.left, ls.top, ls.right, ls.bottom)) {
						sheetCtrl.hideCellFocus();
						sheetCtrl.hideCellSelection();
					}
				} else {
					var pos = sheetCtrl.getLastFocus();
					sheetCtrl.moveCellFocus(pos.row, pos.column, true);
					sheetCtrl.showCellSelection();
				}
			}
			if (this._sheetBar) {
				this._sheetBar.getSheetSelector().setProtectSheetCheckmark(v);
			}
		},
		rowSize: _size,
		preloadRowSize: null,
		preloadColumnSize: null,
		initRowSize: null,
		initColumnSize: null,
		maxRenderedCellSize: null,
		/**
		 * Sets the maximum visible number of rows of this spreadsheet. For example, if you set
		 * this parameter to 40, it will allow showing only row 0 to 39. The minimal value of max number of rows
		 * must large than 0; <br/>
		 * Default : 20.
		 * 
		 * @param maxrows  the maximum visible number of rows
		 */
		/**
		 * Returns the maximum visible number of rows of this spreadsheet. You can assign
		 * new number by calling {@link #setMaxrows(int)}.
		 * 
		 * @return the maximum visible number of rows.
		 */
		maxRows: function(maxrows) {
			// ZSS-242: update range after change
			if(this.sheetCtrl) {
				this.sheetCtrl._cmdMaxrow(maxrows);
			}
		},
		/**
		 * Sets the maximum column number of this spreadsheet.
		 * for example, if you set to 40, which means it allow column 0 to 39. 
		 * the minimal value of maxcols must large than 0;
		 * <br/>
		 * Default : 10.
		 * 
		 * @param string
		 */
		/**
		 * Returns the maximum visible number of columns of this spreadsheet.
		 * 
		 * @return the maximum visible number of columns 
		 */
		maxColumns: function(maxcols) {
			// ZSS-242: update range after change
			if(this.sheetCtrl) {
				this.sheetCtrl._cmdMaxcolumn(maxcols);
			}
		},
		/**
		 * Sets the row freeze of this spreadsheet
		 * 
		 * @param rowfreeze row index
		 */
		/**
		 * Returns the row freeze index of this spreadsheet, zero base. Default : -1
		 * 
		 * @return the row freeze of selected sheet.
		 */
		rowFreeze: null,
		/**
		 * Sets the column freeze of this spreadsheet
		 * 
		 * @param columnfreeze  column index
		 */
		/**
		 * Returns the column freeze index of this spreadsheet, zero base. Default : -1
		 * 
		 * @return the column freeze of selected sheet.
		 */
		columnFreeze: null,
		/**
		 * Sets the customized titles of column header.
		 * @param string array
		 */
		/**
		 * Gets the customized titles of column header.
		 * @return string array
		 */
		columntitle: null,
		/**
		 * Sets the customized titles of row header.
		 * @param string array
		 */
		/**
		 * Gets the customized titles of row header.
		 * @return string array
		 */
		rowtitle: null,
		/**
		 * Sets the default row height of the selected sheet
		 * @param rowHeight the row height
		 */
		/**
		 * Gets the default row height of the selected sheet
		 * @return default value depends on selected sheet
		 */
		rowHeight: null,
		/**
		 * Sets the default column width of the selected sheet
		 * @param columnWidth the default column width
		 */
		/**
		 * Gets the default column width of the selected sheet
		 * @return default value depends on selected sheet
		 */
		columnWidth: null,
		/**
		 * Sets the top head panel height, must large then 0.
		 * @param topHeight top header height
		 */
		/**
		 * Gets the top head panel height
		 * default 20
		 * @return int
		 */
		topPanelHeight: null,
		/**
		 * Sets the left head panel width, must large then 0.
		 * @param leftWidth leaf header width
		 */
		/**
		 * Gets the left head panel width
		 * @return default value is 36
		 */
		leftPanelWidth: null,
		/**
		 * cell padding of each cell and header, both on left and right side.
		 */
		cellPadding: null,
		/** 
		 * the encoded URL for the dynamic generated content, or empty
		 * 
		 * @param string href CSS link
		 */
		scss: function (href) {
			var el = this.getCSS();
			if (el && this.bindLevel >= 0) {//Chrome need to check bindLevel; if not, CSS won't update correctly
				el.href = href;
			}
		},
		/**
		 * Sets selected sheet uuid
		 * 
		 * @param string sheey uuid
		 * @param boolean fromServer
		 * @param zss.Range visible range (from client) 
		 */
		sheetId: function (id, fromServer, visRange) {
			//For isSheetCSSReady() to work correctly.
			//when during select sheet in client side, server send focus au response first (set attributes later), 
			// _sheetId will be last selected sheet, cause isSheetCSSReady() doesn't work correctly 
			this._invalidatedSheetId = false;
			
			var sheetCtrl = this.sheetCtrl,
				cacheCtrl = this._cacheCtrl,
				sheetBar = this._sheetBar,
				sheetSelector = sheetBar ? sheetBar.getSheetSelector() : null;
			if (sheetSelector)
				sheetSelector.setSelectedSheet(id);
			if (sheetCtrl && cacheCtrl && cacheCtrl.getSelectedSheet().sheetId != id) { //side effect from ZSS-1037, don't change 'sheetId' to 'id'
				if (!fromServer) {
					cacheCtrl.setSelectedSheetBy(id);	
				}
				sheetCtrl.doSheetSelected(visRange);
			}
			var loadSheetStart = this._loadSheetStart;
			if (loadSheetStart) {
				this._loadSheetStart = false;
			}
		},
		/**
		 * Sets whether display gridlines.
		 * 
		 * Default: true
		 * @param boolean show true to show the gridlines;
		 */
		/**
		 * Returns whether display gridlines. default is true
		 * 
		 * @return boolean
		 */
		displayGridlines: function (show) {
			var sheet = this.sheetCtrl;
			if (!sheet) return;

			if (this.isSheetCSSReady()) {
				sheet.setDisplayGridlines(show);
			} else {
				//set cell focus after CSS ready
				sheet.addSSInitLater(function () {
					sheet.setDisplayGridlines(show);
				});
			}
		},
		mergeRange: null,
		autoFilter: null,
		csc: null,
		csr: null,
		//override
		width: function (v) {
			var sheet = this.sheetCtrl;
			if (sheet)
				sheet.resizeTo(v, null);
		},
		//override
		height: function (v) {
			var sheet = this.sheetCtrl;
			if (sheet)
				sheet.resizeTo(null, v);
		},
		/**
		 * Sets true to hide the row head of this spread sheet.
		 * @param boolean v true to hide the row head of this spread sheet.
		 */
		/**
		 * Returns if row head is hidden
		 * @return boolean
		 */
		rowHeadHidden: null,
		/**
		 * Sets true to hide the column head of  this spread sheet.
		 * @param boolean v true to hide the row head of this spread sheet.
		 */
		/**
		 * Returns if column head is hidden
		 * @return boolean
		 */
		columnHeadHidden: null,
		/**
		 * Sets whether show toolbar or not
		 * 
		 * Default: false
		 * @param boolean show true to show toolbar
		 */
		/**
		 * Returns whther show toolbar
		 * @return boolean
		 */
		showToolbar: function (show) {
			var w = this._toolbar;
			if (!w && show) {
				var tb = this._toolbar = new zss.Toolbar(this),
					tbp = this.getToolbarPanel();
				tbp.appendChild(tb);
				tbp.setHeight(tb.getSize());
			} else if (w) {
				var v = w.isVisible();
				if (v != show) {
					w.setVisible(show);
					this.getToolbarPanel().setVisible(show);
					zUtl.fireSized(this, -1);
				}
			}
		},
		actionDisabled: function (v) {
			var tb = this._toolbar
			if (tb)
				tb.setDisabled(v);
			if (this.getShowContextMenu()) {
				var shtCtrl = this.sheetCtrl;
				if (shtCtrl) {
					shtCtrl.setActionDisabled(v);
				}
			}
			var sb = this._sheetBar;
			if (sb)
				sb.setDisabled(v);
		},
		/**
		 * Sets whether show formula bar or not
		 * @param boolean show true to show formula bar
		 */
		/**
		 * Returns whether show formula bar
		 * @return boolean
		 */
		showFormulabar: function (show) {
			var w = this._formulabar;
			if (!w && show) {
				this.cave.appendChild(this._formulabar = new zss.Formulabar(this));
			} else if (w) {
				w.setVisible(show);
			}
		},
		/**
		 * Sets whether show sheetbar or not
		 * @param boolean true if want to show sheetbar
		 */
		/**
		 * Returns whether show sheetbar
		 * @return boolean 
		 */
		showSheetbar: function (show) {
			var w = this._sheetBar;
			if (!w && show) {
				this.cave.appendChild(this._sheetBar = new zss.Sheetbar(this));
			} else if (w) {
				w.setVisible(show);
			}
		},
		/**
		 * Sets whether show ContextMenu or not. Default is false
		 * @param boolean true if want to show ContextMenu (row/column/cell)
		 * 
		 * Returns whether show ContextMenu
		 * @return boolean
		 */
		showContextMenu: null,
		/**
		 * Sets sheet's name and uuid of book
		 */
		sheetLabels: function (v) {
			var sheetBar = this._sheetBar;
			if (sheetBar) {
				sheetBar.getSheetSelector().setSheetLabels(v);
			}
		},
		copysrc: null, //flag to show whether a copy source has set
		//flag that indicate server has done paste operation, no need to do paste at client,
		//Note. this flag will clear by doKeyUp()
		doPasteFromServer: null,
		colorPickerExUsed: null,
		//ZSS-1044: Whether keep cell selection box when lost focus
		keepCellSelection: false,
		//ZSS-1184: Whether ignore calculating auto height
		ignoreAutoHeight: false,
		//ZSS-1082: end user be to increase max visible rows/columns
		/**
		 * Sets whether show add-max-visible-row button
		 * @param boolean true if want to show add-max-visible-row button
		 */
		/**
		 * Returns whether show add-max-visible-row button
		 * @return boolean 
		 */
		showAddRow: function (show) {
			if (this._addRow != show) {
				this._addRow = show;
				var w = this._sheetBar;
				if (w && w.isVisible()) {
					w.cave.addRowButton.setVisible(show);
				}
			}
		},
		//ZSS-1082: end user be to increase max visible rows/columns
		/**
		 * Sets whether show add-max-visible-column button
		 * @param boolean true if want to show add-max-visible-column button
		 */
		/**
		 * Returns whether show add-max-visible-column button
		 * @return boolean 
		 */
		showAddColumn: function (show) {
			if (this._addColumn != show) {
				this._addColumn = show;
				var w = this._sheetBar;
				if (w && w.isVisible()) {
					w.cave.addColButton.setVisible(show);
				}
			}
		}
	},
	// ZSS-390: the selected range should not large than max rows/columns
	// It will be significant poor performance.
	setSelectionRect : function(rect) {
		this._selectionRect = this._narrowRect(rect);
	},
	getSelectionRect : function() {
		return this._selectionRect;
	},
	setFocusRect : function(rect) {
		this._focusRect = this._narrowRect(rect);
	},
	getFocusRect : function() {
		return this._focusRect;
	},
	setHighLightRect : function(rect) {
		this._highLightRect = this._narrowRect(rect);
	},
	getHighLightRect : function() {
		return this._highLightRect;
	},
	/** narrow rectangle and make sure its range won't exceed max rows/columns. */
	_narrowRect: function (rect) {
		var r = rect.split(",");
		var left = zk.parseInt(r[0]); 
		var top= zk.parseInt(r[1]); 
		var right = zk.parseInt(r[2]); 
		var bottom = zk.parseInt(r[3]);
		if(right > this._maxColumns - 1) {
			right = this._maxColumns - 1;
		}  
		if(bottom > this._maxRows - 1) {
			bottom = this._maxRows - 1;
		}
		return left + "," + top + "," + right + "," + bottom;
	},
	clearCachedSize_: function () {
		this.getToolbarPanel().clearCachedSize_();
		this.cave.clearCachedSize_();
		this.$supers(zss.Spreadsheet, 'clearCachedSize_', arguments);
	},
	getToolbarPanel: function () {
		var tbp = this._toolbarPanel;
		if (!tbp) {
			tbp = this._toolbarPanel = new zul.layout.Borderlayout({vflex: 'min'});
			this.insertBefore(tbp, this.firstChild);
		}
		return tbp;
	},
	getSheetCSSId: function () {
		return this.uuid + '-sheet';
	},
	getSelectorPrefix: function () {
		return '#' + this.uuid;
	},
	/**
	 * Returns whether CSS loaded from server or not
	 */
	isSheetCSSReady: function () {
		if (this._invalidatedSheetId) {//set by zss.Sheetbar, indicate current sheetId is invalidated
			return false;
		}
		return !!zcss.findRule(this.getSelectorPrefix() + " .zs_indicator_" + this.getSheetId(), this.getSheetCSSId());
	},
	/**
	 * Sets active range
	 */
	setActiveRange: function (v) {
		var c = this._cacheCtrl;
		if (!c) {
			this._cacheCtrl = c = new zss.CacheCtrl(this, v);
			
			var center = new zul.layout.Center({border: 0});
			center.appendChild(this.sheetCtrl = new zss.SSheetCtrl(this));
			this.cave.appendChild(center);
		} else {
			var sheet = this.sheetCtrl,
				range;
			if (sheet) {
				c.setSelectedSheet(v);
				this._triggerContentsChanged = true;
			}
		}
	},
//	getUpload: function () {
//		return this._$upload;
//	},
//	onChildAdded_: function (child) {
//		if (child.$instanceof(zss.Upload)) {
//			this._$upload = child;
//		}
//	},
	/**
	 * Synchronize widgets position to cell
	 * @param int row row index
	 * @param int col column index
	 */
	syncWidgetPos: function (row, col) {
		var wgtPanel = this.$n('wp'),
			widgets = jq(this.$n('wp')).children('.zswidget'),
			sheet = this.sheetCtrl,
			size = widgets.length;
		while (size--) {
			var n = widgets[size],
				wgt = zk.Widget.$(n.id);
			if (wgt && ((row >= 0 && wgt.getRow() >= row) || (col >= 0 && wgt.getCol() >= col)))
				wgt.adjustLocation();
		}
	},
	/**
	 * Returns the current focus of spreadsheet to Server
	 */
	setRetrieveFocus: function (v) {
		var sheet = this.sheetCtrl;
		if (!sheet) return;
		
		var v0 = typeof v === 'string' ? jq.evalJSON(v) : v; //ZSS-1042
		if (this.isSheetCSSReady()) {
			sheet._cmdRetriveFocus(v0);
		} else {
			sheet.addSSInitLater(function () {
				sheet._cmdRetriveFocus(v0);
			});
		}
	},
	/**
	 * Sets the current focus of spreadsheet
	 */
	setCellFocus: function (v) {
		var sheet = this.sheetCtrl;
		if (!sheet || sheet.isSwitchingSheet) return;

		if (this.isSheetCSSReady()) {
			sheet._cmdCellFocus(v);
		} else {
			//set cell focus after CSS ready
			sheet.addSSInitLater(function () {
				sheet._cmdCellFocus(v);
			});
		}
	},
	/**
	 * Retrieve client side spreadsheet focus.The cell focus and selection will
	 * keep at last status. It is useful if you want get focus back to
	 * spreadsheet after do some outside processing, for example after user
	 * click a outside button or menu item.
	 * 
	 * @param boolean trigger, true will fire a focus event, false won't.
	 */
	focus: function (trigger) {
		if (zk.ie && zk.ie < 11) {
			var self = this;
			//setTimeout(function () {
				var sht = self.sheetCtrl;
				if (sht && sht._initiated)
					sht.dp.gainFocus(trigger);
			//}, 0);
		} else if (this.sheetCtrl)
			this.sheetCtrl.dp.gainFocus(trigger);
	},
	/**
	 * Returns whether child DOM Element has focus or not
	 */
	hasFocus: function () {
		return jq.isAncestor(this.$n(), document.activeElement);
	},
	/**
	 * Move the editor focus 
	 */
	moveEditorFocus: function (id, name, color, row, col) {
		if (this.sheetCtrl)
			this.sheetCtrl.moveEditorFocus(id, name, color, zk.parseInt(row), zk.parseInt(col));
	},
	/**
	 * Remove the editor focus
	 */
	removeEditorFocus: function (id) {
		if (this.sheetCtrl)
			this.sheetCtrl.removeEditorFocus(id);
	},
	/**
	 * Sets the highlight rectangle or sets a null value to hide it.
	 */
	setSelectionHighlight: function (v) {
		var sheet = this.sheetCtrl;
		if (!sheet) return;
		
		if (this.isSheetCSSReady()) {
			sheet._cmdHighlight(v);
		} else {
			//set highlight after CSS ready
			sheet.addSSInitLater(function () {
				sheet._cmdHighlight(v);
			});
		}
	},
	/**
	 * Sets the selection rectangle of the spreadsheet
	 */
	setSelection: function (v) {
		var sheet = this.sheetCtrl;
		if (!sheet || sheet.isSwitchingSheet) return;
		
		var sf = this,
			//ZSS-169
			fn = function () {
			if (sf._ctrlPasteDown) {//set selection after keyup
				sf._afterPasteCallback = function () {
					sheet._cmdSelection(v);
				};
			} else {
				sheet._cmdSelection(v);
			}
		};
		if (this.isSheetCSSReady()) {
			fn();
		} else {
			//set selection after CSS ready
			sheet.addSSInitLater(function () {
				fn();
			});
		}
	},
	/**
	 * Returns whether if the server has registers Cell click event or not
	 * @return boolean
	 */
	_isFireCellEvt: function (type) {
		var evtnm = zss.Spreadsheet.CELL_MOUSE_EVENT_NAME[type];
		if ('onCellFilter' == evtnm) { //server side prepare auto filter popup information for client side
			return true;
		}
		return evtnm && this.isListen(evtnm, {asapOnly: true});
	},
	/**
	 * Returns whether if the server has registers Header click event or not
	 * @return boolean
	 */
	_isFireHeaderEvt: function (type) {
		var evtnm = zss.Spreadsheet.HEADER_MOUSE_EVENT_NAME[type];
		return evtnm && this.isListen(evtnm, {asapOnly: true});
	},
	/**
	 * Fire Header click event
	 * <p> Fires header event to server only if the server registers Header click event
	 * <p> Fires header event at client side
	 * @param string type, the type of the header event, "lc" for left click, "rc" for right click, "dbc" for double click
	 * 
	 */
	fireHeaderEvt: function (type, shx, shy, mousemeta, row, col, mx, my) {
		var sheetId = this.getSheetId(),
			prop = {type: type, shx: shx, shy: shy, key: mousemeta, sheetId: sheetId, row: row, col: col, mx: mx, my: my};
		if (this._isFireHeaderEvt(type)) {
			//1995689 selection rectangle error when listen onCellClick, 
			//use timeout to delay mouse click after mouse up(selection)
			var self = this;
			setTimeout(function() {
				self.fire('onZSSHeaderMouse', prop, {toServer: true});
			}, 0);
		}
		var evtName = zss.Spreadsheet.HEADER_MOUSE_EVENT_NAME[type];
		if (evtName) {
			var e = new zk.Event(this, evtName, prop);
			e.auStopped = true;
			this.fireX(e);
		}
	},
	/**
	 * Fires Cell Event
	 * <p> 
	 * @param string type
	 */
	fireCellEvt: function (type, shx, shy, mousemeta, row, col, mx, my, field) {
		if ('af'==type && this.isProtect() &&
			!this.sheetCtrl._wgt.allowAutoFilter) { //forbid using filter under protection
			return;
		}
		
		var sheetId = this.getSheetId(),
			prop = {type: type, shx: shx, shy: shy, key: mousemeta, sheetId: sheetId, row: row, col: col, mx: mx, my: my};
		if (field)
			prop.field = field;
		if (this._isFireCellEvt(type)) {
			//1995689 selection rectangle error when listen onCellClick, 
			//use timeout to delay mouse click after mouse up(selection)
			var self = this;
			setTimeout(function() {
				self.fire('onZSSCellMouse',	prop, {toServer: true}, 25);
			}, 0);
		}
		var evtName = zss.Spreadsheet.CELL_MOUSE_EVENT_NAME[type];
		if (evtName) {
			var e = new zk.Event(this, evtName, prop);
			e.auStopped = true;
			this.fireX(e);
		}
	},
	/**
	 * Fire widget update event
	 * 
	 * type
	 * <ul>
	 * 	<li>move</li>
	 * 	<li>resize</li>
	 * </li>
	 * 
	 * @param string wgt the widget type
	 * @param string action the event type
	 * @param string id the id of the widget
	 * @param int dx1 the x coordinate within the first cell
	 * @param int dy1 the y coordinate within the first cell
	 * @param int dx2 the x coordinate within the second cell
	 * @param int dy2 the y coordinate within the second cell
	 * @param int col1 the column (0 based) of the first cell
	 * @param int row1 the row (0 based) of the first cell
	 * @param int col2 the column (0 based) of the second cell
	 * @param int row2 the row (0 based) of the second cell
	 */
	fireWidgetUpdatEvt: function (wgt, action, id, dx1, dy1, dx2, dy2, col1, row1, col2, row2) {
		this.fire('onWidgetUpdate', {sheetId:this.getSheetId(), wgtType: wgt, action: action, wgtId: id, dx1: dx1, dy1: dy1, 
			dx2: dx2, dy2: dy2, col1: col1, row1: row1, col2: col2, row2: row2}, {toServer: true}, 25);
	},
	fireToolbarAction: function (action, extra) {
		var data = {sheetId: this.getSheetId(), tag: 'toolbar', action: action};
		this.fire('onAuxAction', zk.copy(data, extra), {toServer: true});
	},
	fireSheetAction: function (action, extra) {
		var data = {sheetId: this.getSheetId(), tag: 'sheet', action: action};
		this.fire('onAuxAction', zk.copy(data, extra), {toServer: true});
	},
	//ZSS-1082
	fireRowAction: function (action, extra) {
		var data = {sheetId: this.getSheetId(), tag: 'row', action: action};
		this.fire('onAuxAction', zk.copy(data, extra), {toServer: true});
	},
	//ZSS-1082
	fireColAction: function (action, extra) {
		var data = {sheetId: this.getSheetId(), tag: 'column', action: action};
		this.fire('onAuxAction', zk.copy(data, extra), {toServer: true});
	},
	/**
	 * Fetch active range. Currently fetch north/south/west/south direction
	 */
	fetchActiveRange: function (top, left, right, bottom) {
		if (!this._fetchActiveRange) {
			this.sheetCtrl.activeBlock.loadstate = zss.MainBlockCtrl.LOADING;
			this.fire('onZSSFetchActiveRange', 
				{sheetId: this.getSheetId(), top: top, left: left, right: right, bottom: bottom}, {toServer: true});
			this._fetchActiveRange = true;
		}
	},
	/**
	 * Recive active range data
	 */
	setActiveRangeUpdate: function (v) {
		this._fetchActiveRange = null;
		var cacheCtrl = this._cacheCtrl;
		if (cacheCtrl) {
			this.sheetCtrl.activeBlock.loadstate = zss.MainBlockCtrl.IDLE;
			cacheCtrl.getSelectedSheet().fetchUpdate(v);
			this.sheetCtrl.activeBlock.loadForVisible(); // 20160203, henrichen: load cell from cache
			this.sheetCtrl.sendSyncblock();
			//ZSS-1134: This is patchy; IE9 sometimes wrongly set 
			//	spcmp.scrollLeft to zero; we enforcely set it back
			if (zk.ie && zk.ie == 9) {
				this.sheetCtrl.sp._resetIE9ScrollPosition();
			}
		}
	},
	_initFrozenArea: function () {
		var rowFreeze = this.getRowFreeze(),
			colFreeze = this.getColumnFreeze();
		if ((rowFreeze != undefined && rowFreeze > -1) || (colFreeze != undefined && colFreeze > -1)) { // ZSS-392: minor issue
			var sheet = this.sheetCtrl;
			if (!sheet) return;
			
//			Bug ZSS-766: the modification fix the issue. but it also causes other issue when 
//			tiny size of width and height of browser window with frozen column and row. 
//			sync size when the left/top/coner are large than scroll panel is unneccesary.  
//			zk.afterMount(function(){
//				syncFrozenArea(sheet);
//			});
		}	
	},
	/**
	 * Returns whether load CSS or not
	 * 
	 * @return boolean
	 */
	getCSS: function () {
		return getCSS(this.uuid + "-sheet");
	},
	_initControl: function () {
		if (this.getSheetId() == null) //no sheet at all
			return;
		
		var cssId = this.uuid + '-sheet';
		if (!getCSS(cssId)) { //unbind may remove css, need to check again
			zk.loadCSS(this._scss, cssId);
		}
		
		this._initFrozenArea();
	},
	bind_: function (desktop, skipper, after) {
		_calScrollWidth();
		this._initControl();
		this.$supers('bind_', arguments);
		
		var sheet = this.sheetCtrl;
		if (sheet) {
			if (zk.safari) {
				zk(sheet.$n()).redoCSS();
			}
			sheet.fireProtectSheet(this.isProtect());
			sheet.fireDisplayGridlines(this.isDisplayGridlines());
		
			//ZSS-1087: restore panel position after invalidate()
			if (desktop._tmpSnaps) {
				if (desktop._tmpSnapsTimer) {
					clearTimeout(desktop._tmpSnapsTimer);
					delete desktop._tmpSnapsTimer
				}
				sheet.restorePos_(desktop._tmpSnaps);// sheet.restoreSheet(snapshot);
				delete desktop._tmpSnaps;
			}
		}
		
		zWatch.listen({onResponse: this});
		
		// ZSS-253: listen global event to modify focus
		// can't resolve the focus from partner to non-partner issue now.
//		jq(document).bind('zmousedown', this.proxy(this._doPartnerBlur));
//		jq(document).bind('keyup', this.proxy(this._doPartnerBlur)); // zss still has focus when key down 
	},
	unbind_: function () {
		//ZSS-1087: store the panel position before invalidate()
		if (this._cacheCtrl) {
			var sheetId = this.getSheetId(),
				dt = this.desktop;
			dt._tmpSnaps = this._cacheCtrl.snap(sheetId);
			//ZSS-1087: auto delete to avoid memory leak
			dt._tmpSnapsTimer = setTimeout(function () {
				delete dt._tmpSnaps;
			}, 0);
		}
		
		zWatch.unlisten({onResponse: this});
		
		this._cacheCtrl = this._maxColumnMap = this._maxRowMap = null;
		
		removeSSheet(this.getSheetCSSId());
		this.$supers('unbind_', arguments);
		if (window.CollectGarbage)
			window.CollectGarbage();
		
		// ZSS-253
		// can't resolve the focus from partner to non-partner issue now.
//		jq(document).unbind('zmousedown');
//		jq(document).unbind('keyup'); 
	},
	onResponse: function () {
		if (this._triggerContentsChanged != undefined) {
			this.sheetCtrl.fire('onContentsChanged');
			delete this._triggerContentsChanged;
		}

		var fns = this._onResponseCallback,
			fn = null;
		while (fn = fns.shift()) {
			fn();
		}
		this._sendAu = false;
	},
	domClass_: function (no) {
		return 'zssheet';
	},
	/**
	 * handle ZSS partner component blur event and let ZSS can blur correctly (ZSS-253). 
	 */
	_doPartnerBlur: function (event) {
		var ssctrl = this.sheetCtrl;
		var w = zk.currentFocus;
		while(w) {
			// check it's ZSS related widget or not
			if(w.className.indexOf('zss.') == 0 || w.className.indexOf('zssex.') == 0) {
				return;
			} 
			// check it's ZSS partner or not
			if(w.zssPartner) { //if a wdiget has zssPartner flag and set to true, gain focus back
				ssctrl.dp.gainFocus(false); // fake focus
				return;
			}
			w = w.parent; // check parent widget
		}
		ssctrl.dp._doFocusLost(); // otherwise, let spreadsheet blur
	}, 
	_doDataPanelBlur: function (evt) {
		var sheet = this.sheetCtrl;
		if (sheet.innerClicking <= 0 && sheet.state == zss.SSheetCtrl.FOCUSED) {
			
			// ZSS-737: focus is switching to textarea for pasting.
			if (sheet.isPasteFromClipboard) {
				sheet.dp.gainFocus(false); // fake focus
				return;
			}

			// #ZSS-253: check the widget which got focus is associated with spreadsheet or not
			// also check its parent until null
			var w = zk.currentFocus;
			
			//ZSS-630 in zk 7 and IE 9, the timing of menupop is different and currentFocus of menupop is null. 
			//has to get it back by dom manually
			if(!w){
				var fdom = document.activeElement;
				if(fdom){
					w = zk.Widget.$(fdom);
				}
			}
			
			while(w) {
				if(w.zssPartner) {	//if a wdiget has zssPartner flag and set to true, gain focus back
					sheet.dp.gainFocus(false); // fake focus
					return;
				}
				w = w.parent; // check parent widget
			}
			sheet.dp._doFocusLost(); // otherwise, let spreadsheet blur
			
			// TODO: check zk.currentFocus, if child of spreadsheet, do not _doFocusLost
			
		} else if(sheet.state == zss.SSheetCtrl.FOCUSED) {
			//retrive focus back to focustag
			sheet.dp.gainFocus(false);//Note. no prepare copy (in safari, it trigger onFloatUp evt, cause menupopup close)
		}
	},
	_doDataPanelFocus: function (evt) {
		var sheet = this.sheetCtrl;
		if (sheet.state < zss.SSheetCtrl.FOCUSED)
			sheet.dp.gainFocus(false);
	},
	_doSelAreaMouseMove: function (evt) {
		var sel = this.sheetCtrl.selArea;
		if (sel)
			sel._doMouseMove(evt);
	},
	_doSelAreaMouseOut: function (evt) {
		var sel = this.sheetCtrl.selArea;
		if (sel)
			sel._doMouseOut(evt);
	},
	doClick_: function (evt) {
		if (this.sheetCtrl)
			this.sheetCtrl._doMouseleftclick(evt);
		this.$supers('doClick_', arguments);
	},
	/**
	 * override
	 * 
	 * this method will check the current focus information first.
	 * 
	 * Case 1: no focus currently, sets the focus of the spreadsheet to last focus position.
	 * Case 2: spreadsheet has focus, depends on the target, execute the relative mouse down behavior		
	 */
	doMouseDown_: function (evt) {
		if (this.sheetCtrl)
			this.sheetCtrl._doMousedown(evt);
		this.$supers('doMouseDown_', arguments);
	},
	//ZSS-1225
	_checkContext : function () {
		var ctxnm = this.getContext(),
			ctxpop = ctxnm ? this.$f(ctxnm) : null,
			ss = this;
		if (ctxpop != this._ctxpopwgt) {
			if (this._ctxpopwgt) {
				this._ctxpopwgt.unlisten({onOpen: [ss, ss._onOpenCtxpop]});
				delete this._ctxpopwgt;
			}
			if (ctxpop) {
				this._ctxpopwgt = ctxpop;
				ctxpop.listen({onOpen: [ss, ss._onOpenCtxpop]})
			}
		}
		if (this._closingCtxpop) {
			this.focus(); // force set focus back to Spreadsheet
			this._closingCtxpop = false;
		}
		
	},
	//ZSS-1225
	_onOpenCtxpop : function (evt) {
		this._closingCtxpop = !evt.open;
		var ss = this;
		if (!evt.open) {
			setTimeout(function() { //auto set to false if not closed by checkContext()
				ss._closingCtxpop = false;
			}, 0);
		}
	},
	doMouseUp_: function (evt) {
		if (this.sheetCtrl)
			this.sheetCtrl._doMouseup(evt);
		this.$supers('doMouseUp_', arguments);
	},
	doRightClick_: function (evt) {
		if (this.sheetCtrl)
			this.sheetCtrl._doMouserightclick(evt);
		this.$supers('doRightClick_', arguments);
	},
	doDoubleClick_: function (evt) {
		if (this.sheetCtrl)
			this.sheetCtrl._doMousedblclick(evt);
		this.$supers('doDoubleClick_', arguments);
	},
	_doDragMouseUp: function (evt) {
		var dragHandler = this.sheetCtrl.dragging;
		if (dragHandler)
			dragHandler.doMouseup(evt);
	},
	_doDragMouseDown: function (evt) {
		var dragHandler = this.sheetCtrl.dragging;
		if (dragHandler)
			dragHandler.doMousemove(evt);
	},
	_releaseClientCache: function (sheetId){
		if(this._cacheCtrl){
			this._cacheCtrl.releaseCache(sheetId);
		}
	},
	//ZSS-1181
	_releaseSelectedCache: function (sheetId) {
		if(this._cacheCtrl){
			this._cacheCtrl.releaseSelectedCache(sheetId);
		}
	},
	sendAU_: function (evt, timeout, opts) {
		if (evt.name == 'onCtrlKey') {
			//client side need to know whether server do paste action at server side or not
			//if server side doesn't perform paste action, client side will do paste at doKeyUp_()
			timeout = 0;
		}
		this._sendAu = true;//a flag that indicat au processing
		this.$supers('sendAU_', arguments);
	},
	doKeyDown_: function (evt) {
		evt = _convertKeyEvent(evt);
		var sheet = this.sheetCtrl;
		if (sheet) {
			sheet._doKeydown(evt);
			// CTRL-V: a flag that whether stop event 
			// for avoid multi-paste same clipboard content to focus textarea or not
			if (evt.ctrlKey && evt.keyCode == 86) {
				this._ctrlPasteDown = true;
			}
		}
		this.$supers('doKeyDown_', arguments);
	},
	afterKeyDown_: function (evt) {
		var sheet = this.sheetCtrl; 
		if (sheet && sheet.state != zss.SSheetCtrl.EDITING) {
			var data = evt.data,
				sel = sheet.getLastSelection();
			if (sel) {
				data.tRow = sel.top;
				data.lCol = sel.left;
				data.bRow = sel.bottom;
				data.rCol = sel.right;
				data.type = sheet.selType ? sheet.selType : zss.SEL.CELL; //ZSS-717
			}
			data.sheetId = this.getSheetId();
			this.$supers('afterKeyDown_', arguments);
			//feature #26: Support copy/paste value to local Excel
			var keyCode = evt.keyCode;
			if (this.isListen('onCtrlKey', {any:true}) && 
				(keyCode == 67 || keyCode == 86)) { //67: ctrl-c; 86: ctrl-v
				var parsed = this._parsedCtlKeys,
					ctrlKey = evt.ctrlKey ? 1: evt.altKey ? 2: evt.shiftKey ? 3: 0;
				if (parsed && 
					parsed[ctrlKey][keyCode]) {
					//Widget.js will stop event, if onCtrlKey reg ctrl + c and ctrl + v. restart the event
					evt.domStopped = false;
				}

				// ZSS-737: prevent focus lost when focus to textarea.
				sheet.isPasteFromClipboard = true;
				sheet.dp.selectInputNode();
				var that = this;
				//do the copy on the sheet!
				// 20140509, RaymondChao: focustag's value becames empty when paste twice or more times without setTimeout.
				setTimeout(function(){ that.doPaste(); }, 0);
			}
		}
		//avoid onCtrlKey to be eat in editing mode.
	},
	doKeyPress_: function (evt) {
		evt = _convertKeyEvent(evt);
		if (this.sheetCtrl)
			this.sheetCtrl._doKeypress(evt);
		this.$supers('doKeyPress_', arguments);
	},
	doKeyUp_: function (evt) {
		this.$supers('doKeyUp_', arguments);
		this._ctrlPasteDown = false;
	},
	//feature#161: Support copy&paste from clipboard to a cell
	doPaste: function () {
		if (!this._ctrlPasteDown)
			return;

		var sl = this,
			sheet = this.sheetCtrl,
			clearFn = function () {
				sl._doPasteFromServer = false;
			};
		if (sheet && sheet.state == zss.SSheetCtrl.FOCUSED) {
			sheet.pasteToSheet();
			//ZSS-169
			var fn = this._afterPasteCallback;
			if (fn) {
				fn();
				delete this._afterPasteCallback;
			}
		}
		// #ZSS-327: only clear the flag when copy-paste (i.e "ctrl+v") 
		if (this._sendAu) {//au processing, reset _doPasteFromServer on after response
			this._onResponseCallback.push(clearFn);
		} else {
			clearFn();
		}
	},
	linkTo: function (href, type, evt) {
		//1: LINK_URL
		//2: LINK_DOCUMENT
		//3: LINK_EMAIL
		//4: LINK_FILE
		if (type == 1) {
			if (this._linkToNewTab || evt.ctrlKey) //LINK_URL, always link to new tab window or CTRL-click
				window.open(href);
			else //LINK_URL, no CTRL
				window.location.href = href;
		} else if (type == 3) { //LINK_EMAIL
			window.location.href = href;
			this._skipOnbeforeunloadOnce(); //ZSS-900
		}
//		else if (type == 4) //LINK_FILE
			//TODO LINK_FILE
//		else if (type == 2) //LINK_DOCUMENT
			//TODO LINK_DOCUMENT
	},
	//ZSS-900
	// Tricky! Skip ZK's original onbeforeunload event once and then retore back
	_skipOnbeforeunloadOnce: function() {
		var _oldBfUnload = window.onbeforeunload;
		window.onbeforeunload = function () {
			window.onbeforeunload = _oldBfUnload;
		};
	},
	//ZSS-1000
	setCtrlArrowMoveFocus: function (v) {
		var sheetId = v.sheetId,
			row = v.row,
			col = v.col;
		if (sheetId != this.getSheetId()) return;
		var ssctrl = this.sheetCtrl;
		ssctrl.dp.moveFocus(row, col, true, true);
	},
	//ZSS-1085
	setShiftPosFocus: function (v) {
		var sheetId = v.sheetId,
			row = v.row,
			col = v.col;
		if (sheetId != this.getSheetId()) return;
		var ssctrl = this.sheetCtrl;
		ssctrl.dp.moveFocus(row, col, true, true);
	}
}, {
	CELL_MOUSE_EVENT_NAME: {lc:'onCellClick', rc:'onCellRightClick', dbc:'onCellDoubleClick', af:'onCellFilter', dv:'onCellValidator'},
	HEADER_MOUSE_EVENT_NAME: {lc:'onHeaderClick', rc:'onHeaderRightClick', dbc:'onHeaderDoubleClick'},
	SRC_CMD_SET_COL_WIDTH: 'setColWidth',
	initLaterAfterCssReady: function (sheet) {
		var wgt = sheet._wgt,
			sheetId = wgt.getSheetId();
		if (wgt.isSheetCSSReady()) {
			sheet._initiated = true;
			//since some initial depends on width or height,
			//so first ss initial later must invoke after css ready,
			
			//_doSSInitLater must invoke before loadForVisible,
			//because some urgent initial must invoke first, or loadForVisible will load a wrong block
			sheet._doSSInitLater();
			if (sheet._initmove) {//#1995031
				sheet.showMask(false);
			} else if(zk(sheet._wgt).isRealVisible() &&	!sheet.activeBlock.loadForVisible()){
				//if no loadfor visible send after init, then we must sync the block size
				sheet.showMask(false);
			}
			if (zk.opera)
				//opera cannot insert rule on special index,
				//so I must create another style sheet to control style rule priority
				createSSheet("", wgt.uuid + "-sheet-opera");//heigher
			
			//force IE to update CSS
			if (zk.ie6_ || zk.ie7_)
				jq(sheet.activeBlock.comp).toggleClass('zssnosuch');
			
			//fix the IE sometime doesn't load bottom/right block after init/switch sheet/invalidate
			setTimeout(function(){
				sheet.activeBlock.loadForVisible();
				
				// ZSS-600: create style context menu after initialized
				sheet.getStyleMenupopup();
			},25);
			
		} else {
			setTimeout(function () {
				zss.Spreadsheet.initLaterAfterCssReady(sheet);
			}, 1);
		}		
	}
});


})();

zkreg('zss.Spreadsheet');
zk._m={};
zk._m['default']=function (out) {
	var tbp = this._toolbarPanel;
	
	out.push('<div ', this.domAttrs_(), '>', tbp ? tbp.redrawHTML_() : '');
	out.push(this.cave.redraw(out));//sheet
	
	for (var w = this.firstChild; w; w = w.nextSibling){
		if(w.ghost){//allow to draw ghost to main body
			w.redraw(out);
		}
	}
	
    out.push('</div>');
}
;zkmld(zk._p.p.Spreadsheet,zk._m);
/*
 * global definition of zss
 */
(function () {
	zss.SEL = {
		CELL:"cell",
		ROW:"row",
		COL:"col",
		ALL:"all"
	};
	zss.SELDRAG = {
		MOVE: "move",
		RESIZE: "resize"
	};
	zss.SCROLL_DIR = { // ZSS-475: add direction enum. for scrolling to visible
		BOTH: "both",
		HORIZONTAL: "horizontal",
		VERTICAL: "vertical"
	};
	zss.SCROLL_POS = { // ZSS-664: add position enum. for scrolling to position
		NONE: 'none',
		TOP: 'top',
		BOTTOM: 'bottom'
	};
	zss.clientCopy = {
			maxRowCount: 400,
			maxColumnCount: 40
	};
	zss.colorPalette = {
		width:180,
		height:120,
		color:
			["#000000","#993300","#333300","#003300","#000080",
	      	"#003366","#660066","#333333","#800000","#FF8080",
	      	"#808000","#008000","#008080","#0000FF","#800080",
	      	"#969696","#FF0000","#FF6600","#FFFF66","#99CC00",
	      	"#33CCCC","#0066CC","#6666FD","#808080","#FF00FF",
	      	"#FF9900","#FFFF00","#00FF00","#00FFFF","#00CCFF",
	      	"#CC99FF","#C0C0C0","#FF99CC","#FFCB90","#FFFF99",
	      	"#CCFFCC","#CCFFFF","#99CCFF","#9999FF","#FFFFFF"]
	};
})();


/* AreaCtrl.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

(function () {
	/**
	 * Clone the opacity DOM element and replace.
	 * This is for IE 8. when opacity area large than a limit, the mask of opacity will fail.
	 * http://yuilibrary.com/projects/yui2/ticket/2528621
	 * @param zss.AreaCtrl
	 */
	function _redrawOpacity (obj) {
		var inner = obj.icomp,
			cloneInner = jq(inner).clone()[0];
		jq(inner).replaceWith(cloneInner);
		obj.icomp = cloneInner;
	}

	/**
	 * @param zss.AreaCtrl
	 * @param boolean
	 */
	function _showSelectionArea (obj, redrawOpacity) {
		var range = obj.lastRange;
		if (!range) return;
		jq(obj.comp).css('display', 'block');
		jq(obj.icomp)[((range.top != range.bottom) || (range.left != range.right)) ? 'addClass' : 'removeClass']("zsselecti-r");
		if ((zk.ie8 && zk.ie < 11) && redrawOpacity)
			_redrawOpacity(obj);
	}

/**
 * Area controller
 * 
 */
zss.AreaCtrl = zk.$extends(zk.Object, {
	$init: function (sheet, cmp, range, mode) {
		this.$supers('$init', arguments);
		this.id = cmp.id;
		cmp.ctrl = this;
		this.comp = cmp;
		this.icomp = cmp.firstChild;
		this.sheet = sheet;
		this.lastRange = range ? range : new zss.Range(0,0,0,0);
		this.mode = mode;//null,inner,outer
	},
	cleanup: function () {
		this.invalid = true;
		if (this.comp) this.comp.ctrl = null;
		this.comp = this.icomp = this.sheet = null;
	},
	/**
	 * Locate selection area
	 * @param zss.Range range of the selection
	 */
	relocate: function (range) {
		var sheet = this.sheet;
		if (!range) {
			range = this.lastRange;
			if (!range) return;
		} else
			this.lastRange = range;

		var custColWidth = sheet.custColWidth,
			custRowHeight = sheet.custRowHeight,
			l = custColWidth.getStartPixel(range.left),
			t = custRowHeight.getStartPixel(range.top),
			w = custColWidth.getStartPixel(range.right + 1) - l,
			h = custRowHeight.getStartPixel(range.bottom + 1) - t;
		
		this.relocate_(l, t, w, h);
	},
	relocate_: function(l, t, w, h) {

		var sheet = this.sheet,
			dp = sheet.dp;
		
		l += sheet.leftWidth;//adjust to block position.
		t += sheet.topHeight + 1;//adjust to block position. //ZSS-948
		l = l - 2;
		t = t - 2;
		w = w + 3;
		h = h + 3;
		if (this.mode == "inner") {
			l = l + 1;
			t = t + 1;
			w = w - 2;
			h = h - 2;
		}

		jq(this.comp).css({'width': jq.px0(w), 'height': jq.px0(h), 'left': jq.px(l), 'top': jq.px(t)});
	},
	isVisible: function () {
		return this.comp.style.display == 'block';
	},
	/**
	 * Display selection area
	 */
	showArea: function () {
		var range = this.lastRange;
		if (!range) return;

		jq(this.comp).css('display', 'block');
	},
	/**
	 * Hide selection area 
	 */
	hideArea: function () {
		jq(this.comp).css('display', 'none');
	}
});

/**
 * Selection area controller
 * 
 * <P> This controls the spreadsheet's selection area. When user focus on
 * a cell or select multiple cells, shows the selection area.
 */
zss.SelAreaCtrl = zk.$extends(zss.AreaCtrl, {
	//override
	$init: function (sheet, cmp, range, mode) {
		this.$supers('$init', arguments);
		var wgt = this.sheet._wgt,
			n = this.comp;
		wgt.domListen_(n, 'onMouseMove', '_doSelAreaMouseMove');
		wgt.domListen_(n, 'onMouseOut', '_doSelAreaMouseOut');
	},
	cleanup: function () {
		var wgt = this.sheet._wgt,
			n = this.comp;
		wgt.domUnlisten_(n, 'onMouseMove', '_doSelAreaMouseMove');
		wgt.domUnlisten_(n, 'onMouseOut', '_doSelAreaMouseOut');
		this.$supers('cleanup', arguments);
	},
	showArea: function () {
		_showSelectionArea(this, true);
	},
	_doMouseMove: function (evt) {
		var sheet = this.sheet,
			mx = evt.pageX,
			my = evt.pageY,
			cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false),
			row = cellpos[0],
			col = cellpos[1],
			cell = sheet.getCell(row, col);
		//ZSS-454 Cannot click on hyperlink in the merge cell.
		if (cell!=null && cell.merr) {
			cell = sheet.getCell(cell.mert,cell.merl);
		}
		if (cell) {
			//ZSS-864
			if (sheet._showCellComment)
				sheet._showCellComment(cell);
			if (this._isStartHyperlink()) return; //the hyperlink followup is already started, so don't worry about the cursor
			var jqa = jq(cell.comp).find('a');
			if (jqa.length>0) {
				var aelm = jqa[0];
				if(zkS.isOverlapByPoint(aelm, mx, my)) {
					jq(this.icomp).css('cursor', 'pointer');
					this._setHyperlinkElment(aelm);
					return;
				}
			}
			this._resetHyperlink();
		}
	},
	_doMouseOut: function (evt) {
		this._resetHyperlink();
		
		//ZSS-864
		var sheet = this.sheet,
			mx = evt.pageX,
			my = evt.pageY,
			cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false),
			row = cellpos[0],
			col = cellpos[1],
			cell = sheet.getCell(row, col);
		if (cell!=null && cell.merr) {
			cell = sheet.getCell(cell.mert,cell.merl);
		}
		if (cell && sheet._showCellComment) {
			sheet._showCellComment(cell);
		}
	},
	_setHyperlinkElment: function (elm) {
		this._hyperlinkElm = elm;
	},
	_startHyperlink: function(aelm) { //when mouse down
		this._stopHyperlink(); //just in case event is not properly fired ...
		//stupid ie8 will call _doMouseOut, and _doMouseMove between _startHyperlink and _tryAndEndHyperlink.
		//and #_hyperlinkElm will lost in #_resetHyperlink
		if(zk.ie8 && zk.ie < 11) this._start = true;
		var t = 1000;
		this._mdtimeout = (new Date()).getTime() + t;
		if((aelm && aelm.tagName.toLowerCase() == 'a') || this._hyperlinkElm) {
			var selArea = this, //delay 1 second
				anchor = aelm;
			setTimeout(function() {selArea._resetHyperlinkCursor(anchor)}, t);
		}
	},
	_tryAndEndHyperlink: function (row, col, evt) { //when mouse click
		var elm = this._hyperlinkElm;
		if (elm && elm.tagName.toLowerCase() == 'a') {
			if (!this._isHyperlinkTimeout(new Date().getTime())) {//not time out yet
				var href = elm.getAttribute('z.href'),
					type = elm.getAttribute('z.t');
				type = parseInt(type);//it is string in attribute
				this.sheet._wgt.linkTo(href, type, evt);
				
				//ZSS-807: "place in document" might link to other sheet; snapshot before leave
				if (type == 2) {
					var wgt = this.sheet._wgt,
						cacheCtrl = wgt._cacheCtrl,
						currSheetId = wgt.getSheetId();
					cacheCtrl.snap(currSheetId); //snapshot current sheet status
				}

				this.sheet._sendOnCellHyperlink(row, col, href, type, evt);
			}
		}
		//end of a hyperlink followup
		this._stopHyperlink();
	},
	_stopHyperlink: function () {
		//stupid ie8 will call _doMouseOut, and _doMouseMove between _startHyperlink and _tryAndEndHyperlink.
		//and #_hyperlinkElm will lost in #_resetHyperlink
		if(zk.ie8 && zk.ie < 11) delete this._start;
		delete this._mdtimeout;
		if (this._aelm) {
			jq(this._aelm).css('cursor', '');
			delete this._aelm;
		}
	},
	_isStartHyperlink: function() {
		return this._mdtimeout;
	},
	_isHyperlinkTimeout: function(t) {
		return t >= this._mdtimeout;
	},
	_resetHyperlinkCursor: function (aelm) {
		if (!aelm) {
			jq(this.icomp).css('cursor', 'default');
		} else {
			this._aelm = aelm;
			jq(aelm).css('cursor', 'default');
		}
	},
	_resetHyperlink: function () {
		//stupid ie8 will call _doMouseOut, and _doMouseMove between _startHyperlink and _tryAndEndHyperlink.
		//and #_hyperlinkElm will lost in #_resetHyperlink. Must work around it
		if ((!zk.ie8 || zk.ie >= 11)|| !this._start) {
			delete this._hyperlinkElm;
			this._resetHyperlinkCursor();
		}
	}
});

/**
 * Selection changing area controller
 * 
 * <p> This controls the spreadsheet's selection change area. When user drag
 * current selection area to change selection area size, shows selection changing 
 * area. 
 */
zss.SelChgCtrl = zk.$extends(zss.AreaCtrl, {});

/**
 * Area controller at corner panel
 * 
 */
zss.AreaCtrlCorner = zk.$extends(zss.AreaCtrl, {});

/**
 * Selection area controller at corner panel
 */
zss.SelAreaCtrlCorner = zk.$extends(zss.AreaCtrlCorner, {
	//override
	showArea: function () {
		_showSelectionArea(this);
	}
});

/**
 * Selection changing area controller at corner panel
 */
zss.SelChgCtrlCorner = zk.$extends(zss.AreaCtrlCorner, {});

/**
 * Area controller at left panel
 */
zss.AreaCtrlLeft = zk.$extends(zss.AreaCtrl, {
	//override
  	relocate_: function (l, t, w, h) {
		var sheet = this.sheet;
		l += sheet.leftWidth - 1;
		
		if (sheet.lp.toppad) {
			t -= sheet.lp.toppad;
		}
		
		l = l - 2;
		t = t - 2;
		w = w + 3;
		h = h + 3;
		if (this.mode == "inner") {
			l = l + 1;
			t = t + 1;
			w = w - 2;
			h = h - 2;
		}

		jq(this.comp).css({'width': jq.px0(w), 'height': jq.px0(h), 'left': jq.px(l),'top' : jq.px(t)});
	}
});

/**
 * Selection area controller at left panel
 */
zss.SelAreaCtrlLeft = zk.$extends(zss.AreaCtrlLeft, {
	//override
	showArea: function () {
		_showSelectionArea(this);
	}
});

/**
 * Selection changing controller at left panel
 */
zss.SelChgCtrlLeft = zk.$extends(zss.AreaCtrlLeft, {});

/**
 * Area controller at top panel
 */
zss.AreaCtrlTop = zk.$extends(zss.AreaCtrl, {
	//override
  	relocate_: function(l , t, w, h) {
		var sheet = this.sheet;
		t += sheet.topHeight;//adjust to block position. //ZSS-948

		l = l - 2;
		t = t - 2;
		w = w + 3;
		h = h + 3;
		if (this.mode == "inner") {
			l = l + 1;
			t = t + 1;
			w = w - 2;
			h = h - 2;
		}

		jq(this.comp).css({'width': jq.px0(w), 'height': jq.px0(h), 'left': jq.px(l), 'top': jq.px(t)});
	}
});

/**
 * Selection area controller at top panel
 */
zss.SelAreaCtrlTop = zk.$extends(zss.AreaCtrlTop, {
	//override
	showArea: function () {
		_showSelectionArea(this);
	}
});

/**
 * Selection changing area controller at top panel
 */
zss.SelChgCtrlTop = zk.$extends(zss.AreaCtrlTop, {});
})();
/* AutoScrollCtrl.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

(function () {
	var ROWINC = 40,
		COLINC = 60,
		TIMEOUT = 100;
	/**
	 * Sets scroll panel scroll position
	 */
	function _autoScroll (sheet, ctrl) {
		var dir = ctrl.dir;
		if (dir && dir.length > 0) {
			var fn = function () {
				_autoScroll(sheet, ctrl);
			};
			setTimeout(fn, zss.AutoScrollCtrl.TIMEOUT);
		} else
			return;
		//scroll 
		var spcmp = sheet.sp.comp,
			rowoff = coloff = 0;
		if (dir.indexOf("t") > -1)
			rowoff = -ROWINC;
		else if (dir.indexOf("b") > -1)
			rowoff = ROWINC;
	
		if (dir.indexOf("l") > -1)
			coloff = -COLINC;
		else if(dir.indexOf("r") > -1)
			coloff = COLINC;
		
		if (! (ctrl.dironly == zss.AutoScrollCtrl.COLONLY))
			spcmp.scrollTop += rowoff;
				
		if (! (ctrl.dironly == zss.AutoScrollCtrl.ROWONLY) && rowoff == 0 ){
			//don't move both direction(rowoff!=0), 
			//because Load On Deman will prune cell when direction change.
			//in this case , if i move left when roowof!=0, that is V -> H -> V -> H 
			spcmp.scrollLeft += coloff;
	}
}
/**
 * AutoScrollCtrl is used to scrolling scroll panel when user do select dragging
 */
zss.AutoScrollCtrl = zk.$extends(zk.Object, {
	$init: function (sheet, dir, dironly) {
		this.$supers('$init', arguments);
		this.sheet = sheet;
		this.dir = dir;
		this.dironly = dironly;
		_autoScroll(sheet, this);
	},
	cleanup: function () {
		this.dir = "";
	},
	setDir: function(dir){
		this.dir = dir;
	},
	getDir: function(){
		return this.dir;
	}
}, {
	ROWONLY: 1,
	COLONLY: 2
});
})();
/* Button.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Jan 12, 2012 7:07:27 PM , Created by sam
}}IS_NOTE

Copyright (C) 2012 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
}}IS_RIGHT
*/
(function () {

if (zk.ie6_ && !jq.IE6_ALPHAFIX) {
	jq.IE6_ALPHAFIX = '.png';
}
var AU = {au: true},
	AbstractButtonHandler = {
		doMouseDown_: function (evt) {
			var wgt = this._wgt;
			if (wgt) {
				var sheet = wgt.sheetCtrl;
				if (this._pp) {//fake spreadsheet focus
					wgt.focus(false);
				} else if (sheet) {
					// ZSS-744: spreadsheet still has focus in IE when mouse down, need to force it to stop editing.
					if (zk.ie) {
						sheet.dp.stopEditing('refocus');
					}
					sheet._doMousedown(evt);
				}
			}
		},
		doMouseUp_: function (evt) {
			var wgt = this._wgt;
			if (wgt) {
				var sheet = wgt.sheetCtrl;
				if (this._pp) {//fake spreadsheet focus
					wgt.focus(false);
				} else if (sheet) {
					sheet._doMouseup(evt);
				}
			}
		}
	},
	AbstractPopupHandler = {
		doMouseDown_: function (evt) {
			var wgt = this._wgt;
			if (wgt) {//fake focus
				wgt.focus(false);
			}
		},
		doMouseUp_: function (evt) {
			var wgt = this._wgt;
			if (wgt) {//fake focus
				wgt.focus(false);
			}
		}
	};

zss.FontSizeCombobox = zk.$extends(zul.inp.Combobox, {
	$init: function (props, wgt, builder) {
		this.$supers(zss.FontSizeCombobox, '$init', [props]);
		this._wgt = wgt;
		this._bd = builder;  //ZSS-1171
	},
	_$action: 'fontSize',
	$define: {
		/**
		 * Represent button's action at server side
		 */
		$action: null
	},
	//ZSS-1276
	$getAction: function () {
		return this._$aciton || this.$action;
	},
	setDisabled: function (actions) {
		var d = this.isDisabled();
		if (actions.$contains(this.$getAction())) { //ZSS-1276
			if (!d) {
				this.$supers(zss.FontSizeCombobox, 'setDisabled', [true]);
			}
		} else {
			if (d) {
				this.$supers(zss.FontSizeCombobox, 'setDisabled', [false]);
			}
		}
	},
	bind_: function () {
		this.$supers(zss.FontSizeCombobox, 'bind_', arguments);
		this.listen({onSelect: this});
		var wgt = this._wgt;
		if (wgt) {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.listen({onCellSelection: this.proxy(this._onCellSelection)});
			}
		}
	},
	unbind_: function () {
		var wgt = this._wgt;
		if (wgt) {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.unlisten({onCellSelection: this.proxy(this._onCellSelection)});
			}
		}
		this.unlisten({onSelect: this});
		this.$supers(zss.FontSizeCombobox, 'unbind_', arguments);
	},
	//ZSS-1171
//	preRow: null,
//	preCol: null,
//	preFontSize: null,
	_onCellSelection: function (evt) {
		//ZSS-1171: no show context menu, skip
		if (this._bd._skipNoShow()) {
			return;
		}

		var d = evt.data;
		//ZSS-1171: skip if select on the previous cell
		if (this.preRow == d.top && this.preCol == d.left) {
			return;
		}
		this.preRow = d.top;
		this.preCol = d.left;
		
		var	c = this._wgt.sheetCtrl.getCell(d.top, d.left);
		if (c) {
			var fontSize = c.getFontSize();
			//ZSS-1171: skip if same state
			if (fontSize == this.preFontSize) {
				return;
			}
			this.preFontSize = fontSize;
			
			this.setValue(fontSize);
		}
	},
	onSelect: function (evt) {
		var wgt = this._wgt,
			sheet = wgt.sheetCtrl,
			sel = evt.data.reference;
		if (sheet && sel) {
			var s = sheet.getLastSelection(),
				tRow = s.top,
				lCol = s.left,
				bRow = s.bottom,
				rCol = s.right,
				selType = sheet.selType ? sheet.selType : zss.SEL.CELL; //ZSS-717

			sheet.triggerSelection(tRow, lCol, bRow, rCol);
			wgt.fireToolbarAction('fontSize', 
				{size: sel.getLabel(), tRow: tRow, lCol: lCol, bRow: bRow, rCol: rCol, type: selType}); //ZSS-717
		}
	},
	_doBtnClick: function (evt) {
		var chd = this.firstChild;
		if (!chd) {
			var size = ['8', '9', '10', '11', '12', '14', '16', 
			            '18', '20', '22', '24', '26', '28', 
			            '36', '48', '72'];
			for (var i = 0, len = size.length; i < len; i++) {
				this.appendChild(new zul.inp.Comboitem({
					label: size[i],
					sclass: 'zsfontsize-' + size[i]
				}));
			}
		}
		this.$supers(zss.FontSizeCombobox, '_doBtnClick', arguments);
	},
	getSclass: function () {
		return 'zsfontsize'
	}
});
zk.copy(zss.FontSizeCombobox.prototype, AbstractPopupHandler);
	
zss.FontFamilyCombobox = zk.$extends(zul.inp.Combobox, {
	$init: function (props, wgt, builder) {
		this.$supers(zss.FontFamilyCombobox, '$init', [props]);
		this._wgt = wgt;
		this._bd = builder; //ZSS-1171
	},
	_$action: 'fontFamily',
	$define: {
		/**
		 * Represent button's action at server side
		 */
		$action: null
	},
	//ZSS-1276
	$getAction: function () {
		return this._$aciton || this.$action;
	},
	setDisabled: function (actions) {
		var d = this.isDisabled();
		if (actions.$contains(this.$getAction())) { // ZSS-1276
			if (!d) {
				this.$supers(zss.FontFamilyCombobox, 'setDisabled', [true]);
			}
		} else {
			if (d) {
				this.$supers(zss.FontFamilyCombobox, 'setDisabled', [false]);
			}
		}
	},
	bind_: function () {
		this.$supers(zss.FontFamilyCombobox, 'bind_', arguments);
		this.listen({onSelect: this});
		
		var wgt = this._wgt;
		if (wgt) {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.listen({onCellSelection: this.proxy(this._onCellSelection)});
			}
		}
	},
	unbind: function () {
		var wgt = this._wgt;
		if (wgt) {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.unlisten({onCellSelection: this.proxy(this._onCellSelection)});
			}
		}
		this.$supers(zss.FontFamilyCombobox, 'unbind', arguments);
	},
	//ZSS-1171
//	preRow: null,
//	preCol: null,
//	preFontName: null,
	_onCellSelection: function (evt) {
		//ZSS-1171: no show context menu, skip
		if (this._bd._skipNoShow()) {
			return;
		}
		
		var d = evt.data;
		//ZSS-1171: skip if select on same cell
		if (d.top == this.preRow && d.left == this.preCol) {
			return;
		}
		this.preRow = d.top;
		this.preCol = d.left;
		
		var	c = this._wgt.sheetCtrl.getCell(d.top, d.left);
		if (c) {
			var fontName = c.getFontName();
			//ZSS-1171: skip if same state
			if (this.preFontName == fontName) {
				return;
			}
			this.preFontName = fontName;
			
			this.setValue(fontName);
		}
	},
	unbind_: function () {
		this.unlisten({onSelect: this});
		this.$supers(zss.FontFamilyCombobox, 'unbind_', arguments);
	},
	onSelect: function (evt) {
		var wgt = this._wgt,
			sheet = wgt.sheetCtrl,
			sel = evt.data.reference;
		if (sheet && sel) {
			var s = sheet.getLastSelection(),
				tRow = s.top,
				lCol = s.left,
				bRow = s.bottom,
				rCol = s.right,
				selType = sheet.selType ? sheet.selType : zss.SEL.CELL; //ZSS-717

			sheet.triggerSelection(tRow, lCol, bRow, rCol);
			wgt.fireToolbarAction('fontFamily', 
				{name: sel.getLabel(), tRow: tRow, lCol: lCol, bRow: bRow, rCol: rCol, type: selType}); //ZSS-717
		}
	},
	_doBtnClick: function (evt) {
		var chd = this.firstChild;
		if (!chd) {
			var prefix = 'zsfontfamily',
				fonts = ['Calibri', 'Arial', 'Arial Black', 'Comic Sans MS', //ZSS-1072
			             'Courier New', 'Georgia', 'Impact', 
			             'Lucida Console', 'Lucida Sans Unicode',
			             'Palatino Linotype', 'Tahoma', 'Times New Roman',
			             'Trebuchet MS', 'Verdana', 'MS Sans Serif', 
			             'MS Serif'];
			for (var i = 0, len = fonts.length; i < len; i++) {
				var fontFamily = fonts[i],
					fs = fontFamily.toLowerCase().split(/\s+/),
					scls = prefix;
				
				for (var j = 0, fl = fs.length; j < fl; j++) {
					scls += ('-' + fs[j]);
				}
				this.appendChild(new zul.inp.Comboitem({
					label: fontFamily,
					sclass: scls
				}));
			}
		}
		this.$supers(zss.FontFamilyCombobox, '_doBtnClick', arguments);
	},
	getSclass: function () {
		return 'zsfontfamily';
	}
});
zk.copy(zss.FontFamilyCombobox.prototype, AbstractPopupHandler);
	
zss.ToolbarbuttonSeparator = zk.$extends(zul.wgt.Toolbarbutton, {
	$o: zk.$void,
	$define: {
		/**
		 * Represent button's action at server side
		 */
		$action: null
	},
	setDisabled: zk.$void,
	domTextStyleAttr_: function () {
		var u = zk.ajaxURI('/web/zss/img/sep.gif', {au: true});
		return zUtl.appendAttr("style", 'background:url(' + u + 
				') repeat-y scroll 0 0 transparent;height: 20px;width:2px;padding:2px 0;');
	},
	getSclass: function () {
		return 'zstbtn-sep';
	}
});

zss.Toolbarbutton = zk.$extends(zul.wgt.Toolbarbutton, {
	$o: zk.$void,
	//_defaultImage: null,
	/**
	 * The menupopup of the Toolbarbutton
	 */
	$init: function (props, wgt) {
		this.$supers(zss.Toolbarbutton, '$init', [props]);
		this._wgt = wgt;
	},
	$define: {
		/**
		 * Represent button's action at server side
		 */
		$action: null,
		clickDisabled: null
	},
	//ZSS-1276
	$getAction: function () {
		return this._$aciton || this.$action;
	},
	setDisabled: function (actions) {
		if (actions) {
			var disable = this.isDisabled();
			if (actions.$contains(this.$getAction())) { //ZSS-1276
				if (!disable){
					this.$supers(zss.Toolbarbutton, 'setDisabled', [true]);
				}
			} else if (disable) {//clear disabled
				this.$supers(zss.Toolbarbutton, 'setDisabled', [false]);
			}
			
		} else {
			this.$supers(zss.Toolbarbutton, 'setDisabled', arguments);
		}
	},
	setImage: function (v) {
		if (!this._defaultImage) {
			this._defaultImage = v;
		}
		this.$supers(zss.Toolbarbutton, 'setImage', arguments);
	},
//	//ZSS-1171
	preSel: false,
//	preMenuItem: null,
	/**
	 * @param boolean true set UI selected effect, set false to remove
	 * @param zss.Menuitem the menuitem that selected
	 */
	setSelectedEffect: function (seld, menuitem) {
		//ZSS-1171: skip if same state
		if (this.preSel == seld && this.preMenuItem == menuitem) {
			return;
		}
		this.preSel = seld;
		this.preMenuItem = menuitem;
		
		var pp = this.getPopup();
		var $n = jq(this.$n());
		var src = null;
		if (seld && pp && menuitem) {
			var src = menuitem.getImage();
			this._seldImage = src;
				
			if (src) {
				this.setImage(src);
			}
		} else if (!menuitem) {
			this._seldImage = null;
			
			var src = this._defaultImage;
			if (src) {
				this.setImage(src);
			}
			$n.removeClass(this._getSclass() + '-seld');
		}
		
		if (seld) {
			$n.addClass(this._getSclass() + '-seld');	
		} else {
			$n.removeClass(this._getSclass() + '-seld');
		}
	},
	bind_: function () {
		this.$supers(zss.Toolbarbutton, 'bind_', arguments);
		var cave = this.$n('cave');
		if (cave && !this._calWidth) { //contains menupopup, expand button width
			var disd = this.isClickDisabled(),
				seld = this._seldImage,
				scls = this._getSclass(),
				$n = jq(this.$n()),
				cnt = cave.parentNode,
				$cv = jq(cave),
				cw = $cv.width() + $cv.zk.sumStyles("lr", jq.paddings),
				w = $n.width() + cw;
			if (w <= 32)//min size
				w = 32;
			this.setWidth(w + 'px');
			this._calWidth = true;//ZSS-216
			if (disd) {
				jq(cnt).addClass(scls + '-clk-disd');
			}
			if (seld) {
				$n.addClass(scls + '-seld');
			}
		}
	},
	doClick_: function (evt) {
		var	cv = this.$n('cave'),
			taget = evt.domTarget;
		if(!this.isDisabled() && cv && jq.isAncestor(cv, taget)) {
			var pp = this._smartFellow(this.getPopup());
			if (pp) {
				pp.open(this, null, 'after_start');	
			}
		} else {
			if (this.isFireOnClick_(evt)) {
				this.fire('onClick');
			}
		}
		//controls fire onClick event, not invoke this.$supers('doClick_')
	},
	isFireOnClick_: function (evt) {
		return !this.isClickDisabled() && !this.isDisabled();
	},
	doMouseOver_: function (evt) {
		var	cv = this.$n('cave'),
			taget = evt.domTarget;
		if (!this.isDisabled() && cv) {
			if (jq.isAncestor(cv, taget)) {
				jq(cv).addClass(this._getSclass() + '-cave-over');
			}	
		}
		this.$supers(zss.Toolbarbutton, 'doMouseOver_', arguments);
	},
	doMouseOut_: function (evt) {
		var cv = this.$n('cave');
		if (cv) {
			jq(cv).removeClass(this._getSclass() + '-cave-over');
		}
		this.$supers(zss.Toolbarbutton, 'doMouseOut_', arguments);
	},
	domContent_: function () {
		var cnt = this.$supers(zss.Toolbarbutton, 'domContent_', arguments);
		if (this.getPopup()) {
			var uid = this.uuid,
				scls = this._getSclass();
			return '<div id="' + uid + '-real" class="' + scls + '-real">' + 
				cnt + '</div><div id="' + uid + '-cave" class="' + 
				scls +'-cave"><div class="' + scls +'-arrow"></div></div>';
		} else {
			return cnt;
		}
	},
	_getSclass: function () {
		return 'zstbtn';
	},
	getSclass: function () {
		return 'zstbtn-' + this.$getAction() + ' ' + this._getSclass(); //ZSS-1276
	}
}, {
	_rmActive: function (wgt) {
		var n = wgt.$n(),
			cv = wgt.$n('cave');
		if (cv) {
			jq(cv).removeClass(wgt._getSclass() + '-cave-over');
		}
		jq(n)
		.removeClass(wgt._getSclass() + '-over')
		.removeClass(wgt.getZclass() + '-over');
	}
});
zk.copy(zss.Toolbarbutton.prototype, AbstractButtonHandler);

zss.CheckableToolbarButton = zk.$extends(zul.wgt.Toolbarbutton, {
	$init: function (props, wgt) {
		this.$supers(zss.CheckableToolbarButton, '$init', [props]);
		this.setWidth('36px');
		this._wgt = wgt;
	},
	$define: {
		/**
		 * Represent button's action at server side
		 */
		$action: null,
		/** Returns whether it is checked.
		 * <p>Default: false.
		 * @return boolean
		 */
		/** Sets whether it is checked.
		 * @param boolean checked
		 */
		checked: function (v) {
			var n = this.$n('real');
			if (n) {
				n.style.backgroundImage = 'url(' + this.getCheckImage() + ')';
			}
		}
	},
	//ZSS-1276
	$getAction: function () {
		return this._$aciton || this.$action;
	},
	setDisabled: function (actions) {
		var d = this.isDisabled();
		if (actions.$contains(this.$getAction())) { //ZSS-1276
			if (!d)
				this.$supers(zss.CheckableToolbarButton, 'setDisabled', [true]);
		} else if (d) {//clear disabled
			this.$supers(zss.CheckableToolbarButton, 'setDisabled', [false]);
		}
	},
	getCheckImage: function () {
		return zk.ajaxURI('/web/zss/img/' + ((this.isChecked() ? 'ui-check-box' : 'ui-check-box-uncheck')) + (zk.ie6_ ? '.gif' : '.png'), {au: true});
	},
	domContent_: function () {
		return '<div id="' + this.uuid + '-real" class="' + this.getSclass() + '-check" style="background: url(' + 
			this.getCheckImage() +') no-repeat transparent;"></div>' + this.$supers(zul.wgt.Toolbarbutton, 'domContent_', arguments);
	},
	getSclass: function () {
		return 'zschktbtn-' + this.$getAction() + ' zschktbtn'; //ZSS-1276
	}
});
zk.copy(zss.CheckableToolbarButton.prototype, AbstractButtonHandler);

zss.ProtectSheetCheckbutton = zk.$extends(zss.CheckableToolbarButton, {
	_$action: 'protectSheet',
	bind_: function () {
		var sheet = this._wgt.sheetCtrl;
		if (sheet) {
			sheet.listen({'onProtectSheet': this.proxy(this.onProtectSheet)});
		}
		this.$supers(zss.ProtectSheetCheckbutton, 'bind_', arguments);
	},
	onProtectSheet: function (evt) {
		this.setChecked(evt.data.protect);
	}
});

zss.DisplayGridlinesCheckbutton = zk.$extends(zss.CheckableToolbarButton, {
	_$action: 'gridlines',
	bind_: function () {
		var sheet = this._wgt.sheetCtrl;
		if (sheet) {
			sheet.listen({'onDisplayGridlines': this.proxy(this.onDisplayGridlines)});
		}
		this.$supers(zss.DisplayGridlinesCheckbutton, 'bind_', arguments);
	},
	onDisplayGridlines: function (evt) {
		this.setChecked(evt.data.show);
	}
});


if (zk.feature.pe) {
	zk.load('zkex.inp', null, function () { 
		
		// customized color popup for spreadsheet
		zss.ColorPopup = zk.$extends(zkex.inp.Colorbox, {
				_visible: false,
				_ref: null,
				$init: function (ref) {
					this.$supers(zss.ColorPopup, '$init', []);
					this._ref = ref;
				},
				adjustPosition_: function() {
					// adjust popup position to ref. widget
					if(this._ref && this._ref.$n) {
						zk(this.$n('pp')).position(this._ref.$n(), this._getPosition());
					}
				},
				open: function() {
					this.openPopup();
					this.adjustPosition_();
				},
				openPalette: function() {
					this.$supers(zss.ColorPopup, 'openPalette', arguments);
					this.adjustPosition_();
				},
				openPicker: function() {
					this.$supers(zss.ColorPopup, 'openPicker', arguments);
					this.adjustPosition_();
				},
				shallStackup_: function() {
					return false; // disable stack up
				},
				_syncShadow: function(target) {
					// disable shadow
				},
				_hideShadow: function(target) {
					// disable shadow
				}
			}
		);
		
		zss.ColorbuttonEx = zk.$extends(zss.Toolbarbutton, {
			_color: '#000000', /*default color*/
			$init: function (props, wgt, popupHolder) {
				this.$supers(zss.ColorbuttonEx, '$init', [props]);
				this._wgt = wgt;
				this._colorPopup = new zss.ColorPopup(this);
				this.setPopup(this._colorPopup);
				if(popupHolder) {
					popupHolder.appendChild(this._colorPopup);
				}
			},
			$define: {
				/** Sets the image URI.
				 * @param String image the URI of the image
				 */
				/** Returns the image URI.
				 * <p>Default: null.
				 * @return String
				 */
				image: function (v) {
					var n = this.getImageNode();
					if (n) n.src = v || '';
				},
				/**
				 * Sets the color
				 * @param color in #RRGGBB format (hexdecimal).
				 */
				/**
				 * Returns the color
				 * @return string
				 */
				color: function (hex) {
					var c = this.$n('color');
					if (c)
						c.style.backgroundColor = hex;
				}
			},
			bind_: function () {
				this.$supers(zss.ColorbuttonEx, 'bind_', arguments);

				if(this._colorPopup) {
					this._colorPopup.listen({onChange: this.proxy(this.onChange)});
				}
			},
			unbind_: function () {
				if(this._colorPopup) {
					this._colorPopup.unlisten({onChange: this.proxy(this.onChange)});
				}
				
				this.$supers(zss.ColorbuttonEx, 'unbind_', arguments);
			},
			doKeyDown_: zk.$void,
			doKeyUp_: zk.$void,
			doKeyPress_: zk.$void,
			onChange: function (evt) { //invoke from Color Palette, not from event
				var hex = evt.data.color;
				this.setColor(hex);
				this.fire('onClick');
				var wgt = this._wgt;
				if (wgt) {
					wgt.focus(false);
				}
			},
			domContent_: function () {
				var uuid = this.uuid;
				var cnt = this.$supers(zss.ColorbuttonEx, 'domContent_', arguments);

				var out = new Array();
				out.push(cnt);
				out.push('<div id="' + uuid + '-color" class="zstbtn-color" style="background:' 
					+ this.getColor() + ';"></div>');
				
				return out.join('');
			},
			shallStackup_: function () {
				return false;
			}
		});
	})
}
//ZSS-463, define CE & PE ColorPicker at the same time on purpose
if(true){//ZK CE version
	zss.Colorbutton = zk.$extends(zss.Toolbarbutton, {
		_open: false,
		_color: '#000000', /*default color*/
		$init: function (props, wgt) {
			this.$supers(zss.Colorbutton, '$init', [props]);
			this._wgt = wgt;
		},
		$define: {
			/** Sets the image URI.
			 * @param String image the URI of the image
			 */
			/** Returns the image URI.
			 * <p>Default: null.
			 * @return String
			 */
			image: function (v) {
				var n = this.getImageNode();
				if (n) n.src = v || '';
			},
			/**
			 * Sets the color
			 * @param color in #RRGGBB format (hexdecimal).
			 */
			/**
			 * Returns the color
			 * @return string
			 */
			color: function (hex) {
				var c = this.$n('color');
				if (c)
					c.style.backgroundColor = hex;
			}
		},
		bind_: function () {
			this.$supers(zss.Colorbutton, 'bind_', arguments);
			zWatch.listen({onFloatUp: this});
		},
		unbind_: function () {
			zWatch.unlisten({onFloatUp: this});
			this.$supers(zss.Colorbutton, 'unbind_', arguments);
		},
		onFloatUp: function (ctl) {
			if (!zUtl.isAncestor(this, ctl.origin))
				this.closePopup();
		},
		doMouseOver_: _onCell = function (evt) {
			var target = evt.domTarget,
				scls = this.getSclass();
			if (jq(target).parents('.' + scls + '-pp')[0]) {
				jq(target).parents('.' + scls + '-cell')
				[evt.name == 'onMouseOver' ? 'addClass' : 'removeClass'](scls + '-cell-over');
			} else
				jq(this.$n())[evt.name == 'onMouseOver' ? 'addClass' : 'removeClass'](scls + '-over');
		},
		doMouseOut_: _onCell,
		doClick_: function (evt) {
			var t = evt.domTarget,
				p = this.$n('pp'),
				$t = jq(evt.domTarget),
				scls = this.getSclass();

			if (jq.isAncestor(p, t)) {
				if ($t.attr('class').indexOf(scls + '-cell-cnt') >= 0) {
					var hex = $t.children('i').text();
					
					this.setColor(hex);
					this.fire('onClick');
					this.closePopup();
					$t.parent().removeClass(scls + '-cell-over');	
				}
			} else {
				if (this._open) {
					this.closePopup();
				} else {
					this.openPopup();
				}
			}
		},
		openPopup: function () {
			this._open = true;
			var node = this.$n(),
				pp = this.$n("pp");

			pp.style.position = "absolute";
			pp.style.overflow = "auto";
			pp.style.display = "block";
			pp.style.zIndex = "88000";

			jq(pp).zk.makeVParent();
			zk(pp).position(node, this._getPosition());
		},
		_getPosition: function () {
			var parent = this.parent;
			if (!parent) return;
			if (parent.$instanceof(zul.wgt.Toolbar))
				return 'vertical' == parent.getOrient() ? 'end_before' : 'after_start';
			return 'after_start';
		},
		closePopup: function () {
			this._open = false;
			var node = this.$n(),
				pp = this.$n("pp");
			jq(pp).zk.undoVParent();
		},
		domContent_: function () {
			var uid = this.uuid,
				cnt = this.$supers(zss.Colorbutton, 'domContent_', arguments),
				cols = zss.colorPalette.color,
				width = zss.colorPalette.width,
				height = zss.colorPalette.height,
				colSize = cols.length,
				scls = this.getSclass(),
				color = this.getColor();
			cnt = cnt + '<div id="' + uid + '-color" class="' + this.getSclass() + 
				'-color" style="background:' + this.getColor() + 
				';"></div><div id="' + uid + '-pp" style="display:none;width:'+width+'px;height:'+height+'px;" class="' + scls + '-pp">';
				
			for (var i = 0; i < colSize; i++) {
				cnt += '<div class="' + scls + '-cell"><div style="background: ' + cols[i] + 
					';" class="' + scls + '-cell-cnt"><i style="display: none">' + cols[i] + '</i></div></div>';
			}	
			cnt += '</div>';//Note. use Colorbox's "z-colorbtn-pp"
			return cnt;
		}
	});
}


zss.Menu = zk.$extends(zul.menu.Menu, {
	setDisabled: function (actions) {
		var pp = this.menupopup;
		if (pp && pp.setDisabled) {
			pp.setDisabled(actions);
		}
	},
	getSclass: function () {
		return 'zsmenu-' + this._sclass;
	}
});

zss.Menuitem = zk.$extends(zul.menu.Menuitem, {
	$init: function (props, wgt) {
		this.$supers(zss.Menuitem, '$init', [props]);
		this._wgt = wgt;
	},
	$define: {
		/**
		 * Represent button's action at server side
		 */
		$action: null
	},
	//ZSS-1276
	$getAction: function () {
		return this._$aciton || this.$action;
	},
	setDisabled: function (actions) {
		if (jq.isArray(actions)) {
			var d = this.isDisabled();
			if (actions.$contains(this.$getAction())) { //ZSS-1276
				if (!d)
					this.$supers(zss.Menuitem, 'setDisabled', [true]);
			} else if (d) {//clear disabled
				this.$supers(zss.Menuitem, 'setDisabled', [false]);
			}	
		} else {
			this.$supers(zss.Menuitem, 'setDisabled', arguments);
		}
	},
	getSclass: function () {
		return 'zsmenuitem-' + this.$getAction(); //ZSS-1276
	}
});
zk.copy(zss.Menuitem.prototype, AbstractPopupHandler);

zss.StateMenuitem = zk.$extends(zss.Menuitem, {
	$init: function (props, wgt) {
		this.$supers(zss.StateMenuitem, '$init', [props]);
		this.updateState = props.updateState;
		this._wgt = wgt;
	},
	updateState: null
});

if (zk.feature.pe) {
	zss.ColorMenuEx = zk.$extends(zss.Menu, {
		bind_: function () {
			this.$supers(zss.ColorMenuEx, 'bind_', arguments);
			this.listen({'onChange': this});
			
		},
		unbind_: function () {
			this.unlisten({'onChange': this});
			this.$supers(zss.ColorMenuEx, 'unbind_', arguments);
		},
		getColor: function () {
			return this.color;
		},
		onChange: function (evt) {
			this.color = evt.data.color;
		},
		getSclass: function () {
			return 'zscolormenu';
		}
	});
}

zss.ColorMenu = zk.$extends(zss.Menu, {
	_open: false,
	_color: null,
	$define: {
		content: _zkf = function (content) {
			if (!content || content.length == 0) return;
			
			var c = this.$n('img');
			if (c)
				c.style.backgroundColor = content;
			
			if (!this._contentHandler) {
				this._contentHandler = new zss.ColorMenuContentHandler(this, content);
			} else
				this._contentHandler.setContent(content);
		},
		color: _zkf
	},
	bind_: function () {
		this.$supers(zss.ColorMenu, 'bind_', arguments);
		var c = this.$n('img');//can't find img becuase of doesn't has this.desktop
		if (c)
			c.style.backgroundColor = this._color;
		
	},
	unbind_: function () {
		
		this.$supers(zss.ColorMenu, 'unbind_', arguments);
	},
	getSclass: function () {
		return 'zscolormenu';
	},
	getColor: function(){
		return this._color;
	}
});
zk.copy(zss.ColorMenu.prototype, AbstractPopupHandler);

zss.ColorMenuContentHandler = zk.$extends(zk.Widget, {
	$init: function(wgt, content) {
		this._wgt = wgt;
		this._content = content;
	 },
	 setContent: function (content) {
	 	if (this._content != content || !this._pp) {
			this._content = content;
			this._wgt.rerender();	
		}
	 },
	 redraw: function (out) {	 
		var wgt = this._wgt,
			uid = wgt.uuid,
			cols = zss.colorPalette.color,
			width = zss.colorPalette.width,
			height = zss.colorPalette.height,
			colSize = cols.length,
			scls = wgt.getSclass(),
			color = this._content;
		var cnt = '<div id="' + uid + '-cnt-pp" style="display:none;width:'+width+'px;height:'+height+'px;" class="' + scls + '-cnt-pp">';
			
		for (var i = 0; i < colSize; i++) {
			cnt += '<div class="' + scls + '-cell"><div style="background: ' + cols[i] + 
				';" class="' + scls + '-cell-cnt"><i style="display: none">' + cols[i] + '</i></div></div>';
		}	
		cnt += '</div>';//Note. use Colorbox's "z-colorbtn-pp"
		
		out.push(cnt);
		 
	 },
	 bind: function () {
	 	var wgt = this._wgt;
	 	if (!wgt.menupopup) {
			wgt.domListen_(wgt.$n(), 'onClick', 'onShow');
			zWatch.listen({onFloatUp: wgt, onHide: wgt});
		}
		
	 	this._pp = jq('#' + wgt.uuid + '-' + 'cnt-pp')[0];
	 	wgt.domListen_(this._pp, 'onClick', this.proxy(this._onPaletteClick));
	 },
	 unbind: function () {
	 	var wgt = this._wgt;
	 	if (!wgt.menupopup) {
			if (this._shadow) {
				this._shadow.destroy();
				this._shadow = null;
			}
			wgt.domUnlisten_(wgt.$n(), 'onClick', 'onShow');
			zWatch.unlisten({onFloatUp: wgt, onHide: wgt});
		}
	 	
	 	wgt.domUnlisten_(this._pp, 'onClick', this.proxy(this._onPaletteClick));
	 	
		this._pp = null;
	 },
	 isOpen: function () {
		 var pp = this._pp;
		 return (pp && zk(pp).isVisible());
	 },
	 onShow: function () {
	 	var wgt = this._wgt,
			pp = this._pp;
		if (!pp) return;
			
		pp.style.position = "absolute";
		pp.style.overflow = "auto";
		pp.style.display = "block";
		pp.style.zIndex = "88000";
			
		jq(pp).zk.makeVParent();
		zWatch.fireDown("onVParent", this);
			zk(pp).position(wgt.$n(), this.getPosition());
		this.syncShadow();
	 },
	 onHide: function () {
		var pp = this._pp;
		if (!pp || !zk(pp).isVisible()) return;
			pp.style.display = "none";
		jq(pp).zk.undoVParent();
		zWatch.fireDown("onVParent", this);
		this.hideShadow();
	 },
	 onFloatUp: function (ctl) {
		if (!zUtl.isAncestor(this._wgt, ctl.origin))
			this.onHide();
	 },
	 syncShadow: function () {
	 	if (!this._shadow)
			this._shadow = new zk.eff.Shadow(this._wgt.$n("cnt-pp"), {stackup:(zk.useStackup === undefined ? zk.ie6_: zk.useStackup)});
		this._shadow.sync();
	 },
	 hideShadow: function () {
	 	this._shadow.hide();
	 },
	 destroy: function () {
	 	this._wgt.rerender();
	 },
	 getPosition: function () {
	 	var wgt = this._wgt;
		if (wgt.isTopmost()) {
			var bar = wgt.getMenubar();
			if (bar)
				return 'vertical' == bar.getOrient() ? 'end_before' : 'after_start';
		}
		return 'end_before';
	},
	closePalette: function (close) {
	 	var pp = this._pp;
		if (!pp || !zk(pp).isVisible()) return;

		pp.style.display = "none";
		if (close)
			zWatch.fire('onFloatUp', null);
	},
	_onPaletteClick : function(evt){
		var t = evt.domTarget,
			wgt = this._wgt,
			p = this._pp,
			$t = jq(evt.domTarget),
			scls = wgt.getSclass();

		if (jq.isAncestor(p, t)) {
			if ($t.attr('class').indexOf(scls + '-cell-cnt') >= 0) {
				var hex = $t.children('i').text();
				this.closePalette(true);
				this._wgt.setColor(hex);
				evt.stop();
			}
		}
	}
});

zss.Menupopup = zk.$extends(zul.menu.Menupopup, {
	$init: function (wgt) {
		this.$supers(zss.Menupopup, '$init', []);
		this._wgt = wgt;
		this.z$rod = false; //ZSS-658 turn off ZK EE ROD to avoid only rendering a div
	},
	setDisabled: function (actions) {
		var chd = this.firstChild;
		for (;chd; chd = chd.nextSibling) {
			if (!chd.setDisabled) {//Menuseparator
				continue;
			}
			
			chd.setDisabled(actions);
		}
	},
	open: function () {
		this.$supers(zss.Menupopup, 'open', arguments);
		var wgt = this._wgt;
		if (wgt) {//fake focus
			wgt.focus(false);
		}
	},
	onFloatUp: function (ctl) {
		// ZSS-654: there are dual popup menu, so they will trigger each other's onFloatUp() cause them both be disappeared
		if (!this.isVisible()) {
			return;
		}
		
		if(this._wgt && this.isOpen() && zUtl.isAncestor(ctl.origin, this)) {
			return;
		}
		
		this.$supers(zss.Menupopup, 'onFloatUp', arguments);
	},
	zsync: function () {
		// skip shadow
	}
}, {
	_rmActive: function (wgt) {
		if (wgt.parent.$instanceof(zul.menu.Menu)) {
			wgt.parent.$class._rmActive(wgt.parent);
		} else if (wgt.parent.$instanceof(zss.Toolbarbutton)) {
			wgt.parent.$class._rmActive(wgt.parent);
		}
	}
});

// same as zss.Menupopup except refresh item whether shown or hidden when open
zss.StateMenupopup = zk.$extends(zss.Menupopup, {
	updateItemState: function(info) {
		var child = this.firstChild;
		for(;child; child = child.nextSibling) {
			if(child.updateState)
				child.updateState.call(child, info);
		}
	}
});
	// same as newActionMenuitem except creating zss.StateMenuitem
	function newActionStateMenuitem(wgt, action, image, updateStateFunc) {
		return new zss.StateMenuitem({
			$action: action,
			image: image ? zk.ajaxURI(image, {au: true}) : null,
			label: msgzss.action[action],
			onClick: function () {
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var s = sheet.getLastSelection(),
						tRow = s.top,
						lCol = s.left,
						bRow = s.bottom,
						rCol = s.right,
						selType = sheet.selType ? sheet.selType : zss.SEL.CELL; //ZSS-717
					sheet.triggerSelection(tRow, lCol, bRow, rCol);
					wgt.fireToolbarAction(action, {tRow: tRow, lCol: lCol, bRow: bRow, rCol: rCol, type: selType}); //ZSS-717
				}
			},
			updateState: updateStateFunc
		},wgt);
	}

	function newActionMenuitem(wgt, action, image) {
		return new zss.Menuitem({
			$action: action,
			image: image ? zk.ajaxURI(image, {au: true}) : null,
			label: msgzss.action[action],
			onClick: function () {
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var s = sheet.getLastSelection(),
						tRow = s.top,
						lCol = s.left,
						bRow = s.bottom,
						rCol = s.right,
						selType = sheet.selType ? sheet.selType : zss.SEL.CELL; //ZSS-717
					sheet.triggerSelection(tRow, lCol, bRow, rCol);
					wgt.fireToolbarAction(action, {tRow: tRow, lCol: lCol, bRow: bRow, rCol: rCol, type: selType}); //ZSS-717
				}
			}
		},wgt);
	}
	
	function newRichTextEditActionMenuitem(wgt, action) {
		return new zss.Menuitem({
			$action: action,
			label: msgzss.action[action],
			onClick: function () {
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var s = sheet.getLastSelection(),
						tRow = s.top,
						lCol = s.left,
						bRow = s.bottom,
						rCol = s.right,
						selType = sheet.selType ? sheet.selType : zss.SEL.CELL; //ZSS-717
					sheet.triggerSelection(tRow, lCol, bRow, rCol);
					wgt.fireToolbarAction(action, {tRow: tRow, lCol: lCol, bRow: bRow, rCol: rCol, type: selType}); //ZSS-717
				}
			}
		}, wgt);
	}
	
	function newBorderActionMenuitem(wgt, colorWidget, action, image) {
		return new zss.Menuitem({
			$action: action,
			image: image ? zk.ajaxURI(image, {au: true}) : null,
			label: msgzss.action[action],
			onClick: function () {
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var s = sheet.getLastSelection(),
						color = colorWidget ? colorWidget.getColor() : '',
						selType = sheet.selType ? sheet.selType : zss.SEL.CELL; //ZSS-717

					wgt.fireToolbarAction(action, {color: color, tRow: s.top, lCol: s.left, bRow: s.bottom, rCol: s.right, type: selType}); //ZSS-717
				}
			}
		},wgt);
	}
	
	function newBorderColorMenu(spreadsheet){
		return (!!zss.ColorMenuEx && spreadsheet.getColorPickerExUsed()) ? new zss.ColorMenuEx({
			$action: 'borderColor',
			label: msgzss.action.borderColor,
			content: '#color=#000000'
		},spreadsheet) : new zss.ColorMenu({
			$action: 'borderColor',
			label: msgzss.action.borderColor,
			color: '#000000'
		},spreadsheet);
	}

	function triggerByMenupopup (menupopup, widget, testActiveElement) {
		return menupopup && menupopup.isOpen() && (zUtl.isAncestor(menupopup, widget) ||
				// ZSS-654: IE11 and IE9 would focus tag in menupopup
				(testActiveElement && jq.isAncestor(menupopup.$n(), document.activeElement)));
	}
	
zss.StylePanel = zk.$extends(zul.wgt.Popup, {
	$init: function (wgt) {
		this.$supers(zss.StylePanel, '$init', []);
		if (zk.ie6_)
			this.setWidth('186px');
		this._wgt = wgt;
		//ZSS-630 in zk 7 and IE 9
		this.zssPartner = true;
		var	self = this,
			tb = new zul.wgt.Toolbar({sclass: 'zsstylepanel-toolbar'}),
			builder = new zss.ButtonBuilder(wgt, this),
			btns = builder.addAll(['fontFamily', 'fontSize', 'fontBold', 'fontItalic']).build(),
			fontFamily = btns[0],
			fontSize = btns[1],
			b;
		
		var styleContainer = new zul.wgt.Div({sclass: 'zsstylepanel-upper'});
		this.appendChild(styleContainer);
		
		wgt.listen({onAuxAction: this.proxy(this._closeStylePanel)});
		fontFamily.setWidth('85px');
		
		fontSize.setWidth('58px');
		while (b = btns.shift()) {
			tb.appendChild(b);
		}
		styleContainer.appendChild(tb);
		
		tb = new zul.wgt.Toolbar({sclass: 'zsstylepanel-toolbar'});
		btns = builder.addAll(['fontColor', 'backColor', 'border', 'verticalAlign', 'horizontalAlign','wrapText']).build();
		while (b = btns.shift()) {
			tb.appendChild(b);
		}
		styleContainer.appendChild(tb);
		this._styleContainer = styleContainer;
		
		this._menuContainer = new zul.wgt.Div({sclass: 'zsstylepanel-menu'});
		this.appendChild(this._menuContainer); // The 3rd child is menu container
	},
	getMenuContainer: function() {
		return this._menuContainer;
	},
	getStyleContainer: function() {
		return this._styleContainer;
	},
	setDisabled: function (actions) {
		for (var n = this.firstChild; n; n = n.nextSibling) {//toolbars
			for (var chd = n.firstChild;chd; chd = chd.nextSibling) {//buttons
				if (!chd.setDisabled) {
					continue;
				}
				chd.setDisabled(actions);
			}
		}
	},
	_closeStylePanel: function () {
		this.close({sendOnOpen:true});
		this._wgt.focus(true);
	},
	onFloatUp: function (ctl, opt) {
		if (!this.isVisible()) {
			return;
		}

		var origin = ctl.origin,
			sheet = this._wgt.sheetCtrl;

		if (sheet) {
			// ZSS-607: close panel when click outside style popup or menu popup
			if (zk.ie < 11 && origin == this) {
				this._closeStylePanel();
			}
			var menupopups = [sheet.getCellMenupopup(), sheet.getColumnHeaderMenupopup(), sheet.getRowHeaderMenupopup()];
			for (var i = menupopups.length - 1; i >= 0; i--) {
				if (triggerByMenupopup(menupopups[i], origin, zk.ie && opt && opt.triggerByFocus)) {
					return;
				}
			}
		}
		
		this.$supers(zss.StylePanel, 'onFloatUp', arguments);
	},
	getSclass: function () {
		return 'zsstylepanel';
	},
	// ZSS-383: turn off stack-up
	shallStackup_: function () {
		return false;
	}
});
	
zss.MenupopupFactory = zk.$extends(zk.Object, {
	$init: function (wgt) {
		this._wgt = wgt;
	},
	/**
	 * Returns a newly-created paste menupopup
	 */
	paste: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'paste', '/web/zss/img/clipboard-paste.png'));
		p.appendChild(newActionMenuitem(wgt, 'pasteFormula'));
		p.appendChild(newActionMenuitem(wgt, 'pasteValue'));
		p.appendChild(newActionMenuitem(wgt, 'pasteAllExceptBorder'));
		p.appendChild(newActionMenuitem(wgt, 'pasteTranspose'));
		p.appendChild(newActionMenuitem(wgt, 'pasteSpecial'));
		return p;
	},
	/**
	 * Return a newly-created border menupopup
	 * @return zul.menu.Menupopup
	 */
	border: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup(),
			colorMenu = newBorderColorMenu(wgt);
			
		if (colorMenu) {//for toolbarbutton to get color
			p.colorMenu = colorMenu;
		}

		p.appendChild(newBorderActionMenuitem(wgt, colorMenu, 'borderBottom', '/web/zss/img/border-bottom.png'));
		p.appendChild(newBorderActionMenuitem(wgt, colorMenu, 'borderTop', '/web/zss/img/border-top.png'));
		p.appendChild(newBorderActionMenuitem(wgt, colorMenu, 'borderLeft', '/web/zss/img/border-left.png'));
		p.appendChild(newBorderActionMenuitem(wgt, colorMenu, 'borderRight', '/web/zss/img/border-right.png'));
		p.appendChild(new zul.menu.Menuseparator());
		
		p.appendChild(newBorderActionMenuitem(wgt, colorMenu, 'borderNo', '/web/zss/img/border.png'));
		p.appendChild(newBorderActionMenuitem(wgt, colorMenu, 'borderAll', '/web/zss/img/border-all.png'));
		p.appendChild(newBorderActionMenuitem(wgt, colorMenu, 'borderOutside', '/web/zss/img/border-outside.png'));
		p.appendChild(newBorderActionMenuitem(wgt, colorMenu, 'borderInside', '/web/zss/img/border-inside.png'));
		p.appendChild(new zul.menu.Menuseparator());
		
		p.appendChild(newBorderActionMenuitem(wgt, colorMenu, 'borderInsideHorizontal', '/web/zss/img/border-horizontal.png'));
		p.appendChild(newBorderActionMenuitem(wgt, colorMenu, 'borderInsideVertical', '/web/zss/img/border-vertical.png'));
		
		if (colorMenu) {
			p.appendChild(new zul.menu.Menuseparator());
			p.appendChild(colorMenu);
		}
		return p;
	},
	verticalAlign: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'verticalAlignTop', '/web/zss/img/edit-vertical-alignment-top.png'));
		p.appendChild(newActionMenuitem(wgt, 'verticalAlignMiddle', '/web/zss/img/edit-vertical-alignment-middle.png'));
		p.appendChild(newActionMenuitem(wgt, 'verticalAlignBottom', '/web/zss/img/edit-vertical-alignment.png'));
		return p;
	},
	horizontalAlign: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'horizontalAlignLeft', '/web/zss/img/edit-alignment.png'));
		p.appendChild(newActionMenuitem(wgt, 'horizontalAlignCenter', '/web/zss/img/edit-alignment-center.png'));
		p.appendChild(newActionMenuitem(wgt, 'horizontalAlignRight', '/web/zss/img/edit-alignment-right.png'));
		return p;
	},
	mergeAndCenter: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'mergeAndCenter'));
		p.appendChild(newActionMenuitem(wgt, 'mergeAcross'));
		p.appendChild(newActionMenuitem(wgt, 'mergeCell'));
		p.appendChild(newActionMenuitem(wgt, 'unmergeCell'));
		return p;
	},
	insert: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup(),
			insertCellMenu = new zss.Menu({
				label: msgzss.action.insertCell,
				sclass: 'insertCell'
			}),
			insertCellMP = new zss.Menupopup();
		
		insertCellMP.appendChild(newActionMenuitem(wgt, 'shiftCellRight'));
		insertCellMP.appendChild(newActionMenuitem(wgt, 'shiftCellDown'));
		insertCellMenu.appendChild(insertCellMP);
		p.appendChild(insertCellMenu);
		
		p.appendChild(newActionMenuitem(wgt, 'insertSheetRow'));
		p.appendChild(newActionMenuitem(wgt, 'insertSheetColumn'));
		return p;
	},
	del: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup(),
			deleteCellMenu = new zss.Menu({
				label: msgzss.action.deleteCell,
				sclass: 'deleteCell'
			}),
			deleteCellMP = new zss.Menupopup();
		deleteCellMP.appendChild(newActionMenuitem(wgt, 'shiftCellLeft'));
		deleteCellMP.appendChild(newActionMenuitem(wgt, 'shiftCellUp'));
		deleteCellMenu.appendChild(deleteCellMP);
		p.appendChild(deleteCellMenu);
		
		p.appendChild(newActionMenuitem(wgt, 'deleteSheetRow'));
		p.appendChild(newActionMenuitem(wgt, 'deleteSheetColumn'));
		return p;
	},
	//TODO
	format: function () {
		
	},
	autoSum: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'autoSum'));
		p.appendChild(newActionMenuitem(wgt, 'average'));
		p.appendChild(newActionMenuitem(wgt, 'countNumber'));
		p.appendChild(newActionMenuitem(wgt, 'max'));
		p.appendChild(newActionMenuitem(wgt, 'min'));
		p.appendChild(newActionMenuitem(wgt, 'moreFunction'));
		return p;
	},
	clear: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'clearContent'));
		p.appendChild(newActionMenuitem(wgt, 'clearStyle'));
		p.appendChild(newActionMenuitem(wgt, 'clearAll'));
		return p;
	},
	sortAndFilter: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'sortAscending', '/web/zss/img/asc.png'));
		p.appendChild(newActionMenuitem(wgt, 'sortDescending', '/web/zss/img/des.png'));
		p.appendChild(newActionMenuitem(wgt, 'customSort'));
		p.appendChild(newActionMenuitem(wgt, 'filter', '/web/zss/img/funnel--pencil.png'));
		p.appendChild(newActionMenuitem(wgt, 'clearFilter', '/web/zss/img/funnel--minus.png'));
		p.appendChild(newActionMenuitem(wgt, 'reapplyFilter', '/web/zss/img/funnel--arrow.png'));
		return p;
	},
	insertChart: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup(),
			columnChartMenu = new zss.Menu({
				label: msgzss.action.columnChart,
				sclass: 'columnChart'
			}),
			lineChartMenu = new zss.Menu({
				label: msgzss.action.lineChart,
				sclass: 'lineChart'
			}),
			pieChartMenu = new zss.Menu({
				label: msgzss.action.pieChart,
				sclass: 'pieChart'
			}),
			barChartMenu = new zss.Menu({
				label: msgzss.action.barChart,
				sclass: 'barChart'
			}),
			otherChartMenu = new zss.Menu({
				label: msgzss.action.otherChart,
				sclass: 'otherChart'
			}),
			columnChartMP = new zss.Menupopup(),
			lineChartMP = new zss.Menupopup(),
			pieChartMP = new zss.Menupopup(),
			barChartMP = new zss.Menupopup(),
			otherChartMP = new zss.Menupopup();

		columnChartMP.appendChild(newActionMenuitem(wgt, 'columnChart'));
		columnChartMP.appendChild(newActionMenuitem(wgt, 'columnChart3D'));
		columnChartMenu.appendChild(columnChartMP);
		p.appendChild(columnChartMenu);

		lineChartMP.appendChild(newActionMenuitem(wgt, 'lineChart'));
		lineChartMP.appendChild(newActionMenuitem(wgt, 'lineChart3D'));
		lineChartMenu.appendChild(lineChartMP);
		p.appendChild(lineChartMenu);

		pieChartMP.appendChild(newActionMenuitem(wgt, 'pieChart'));
		pieChartMP.appendChild(newActionMenuitem(wgt, 'pieChart3D'));
		pieChartMenu.appendChild(pieChartMP);
		p.appendChild(pieChartMenu);

		barChartMP.appendChild(newActionMenuitem(wgt, 'barChart'));
		barChartMP.appendChild(newActionMenuitem(wgt, 'barChart3D'));
		barChartMenu.appendChild(barChartMP);
		p.appendChild(barChartMenu);

		p.appendChild(newActionMenuitem(wgt, 'areaChart'));
		p.appendChild(newActionMenuitem(wgt, 'scatterChart'));

		otherChartMP.appendChild(newActionMenuitem(wgt, 'doughnutChart'));
		otherChartMenu.appendChild(otherChartMP);
		p.appendChild(otherChartMenu);
		return p;
	},
	columnChart: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'columnChart'));
		p.appendChild(newActionMenuitem(wgt, 'columnChart3D'));
		return p;
	},
	lineChart: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'lineChart'));
		p.appendChild(newActionMenuitem(wgt, 'lineChart3D'));
		return p;
	},
	pieChart: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'pieChart'));
		p.appendChild(newActionMenuitem(wgt, 'pieChart3D'));
		return p;
	},
	barChart: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();
		
		p.appendChild(newActionMenuitem(wgt, 'barChart'));
		p.appendChild(newActionMenuitem(wgt, 'barChart3D'));
		return p;
	},
	otherChart: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup();		
		p.appendChild(newActionMenuitem(wgt, 'doughnutChart'));
		return p;
	},
	rowHeader: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup(wgt);
		p.appendChild(newActionMenuitem(wgt, 'cut'));
		p.appendChild(newActionMenuitem(wgt, 'copy'));
		p.appendChild(newActionMenuitem(wgt, 'paste'));
		p.appendChild(newActionMenuitem(wgt, 'pasteSpecial'));
		p.appendChild(new zul.menu.Menuseparator());
		
		p.appendChild(newActionMenuitem(wgt, 'insertSheetRow'));
		p.appendChild(newActionMenuitem(wgt, 'deleteSheetRow'));
		p.appendChild(newActionMenuitem(wgt, 'clearContent'));
		p.appendChild(new zul.menu.Menuseparator());
		
		p.appendChild(newActionMenuitem(wgt, 'formatCell'));
		p.appendChild(newActionMenuitem(wgt, 'dataValidation'));
		p.appendChild(newActionMenuitem(wgt, 'rowHeight'));
		p.appendChild(newActionMenuitem(wgt, 'hideRow'));
		p.appendChild(newActionMenuitem(wgt, 'unhideRow'));
		
		return p;
	},
	columnHeader: function () {
		var wgt = this._wgt,
			p = new zss.Menupopup(wgt);
		p.appendChild(newActionMenuitem(wgt, 'cut'));
		p.appendChild(newActionMenuitem(wgt, 'copy'));
		p.appendChild(newActionMenuitem(wgt, 'paste'));
		p.appendChild(newActionMenuitem(wgt, 'pasteSpecial'));
		p.appendChild(new zul.menu.Menuseparator());
		
		p.appendChild(newActionMenuitem(wgt, 'insertSheetColumn'));
		p.appendChild(newActionMenuitem(wgt, 'deleteSheetColumn'));
		p.appendChild(newActionMenuitem(wgt, 'clearContent'));
		p.appendChild(new zul.menu.Menuseparator());
		
		p.appendChild(newActionMenuitem(wgt, 'formatCell'));
		p.appendChild(newActionMenuitem(wgt, 'dataValidation'));
		p.appendChild(newActionMenuitem(wgt, 'columnWidth'));
		p.appendChild(newActionMenuitem(wgt, 'hideColumn'));
		p.appendChild(newActionMenuitem(wgt, 'unhideColumn'));
		
		return p;
	},
	cell: function () {
		var wgt = this._wgt,
			p = new zss.StateMenupopup(wgt),
			insertMenu = new zss.Menu({
				label: msgzss.action.insert,
				sclass: 'insert'
			}),
			insertMP = new zss.Menupopup(),
			deleteMenu = new zss.Menu({
				label: msgzss.action.del,
				sclass: 'del'
			}),
			deleteMP = new zss.Menupopup(),
			filterMenu = new zss.Menu({
				label: msgzss.action.filter,
				sclass: 'filter'
			}),
			filterMP = new zss.Menupopup(),
			sortMenu = new zss.Menu({
				label: msgzss.action.sort,
				sclass: 'sort'
			}),
			sortMP = new zss.Menupopup();
		p.appendChild(newActionMenuitem(wgt, 'cut'));
		p.appendChild(newActionMenuitem(wgt, 'copy'));
		p.appendChild(newActionMenuitem(wgt, 'paste'));
		p.appendChild(newActionMenuitem(wgt, 'pasteSpecial'));
		p.appendChild(new zul.menu.Menuseparator());
		
		insertMP.appendChild(newActionMenuitem(wgt, 'shiftCellRight'));
		insertMP.appendChild(newActionMenuitem(wgt, 'shiftCellDown'));
		insertMP.appendChild(newActionMenuitem(wgt, 'insertSheetRow'));
		insertMP.appendChild(newActionMenuitem(wgt, 'insertSheetColumn'));
		insertMenu.appendChild(insertMP);
		p.appendChild(insertMenu);
		
		deleteMP.appendChild(newActionMenuitem(wgt, 'shiftCellLeft'));
		deleteMP.appendChild(newActionMenuitem(wgt, 'shiftCellUp'));
		deleteMP.appendChild(newActionMenuitem(wgt, 'deleteSheetRow'));
		deleteMP.appendChild(newActionMenuitem(wgt, 'deleteSheetColumn'));
		deleteMenu.appendChild(deleteMP);
		p.appendChild(deleteMenu);
		
		p.appendChild(newActionMenuitem(wgt, 'clearContent'));
		p.appendChild(new zul.menu.Menuseparator());
		
		filterMP.appendChild(newActionMenuitem(wgt, 'reapplyFilter', '/web/zss/img/funnel--arrow.png'));
		filterMP.appendChild(newActionMenuitem(wgt, 'filter', '/web/zss/img/funnel--pencil.png'));
		filterMenu.appendChild(filterMP);
		p.appendChild(filterMenu);
		
		sortMP.appendChild(newActionMenuitem(wgt, 'sortAscending', '/web/zss/img/asc.png'));
		sortMP.appendChild(newActionMenuitem(wgt, 'sortDescending', '/web/zss/img/des.png'));
		sortMP.appendChild(newActionMenuitem(wgt, 'customSort'));
		sortMenu.appendChild(sortMP);
		p.appendChild(sortMenu);
		p.appendChild(new zul.menu.Menuseparator());

		function getCellByXY(info) {
			var pageX = info.pageX,
				pageY = info.pageY,
				sheet = info.sheet,
				position = zss.SSheetCtrl._calCellPos(sheet, pageX, pageY);
			return sheet.getCell(position[0], position[1]);
		}
		p.appendChild(newActionStateMenuitem(wgt, 'insertComment', null, 
			function(info){
				this.setVisible(!getCellByXY(info).comment)}));
		p.appendChild(newActionStateMenuitem(wgt, 'editComment', null, 
			function(info){
				this.setVisible(getCellByXY(info).comment)}));
		p.appendChild(newActionStateMenuitem(wgt, 'deleteComment', null, 
			function(info){
				this.setVisible(getCellByXY(info).comment)}));
		p.appendChild(new zul.menu.Menuseparator());
		
		p.appendChild(newActionMenuitem(wgt, 'formatCell'));
		p.appendChild(newActionMenuitem(wgt, 'dataValidation'));
		p.appendChild(newActionMenuitem(wgt, 'hyperlink'));
		p.appendChild(newActionMenuitem(wgt, 'richTextEdit'));
		return p;
	},
	style: function () {
		return new zss.StylePanel(this._wgt);
	}
});

zss.Buttons = zk.$extends(zk.Object, {
}, {//static
	HOME_DEFAULT: ['newBook', 'saveBook', 'exportPDF', 'separator', 
	          'paste', 'cut', 'copy', 'separator',
	          'fontFamily', 'fontSize', 'fontBold', 'fontItalic', 'fontUnderline', 
	          'fontStrike', 'border', 'fontColor', 'backColor', 'separator',
	          'verticalAlign', 'horizontalAlign', 'textIndentDecrease', 'textIndentIncrease', 
	          'wrapText', 'mergeAndCenter', 'separator', 'insert', 'del', 'format', 'separator',
	          'autoSum', 'clear', 'sortAndFilter', 'separator',
	          'protectSheet', 'gridlines', 'separator',
	          'insertPicture', 'insertChart', 'hyperlink'
	          ],
	 INSERT_DEFAULT: ['insertPicture', 'separator',
	                  'columnChart', 'lineChart', 'pieChart', 
	                  'barChart', 'areaChart', 'scatterChart', 
	                  'otherChart', 'separator',
	                  'hyperlink'],
	 FORMULA_DEFAULT: ['insertFunction', 'autoSum', 'financial', 
	                   'logical', 'text', 'dateAndTime', 
	                   'lookupAndReference', 'mathAndTrig', 'moreFunction']
});

	function newActionToolbarbutton(wgt, action, image, labelOnly) {
		var label = msgzss.action[action];
		return new zss.Toolbarbutton({
			$action: action,
			tooltiptext: labelOnly ? null : label,
			label: labelOnly ? label : null,
			image: image ? zk.ajaxURI(image, {au: true}) : null,
			onClick: function () {
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var s = sheet.getLastSelection(),
						tRow = s.top,
						lCol = s.left,
						bRow = s.bottom,
						rCol = s.right,
						selType = sheet.selType ? sheet.selType : zss.SEL.CELL; //ZSS-717

					sheet.triggerSelection(tRow, lCol, bRow, rCol);
					wgt.fireToolbarAction(action, {tRow: tRow, lCol: lCol, bRow: bRow, rCol: rCol, type: selType}); //ZSS-717
				} else {
					wgt.fireToolbarAction(action, {tRow: -1, lCol: -1, bRow: -1, rCol: -1, type: zss.SEL.ALL});  //ZSS-717
				}
			}
		}, wgt);
	}
	
	/**
	 * return ColorPicker's construction function upon user configurations under PE
	 */
	function getColorButtonConstructor(spreadsheet){
		return (!!zss.ColorbuttonEx && spreadsheet.getColorPickerExUsed()) ? zss.ColorbuttonEx : zss.Colorbutton;
	}
	
zss.ButtonBuilder = zk.$extends(zk.Object, {
	/**
	 * @param zss.Spreadsheet
	 */
	$init: function (wgt, popupHolder) {
		this._wgt = wgt;
		this._popupHodler = popupHolder;
		this.contents = [];
		
		//ZSS-1171
		this.isStylePanel = popupHolder.$instanceof(zss.StylePanel);
		this.isToolbar = popupHolder.$instanceof(zss.ResizeableToolbar);
	},
	applyHolder: function (popup) {
		if(this._popupHodler) {
			this._popupHodler.appendChild(popup);
		}
		return popup;
	},
	/**
	 * @param String
	 */
	add: function (element) {
		this.contents.push(element);
		return this;
	},
	/**
	 * @param String array
	 */
	addAll: function (elements) {
		var cts = this.contents;
		for (var i = 0, len = elements.length; i < len; i++) {
			cts.push(elements[i]);
		}
		return this;
	},
	/**
	 * Returns a newly-created buttons
	 */
	build: function () {
		var btns = [],
			cts = this.contents;
		while (fn = cts.shift()) {
			btns.push(this[fn]());
		}
		return btns;
	},
	/**
	 * @return zss.ToolbarbuttonSeparator
	 */
	separator: function () {
		return new zss.ToolbarbuttonSeparator({
			$action: 'separator'
		});
	},
	/**
	 * Create new book button
	 * @return zss.Toolbarbutton
	 */
	newBook: function () {
		return newActionToolbarbutton(this._wgt, 'newBook', '/web/zss/img/document-medium.png');
	},
	/**
	 * Create save book button 
	 * @return zss.Toolbarbutton
	 */
	saveBook: function () {
		return newActionToolbarbutton(this._wgt, 'saveBook', '/web/zss/img/disk-black.png');
	},
	/**
	 * Create export PDF button
	 * @return zss.Toolbarbutton
	 */
	exportPDF: function () {
		return newActionToolbarbutton(this._wgt, 'exportPDF', '/web/zss/img/document-pdf.png');
	},
	paste: function () {
		var wgt = this._wgt;
		var b = newActionToolbarbutton(wgt, 'paste', '/web/zss/img/clipboard-paste.png');
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).paste()));
		return b;
	},
	cut: function () {
		return newActionToolbarbutton(this._wgt, 'cut', '/web/zss/img/scissors-blue.png');
	},
	copy: function () {
		return newActionToolbarbutton(this._wgt, 'copy', '/web/zss/img/blue-document-copy.png');
	},
	fontFamily: function () {
		return new zss.FontFamilyCombobox({
			$action: 'fontFamily',
			width: '115px'
		}, this._wgt, this); //ZSS-1171
	},
	fontSize: function () {
		return new zss.FontSizeCombobox({
			$action: 'fontSize',
			width: '55px'
		}, this._wgt, this); //ZSS-1171
	},
	//ZSS-1171: no toolbar or no context menu
	_skipNoShow: function () {
		return (this.isStylePanel && !this._wgt.getShowContextMenu())
		|| (this.isToolbar && !this._wgt.getShowToolbar());
	},
	//ZSS-1171: no need to precess the event
	_skipEvent: function (evt, b) {
		if (this._skipNoShow()) {
			return true;
		}
		if (evt.name == "onCellSelection") {
			var d = evt.data;
			// same cell, skip
			if (d.top == b.preRow && d.left == b.preCol) {
				return true;
			}
			b.preRow = d.top;
			b.preCol = d.left;
			return false;
		} else if (evt.name == "onCellUpdate") {
			var d = evt.data;
			// not on the selected cell, skip
			return (d.top != b.preRow || d.left != b.preCol);
		}
		// not the event concerned, skip
		return true;
	},
	fontBold: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'fontBold', '/web/zss/img/edit-bold.png'),
			bd = this, //ZSS-1171
			fn = function (evt) {
				//ZSS-1171
				if (bd._skipEvent(evt, b)) {
					return;
				}
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var d = evt.data,
						c = sheet.getCell(d.top, d.left);
					if (c) {
						b.setSelectedEffect(c.isFontBold());
					}
				}
			};
		
		b.listen({onBind: function () {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.listen({onCellSelection: fn, onCellUpdate: fn});
			}
		}});
		b.listen({onClick: function () {
			if (!b.isDisabled()) {
				b.setSelectedEffect(true);
			}
		}});
		
		return b;
	},
	fontItalic: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(this._wgt, 'fontItalic', '/web/zss/img/edit-italic.png'),
			bd = this, //ZSS-1171
			fn = function (evt) {
				//ZSS-1171
				if (bd._skipEvent(evt, b)) {
					return;
				}
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var d = evt.data,
						c = sheet.getCell(d.top, d.left);
					if (c) {
						b.setSelectedEffect(c.isFontItalic());
					}	
				}
			};
		
		b.listen({onBind: function () {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.listen({onCellSelection: fn, onCellUpdate: fn});
			}
		}});
		b.listen({onClick: function () {
			if (!b.isDisabled()) {
				b.setSelectedEffect(true);
			}
		}});
		
		return b;
	},
	fontUnderline: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(this._wgt, 'fontUnderline', '/web/zss/img/edit-underline.png'),
			bd = this, //ZSS-1171
			fn = function (evt) {
				//ZSS-1171
				if (bd._skipEvent(evt, b)) {
					return;
				}
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var d = evt.data,
						c = sheet.getCell(d.top, d.left);
					if (c) {
						b.setSelectedEffect(c.isFontUnderline());
					}
				}
			};
		
		b.listen({onBind: function () {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.listen({onCellSelection: fn, onCellUpdate: fn});
			}
		}});
		b.listen({onClick: function () {
			if (!b.isDisabled()) {
				b.setSelectedEffect(true);
			}
		}});
		return b;
	},
	fontStrike: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(this._wgt, 'fontStrike', '/web/zss/img/edit-strike.png'),
			bd = this, //ZSS-1171
			fn = function (evt) {
				//ZSS-1171
				if (bd._skipEvent(evt, b)) {
					return;
				}
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var d = evt.data,
						c = sheet.getCell(d.top, d.left);
					if (c) {
						b.setSelectedEffect(c.isFontStrikeout());
					}
				}
			};
		
		b.listen({onBind: function () {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.listen({onCellSelection: fn, onCellUpdate: fn});
			}
		}});
		b.listen({onClick: function () {
			if (!b.isDisabled()) {
				b.setSelectedEffect(true);
			}
		}});
		return b;
	},
	border: function () {
		var wgt = this._wgt,
			pp = this.applyHolder(new zss.MenupopupFactory(wgt).border()),
			b = new zss.Toolbarbutton({
				$action: 'border',
				tooltiptext: msgzss.action.border,
				image: zk.ajaxURI('/web/zss/img/border-bottom.png', AU),
				onClick: function () {
					var sht = wgt.sheetCtrl;
					if (sht) {
						var s = sht.getLastSelection(),
							color = pp.colorMenu ? pp.colorMenu.getColor() : '',
							selType = sht.selType ? sht.selType : zss.SEL.CELL; //ZSS-717
							
						wgt.fireToolbarAction('border', {color: color, tRow: s.top, lCol: s.left, bRow: s.bottom, rCol: s.right, type: selType});  //ZSS-717	
					}
				}
			}, wgt);
		b.setPopup(pp);
		return b;
	},
	backColor: function () {
		var wgt = this._wgt;
		var colorButtonConstructor = getColorButtonConstructor(wgt);
		return new colorButtonConstructor({
			$action: 'backColor',
			color: '#FFFFFF',
			tooltiptext: msgzss.action.backColor,
			image: zk.ajaxURI('/web/zss/img/paint-can-color.png', AU),
			onClick: function () {
				var sht = wgt.sheetCtrl;
				if (sht) {
					var s = sht.getLastSelection(),
						selType = sht.selType ? sht.selType : zss.SEL.CELL; //ZSS-717

					wgt.fireToolbarAction('backColor', {color: this.getColor(), tRow: s.top, lCol: s.left, bRow: s.bottom, rCol: s.right, type: selType}); //ZSS-717	
				}
			}
		}, wgt, this._popupHodler);
	},
	fontColor: function () {
		var wgt = this._wgt;
		var colorButtonConstructor = getColorButtonConstructor(wgt);
		return new colorButtonConstructor({
			$action: 'fontColor',
			color: '#000000',
			tooltiptext: msgzss.action.fontColor,
			image: zk.ajaxURI('/web/zss/img/edit-color.png', AU),
			onClick: function () {
				var sht = wgt.sheetCtrl;
				if (sht) {
					var s = sht.getLastSelection(),
						selType = sht.selType ? sht.selType : zss.SEL.CELL; //ZSS-717

					wgt.fireToolbarAction('fontColor', {color: this.getColor(), tRow: s.top, lCol: s.left, bRow: s.bottom, rCol: s.right, type: selType}); //ZSS-717
				}
			}
		}, wgt, this._popupHodler);
	},
	verticalAlign: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'verticalAlign', '/web/zss/img/edit-vertical-alignment-top.png'),
			p = this.applyHolder(new zss.MenupopupFactory(wgt).verticalAlign()),
			item = p.firstChild,
			bd = this, //ZSS-1171
			fn = function (evt) {
				//ZSS-1171
				if (bd._skipEvent(evt, b)) {
					return;
				}
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var d = evt.data,
						c = sheet.getCell(d.top, d.left);
					if (c) {
						var a = c.getVerticalAlign(),
							item = p.firstChild;
						for (; item; item = item.nextSibling) {
							if (item.$getAction() == a) { //ZSS-1276
								b.setSelectedEffect(true, item);
								break;
							}
						}
					}	
				}
			};
		
		b.listen({onBind: function () {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.listen({onCellSelection: fn, onCellUpdate: fn});
			}
		}});
		for (;item; item = item.nextSibling) {
			item.listen({onClick: function () {
				if (!b.isDisabled()) {
					b.setSelectedEffect(true, item);
				}
			}});
		}
		
		b.setClickDisabled(true);
		b.setPopup(p);
		return b;
	},
	horizontalAlign: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'horizontalAlign', '/web/zss/img/edit-alignment.png'),
			p = this.applyHolder(new zss.MenupopupFactory(wgt).horizontalAlign()),
			item = p.firstChild,
			bd = this, //ZSS-1171
			fn = function (evt) {
				//ZSS-1171
				if (bd._skipEvent(evt, b)) {
					return;
				}
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var d = evt.data,
						c = sheet.getCell(d.top, d.left);
					if (c) {
						var a = c.getHorizontalAlign(),
							item = p.firstChild;
						for (; item; item = item.nextSibling) {
							if (item.$getAction() == a) { // ZSS-1276
								b.setSelectedEffect(true, item);
								break;
							}
						}
					}	
				}
			};
		
		b.listen({onBind: function () {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.listen({onCellSelection: fn, onCellUpdate: fn});
			}
		}});
		for (;item; item = item.nextSibling) {
			item.listen({onClick: function () {
				if (!b.isDisabled()) {
					b.setSelectedEffect(true, item);
				}
			}});
		}
		
		b.setClickDisabled(true);
		b.setPopup(p);
		return b;
	},
	textIndentIncrease: function () {
		return newActionToolbarbutton(this._wgt, 'textIndentIncrease', '/web/zss/img/edit-indent.png');
	},
	textIndentDecrease: function () {
		return newActionToolbarbutton(this._wgt, 'textIndentDecrease', '/web/zss/img/edit-outdent.png');
	},
	wrapText: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'wrapText', '/web/zss/img/edit-wrap.png'),
			bd = this, //ZSS-1171
			fn = function (evt) {
				//ZSS-1171
				if (bd._skipEvent(evt, b)) {
					return;
				}
				var sheet = wgt.sheetCtrl;
				if (sheet) {
					var d = evt.data,
						c = sheet.getCell(d.top, d.left);
					if (c) {
						b.setSelectedEffect(c.wrap);
					}	
				}
			};
		b.listen({onBind: function () {
			var sheet = wgt.sheetCtrl;
			if (sheet) {
				sheet.listen({onCellSelection: fn, onCellUpdate: fn});
			}
		}});
		return b;
	},
	mergeAndCenter: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'mergeAndCenter', null, true);
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).mergeAndCenter()));
		return b;
	},
	insert: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'insert', '/web/zss/img/document-insert.png');
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).insert()));
		b.setClickDisabled(true);
		return b;
	},
	del: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'del', '/web/zss/img/document-hf-delete-footer.png');
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).del()));
		b.setClickDisabled(true);
		return b;
	},
	format: function () {
		//TODO: format
	},
	insertPicture: function () {
		return newActionToolbarbutton(this._wgt, 'insertPicture', '/web/zss/img/image.png');
	},
	insertChart: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'insertChart', '/web/zss/img/chart.png');
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).insertChart()));
		return b;
	},
	columnChart: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'columnChart', null, true);
		b.setClickDisabled(true);
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).columnChart()));
		return b;
	},
	lineChart: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'lineChart', null, true);
		b.setClickDisabled(true);
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).lineChart()));
		return b;
	},
	pieChart: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'pieChart', null, true);
		b.setClickDisabled(true);
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).pieChart()));
		return b;
	},
	barChart: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'barChart', null, true);
		b.setClickDisabled(true);
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).barChart()));
		return b;
	},
	areaChart: function () {
		var b = newActionToolbarbutton(this._wgt, 'areaChart', null, true);
		return b;
	},
	scatterChart: function () {
		return newActionToolbarbutton(this._wgt, 'scatterChart', null, true);
	},
	otherChart: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'otherChart', null, true);
		b.setClickDisabled(true);
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).otherChart()));
		return b;
	},
	hyperlink: function () {
		return newActionToolbarbutton(this._wgt, 'hyperlink', '/web/zss/img/hyperlink.png');
	},
	clear: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'clear', '/web/zss/img/broom.png');
		b.setClickDisabled(true);
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).clear()));
		return b;
	},
	sortAndFilter: function () {
		var wgt = this._wgt,
			b = newActionToolbarbutton(wgt, 'sortAndFilter', '/web/zss/img/sort-filter.png');
		b.setPopup(this.applyHolder(new zss.MenupopupFactory(wgt).sortAndFilter()));
		b.setClickDisabled(true);
		return b;
	},
	autoSum: function () {
		//TODO:
//		var wgt = this._wgt,
//			b = new zss.Toolbarbutton({
//				$action: 'autoSum',
//				tooltiptext: msgzss.action.autoSum,
//				image: zk.ajaxURI('/web/zss/img/sum.png', AU)
//			}, wgt);
//		b.setPopup(new zss.MenupopupFactory(wgt).autoSum());
//		return b;
	},
	insertFunction: function () {
		return newActionToolbarbutton(this._wgt, 'insertFunction', null, true);
	},
	financial: function () {
		return newActionToolbarbutton(this._wgt, 'financial', null, true);
	},
	logical: function () {
		return newActionToolbarbutton(this._wgt, 'logical', null, true);
	},
	text: function () {
		return newActionToolbarbutton(this._wgt, 'text', null, true);
	},
	dateAndTime: function () {
		return newActionToolbarbutton(this._wgt, 'dateAndTime', null, true);
	},
	lookupAndReference: function () {
		return newActionToolbarbutton(this._wgt, 'lookupAndReference', null, true);
	},
	mathAndTrig: function () {
		return newActionToolbarbutton(this._wgt, 'mathAndTrig', null, true);
	},
	moreFunction: function () {
		return newActionToolbarbutton(this._wgt, 'moreFunction', null, true);
	},
	protectSheet: function () {
		var wgt = this._wgt,
			b = new zss.ProtectSheetCheckbutton({
				$action: 'protectSheet', // ZSS-1269
				checked: wgt.isProtect(),
				tooltiptext: msgzss.action.protectSheet,
				image: zk.ajaxURI('/web/zss/img/lock.png', AU),
				onClick: function () {
					wgt.fireToolbarAction('protectSheet');
				}
			}, wgt);
		return b;
	},
	gridlines: function () {
		var wgt = this._wgt,
			b = new zss.DisplayGridlinesCheckbutton({
			$action: 'gridlines', //ZSS-1269
			checked: wgt.isDisplayGridlines(),
			tooltiptext: msgzss.action.gridlines,
			image: zk.ajaxURI('/web/zss/img/grid.png', AU),
			onClick: function () {
				wgt.fireToolbarAction('gridlines');
			}
		}, wgt);
		return b;
	}
})
})();

/* CacheCtrl.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Jan 12, 2012 7:07:27 PM , Created by sam
}}IS_NOTE

Copyright (C) 2012 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
}}IS_RIGHT
*/
(function () {

	function newRect(tRow, lCol, bRow, rCol) {
		return {
			top: tRow,
			left: lCol,
			bottom: bRow,
			right: rCol
		}
	}
	
	function updateHeaders(dest, src) {
		var headers = src.hs,
			i = src.s,
			end = src.e,
			j = 0;
		for (; i <= end; i++) {
			var h = dest[i] = headers[j++];
			h.i = i;//header index
		}
	}
	
	var ATTR_ALL = 1,
		ATTR_TEXT = 2,
		ATTR_STYLE = 3,
		ATTR_SIZE = 4,
		ATTR_MERGE = 5,
		ATTR_COMMENT = 6;
	/**
	 * Create Cell model
	 * 
	 * @param JSON Object v data from server
	 * @param int type update type. Default ATTR_ALL means update all cell attributes
	 * @param int heightId height style id
	 * @param Array texts text string aggregation
	 * @param Array styles style string aggregation
	 * @param Object mergeInfos the merge info aggregation
	 */
	function newCell(v, type, heightId, texts, styles, mergeInfos) {
		var c = {
			/**
			 * Row number
			 */
			//r
			/**
			 * Column number
			 */
			//c
			/**
			 * Cell reference address 
			 */
			//ref
			/**
			 * Cell type
			 */
			//cellType,
			/**
			 * Cell text
			 */
			//text
			/**
			 * Cell edit text
			 */
			//editText,
			/**
			 * Cell format text
			 */
			//formatText
			/**
			 * Cell is locked or not
			 * 
			 * Default: true
			 */
			//lock
			/**
			 * whether the text should be wrapped or not
			 * 
			 * Default: false
			 */
			//wrap
			/**
			 * Cell font size, default is 11pt 
			 */
			//fontSize
			/**
			 * Cell font format, default is 0. bold(0x01)/italic(0x02)/underline(0x04)/strikout(0x08)
			 * @since 3.8.3 
			 */
			//fontFormat
			/**
			 * Horizontal alignment
			 * 
			 * <ul>
			 * 	<li>l: align left</li>
			 * 	<li>c: align center</li>
			 * 	<li>r: align right</li>
			 * </ul>
			 * 
			 * Default: "l"
			 */
			//halign
			/**
			 * Vertical alignment
			 * 
			 * <ul>
			 * 	<li>t: align top</li>
			 * 	<li>c: align center</li>
			 * 	<li>b: align bottom</li>
			 * </ul>
			 * 
			 * Default: "t"
			 */
			//valign
			/**
			 * Merge CSS class
			 */
			//mergeCls: v.mcls,
			/**
			 * Merge id
			 */
			//mergeId: v.mi,
			/**
			 * Merge rect
			 */
			//merge: null,
			/**
			 * Width id
			 */
			//widthId: v.w,
			/**
			 * Height id
			 */
			//heightId: v.h,
			/**
			 * Cell style
			 */
			//style
			/**
			 * Inner cell style
			 */
			//innerStyle
			/**
			 * Whether cell has right border or not
			 * 
			 * default: false
			 */
			//rightBorder
			/**
			 * Whether cell shall overflow or not
			 */
			//overflow
			/**
			 * Cell font size in point
			 * 
			 * default: 11
			 */
			//fontSize
			/**
			 * Cell comment
			 */
			//comment: v.cmt
			/**
			 * Cell double border style class; undefined if not double border
			 */
			//db_tlbr: v.db
			/**
			 * Cell auto-filter border style class; undefined if not within autofilter range
			 */
			//af_tlbr: v.af
			/**
			 * Cell with dataBar border style; undefined if no dataBar border.
			 */
			//dbar: v.dbar
			/**
			 * Update Cell model
			 * 
			 * @param JSON Object v data from server
			 * @param int type update type. Default ATTR_ALL means update all cell attributes
			 * @param int heightId height style id
			 * @param Array texts text string aggregation
			 * @param Array styles style string aggregation
			 * @param Object mergeInfos the merge info aggregation
			 */
			update: function (v, type, heightId, texts, styles, mergeInfos) {
				var upAll = type == ATTR_ALL,
					upText = (upAll || type == ATTR_TEXT),
					upStyle = (upAll || type == ATTR_STYLE),
					upSize = (upAll || type == ATTR_SIZE),
					upMerge = (upAll || type == ATTR_MERGE),
					upComment = (upAll || type == ATTR_COMMENT),
					cellType = v.ct;
				this.cellType = cellType != undefined ? cellType : 3;//default is BLANK_CELL
				//ZSS-1116: CellImpl.java#_calcAutoHeight from server to client cache
				this._cah = v._cah;
				//ZSS-1171: CellImpl.java#_textWidth from server to client cache
				this._txtwd = v.wd;
				if (upText) {
					var mergedTextId = v.meft;
					if (mergedTextId != undefined) {//index start from 0
						this.text = this.editText = this.formatText = texts[mergedTextId] || '';
					} else {
						var tId = v.t,
							eId = v.et
							fId = v.ft;
						this.text = tId != undefined ? texts[tId] : '';
						this.editText = eId != undefined ? texts[eId] : '';
						this.formatText = fId != undefined ? texts[fId] : '';
					}
				}
				if (upStyle) {
					var sId = v.s,
						isId = v.is,
						osId = v.os,
						wrap = v.wp,
						rbo = v.rb,
						lock = v.l,
						halign = v.ha,
						valign = v.va,
						fontSize = v.fs,
						fontFormat = v.ff, //ZSS-1171
						rotate = v.rot; //ZSS-944
					this.style = sId != undefined ? styles[sId] : '';
					this.innerStyle = isId != undefined ? styles[isId] : '';
					this.fontStyle = osId != undefined ? styles[osId] : '';
					this.wrap = wrap != undefined;
					this.indention = v.ind || 0;
					//bug ZSS-56: Unlock a cell, protect sheet, cannot double click to edit the cell
					this.lock = lock != undefined ? lock != 'f' : true;
					this.halign = halign || 'l'; //horizontal align: default left
					this.valign = valign || 'b'; //vertical align: default bottom 
					this.rightBorder = rbo != undefined;
					if (fontSize)
						this.fontSize = fontSize;
					//ZSS-1171
					this.fontFormat = fontFormat;
					//ZSS-568: support double border
					if (v.db) 
						this.db_tlbr = v.db;
					else
						delete this.db_tlbr;
					//ZSS-901: support auto-filter border
					if (v.af) 
						this.af_tlbr = v.af;
					else
						delete this.af_tlbr;
					//ZSS-1142: dataBar border
					if (v.dbar)
						this.dbar = v.dbar;
					else
						delete this.dbar;
					//ZSS-944: support 90 degree text rotation
					this.rotate = rotate; // text rotation
				}
				if (upSize) {
					// ZSS-224: modify overflow flag spec. to carry more status in bitswise format
					// refer to Spreadsheet.java -> getCellAttr()
					this.overflow = !!v.ovf; // backward compatibility (ovf flag is either undefined or greater than 0)
					this.overflowOpt = v.ovf ? v.ovf : 0; // if flag is undefined, the options flag should be zero
				}
				if (upMerge) {
					
					var idx = v.mi,
						cssIdx = v.mc;
					if (idx != undefined) {
						var info = mergeInfos.r[idx],
							css = mergeInfos.cs[cssIdx];
						this.mergeId = info.i;
						this.mergeCls = css;
						if (this.mergeId) {
							this.merge = newRect(info.t, info.l, info.b, info.r);
						}
					} else if (this.mergeId) {//remove merge
						delete this.mergeId;
						delete this.mergeCls;
						delete this.merge;
					}
				}
				if (upComment) {
					var cmt = v.cmt;
					if (cmt != undefined) {
						this.comment = cmt;
					} else {
						delete this.comment;
					}
				}
			}
		}
		c.update(v, type, heightId, texts, styles, mergeInfos);
		return c;
	}
	
	/**
	 * Create Row model
	 * 
	 * @param JSON Object v row data from server
	 * @param int update data type
	 * @param int update cell left number
	 * @param int update cell right number
	 * @param Array texts text string aggregation
	 * @param Array styles style string aggregation
	 * @param Object mergeInfos the merge info aggregation
	 */
	function newRow(v, type, left, right, texts, styles, mergeInfos) {
		var row = {
			r: v.r,
			heightId: v.h,
			cells: {},
			//TODO: rm this
			updateRowHeightId: function (id) {
				this.heightId = id;
				var cells = this.cells;
				for (var p in cells) {
					cells[p].heightId = id;
				}
			},
			update: function (attr, type, left, right, texts, styles, mergeInfos) {
				var src = attr.cs,
					i = left,
					j = 0,
					cell,
					r = this.r,
					cs = this.cells,
					hId = this.heightId;
				for (; i <= right; i++) {
					var c = cs[i];
					if (!c) {
						c = cs[i] = newCell(src[j++], type, hId, texts, styles, mergeInfos);
						c.r = r;
						c.c = i;
					} else {
						c.update(src[j++], type, hId, texts, styles, mergeInfos);
					}
					//row contains wrap cell may have height Id on client side
					if (!c.heightId && hId) {
						c.heightId = hId;
					}
				}
			},
			removeColumns: function (col, size, rCol) {
				var cs = this.cells,
					i = size,
					lCol = col;
				for (var c = col; c <= rCol; c++) {
					var cell = cs[c];
					if (cell) {
						if (i > 0) {
							delete cs[c];
							i--;
						} else {
							delete cs[c];
							cell.c -= size; //re-index
							cs[cell.c] = cell;
						}
					}
				}
			},
			getCell: function (num) {
				return this.cells[num];
			}
		}
		row.update(v, type, left, right, texts, styles, mergeInfos);
		return row;
	}

/**
 * Cache data of sheet
 */
zss.ActiveRange = zk.$extends(zk.Object, {
	//id: sheet uuid
	/**
	 * Indicate shall prune data or not
	 */
	//prune: false
	/**
	 * Top frozen data
	 */
	//topFrozen
	/**
	 * Left frozen data
	 */
	//leftFrozen
	/**
	 * Current rectangle range
	 */
	rect: null,
	$init: function (data) {
		this.rows = {};
		this.rowHeaders = {};
		this.columnHeaders = {};
		this.update(data);
		this.id = data.id;
	},
	size: function () {
		var rect = this.rect,
			height = (rect.bottom - rect.top) + 1,
			width = (rect.right - rect.left) + 1;
		return height * width;
	},
	updateColumnWidthId: function (col, id) {
		var r = this.rect,
			tRow = r.top,
			bRow = r.bottom,
			rows = this.rows,
			header = this.columnHeaders[col];
		if (header)
			header.p = id;

		if (this.topFrozen) {
			this.topFrozen.updateColumnWidthId(col, id);
		}
		if (this.leftFrozen) {
			this.leftFrozen.updateColumnWidthId(col, id);
		}
		if (this.cornerFrozen) {
			this.cornerFrozen.updateColumnWidthId(col, id);
		}
	},
	getColumnWidthId: function (col) {
		var c = this.columnHeaders[col];
		return c ? c.p : null;
	},
	updateRowHeightId: function (row, id) {
		var r = this.rows[row],
			header = this.rowHeaders[row];
		if (r)
			r.updateRowHeightId(id);
		if (header)
			header.p = id;
		if (this.topFrozen) {
			this.topFrozen.updateRowHeightId(row, id);
		}
		if (this.leftFrozen) {
			this.leftFrozen.updateRowHeightId(row, id);
		}
		if (this.cornerFrozen) {
			this.cornerFrozen.updateRowHeightId(row, id);
		}
	},
	getRowHeightId: function (row) {
		var r = this.rowHeaders[row];
		return r ? r.p : null; 
	},
	updateBoundary: function (dir, top, left, btm, right) {
		var rect = this.rect;
		var newRange;
		if (!rect) {
			this.rect = newRect(top, left, btm, right);
			return;
		}
		else if (this.containsRange(top, left, btm, right)) {
			return;
		} else {
			var rect = this.rect;
			switch (dir) {
			case 'visible':
				rect.right = right;
				rect.bottom = btm;
				break;
			case 'jump':
				delete this.rect;
				//row contains wrap cell may have height Id on client side, delete it later
				//delete this.rows;
				//delete this.rowHeaders;
				delete this.columnHeaders;	
				
				this.rect = newRect(top, left, btm, right);
				this.rows = {};
				this.rowHeaders = {};
				this.columnHeaders = {};
				break;
			// ZSS-451: fetched block from server might make cache be non-rectangle range
			case 'east':
			case 'west':
				if(top == rect.top && btm == rect.bottom) { // normal case
					if(dir == 'east') {
						rect.right = right;
					} else if(dir == 'west'){
						rect.left = left;
					}
				} else {
					if(top > rect.bottom || btm < rect.top) { // fetched block is totally outside of cached range
						newRange = newRect(top, left, btm, right);
					} else { // fetched block intersects cached range
						top = Math.max(top, rect.top);
						btm = Math.min(btm, rect.bottom);
						left = (dir == 'west' ? left : rect.left);
						right = (dir == 'east' ? right : rect.right);
						newRange = newRect(top, left, btm, right);
					}
					// prune cached range first and replace cached range
					this.pruneOutside(newRange);  
					this.rect = newRange;
				}
				break;
			case 'south':
			case 'north':
				if(left == rect.left && right == rect.right) { // normal case
					if(dir == 'south') {
						rect.bottom = btm;
					} else if(dir == 'north'){
						rect.top = top;
					}
				} else {
					if(left > rect.right || right < rect.left) { // fetched block is totally outside of cached range 
						newRange = newRect(top, left, btm, right);
					} else { // fetched block intersects cached range
						top = (dir == 'north' ? top : rect.top);
						btm = (dir == 'south' ? btm : rect.bottom);
						left = Math.max(left, rect.left);
						right = Math.min(right, rect.right);
						newRange = newRect(top, left, btm, right);
					}
					// prune cached range first and replace cached range
					this.pruneOutside(newRange);  
					this.rect = newRange;
				}
				break;
			}
		}
	},
	pruneOutside: function(range) { 	// ZSS-451: add a method to prune cached cells and remain cells in specific range, let cache stay be a rectangle range
		// reduce cells to match specific range
		var rows = this.rows;
		var r, c;
		for(r = this.rect.top ; r <= this.rect.bottom ; ++r) {
			if(range.top <= r && r <= range.bottom) { // row is inside new range
				for(c = this.rect.left ; c <= this.rect.right ; ++c) {
					// delete cell outside new range
					if( !(range.left <= c && c <= range.right)) {  
						if(rows[r] && rows[r].cells[c]) { // just in case
							delete rows[r].cells[c];
						}
					}
				}
			} else {  // delete whole row outside new range
				delete rows[r];
			}
		}
	},
	pruneLeft: function (size) {
		var rows = this.rows,
			left = this.rect.left,
			colHeaders = this.columnHeaders;
		for (var p in rows) {
			var r = rows[p],
				cs = r.cells,
				i = left,
				j = size;
			while (j--) {
				delete cs[i++];
			}
		}
		i = left;
		j = size;
		while (j--) {
			delete colHeaders[i++];
		}
		this.rect.left = left + size;
		if (this.topFrozen) {
			this.topFrozen.pruneLeft(size);
		}
	},
	pruneRight: function (size) {
		var rows = this.rows,
			right = this.rect.right,
			colHeaders = this.columnHeaders;
		for (var p in rows) {
			var r = rows[p],
				cs = r.cells,
				i = right,
				j = size;
			while (j--) {
				delete cs[i--];
			}
		}
		i = right,
		j = size;
		while (j--) {
			delete colHeaders[i--];
		}
		this.rect.right = right - size;
		if (this.topFrozen) {
			this.topFrozen.pruneRight(size);
		}
	},
	pruneTop: function (size) {
		var rows = this.rows,
			rowHeaders = this.rowHeaders,
			i = this.rect.top,
			j = size;
		while (j--) {
			delete rows[i];
			delete rowHeaders[i];
			i++;
		}
		if (this.leftFrozen) {
			this.leftFrozen.pruneTop(size);
		}
		this.rect.top += size;
	},
	pruneBottom: function (size) {
		var rows = this.rows,
			rowHeaders = this.rowHeaders,
			i = this.rect.bottom,
			j = size;
		while (j--) {
			delete rows[i];
			delete rowHeaders[i];
			i--;
		}
		if (this.leftFrozen) {
			this.leftFrozen.pruneBottom(size);
		}
		this.rect.bottom -= size;
	},
	containsRange: function (tRow, lCol, bRow, rCol) {
		var rect = this.rect;
		return	tRow >= rect.top && lCol >= rect.left &&
					bRow <= rect.bottom && rCol <= rect.right;
	},
	insertNewColumn: function (colIdx, size, headers) {
		this.insertNewColumn_(colIdx, size, headers);
		
		// ZSS-404: freeze panels should also update row/column
		if(this.cornerFrozen) {
			this.cornerFrozen.insertNewColumn(colIdx, size, headers);
		}
		if(this.topFrozen) {
			this.topFrozen.insertNewColumn(colIdx, size, headers);
		}
		if(this.leftFrozen) {
			this.leftFrozen.insertNewColumn(colIdx, size, headers);
		}
	},
	removeColumns: function (col, size, headers) {
		this.removeColumns_(col, size, headers);
		
		// ZSS-404: freeze panels should also update row/column
		if(this.cornerFrozen) {
			this.cornerFrozen.removeColumns(col, size, headers);
		}
		if(this.topFrozen) {
			this.topFrozen.removeColumns(col, size, headers);
		}
		if(this.leftFrozen) {
			this.leftFrozen.removeColumns(col, size, headers);
		}
	},
	insertNewRow: function (rowIdx, size, headers) {
		this.insertNewRow_(rowIdx, size, headers);
		
		// ZSS-404: freeze panels should also update row/column
		if(this.cornerFrozen) {
			this.cornerFrozen.insertNewRow(rowIdx, size, headers);
		}
		if(this.topFrozen) {
			this.topFrozen.insertNewRow(rowIdx, size, headers);
		}
		if(this.leftFrozen) {
			this.leftFrozen.insertNewRow(rowIdx, size, headers);
		}
	},
	removeRows: function (row, size, headers) {
		this.removeRows_(row, size, headers);
		
		// ZSS-404: freeze panels should also update row/column
		if(this.cornerFrozen) {
			this.cornerFrozen.removeRows(row, size, headers);
		}
		if(this.topFrozen) {
			this.topFrozen.removeRows(row, size, headers);
		}
		if(this.leftFrozen) {
			this.leftFrozen.removeRows(row, size, headers);
		}
	},
	insertNewColumn_: function (colIdx, size, headers) {
		// ZSS-404: only update cells in this cache's range
		var rng = this.rect;
		if(colIdx < rng.left || rng.right < colIdx) {
			return;
		}
		
		updateHeaders(this.columnHeaders, headers);
		var rows = this.rows;
		var rCol = rng.right;
		for (var r = rng.top; r <= rng.bottom; r++) {
			var cs = rows[r].cells;
			var c = colIdx;
			var cb = colIdx + size; //column index boundary 
			var ccs = []; //clone cells
			var cfn = zss.ActiveRange.clone;
			
			// clone cells to be new inserting column (after shift)
			// but, these columns will be replace by fetching cell block later
			for (; c < cb; c++) {
				ccs.push(cfn(cs[c]));
			}
			
			//shift cells right
			cb = colIdx - 1;
			c = rCol;
			while (c > cb) {
				var cell = cs[c--];
				var oIdx = cell.c;	//old index
				var nIdx = oIdx + size;//new index
				cell.c = nIdx;
				cs[nIdx] = cell;
				cs[oIdx] = null;
			}
			
			// insert new cells from clone
			var cc;
			c = colIdx;
			while (cc = ccs.shift()) {
				cs[c++] = cc; 
			}
		}
		this.rect.right += size;
	},
	removeColumns_: function (col, size, headers) {
		// ZSS-404: only update cells in this cache's range
		var rng = this.rect;
		if(col < rng.left || rng.right < col) {
			return;
		}
		
		updateHeaders(this.columnHeaders, headers);
		var rows = this.rows;
		var rCol = rng.right;
		var tRow = rng.top;
		var bRow = rng.bottom;
		for (var r = tRow; r <= bRow; r++) {
			var row = rows[r];
			if (row) {
				row.removeColumns(col, size, rCol);
			}
		}
		this.rect.right -= size;
	},
	insertNewRow_: function (rowIdx, size, headers) {
		// ZSS-404: only update cells in this cache's range
		var rng = this.rect;
		if(rowIdx < rng.top || rng.bottom < rowIdx) {
			return;
		}
		
		updateHeaders(this.rowHeaders, headers);
		var rows = this.rows;
		var lCol = rng.left;
		var rCol = rng.right;
		var r = rowIdx;
		var rb = rowIdx + size;
		var crs = []; //clone rows
		var cfn = zss.ActiveRange.copyRow;

		// clone rows to be new inserting rows (after shift row)
		// but, these rows will be replace by fetching cell block later
		for (;r < rb; r++) {
			crs.push(cfn(lCol, rCol, rows[r]));
		}
		
		//shift rows
		rb = rowIdx - 1;
		r = rng.bottom;
		while (r > rb) {		// cached range might be smaller
			var row = rows[r--];
			var oIdx = row.r; //old index
			var nIdx = oIdx + size;	//new index
			row.r = nIdx;
			rows[nIdx] = row;
			rows[oIdx] = null;
		}
		
		// insert new rows from clone
		var ro;
		r = rowIdx;
		while (ro = crs.shift()) {
			rows[r++] = ro;
		}
			
		this.rect.bottom += size; 
	},
	removeRows_: function (row, size, headers) {
		// ZSS-404: only update cells in this cache's range
		var rng = this.rect;
		if(row < rng.top || rng.bottom < row) {
			return;
		}
		
		updateHeaders(this.rowHeaders, headers);
		var rows = this.rows;
		var bRow = this.rect.bottom;
		var i = size;
		for (var r = row; r <= bRow; r++) {
			var row = rows[r];
			if (row) {
				if (i > 0) {
					delete rows[r];
					i--;
				} else {
					delete rows[r];
					row.r -= size;
					rows[row.r] = row;
				}
			}
		}
		this.rect.bottom -= size;
	},
	//TODO: update overlap range
	fetchUpdate: function (v) {
		var top = v.t,
			left = v.l,
			btm = v.b,
			right = v.r,
			rect = this.rect;
		if (rect.top == btm + 1) { //update north
			this.update(v, 'north');
		} else if (rect.left == right + 1) {//update left
			this.update(v, 'west');
		} else if (rect.right == left - 1) {//update right
			this.update(v, 'east');
		} else if (rect.bottom == top - 1) {//update south
			this.update(v, 'south');
		}
	},
	update: function (v, dir) {
		
		// ZSS-404: server doesn't give direction for freeze panels
		// this cause freeze panels' range property isn't sync. with real cached cells
		// so, apply direction to freeze panels from main active range
		if(v.leftFrozen) {
			v.leftFrozen.dir = v.dir;
		}
		if(v.topFrozen) {
			v.topFrozen.dir = v.dir;
		}
		if(v.cornerFrozen) {
			v.cornerFrozen.dir = v.dir;
		}

		// ZSS-392: multiple ActiveRange for different panels
		// just delegate to corresponding freeze active ranges 
		if(v.leftFrozen) { // left frozen data
			if(this.leftFrozen) {
				this.leftFrozen.update(v.leftFrozen, dir);
			} else {
				this.leftFrozen = new zss.FreezeActiveRange(v.leftFrozen);
			}
		}
		if(v.topFrozen) { // top frozen data
			if(this.topFrozen) {
				this.topFrozen.update(v.topFrozen, dir);
			} else {
				this.topFrozen = new zss.FreezeActiveRange(v.topFrozen);
			}
		}
		if(v.cornerFrozen) { // corner frozen data
			if(this.cornerFrozen) {
				this.cornerFrozen.update(v.cornerFrozen, dir);
			} else {
				this.cornerFrozen = new zss.FreezeActiveRange(v.cornerFrozen);
			}
		}
		
		// real update cells
		this.updateCells(v, dir);
	},
	updateCells: function (v, dir) {
		var attrType = v.at;
		var top = v.t;
		var left = v.l;
		var btm = v.b;
		var right = v.r;
		var src = v.rs;
		var textAggregation = v.s;
		var styleAggregation = v.st;
		var mergeAggregation = v.m;
		var rowHeaderObj = v.rhs;
		var colHeaderObj = v.chs;
		var i = top; 
		var s = 0;
		var dir = dir || v.dir;
		var oldRow;
		var oldRows = {};
		var oldRowHeaders = {};
		
		if ('jump' == dir) {
			//row contains wrap cell may have height Id on client side
			oldRows = this.oldRows = this.rows,
			oldRowHeaders = this.oldRowHeaders = this.rowHeaders;
		}
		this.updateBoundary(dir, top, left, btm, right);
		
		var rows = this.rows;
		for (; i <= btm; i++) {
			var row = rows[i];
			if (!row) {
				row = rows[i] = newRow(src[s++], attrType, left, right, textAggregation, styleAggregation, mergeAggregation);
				//row contains wrap cell may have height Id on client side
				if ('jump' == dir) {
					oldRow = oldRows[i];
					if (oldRow && oldRow.heightId && !row.heightId) {
						row.updateRowHeightId(oldRow.heightId);
					}
				}
			} else {
				row.update(src[s++], attrType, left, right, textAggregation, styleAggregation, mergeAggregation);
			}
		}
		
		if (rowHeaderObj) {
			updateHeaders(this.rowHeaders, rowHeaderObj);
			//row contains wrap cell may have height Id on client side
			if ('jump' == dir) {
				var headers = this.rowHeaders;
				for (var i in headers) {
					var h = headers[i],
						oldHeader = oldRowHeaders[i];
					if (!h.p && oldHeader && oldHeader.p) {
						h.p = oldHeader.p; //position id
					}
				}
			}
		}
		
		if (colHeaderObj) {
			updateHeaders(this.columnHeaders, colHeaderObj);
		}
		
		//row contains wrap cell may have height Id on client side
		if ('jump' == dir) {
			delete this.oldRows;
			delete this.oldRowHeaders;
		}
	},
	getRow: function (num) {
		return this.rows[num];
	},
	clone: function (tRow, lCol, bRow, rCol, src) {
		var rows = this.rows,
			rhs = this.rowHeaders,
			chs = this.columnHeaders,
			srcRowHeaders = src.rowHeaders,
			srcColHeaders = src.columnHeaders,
			cpRowsFn = zss.ActiveRange.copyRow,
			cfn = zss.ActiveRange.clone;
		for (var r = tRow; r <= bRow; r++) {
			var sRow = src.getRow(r);
			rows[r] = cpRowsFn(lCol, rCol, sRow);
			rhs[r] = cfn(srcRowHeaders[r]);//clone row headers
		}
		
		for (var c = lCol; c <= rCol; c++) {
			chs[c] = cfn(srcColHeaders[c]);
		}
	}
}, {//static
	copyRow: function (lCol, rCol, srcRow) {
		var row = {
			r: srcRow.r,
			heightId: srcRow.heightId,
			cells: {},
			update: srcRow.update,
			getCell: srcRow.getCell,
			updateRowHeightId: srcRow.updateRowHeightId,
			removeColumns: srcRow.removeColumns
		};
		zss.ActiveRange.copyCells(lCol, rCol, srcRow, row);
		return row;
	},
	copyCells: function (lCol, rCol, srcRow, dstRow) {
		var srcCells = srcRow.cells,
			dstCells = dstRow.cells,
			fn = zss.ActiveRange.clone;
		for (var c = lCol; c <= rCol; c++) {
			dstCells[c] = fn(srcCells[c]);
		}
	},
	clone: function (src) {
		var c = {};
		for (var p in src) {
			c[p] = src[p];
		}
		return c;
	}
});

	function copyAttributes(dst, src, fields) {
		for (var key in fields) {
			var f = fields[key];
			dst[f] = src[f];
		}
	}
/**
 * Snapshot sheet relate status and attributes
 * 
 * <ul>
 * 	<li>sheet style</li>
 * 	<li>row freeze</li>
 * 	<li>column freeze</li>
 * 	<li>row height</li>
 * 	<li>column width</li>
 * 	<li>visible range</li>
 *  <li>focus</li>
 * 	<li>selection</li>
 *  <li>highlight</li>
 * 	<li>displayGridlines</li>
 * 	<li>protect</li>
 * 	<li></li>
 * </ul>
 */
zss.Snapshot = zk.$extends(zk.Object, {
	$init: function (wgt) {
		var sheet = wgt.sheetCtrl,
			dataPanel = sheet.dp,
			leftPanel = sheet.lp,
			topPanel = sheet.tp,
			scrollPanel = sheet.sp,
			visRng = zss.SSheetCtrl._getVisibleRange(sheet);
		copyAttributes(this, wgt, 
			['_scss', '_displayGridlines', '_rowFreeze', '_columnFreeze', '_rowHeight', '_columnWidth', '_protect', '_maxRows', '_maxColumns']);
		
		this.setCustRowHeight(sheet.custRowHeight.custom);
		this.setCustRowLastId(sheet.custRowHeight.ids.last);
		this.setCustColWidth(sheet.custColWidth.custom);
		this.setCustColLastId(sheet.custColWidth.ids.last);
		this.setMergeMatrix(sheet.mergeMatrix.mergeMatrix);
		this.setVisibleRange(visRng);
		this.setFocus(sheet.getLastFocus());
		this.setSelection(sheet.getLastSelection());
		if (sheet.isHighlightVisible()) {
			this.setHighlight(sheet.getLastHighlight());
		}
		
		this.setDataPanelSize({'width': dataPanel.width, 'height': dataPanel.height});
		this.setScrollPanelPos({'scrollLeft': scrollPanel.currentLeft, 'scrollTop': scrollPanel.currentTop});
		this.setLeftPanelPos(leftPanel.toppos);
		this.setTopPanelPos(topPanel.leftpos);
		
		if (wgt.getDataValidations) {
			var dv = wgt.getDataValidations();
			if (dv) {
				this.setDataValidations(dv);
			}
		}
		if (wgt.getAutoFilter) {
			var af = wgt.getAutoFilter();
			if (af) {
				this.setAutoFilter(af);
			}
		}
		//ZSS-988
		if (wgt.getTableFilters) {
			var tbafs = wgt.getTableFilters();
			if (tbafs) {
				this.setTableFilters(tbafs);
			}
		}
	},
	$define: {
		scss: null,
		rowFreeze: null,
		columnFreeze: null,
		rowHeight: null,
		columnWidth: null,
		protect: null,
		displayGridlines: null,
		/**
		 * @param array
		 */
		custRowHeight: null,
		/**
		 * @param int
		 */
		custRowLastId:null,
		/**
		 * @param array
		 */
		custColWidth: null,
		/**
		 * @param int
		 */
		custColLastId:null,
		/**
		 * @param array
		 */
		mergeMatrix: null,
		visibleRange: null,
		/**
		 * Data panel's width/height
		 */
		dataPanelSize: null,
		/**
		 * Scroll panel's scroll left and scroll top position
		 */
		scrollPanelPos: null,
		/**
		 * Left panel's top position
		 */
		leftPanelPos: null,
		/**
		 * Top panel's left position
		 */
		topPanelPos: null,
		focus: null,
		selection: null,
		highlight: null,
		dataValidations: null,
		autoFilter: null,
		tableFilters: null, //ZSS-988
		maxRows: null, 		//ZSS-1082
		maxColumns: null 	//ZSS-1082
	}
});


/**
 * Control cache data of sheets
 */
zss.CacheCtrl = zk.$extends(zk.Object, {
	/**
	 * Current sheet data
	 */
	selected: null,
	$init: function (wgt, v) {
		this._wgt = wgt;
		this.sheet = wgt.sheetCtrl;
		
		//key: sheet uuid, value: zss.ActiveRange
		this.sheets = {};
		
		//key: sheet uuid, value: sheet last status
		this.snapshots = {};
		
		this.setSelectedSheet(v);
	},
	/**
	 * Save current sheet status
	 */
	snap: function (sheetId) {
		return this.snapshots[sheetId] = new zss.Snapshot(this._wgt);
	},
	getSnapshot: function (sheetId) {
		return this.snapshots[sheetId];
	},
	isCached: function (sheetId) {
		return !!this.sheets[sheetId];
	},
	releaseCache: function (sheetId) {
		if(this.sheets[sheetId] && this.sheets[sheetId] != this.selected){
			delete this.sheets[sheetId];
		}
		if(this.snapshots[sheetId]){
			delete this.snapshots[sheetId];
		}
	},
	//ZSS-1181
	releaseSelectedCache: function (sheetId) {
		if (this.selected && this.selected.id == sheetId) {
			delete this.sheets[sheetId];
			delete this.selected;
		}
		if(this.snapshots[sheetId]){
			delete this.snapshots[sheetId];
		}
	},
	setSelectedSheetBy: function (sheetId) {
		this.selected = this.sheets[sheetId];
	},
	getSheetBy: function (shtId) {
		return this.sheets[shtId];
	},
	setSelectedSheet: function (v) {
		var sheetId = v.id,
			rng = this.sheets[sheetId] = new zss.ActiveRange(v);
		
		this.selected = rng;
	},
	getSelectedSheet: function () {
		return this.selected;
	}
});

//ZSS-392: update freeze panels' activeRange individually
zss.FreezeActiveRange = zk.$extends(zss.ActiveRange, {

	$init: function (data) {
		this.$supers(zss.FreezeActiveRange, '$init', [data]); 
	},
	
	// override
	update: function (v, dir) {
		// just update cells
		this.updateCells(v, dir);
	},
	
	// ZSS-404: freeze panels should also update row/column
	// override
	insertNewColumn: function (colIdx, size, headers) {
		this.insertNewColumn_(colIdx, size, headers); // just update row/column
	},
	removeColumns: function (col, size, headers) {
		this.removeColumns_(col, size, headers);
	},
	insertNewRow: function (rowIdx, size, headers) {
		this.insertNewRow_(rowIdx, size, headers);
	},
	removeRows: function (row, size, headers) {
		this.removeRows_(row, size, headers);
	}
	
}); // end of zss.FreezeActiveRange

})();

/* CellBlockCtrl.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

(function () {

/**
 * CellBlockCtrl is used for controlling cells, include load cell, creating cell, merge cell and cell position index
 */
zss.CellBlockCtrl = zk.$extends(zk.Widget, {
	widgetName: 'CellBlock',
	range: null,
	_lastDir: null,
	$o: zk.$void, //owner, fellows relationship no needed
	$init: function (sheet, tRow, lCol, bRow, rCol, data, type) {
		this.$supers(zss.CellBlockCtrl, '$init', []); //DO NOT pass "arguments" or all fields will be copied into this Object. 
		this.sheet = sheet;
		this.type = type;
		this.rows = [];
		this.range = new zss.Range(lCol, tRow, rCol, bRow);
		
		//ZSS-1149
		this._tmpMerges = {};
		this._toReset = {};
		this._toSet = {};
		
		var rows = data.rows,
			block = this;
		for (var r = tRow; r <= bRow; r++) {
			var row = new zss.Row(sheet, block, r, data);
			for (var c = lCol;  c <= rCol; c++) {
				row.appendCell(new zss.Cell(sheet, block, r, c, data));
			}
			this.appendRow(row);
		}
	},
	//override
	setVisible: function (visible) {
		if (this._visible != visible) {
			this._visible = visible;
			var n = this.$n();
			if (n)
				n.style.visibility = visible ? 'visible' : 'hidden';
		}
	},
	redraw: function (out) {
		var rows = this.rows,
			vis = this.isVisible() ? 'visible' : 'hidden',
			size = rows.length;
		out.push('<div id="', this.uuid, '" class="', this.getZclass(), '" style="visibility:' + vis +';">');
		for (var i = 0; i < size; i++) {
			rows[i].redraw(out);
		}
		out.push('</div>');
	},
	//super//
	getZclass: function () {
		var t = this.type;
		return t ? 'zs' + t + 'block' : 'zsblock';
	},
	bind_: function () {
		//ZSS-1117: this._newrange used by Cell.js#bind_()
		this._newrange = this.range; 
		
		this.$supers(zss.CellBlockCtrl, 'bind_', arguments);
		
		var n = this.comp = this.$n();
//		zk(n).disableSelection(); //disableSelection()
		
		//ZSS-1117
		this._setTempMergeCells();
		delete this._newrange;
	},
	unbind_: function () {
		this.$supers(zss.CellBlockCtrl, 'unbind_', arguments);
		
		delete this.rows;
		this.sheet = this.comp = this.rows = this.range = null;
	},
	doMouseDown_: function (evt) {
		this.sheet._doMousedown(evt);
	},
	doMouseUp_: function (evt) {
		this.sheet._doMouseup(evt);
	},
	/**
	 * Returns the row of the spreadsheet
	 * @param int row 
	 */
	getRow: function (row) {
		var range = this.range;
		if(row < range.top || row > range.bottom)
			return null;
		return this.rows[row - range.top];
	},
	/**
	 * Returns the cell of the spreadsheet
	 * @param int row
	 * @param int col
	 */
	getCell: function (row, col) {
		var range = this.range;
		if(!range || row < range.top || row > range.bottom || col < range.left || col > range.right)
			return null;
		return this.rows[row - range.top].getCellAt(col - range.left);
	},
	/**
	 * Sets the merge range of the cell
	 * @param id
	 * @param int left column start index
	 * @param int top row start index
	 * @param int right column end index
	 * @param int bottom row end index
	 * @param int width
	 */
	addMergeRange: function (id, left, top, right, bottom, width) {
		var cell = ctrl = this.getCell(top, left);
		if (!cell) return;
		var comp;
		for (var r = top; r <= bottom; ++r) {
			for (var i = left; i <= right; i++) {
				if (i == left && r == top) {
					comp = cell.comp;
					jq(comp).addClass("zsmerge" + id);
				} else {
					cell = this.getCell(r, i);
					if (!cell) break;//in top / left /corner , they might not have such cell
					comp = cell.comp;
					jq(comp).addClass(r == top ? "zsmergee" : "zsmergeeu");
				}
	
				cell.merid = id;
				cell.merr = right;
				cell.merl = left;
				cell.mert = top;
				cell.merb = bottom;
			}
		}
		//ZSS-944
		ctrl.redoRotate = true;
		this.update_(top, left, top, left);
	},
	/**
	 * Remove the merge range of the cell
	 * @param id
	 * @param int left column start index
	 * @param int top row start index
	 * @param int right column end index
	 * @param int bottom row end index
	 * @param int width
	 */
	removeMergeRange: function (id, left, top, right, bottom, width) {
		var cell = ctrl = this.getCell(top, left);
		if (!cell) return;
		var merl = cell.merl,
			merr = cell.merr,
			mert = cell.mert,
			merb = cell.merb,
			merid = cell.merid;
		
		if (id != merid)
			return;

		var ud,
			comp;
		for (var r = mert; r <= merb; ++r) {
			for (var i = merl; i <= merr; i++) {
				if (i == merl && r == mert) {
					comp = cell.comp;
					jq(comp).removeClass("zsmerge" + id);
				} else {
					cell = this.getCell(r, i);
					if (!cell) break;//in top / left /corner , they might not have such cell
					comp = cell.comp;
					jq(comp).removeClass(r == mert ? "zsmergee" : "zsmergeeu");
				}
				cell.merid = cell.merr = cell.merl = cell.mert = cell.merb = ud;
			}
		}
		ctrl.redoOverflow = true;
		//ZSS-944
		ctrl.redoRotate = true;
		this.update_(top, left, top, left);
	},

	/**
	 * Update cells
	 */
	update_: function (tRow, lCol, bRow, rCol, updateSrc) {
		for (var r = tRow; r <= bRow; r++) {
			if (updateSrc) { //ZSS-1181
				this._updateRowCacheSrc(r);
			}
			for (var c = lCol; c <= rCol; c++) {
				var cell = this.getCell(r, c);
				if (cell)
					cell.update_(updateSrc);
			}
		}
	},
	//ZSS-1181
	_updateRowCacheSrc: function (row) {
		var range = this.range;
		if(!range || row < range.top || row > range.bottom)
			return;
		
		var cctrl = this.sheet._wgt._cacheCtrl,
			csrc = cctrl ? cctrl.getSelectedSheet() : null;
		if (csrc) {
			this.rows[row - range.top]._updateCacheSrc(csrc);
		}
	},
	/**
	 * Dynamic create cells
	 * 
	 * @param dir the dir to create cells
	 * @param tRow
	 * @param lCol
	 * @param bRow
	 * @param rCol
	 */
	create_: function (dir, tRow, lCol, bRow, rCol, data) {
		var sheet = this.sheet,
			data = data || sheet._wgt._cacheCtrl.getSelectedSheet(),
			block = this,
			cr = this.range,
			rs = this.rows,
			isNewRow = false,
			isTop = 'north' == dir,
			isBtm = 'south' == dir,
			isJump = 'jump' == dir,
			isVer = isTop || isBtm || isJump,
			isLeft = 'west' == dir,
			isRight = 'east' == dir,
			nr = new zss.Range(cr.left, cr.top, cr.width, cr.height, true), //ZSS-1117
			width = rCol - lCol + 1; //ZSS-1117
		
		//ZSS-1117
		if (isLeft)
			nr.extendLeft(width);
		else if (isRight)
			nr.extendRight(width);
		this._newrange = nr; //used by Cell.js#bind_()

		for (var r = tRow, j = 0; r <= bRow; r++) {
			var row = isVer ? new zss.Row(sheet, block, r, data) : this.getRow(r),
				html = isVer ? row.getHtmlPrologHalf() : '';
			for (var c = lCol, i = 0;  c <= rCol; c++) {
				var cell = new zss.Cell(sheet, block, r, c, data);
				if (isLeft) {
					row.insertCell(i++, cell); //row has been attach to DOM tree
				} else if (isRight) {
					row.appendCell(cell); //row has been attach to DOM tree
				} else if (isVer) {
					row.appendCell(cell, true); //not attach to DOM tree yet
					html += cell.getHtml();
				}
			}
			if (isVer)
				html += row.getHtmlEpilogHalf();
			else if (row._prepareAutoFilterBtns)
				row._prepareAutoFilterBtns(); //ZSS-953
			
			if (isBtm)
				this.appendRow(row, html, true);
			else if (isTop) {
				this.insertRow(j++, row, html, true);
			}
		}
		//ZSS 125: wrap text processed on row.bind_, within appendRow / insertRow
		delete sheet._wrapRange;
		
		//ZSS-1117
		this.range = this._newrange;
		this._resetTempMergeCells(nr.left, nr.top, nr.right, nr.bottom);
		this._setTempMergeCells();
		delete this._newrange;
		
		// ZSS-1116: after Cell.js is bind_() in which it might register to 
		//    do _calcAutoHeight; so try to really render row height now
		if (sheet._cah) {
			sheet.fireProcessAutoHeight_();
			delete sheet._cah;
		}
	},
	/**
	 * Sets rows's width position index
	 * @param int col the column
	 * @param int zsw the column's position index
	 */
	appendZSW: function (col, zsw) {
		if (col > this.range.right || col < this.range.left) return;
		rows = this.rows;
		var rowsize = rows.length;
		for (var i = 0; i < rowsize; i++)
			rows[i].appendZSW(col - this.range.left, zsw);
	},
	/**
	 * Sets rows's height position index
	 * @param int row the row
	 * @param int zsh the row's height position index
	 */
	appendZSH: function (row, zsh) {
		if (row > this.range.bottom || row < this.range.top) return;
		this.rows[row - this.range.top].appendZSH(zsh);
	},
	/**
	 * Insert new column
	 * @param int col the column to insert
	 * @param int size the size of the cell
	 */
	insertNewColumn: function (col, size) {
		if (col > (this.range.right + 1) || col < this.range.left) return;
		var index = col - this.range.left;
		
		rows = this.rows;
		var rowsize = rows.length;
		for (var i = 0; i < rowsize; i++)
			rows[i].insertNewCell(index, size);

		this.range.extendRight(size);
	},
	/**
	 * Insert new row
	 * @param int row the row to insert
	 * @param int size the size of the row  
	 */
	insertNewRow: function (row, size, data) {
		if (row > (this.range.bottom + 1) || row < this.range.top) return;
		var index = row - this.range.top,
			ctrl,
			rows = this.rows,
			temprow = (index >= rows.length) ? rows[rows.length - 1] : rows[index],
			sheet = this.sheet,
			data = sheet._wgt._cacheCtrl.getSelectedSheet(),
			block = this;
		for (var i = 0; i < size; i++) {
			var r = row + i,
				html = '';
			
			ctrl = new zss.Row(sheet, block, r, data);
			//ZSS-120: use default row height first, row's height will update by server if needed 
			ctrl.zsh = null;
			html += ctrl.getHtmlPrologHalf();
			html += zss.Row.copyCells(temprow, ctrl);
			this.insertRow(index + i, ctrl, html); // ZSS-450, ZSS-485: it should be row array index not row number, see also insertNewColumn()
		}
		this.shiftRowInfo(index + size, row + size);
		this.range.extendBottom(size);
		if (this._newrange) this._newrange.extendBottom(size); //ZSS-1117
	},
	/**
	 * Shift row info
	 */
	shiftRowInfo: function(index, newrow) {
		var rows = this.rows,
			size = this.rows.length,
			j = 0;
		for(var i = index; i < size; i++)
			rows[i].resetRowIndex(newrow +(j++));
	},
	/**
	 * Remove column
	 * @param int col the column to remove
	 * @param int size
	 */
	removeColumn: function (col, size) {
		if (col > (this.range.right + 1) || col < this.range.left) return;
		var index = col - this.range.left;
		if ((col + size) > this.range.right)
			size = this.range.right - col + 1;
		
		var rows = this.rows;
		var rowsize = rows.length;
		for (var i = 0; i < rowsize; i++)
			rows[i].removeCell(index, size);
		this.range.extendRight(-size);
	},
	/**
	 * Remove row
	 * @param int row the row to remove
	 * @param int size
	 */
	removeRow: function (row, size) {
		if (row > (this.range.bottom + 1) || row < this.range.top) return;
		var index = row - this.range.top;
		if ((row + size) > this.range.bottom)
			size = this.range.bottom - row + 1;
		
		var ctrl,
			rows = this.rows,
			rem = rows.slice(index, index + size),
			tail = rows.slice(index + size, rows.length);
		rows.length = index;
		rows.push.apply(rows, tail);

		var ctrl = rem.pop();

		for (; ctrl; ctrl = rem.pop()) {
			ctrl.detach();
		}
		this.range.extendBottom(-size);
		if (this._newrange) this._newrange.extendBottom(-size); //ZSS-1117
		this.shiftRowInfo(index, row);
	},
	/**
	 * Insert zss.Row widget at start with html content [optional]
	 * 
	 * @param int index
	 * @param zss.Row rowwidget
	 * @param string htmlContent
	 * @param boolean extendRange whether shall extend block range or not
	 */
	insertRow: function (index, row, htmlContent, extendRange) {
		var ignoeChildDom = htmlContent === undefined || !!htmlContent,
			rows = this.rows,
			sibling = rows[index];
		if (!sibling) {
			this.appendRow(row, htmlContent, extendRange);
		} else {
			this.insertBefore(row, sibling, ignoeChildDom);
			rows.splice(index, 0, row);
			if (extendRange) {
				this.range.extendTop(1);
				if (this._newrange) this._newrange.extendTop(1); //ZSS-1117
			}
			if (htmlContent) {
				jq(htmlContent).insertBefore(sibling.$n());
				row.bind();
			}	
		}
	},
	/**
	 * Append zss.Row widget to the end with html content [optional]
	 * 
	 * @param row zss.Row widget
	 * @param string htmlContent
	 * @param boolean extendRange whether shall extend block range or not
	 */
	appendRow: function (row, htmlContent, extendRange) {
		var ignoeChildDom = htmlContent === undefined || !!htmlContent;
		this.appendChild(row, ignoeChildDom);
		this.rows.push(row);
		if (extendRange) {
			this.range.extendBottom(1);
			if (this._newrange) this._newrange.extendBottom(1); //ZSS-1117
		}
		if (htmlContent) {
			jq(this.comp).append(htmlContent);
			row.bind();
		}
	},
	/**
	 * Sets the row by index
	 * @param zss.Row
	 * @param int index
	 */
	/** insert cell, TODO cellctrls for better performance **/
	pushRowI: function (rowctrl, index) {
		var rows = this.rows,
			size = rows.length;
		if (index > size)
			throw('index out of bound:' + index + ' > ' + size );

		if (index == 0)
			this.pushRowS(rowctrl);
		else if (index == size)
			this.pushRowE(rowctrl);
		else {
			var tail = rows.slice(index, size);
			rows.length = index;
			rows.push(rowctrl);
			rows.push.apply(rows, tail);
			this.comp.insertBefore(rowctrl.comp, tail[0].comp);	
		}
	},
	/**
	 * Hide the cell
	 */
	hide: function () {
		jq(this.comp).css('display', 'none');
	},
	/**
	 * Show the cell
	 */
	show : function () {
		jq(this.comp).css('display', 'block');
	},
	removeColumnsFromStart_: function (size) {
		var rows = this.rows,
			rowSize = this.rows.length,
			i = 0;
		for(; i < rowSize; i++)
			this.rows[i].removeLeftCell(size);
		this.range.extendLeft(-size);
	},
	removeColumnsFromEnd_: function (size) {
		var rows = this.rows,
			rowSize = this.rows.length,
			i = 0;
		for(; i < rowSize; i++)
			rows[i].removeRightCell(size);
		this.range.extendRight(-size);
	},
	removeRowsFromStart_: function (size) {
		var rows = this.rows,
			i = size,
			rm = 0;
		while (i--) {
			if (!rows.length) {
				break;
			}
			rows.shift().detach();
			rm++;
		}
		this.range.extendTop(-rm);
		if (this._newrange) this._newrange.extendTop(-rm); //ZSS-1117
		return rm;
	},
	removeRowsFromEnd_: function (size) {
		var rows = this.rows,
			i = size,
			rm = 0;
		while (i--) {
			if (!rows.length) {
				break;
			}
			rows.pop().detach();
			rm++;
		}
		this.range.extendBottom(-rm);
		if (this._newrange) this._newrange.extendBottom(-rm); //ZSS-1117
	},
	//ZSS-1117, ZSS-1149
	_tmpMerges: null, //r_c -> [l,t,r,b]
	_toReset: null, //r_c -> [l,t,r,b]
	_toSet: null, //r_c -> [l,t,r,b]
	//ZSS-1117: called by Cell.js#bind_() 
	_addTempMerge: function (ml, mt, mr, mb, l, t, r, b, cutw, cuth) {
		var k = ""+mt+"_"+ml,
			m = this._tmpMerges[k];
		if (m) {
			this._toReset[k] = m;
			delete this._tmpMerges[k];
		}
		if (cutw || cuth) {
			this._toSet[k] = [l, t, r, b, cutw, cuth, ml, mt, mr, mb];
		} else { //ZSS-1178
			delete this._toSet[k];
		}
	},
	//ZSS-1117
	_setTempMergeCells: function () {
		var p = this._toSet;
		for (var key in p) {
			if (p.hasOwnProperty(key)) {
				var m = p[key],
					l = m[0],
					t = m[1],
					r = m[2],
					b = m[3],
					cutw = m[4],
					cuth = m[5],
					ml = m[6],
					mt = m[7],
					mr = m[8],
					mb = m[9],
					cell = this.getCell(t, l);
				if (cell) {
					cell._setTempMergeCellStyle(l, t, r, b, cutw, cuth, ml, mt, mr, mb);
				}
				this._tmpMerges[key] = m;
			}
		}
		this._toSet = {};
	},
	//ZSS-1117
	_resetTempMergeCells: function (rl, rt, rr, rb) {
		var re = this._toReset;
		for (var key in re) {
			if (re.hasOwnProperty(key)) {
				var m = re[key],
					l = m[0],
					t = m[1],
					cell = this.getCell(t, l);
				if (cell) cell._resetTempMergeCellStyle();
			}
		}

		// remove those total out of range
		var rms = [];
		var p = this._tmpMerges;
		for (var key in p) {
			if (p.hasOwnProperty(key)) {
				var m = p[key],
					l = m[0],
					t = m[1],
					r = m[2],
					b = m[3];
				if (r < rl || l > rr || b < rt || t > rb) {
					rms.push(key);
				}
			}
		}
		for (var j = rms.length; --j >= 0;) {
			var key = rms[j];
			delete this._tmpMerges[key];
		}
		
		this._toReset = {};
	}
});
})();
/* Cell.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/
(function () {
var WRAP_TEXT_CLASS = 'zscelltxt-wrap';
var NUM_CELL = 0,
	STR_CELL = 1,
	FORMULA_CELL = 2,
	BLANK_CELL = 3,
	BOOLEAN_CELL = 4,
	ERROR_CELL = 5,
	Cell = 
zss.Cell = zk.$extends(zk.Widget, {
	widgetName: 'Cell',
	/**
	 * Row index number
	 */
	//r
	/**
	 * Column index number
	 */
	//c
	/**
	 * Cell reference address
	 */
	ref: null,
	/**
	 * The data source of the cell
	 */
	src: null,
	/**
	 * Cell text
	 */
	text: '',
	/**
	 * Whether cell is locked or not
	 * 
	 * Default: true
	 */
	lock: true,
	/**
	 * Indicate whether should invoke process overflow on cell or not.
	 * Process overflow when cell type is string, halign is left, no wrap, no merge
	 * 
	 * Currently, supports left aligned cell only
	 */
	overflow: false,
	/**
	 * Cell type
	 * 
	 * <ul>
	 * 	<li>0: Numeric Cell type</li>
	 * 	<li>1: String Cell type</li>
	 * 	<li>2: Formula Cell type</li>
	 * 	<li>3: Blank Cell type</li>
	 * 	<li>4: Boolean Cell type</li>
	 * 	<li>5: Error Cell type</li>
	 * </ul>
	 * 
	 * Default: Blank Cell type 
	 */
	cellType: 3,
	/**
	 * Horizontal alignment for the cell
	 * 
	 * <ul>
	 * 	<li>l: align left</li>
	 * 	<li>c: align center</li>
	 * 	<li>r: align right</li>
	 * </ul>
	 * 
	 * Default: align left
	 */
	halign: "l",
	/**
	 * Vertical alignment for the cell
	 * 
	 * <ul>
	 * 	<li>t: align top</li>
	 * 	<li>c: align center</li>
	 * 	<li>b: align bottom</li>
	 * </ul>
	 * 
	 * Default: align bottom
	 */
	valign: 'b',
	/**
	 * Whether the text should be wrapped
	 * 
	 * Default: false
	 */
	wrap: false,
	/**
	 * The font size in point
	 */
	fontSize: 11,
	/**
	 * The font format: bold(0x01)/italic(0x02)/underline(0x04)/strikout(0x08)
	 */
	fontFormat: 0,
	/**
	 * The comment
	 */
	comment: null,
	/**
	 * Whether listen onRowHeightChanged event or not 
	 * Currently, use only on IE6/IE7 for vertical align
	 * 
	 * Default: false
	 */
	//_listenRowHeightChanged: false,
	/**
	 * Whether listen sheet's onProcessOverflow event or not
	 * 
	 * Default: false
	 */
	//_listenProcessOverflow: false,
	$init: function (sheet, block, row, col, src) {
		this.$supers(zss.Cell, '$init', []);
		
		this.sheet = sheet;
		this.block = block;
		this.r = row;
		this.c = col;
		this.src = src;
		
		var	cellData = src.getRow(row).getCell(col),
			colHeader = src.columnHeaders[col],
			rowHeader = src.rowHeaders[row];
		this.text = cellData.text || '';
		this.indention = cellData.indention;
		if (colHeader && rowHeader) {
			this.ref = colHeader.t + rowHeader.t;
		}
		this.edit = cellData.editText ? cellData.editText : '';
		this.hastxt = !!this.text;
		this.zsw = src.getColumnWidthId(col);
		this.zsh = src.getRowHeightId(row);
		this.lock = cellData.lock;
		this.cellType = cellData.cellType;
		
		this.halign = cellData.halign;
		this.valign = cellData.valign;
		this.rborder = cellData.rightBorder;
		if (cellData.fontSize){
			this.fontSize = cellData.fontSize;
		}

		var mId = cellData.mergeId;
		if (mId) {
			var r = cellData.merge;
			this.merid = mId;
			this.merl = r.left;
			this.merr = r.right;
			this.mert = r.top;
			this.merb = r.bottom;
			this.mergeCls = cellData.mergeCls;
		}
		this.wrap = cellData.wrap;
		this.overflow = cellData.overflow;
		// ZSS-224: a overflow options for indicating more status in bitwise format
		// refer to Spreadsheet.java -> getCellAttr()
		this.overflowOpt = cellData.overflowOpt;  
		
		this.style = cellData.style;
		this.innerStyle = cellData.innerStyle;
		this.fontStyle = cellData.fontStyle;
		
		//ZSS-849
		this.comment = cellData.comment;
		
		//ZSS-568
		if (cellData.db_tlbr)
			this.db_tlbr = cellData.db_tlbr;
		else
			delete this.db_tlbr;

		//ZSS-901
		if (cellData.af_tlbr)
			this.af_tlbr = cellData.af_tlbr;
		else
			delete this.af_tlbr;
		
		//ZSS-1142: dataBar border
		if (cellData.dbar)
			this.dbar = cellData.dbar;
		else
			delete this.dbar;
		
		//ZSS-944
		this.rotate = cellData.rotate;
		
		//ZSS-1116: CellImpl.java#_calcAutoHeight from cache to model 
		this._cah = cellData._cah;
		delete cellData._cah;
		
		//ZSS-1171: CellImpl.java#_textWidth from cache to model
		this._txtwd = cellData._txtwd;
	},
	//ZSS-1181
	_updateCacheSrc: function (src) {
		this.src = src;
	},
	getVerticalAlign: function () {
		switch (this.valign) {
		case 'b':
			return 'verticalAlignBottom';
		case 'c':
			return 'verticalAlignMiddle';
		case 't':
			return 'verticalAlignTop';
		}
	},
	getHorizontalAlign: function () {
		switch (this.halign) {
		case 'l':
			return 'horizontalAlignLeft';
		case 'c':
			return 'horizontalAlignCenter';
		case 'r':
			return 'horizontalAlignRight';
		}
	},
	getFontName: function () {
		var fn = jq(this.getTextNode()).css('font-family');
		if(fn){
			fn = fn.replace(/'/g,"");//replace "'" in some font that has Space
		}
		return fn;
	},
	/**
	 * Return cell font size in point
	 * 
	 * @return int font size
	 */
	getFontSize: function () {
		return this.fontSize;
	},
	isFontBold: function () {
		//ZSS-1171: poor performance to access dom
//		var b = jq(this.getTextNode()).css('font-weight');
//		return b && (b == '700' || b == 'bold');
		return (this.fontFormat & 0x01) != 0;
	},
	isFontItalic: function () {
		//ZSS-1171: poor performance to access dom
//		return jq(this.getTextNode()).css('font-style') == 'italic';
		return (this.fontFormat & 0x02) != 0;
	},
	isFontUnderline: function () {
		//ZSS-1171: poor performance to access dom
//		// ZSS-725
//		var s = jq(this.$n('real')).css('text-decoration');
//		return s && s.indexOf('underline') >= 0;
		return (this.fontFormat & 0x04) != 0;
	},
	isFontStrikeout: function () {
		//ZSS-1171: poor performance to access dom
//		// ZSS-725
//		var s = jq(this.$n('real')).css('text-decoration');
//		return s && s.indexOf('line-through') >= 0;
		return (this.fontFormat & 0x08) != 0;
	},
	doClick_: function (evt) {
		//do nothing. eat the event.
	},
	doRightClick_: function (evt) {
		this.sheet._doMouserightclick(evt);
	},
	doMouseDown_: function (evt) {
		this.sheet._doMousedown(evt);
	},
	doMouseUp_: function (evt) {
		this.sheet._doMouseup(evt);
	},
	doDoubleClick_: function (evt) {
		this.sheet._doMousedblclick(evt);
	},
	/**
	 * Returns whether cell is selectable or not
	 * @return boolean
	 */
	isSelectable: function () {
		var wgt = this.sheet._wgt;
		return !wgt.isProtect() || wgt.allowSelectLockedCells || 
			(wgt.allowSelectUnlockedCells && !this.isLocked());
	},
	/**
	 * Returns whether cell locked or not
	 * @return boolean
	 */
	isLocked: function () {
		return this.lock;
	},
//	/**
//	 * Update merge class
//	 * @since 3.8.3
//	 */
//	//ZSS-1168
//	// TODO: need to handle the zcss.removeRule() and zcss.setRule() somewhere
//	_updateMerge: function (data) {
//		if (data.mergeId != undefined) { // within new merge
//			var id = data.mergeId,
//				mer = data.merge,
//				l = mer.left,
//				t = mer.top,
//				r = mer.right,
//				b = mer.bottom;
//			
//			if (id != this.merid || l != this.merl || t != this.mert 
//					|| r != this.merr || b != this.merb) {
//				var jqcomp = jq(this.comp);
//				// remove old class
//				if (this.merid != undefined) {
//					if (this.c == this.merl && this.r == this.merr) {
//						jqcomp.removeClass("zsmerge" + this.merid); //remove old class
//					} else {
//						jqcomp.removeClass(this.r == this.mert ? "zsmergee" : "zsmergeeu");
//					}
//				}
//				// add new class
//				if (this.c == l && this.r == t) {
//					jqcomp.addClass("zsmerge" + id); //add new class
//				} else {
//					jqcomp.addClass(this.r == t ? "zsmergee" : "zsmergeeu");
//				}
//			}
//				
//			this.merid = id; 
//			this.merr = r;
//			this.merl = l;
//			this.mert = t;
//			this.merb = b;
//		} else { // not in new merge
//			if (this.merid != undefined) {
//				var jqcomp = jq(this.comp);
//				if (this.c == this.merl && this.r == this.merr) {
//					jqcomp.removeClass("zsmerge" + this.merid); //remove old class
//				} else {
//					jqcomp.removeClass(this.r == this.mert ? "zsmergee" : "zsmergeeu");
//				}
//				delete this.merid;
//				delete this.merr;
//				delete this.merl;
//				delete this.mert;
//				delete this.merb;
//			}
//		}
//	},
	/**
	 * Update cell
	 */
	update_: function (updateSrc) {
		if (updateSrc) { //ZSS-1181
			var cctl = this.sheet._wgt._cacheCtrl,
				csrc = cctl ? cctl.getSelectedSheet() : null;
			if (csrc) {
				this._updateCacheSrc(csrc);
			}
		}
		var r = this.r,
			c = this.c,
			data = this.src.getRow(r).getCell(c),
			format = data.formatText,
			st = this.style = data.style,
			ist = this.innerStyle = data.innerStyle,
			fontStyleChg = this.fontStyle != data.fontStyle,
			fst = this.fontStyle = data.fontStyle,
			n = this.comp,
			overflow = data.overflow,
			cellType = data.cellType,
			txt = data.text,
			txtChd = txt != this.text,
			indention = data.indention,
			indentionChd = indention != this.indention,
			cave = this.$n('cave'),
			prevWidth = cave.style.width,
			fontSize = data.fontSize,
			fontFormat = data.fontFormat, //ZSS-1171
			real = this.$n('real');

		//ZSS-944: 
		var wasRotate90 = this.rotate == 90 || this.rotate == -90, //ZSS-1020
			toRotate90 = data.rotate == 90 || data.rotate == -90, //ZSS-1020
			//  when rotate, wrap must be false!
			wrap0 = !toRotate90 && data.wrap,
			wrapChanged = this.wrap != wrap0,
			valignChanged = this.valign != data.valign,
			halignChanged = this.halign != data.halign,
			rotateChanged = this.rotate != data.rotate;
		
		var fontSizeChanged = false;
		if (fontSize != undefined) {
			fontSizeChanged = this.fontSize != data.fontSize
			this.fontSize = fontSize;
		}
		//ZSS-1171
		if (fontFormat != undefined) {
			this.fontFormat = fontFormat;
		}
		this.$n().style.cssText = st;
		cave.style.cssText = ist;
		
//		// ZSS-1168
//		this._updateMerge(data);
		
		// ZSS-865
		var orgwidth = real && real.style ? real.style.width : null,
			orgTransOrigin = real && real.style ? real.style.transformOrigin : null, //ZSS-944
			orgTrans = real && real.style ?  real.style[zk.ie && zk.ie < 10 ? '-ms-transform' : 'transform'] : null, //ZSS-1108:IE9 use -ms-transform
			orgFamily = real && real.style ? real.style.fontFamily : null;
		
		real.style.cssText = fst;
		if (orgwidth && !indentionChd && !real.style.width) {
			jq(real).css('width', orgwidth);
		}

		//ZSS-944: invalidate the cached text width
		//ZSS-1171: overflow might change
		var overflowChd = txtChd || fontSizeChanged || orgFamily != real.style.fontFamily || indentionChd; 
		if (overflowChd) delete this._txtwd;  

		// ZSS-944
		if (toRotate90) {
			if (orgTransOrigin && !real.style.transformOrigin) {
				real.style['transform-origin'] = orgTransOrigin;
			}
			//ZSS-1108: IE9 use -ms-transform
			if (orgTrans && !real.style[zk.ie && zk.ie < 10 ? '-ms-transform' : 'transform']) {
				real.style[zk.ie && zk.ie < 10 ? '-ms-transform' : 'transform'] = orgTrans;
				//cave must be always left aligned so css3 transform can handle the text properly
				cave.style['text-align'] = ''; 
			}
		}
		
		this.lock = data.lock;
		this.wrap = data.wrap;
		this.halign = data.halign;
		this.valign = data.valign;
		this.rborder = data.rightBorder;
		this.edit = data.editText;
		this.indention = data.indention;
		
		this._updateListenOverflow(overflow);
		this.setText(txt, false, wrapChanged); //when wrap changed, shall re-process overflow
		
		//ZSS-1018
		//must after setText(); since the old a link is included in txt
		var link = jq(real).children('a')[0];
		if (link && fontStyleChg) {
			link.style.cssText = fst;
		}

		if (wrapChanged) {
			if (wrap0) {
				jq(this.getTextNode()).addClass(WRAP_TEXT_CLASS);
			} else {
				jq(this.getTextNode()).removeClass(WRAP_TEXT_CLASS);
			}
		}
		
		//ZSS-568
		if (this.db_tlbr != data.db_tlbr) {
			if (this.db_tlbr) {
				jq(this.comp).removeClass(this.db_tlbr);
			}
			if (data.db_tlbr) {
				jq(this.comp).addClass(this.db_tlbr=data.db_tlbr);
			} else {
				delete this.db_tlbr;
			}
		}
		
		//ZSS-901
		if (this.af_tlbr != data.af_tlbr) {
			if (this.af_tlbr) {
				jq(this.comp).removeClass(this.af_tlbr);
			}
			if (data.af_tlbr) {
				jq(this.comp).addClass(this.af_tlbr=data.af_tlbr);
			} else {
				delete this.af_tlbr;
			}
		}
		
		if (this.overflow != overflow // overflow changed
			|| (this.overflow && overflowChd)) { // already overflow and //ZSS-1171: overflow might change
			var processedOverflow = false;
			if (this.overflow && !overflow) {
				this._clearOverflow();
				processedOverflow = true;
			}
			this.overflow = overflow;
			if (!processedOverflow)
				this._processOverflow();	
		}
		
		//trigger process overflow event when empty cell <-> string cell
		//overflow cells before this cell need to re-evaluate overflow
		if (this.cellType != cellType
			&& (this.cellType == STR_CELL || this.cellType == BLANK_CELL)) {//when cell type become empty, cells that before this cell have to re-process overflow
			this.sheet.triggerOverflowColumn_(this.r, this.c);
		}
		this.cellType = cellType;

		var processWrap = wrapChanged || (wrap0 && (txtChd || fontSizeChanged));
		if (this._justCopied === true){	//zss-528, when a cell is just inserted, its status is not synchronized with server, we ignore its status difference from server's.
			processWrap = false;
			delete this._justCopied;
		}
		
		//ZSS-944
		this._updateListenRotate(toRotate90);
		if (rotateChanged || valignChanged || halignChanged || fontSizeChanged || this.redoRotate
			|| (wasRotate90 && txtChd)) { //already rotate and text changed
			var processedRotate = false;
			if (wasRotate90 && !toRotate90) {
				this._clearRotate();
				processedRotate = true;
			}
			this.rotate = data.rotate;
			if (!processedRotate)
				this._processRotate();
			delete this.redoRotate; //see CellBlockCtrl.addMergeRange and CellBlockCtrl.removeMergeRange
		}

		//ZSS-958: process auto row/cell height for all cases
		if (
			txtChd ||
			fontStyleChg ||
			fontSizeChanged || 
			rotateChanged || 
			indentionChd ||
			((this.cellType == STR_CELL || this.cellType == BLANK_CELL) && !this.merid && processWrap) //ZSS-528, for wrap case
		) { 
			this._updateCellAutoHeight(r, c);
		}
	},
	//ZSS-1116: prepare auto height calculation
	_updateCellAutoHeight: function () {
		//ZSS-1184
		if (this.sheet._wgt._ignoreAutoHeight) return;
		
		var newHeight = this._getTextHeight0();
		this.parent.updateAutoHeightDirty(this._txtHgh || -1, newHeight);
		this._txtHgh = newHeight;
		this.parent.processCellAutoHeight(this);
		
		//send text height back(and clear CellImpl.java#_calcAutoHeight if needed)
		this.sheet._sendOnTextHeight(this.r, this.c, newHeight);
	},
	//ZSS-944
	/**
	 * Set rotate attribute and register listener or unregister onProcessRotate listener base on rotate attribute (== 90 || == -90)
	 * @param boolean 
	 * @return boolean whether reset rotate attribute or not
	 */
	_updateListenRotate: function (b) {
		var curr = !!this._listenProcessRotate;
		if (curr != b) {
			this.sheet[curr ? 'unlisten' : 'listen']({onProcessRotate: this.proxy(this._onProcessRotate)});
			this._listenProcessRotate = b;
			return true;
		}
		return false;
	},
	//ZSS-944
	_clearRotate: function () {
		var real = this.$n('real')
			$real = jq(real);
		//ZSS-1108: IE9 use -ms-transform
		$real.css(zk.ie && zk.ie < 10 ? '-ms-transform' : 'transform', ''); // clear transform
		$real.css('transform-origin', ''); // clear transform-origin
	},
	//ZSS-944
	_processRotate: function () {
		// not implement in OSE
	},
	/**
	 * Set overflow attribute and register listener or unregister onProcessOverflow listener base on overflow attribute
	 * @param boolean 
	 * @return boolean whether reset overflow attribute or not
	 */
	_updateListenOverflow: function (b) {
		var curr = !!this._listenProcessOverflow;
		if (curr != b) {
			this.sheet[curr ? 'unlisten' : 'listen']({onProcessOverflow: this.proxy(this._onProcessOverflow)});
			this._listenProcessOverflow = b;
			return true;
		}
		return false;
	},
	_updateHasTxt: function (bool) {
		this.hastxt = bool;
		
		var zIdx = this.getZIndex();
		jq(this.comp).css('z-index', bool ? "" : zIdx);
	},
	/**
	 * Sets the text of the cell
	 * @param string text
	 */
	setText: function (txt) {
		if (!txt)
			txt = "";
		var oldTxt = this.getText(),
			difTxt = txt != oldTxt;
		this._updateHasTxt(txt != "");
		this._setText(txt);
	},
	/**
	 * Returns the text node height. Shall invoke this method after CSS ready
	 * 
	 * @return int height
	 */
	getTextHeight: function () {		
		var h = this._txtHgh;
		return h != undefined ? h : this._txtHgh = this._getTextHeight0();
	},
	_getTextHeight0: function () {
		return jq(this.getTextNode()).height();
	},
	_updateVerticalAlign: zk.ie6_ || zk.ie7_ ? function () {
		var	v = this.valign,
			text = this.text,
			cv = this.$n('cave');
		if (cv.style.display == 'none' || !text)
			return;
		var	$n = jq(cv),
			$t = jq(this.getTextNode());
		
		switch (v) {
		case 't':
			$t.css({'top': "0px", 'bottom': ''});
			break;
		case 'c':
			var ch = $n.height(),
				ich = $t.height();
			if (!ch || !ich)
				return;
			var	ah = (ch - ich) / 2,
				p = Math.ceil(ah * 100 / ch);
			if (p)
				$t.css({'top': p + "%", 'bottom': ''});
			break;
		case 'b':
			$t.css({'bottom': "0px", 'top': ''});	
			break;
		}
	} : zk.$void(),
	_onRowHeightChanged: function (evt) {
		if (evt.data.row == this.r)
			this._updateVerticalAlign();
	},
	_updateListenRowHeightChanged: function (b) {
		var curr = !!this._listenRowHeightChanged;
		if (curr != b) {
			this.sheet[curr ? 'unlisten' : 'listen']({onRowHeightChanged: this.proxy(this._onRowHeightChanged)});
			this._listenRowHeightChanged = b;
		}
	},
	getText: function () {
		return this.getTextNode().innerHTML;
	},
	getPureText: function () { //feature #26: Support copy/paste value to local Excel\
		var n = this.getTextNode();
		return n.textContent || n.innerText;
	},
	_setText: function (txt) {
		if (!txt)
			txt = "";
		this.text = this.getTextNode().innerHTML = txt;
		
		if (zk.ie6_ || zk.ie7_) {
			if (txt) {
				this._updateVerticalAlign();
			}
			this._updateListenRowHeightChanged(!!txt);
		}
	},
	redraw: function (out) {
		out.push(this.getHtml());
	},
	getHtml: function () {
		var	uid = this.uuid,
			text = this.text,
			style = this.domStyle_(),
			innerStyle = this.innerStyle,
			fontStyle = this.fontStyle;
		//IE6/IE7: vertical align need position:absolute;
		return '<div id="' + uid + '" class="' + this.getZclass() + '" zs.t="SCell" '
			+ (style ? 'style="' +  style + '"' : '') + '><div id="' + uid + '-cave" class="' +
			this._getInnerClass() + '" ' + (innerStyle ? 'style="' + innerStyle + '"' : '') + 
			'>' + this.getCommentHtml(this.comment) 
			+ '<div id="' + uid + '-real" class="' + this._getRealClass() + '"' +
			// ZSS-725
			(fontStyle ? ' style="' + fontStyle + '"' : '') + '>' + text + '</div>' + '</div></div>';
	},
	getCommentHtml: function(shown) {
		// ZSS-849 implement in CML
		return '';
	},
	getZIndex: function () {
		if (zk.ie6_ || zk.ie7_)
			return this.cellType == BLANK_CELL ? -1 : 1;
		return this.text ? null : 1;
	},
	domStyle_: function () {
		var st = this.style;
		if (st) {
			return st;
		} else {
			var zIdx = this.getZIndex();
			if (zIdx){
				return 'z-index:' + zIdx + ';';
			}
		}
	},
	getTextNode: function () {
		return this.$n('real');
	},
	_clearOverflow: function () {
		jq(this.getTextNode()).css('width', '');//clear overflow
		jq(this.$n()).removeClass("zscell-overflow").removeClass("zscell-overflow-b");
	},
	_processOverflow: function () {
		// not implement in OSE
	},
	//ZSS-1117
	_setTempMergeCellStyle: function (l, t, r, b, cutw, cuth, ml, mt, mr, mb) {
		var comp = this.comp,
			jqcomp = comp ? jq(comp) : null;
			
		if (jqcomp) {

			if (cutw) {
				var width = this.sheet.custColWidth.getDiffPixel(l, r);
				jqcomp.css("width", width);
				
				var mwidth = l != ml || r != mr ? 
						this.sheet.custColWidth.getDiffPixel(ml, mr) - 4 : width; // -4 is padding(2px) * 2
				if (width != mwidth) {
					var jqreal = jq(this.getTextNode());
					jqreal.css("width", mwidth);
					jqreal.attr("mergewidth", true);
				}
			}
			if (cuth) {
				var height = this.sheet.custRowHeight.getDiffPixel(t, b);
				jqcomp.css("height", height);
			}
			if (jqcomp.hasClass("zsmergee")) {
				jqcomp.removeClass("zsmergee");
				jqcomp.attr("zsmergeex", true);
			} else if (jqcomp.hasClass("zsmergeeu")) {
				jqcomp.css("visibility", "visible");
			}
		}
	},
	//ZSS-1117
	_resetTempMergeCellStyle: function () {
		var comp = this.comp,
			jqcomp = comp ? jq(comp) : null;
		if (jqcomp) {
			jqcomp.css("width", "");
			jqcomp.css("height", "");
			
			var jqreal = jq(this.getTextNode()),
				mergewidth = jqreal ? jqreal.attr("mergewidth") : null;
		
			if (mergewidth) {
				jqreal.css("width", "");
				jqreal.removeAttr("mergewidth");
			}
			if (jqcomp.attr("zsmergeex")) {
				jqcomp.removeAttr("zsmergeex");
				jqcomp.addClass("zsmergee");
			} else if (jqcomp.hasClass("zsmergeeu")) {
				jqcomp.css("visibility", "");
			}
		}
	},
	bind_: function (desktop, skipper, after) {
		this.$supers(zss.Cell, 'bind_', arguments);
		
		var n = this.comp = this.$n(),
			sheet = this.sheet;
		n.ctrl = this;
		this.cave = n.firstChild;

		//ZSS-1117: a cell in merge range
		if (this.merid) {
			var range = this.block._newrange,
				rr = range.right,
				rl = range.left,
				rt = range.top,
				rb = range.bottom,
				ml = this.merl,
				mr = this.merr,
				mt = this.mert,
				mb = this.merb,
				xl = Math.max(rl, ml),
				xt = Math.max(rt, mt),
				xr = Math.min(rr, mr),
				xb = Math.min(rb, mb),
				candidate = (xl == this.c && xt == this.r)  	//left-top
							|| (xr == this.c && xb == this.r); 	//right-bottom
			if (candidate) {
				var cutw = xr < mr || xl > ml,
					cuth = xb < mb || xt > mt;
				this.block._addTempMerge(ml, mt, mr, mb, xl, xt, xr, xb, cutw, cuth);
			}
		}

		if (this.cellType == BLANK_CELL) {//no need to process overflow and wrap
			return;
		}
		this._updateListenOverflow(this.overflow);
		
		if (!!this.text && (zk.ie6_ || zk.ie7_) && this.valign != 't') { // IE6 / IE7 doesn't support CSS vertical align
			this._updateListenRowHeightChanged(true);
			this._updateVerticalAlign();
		}

		// ZSS-224: skip process overflow according to the hint from server
		// it indicates that this cell's silbing isn't blank
		var skipOverflowOnBinding = (this.overflowOpt & 2) != 0; // skip overflow when initializing
		if (this.overflow && !skipOverflowOnBinding) {
			this._processOverflow(); // heavy duty
		}
		
		//ZSS-944
		var toRotate90 = this.rotate == 90 || this.rotate == -90; //ZSS-1020
		this._updateListenRotate(toRotate90);
		if (toRotate90) {
			this._processRotate(); // heavy duty
			return; // rotate imply no wrap
		}

		// ZSS-958: save all cells which aren't same as default height to calculate heighest row height
		this._saveNoneDefaultHeightCell();
		
		//ZSS-1116
		if (this._cah) {
			this._updateCellAutoHeight();
			delete this._cah;
			this.sheet._cah = true; // mark sheet need calcAutoHeight
		}
	},
	_saveNoneDefaultHeightCell: function () {
		// not implement in OSE
	},
	unbind_: function () {
		this._updateListenOverflow(false);
		this._updateListenRotate(false); //ZSS-944
		this._updateListenRowHeightChanged(false);
		this.parent.removeAutoHeightCell(this);
		
		this.comp = this.comp.ctrl = this.cave = this.sheet = this.overlapBy = this._listenRowHeightChanged =
		this.block = this.lock = null;
		
		this.$supers(zss.Cell, 'unbind_', arguments);
	},
	//ZSS-944
	/**
	 * When this cell's rotate changed
	 */
	_onProcessRotate: function (evt) {
		data = evt.data;
		if (data) {
			var row = this.r,
				tRow = data.tRow,
				bRow = data.bRow;
			if (this.c == data.col
				&& ((tRow == undefined && bRow == undefined) || 
						(tRow && bRow && row >= tRow && row <= bRow))) {
				var rotate90 = this.rotate == 90 || this.rotate == -90; //ZSS-1020 
				if (rotate90)
					this._processRotate();
			}
		}
	},
	/**
	 * When cells after this cell changed, may effect this cell's overflow
	 */
	_onProcessOverflow: function (evt) {
		if (this.overflow) {
			var row = this.r,
				data = evt.data;
			if (data) {
				var rCol = data.col,
					tRow = data.tRow,
					bRow = data.bRow;
				if (this.c < data.col) {
					if ((tRow == undefined && bRow == undefined) || 
						(tRow && bRow && row >= tRow && row <= bRow)) {
						this._processOverflow(true);
					}
				}
			}
		}
	},
	//super//
	getZclass: function () {
		var cls = 'zscell',
			hId = this.zsh,
			wId = this.zsw,
			mCls = this.mergeCls,
			db_tlbr = this.db_tlbr, //ZSS-568
			af_tlbr = this.af_tlbr; //ZSS-901
		if (hId)
			cls += (' zshi' + hId);
		if (wId)
			cls += (' zsw' + wId);
		if (mCls)
			cls += (' ' + mCls);
		if (db_tlbr)
			cls += (' ' + db_tlbr);
		if (af_tlbr)
			cls += (' ' + af_tlbr);
		return cls;
	},
	_getInnerClass: function () {
		var cls = 'zscelltxt',
			hId = this.zsh,
			wId = this.zsw;
		if (hId)
			cls += (' zshi' + hId);
		if (wId)
			cls += (' zswi' + wId);
		
		//ZSS-1142: dataBar boarder. use .dbar:before would block cell text; 
		// so give up using this to draw data bar border.
//		if (this.dbar) {
//			cls += (' dbar');
//		}
		return cls;
	},
	_getRealClass: function() {
		//ZSS-944: when rotate 90 degree, wrap must be false
		var rotate90 = this.rotate == 90 || this.rotate == -90, //ZSS-1020
			cls = 'zscelltxt-real ' + (this.wrap && !rotate90 ? WRAP_TEXT_CLASS:''),
			hId = this.zsh;

		if(hId) 
			cls += (' zshr' + hId);

		return cls;
	},
	/**
	 * Sets the width position index
	 * @param int zsw the width position index
	 */
	appendZSW: function (zsw) {
		if (zsw) {
			this.zsw = zsw;
			jq(this.comp).addClass("zsw" + zsw);
			jq(this.cave).addClass("zswi" + zsw);
		}
	},
	/**
	 * Sets the height position index
	 * @param int zsh the height position index
	 */
	appendZSH: function (zsh) {
		if (zsh) {
			this.zsh = zsh;
			jq(this.comp).addClass("zshi" + zsh);
			jq(this.cave).addClass("zshi" + zsh);
			jq(this.$n('real')).addClass("zshr" + zsh);
		}
	},
	/**
	 * Sets the column index of the cell
	 * @param int column index
	 */
	resetColumnIndex: function (newcol) {
		var	src = this.src;
		this.ref = src.columnHeaders[newcol].t + src.rowHeaders[this.r].t;
		this.c = newcol;
	},
	/**
	 * Sets the row index of the cell
	 * @param int row index
	 */
	resetRowIndex: function (newrow) {
		var	src = this.src;
		this.ref = src.columnHeaders[this.c].t + src.rowHeaders[newrow].t;
		this.r = newrow;
	},
	/**
	 * Returns whether the cell is in range
	 * @param int row index
	 * @param int col index
	 */
	isInRange: function (row, col) {
		return this.merid ? this.mert <= row && this.merb >= row && this.merl <= col && this.merr >= col:
			this.r == row && this.c == col;
	}
});
})();
/* Configuration.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * A Configuration is used for spreadsheet configuration setting
 */
zss.Configuration = zk.$extends(zk.Object, {
	textOverflow: true,
	prune: true,
	readonly: false,
	hideBorder: false
});
/* DataPanel.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/
(function () {

/**
 * A DataPanel represent the spreadsheet cells 
 */
zss.DataPanel = zk.$extends(zk.Object, {
	cacheMap: null, 
	$init: function (sheet) {
		this.$supers(zss.DataPanel, '$init', []);
		var wgt = this._wgt = sheet._wgt,
			dataPanel = sheet.$n('dp'),
			//focus  = this.focustag = sheet.$n('fo');
			// ZSS-737: now we focus on inline editor's directly.
			// sheet.$n('fo') are only used when do paste
			focus = this.focustag = sheet.inlineEditor.getInputNode();

		this.cacheMap = {}; //handle element cache, not implement yet 
		this.id = dataPanel.id;
		this.sheet = sheet;
		this.comp = dataPanel;
		this.comp.ctrl = this;
		this.padcomp =  sheet.$n('datapad');

		wgt.domListen_(focus, 'onBlur', '_doDataPanelBlur');
		wgt.domListen_(focus, 'onFocus', '_doDataPanelFocus');

		this.width = sheet.custColWidth.getStartPixel(wgt.getMaxColumns());
		this.height = sheet.custRowHeight.getStartPixel(wgt.getMaxRows());

		this.paddingl = this.paddingt = 0;
		var pdl = this.paddingl + sheet.leftWidth,
			pdt = sheet.topHeight;//this.paddingt + sheet.topHeight;
//		jq(dataPanel).css({'padding-left': jq.px0(pdl), 'padding-top': jq.px0(pdt), 'width': jq.px0(this.width), 'height': jq.px0(this.height)});
		jq(dataPanel).css({'width': jq.px0(this.width), 'height': jq.px0(this.height)});
	},
	cleanup: function() {
		var focus = this.focustag,
			wgt = this.sheet._wgt;
		wgt.domUnlisten_(focus, 'onBlur', '_doDataPanelBlur');
		wgt.domUnlisten_(focus, 'onFocus', '_doDataPanelFocus');
		
		this.invalid = true;
		this.cacheMap = this.focustag = null;

		if (this.comp) this.comp.ctrl = null;
		this._wgt = this.comp = this.padcomp = this.sheet = null;
	},
	reset: function (width, height) {
		var wgt = this._wgt,
			l = this.paddingl = wgt.getLeftPanelWidth(),
			t = this.paddingt = wgt.getTopPanelHeight() + 1; //ZSS-948: +1 to avoid heading's bottom border
		this.width = width;
		this.height = height;
		jq(this.comp).css({'padding-left': jq.px0(l), 'padding-top': jq.px0(t),'width': jq.px0(width), 'height': jq.px0(height)});
	},
	/**
	 * Sets the height
	 * @param int diff
	 */
	updateHeight: function (diff) {
		this.height += diff;
		jq(this.comp).css('height', jq.px0(this.height));
	},
	/**
	 * Sets the width
	 * @param int diff
	 */
	updateWidth: function (diff) {
		this.width += diff;
		jq(this.comp).css('width', jq.px0(this.width));
	},
	_fixSize: function (block) {
		var self = this,
			wgt = this._wgt,
			sheet = this.sheet,
			custColWidth = sheet.custColWidth,
			custRowHeight = sheet.custRowHeight;

		// ZSS-324: remove timeout, function should be executed immediately
		// column/row header must be update their size after data panel updated 
		self.width = sheet.custColWidth.getStartPixel(wgt.getMaxColumns());
		self.height = sheet.custRowHeight.getStartPixel(wgt.getMaxRows());
		self.paddingl = custColWidth.getStartPixel(block.range.left);
		self.paddingt = custRowHeight.getStartPixel(block.range.top);
		
		var width = self.width - self.paddingl,
			height = self.height,
			pdl = self.paddingl + sheet.leftWidth,
			pdt = sheet.topHeight + 1; //ZSS-948: +1 to avoid heading's bottom border
		
		jq(self.comp).css({'padding-left': jq.px0(pdl), 'padding-top': jq.px0(pdt), 'width': jq.px0(width)});
		jq(self.comp).css({'width': jq.px0(width)});
		jq(self.comp).css({'height': jq.px0(height)}); // ZSS-324: height must be adjusted too
		jq(self.padcomp).css('height', jq.px0(self.paddingt));
		sheet.tp._updateLeftPadding(pdl);
		sheet.lp._updateTopPadding(self.paddingt);
	},
	/**
	 * Returns whether is focus on frozen area or not.
	 * @return boolean
	 */
	isFocusOnFrozen: function () {
		var sheet = this.sheet,
			fzr = sheet.frozenRow,
			fzc = sheet.frozenCol,
			pos = sheet.getLastFocus();

		return fzc > -1 && pos.column <= fzc
			|| fzr > -1 && pos.row <= fzr;
	},
	/**
	 * Start editing on cell
	 * 
	 * @param evt
	 * @param val value to be sent to server
	 * @param type editing type. Either 'inlineEditing' or 'formulabarEditing'
	 * @param pos optional, specify the row & column index of a cell to start editing
	 * @param noServer whether NOT to send to server 
	 */
	startEditing: function (evt, val, type, pos, noServer) { 
		var sheet = this.sheet;
		if (sheet.config.readonly) 
			return false;
		
		var row, col;
		if (pos) { //ZSS-1165
			row = pos.row;
			col = pos.col;
		}else{ 
			row = sheet.getLastFocus().row,
			col = sheet.getLastFocus().column;
		}
		var type = type || 'inlineEditing',
			cell = sheet.getCell(row, col);
		if (this._wgt.isProtect() && cell && cell.isLocked()) {
			sheet.showInfo(msgzss.cannotEditProtected, true);
			return false;
		}
		
		/* ZSS-145: allow edit on frozen cell
		if (this.isFocusOnFrozen()) {
			sheet.showInfo("Can not edit on a frozen cell.", true);
			return false;	
		}
		 */
		if (!val) val = null;
		sheet.state = zss.SSheetCtrl.START_EDIT;
		
		//bug, if I use loadCell and didn't add a call back function to scroll to loaded block
		//when after loadCell, it always invoke loadForVisible , then UI will invoke a loadForVisible 
		//depends on current UI range. so UI moveFocus instead.
		//sheet.activeBlock.loadCell(row,col,5,null);
		if ('inlineEditing' == type) {
			sheet.dp.moveFocus(row, col, true, true);
		} else { //open inline editor without focus	
			this._openEditbox(null, true); 
		}
		
		//ZSS-1165: IME no need to send to server
		if (!noServer) {
			sheet.fire('onStartEditing', {row: row, col: col, value: val, type: type});
			sheet._wgt.fire('onStartEditing',
					{token: "", sheetId: sheet.serverSheetId, row: row, col: col, clienttxt: val, type: type}, null, 25);
		}
		return true;
	},
	_isProtect: function (tRow, lCol, bRow, rCol) {
		var shtProtect = this._wgt.isProtect(),
			data = this._wgt._cacheCtrl.getSelectedSheet();
		for (var r = tRow; r <= bRow; r++) {
			for (var c = lCol; c <= rCol; c++) {
				var cell = data.getRow(r).getCell(c);
				if (shtProtect && cell && cell.lock) {
					return true;
				}
			}
		}
		return false;
	},
	//feature#161: Support copy&paste from clipboard to a cell
	_speedCopy: function (value, type) { 
		var sheet = this.sheet,
			pos = sheet.getLastFocus(),
			top = pos.row,
			left = pos.column,
			ci = left,
			right = left,
			rows = value.split('\n'),
			rlen = rows.length,
			bottom = top + rlen - 1,
			vals = [],
			val = null,
			type = type || 'inlineEditing';
		for(var r = 0; r < rlen; ++r) {
			var row = rows[r],
				cols = row.split('\t'),
				clen = cols.length,
				rmax = left + clen - 1;
			if (right < rmax)
				right = rmax;
			vals.push(cols);
		}
		var lastcols = vals[rlen-1]; 
		if (lastcols.length == 1 && lastcols[0].length == 0) { //skip the last empty row
			--rlen;
			if (rlen > 0)
				--bottom;
		}
		if (this._isProtect(top, left, bottom, right)) {
			sheet.showInfo(msgzss.cannotEditProtected, true);
			sheet._doCellSelection(left, top, right, bottom);
			return;
		}
		var clenmax = right - left + 1;
		for(var r = 0; r < rlen; ++r) {
			var cols = vals[r],
				clen = cols.length,
				ri = top+r;
			for(var c = 0; c < clenmax; ++c) {
				ci = left + c;
				val = c >= clen ? null : cols[c];
				if (sheet.state != zss.SSheetCtrl.START_EDIT) {
					sheet.state = zss.SSheetCtrl.START_EDIT;
					sheet._wgt.fire('onStartEditing',
							{token: "", sheetId: sheet.serverSheetId, row: ri, col: ci, clienttxt: val, type: type}, null, 25);
				}
				sheet.state = zss.SSheetCtrl.FOCUSED;
				sheet._wgt.fire('onStopEditing',
						{token: "", sheetId: sheet.serverSheetId, row: ri, col: ci, value: val, type: type}, {toServer: true}, 25);
			}
		}
		return {left:left,top:top,right:right,bottom:bottom};
	},
	//bug #117 Barcode Scanner data incomplete
	_speedInput: function (value, type) {
		var sheet = this.sheet,
			pos = sheet.getLastFocus(),
			top = pos.row,
			left = pos.column,
			ri = top,
			ci = left,
			rows = value.split(zkS._enterChar),
			val = '',
			type = type || 'inlineEditing';
		for(var r = 0, rlen = rows.length; r < rlen; ++r) {
			var row = rows[r],
				cols = row.split('\t');
			ri = top+r;
			ci = left;
			for(var c = 0, clen = cols.length; c < clen; ++c) {
				ci = left + c;
				val = cols[c];
				if (r == (rlen-1) && c == (clen-1)) //skip the last one
					break;
				if (sheet.state != zss.SSheetCtrl.START_EDIT) {
					sheet.state = zss.SSheetCtrl.START_EDIT;
					sheet._wgt.fire('onStartEditing',
							{token: "", sheetId: sheet.serverSheetId, row: ri, col: ci, clienttxt: val, type: type}, null, 25);
				}
				sheet.state = zss.SSheetCtrl.FOCUSED;
				sheet._wgt.fire('onStopEditing',
						{token: "", sheetId: sheet.serverSheetId, row: ri, col: ci, value: val, type: type}, {toServer: true}, 25);
			}
		}
		if (left != ci || top != ri) //shall move focus
			this.moveFocus(ri, ci, true, true);
		if (ci != left || (val && val.length > 0)) {
			if (sheet.state != zss.SSheetCtrl.START_EDIT) {
				sheet.state = zss.SSheetCtrl.START_EDIT;
				// ZSS-520 not enough argument, missing type.
				sheet._wgt.fire('onStartEditing',
						{token: "", sheetId: sheet.serverSheetId, row: ri, col: ci, clienttxt: val != null ? val : '', type: type}, null, 25);
			}
			this._openEditbox(val);
		}
	},
	/**
	 * Start editing using inline editor
	 * 
	 * @param value to start editing
	 * @param server boolean whether the value come from server
	 */
	_startEditing: function (value, server) {
		var sheet = this.sheet,
			cell = sheet.getFocusedCell();

		//bug #117 Barcode Scanner data incomplete
		if (cell != null) {
			var editor = sheet.inlineEditor;
			if(sheet.state == zss.SSheetCtrl.START_EDIT) {
				if (!server)
					value = sheet._clienttxt;
				sheet._clienttxt = '';
				this._speedInput(value);
				editor._startEditing();
			} else if (server && sheet.state == zss.SSheetCtrl.EDITING && editor.comp.value != value) {
				var p = sheet.getLastFocus();
				editor.edit(cell.comp, p.row, p.column, value);
			}	
		}
	},
	/**
	 * Retry editing using inline editor
	 */
	retryEditing: function (val, row, column) {
		this.startEditing(null, val, 'inlineEditing', {row:row, col:column});
		this._openEditbox(val);
	},
	/**
	 * Open inline editor
	 * 
	 * @param string initval the value of editor
	 * @param boolean noFocus whether focus on inline editor or not
	 */
	_openEditbox: function (initval, noFocus) {
		var sheet = this.sheet,
			cell = sheet.getFocusedCell();
			
		if (cell != null) {
			if( sheet.state == zss.SSheetCtrl.START_EDIT) {
				var editor = sheet.inlineEditor,
					pos = sheet.getLastFocus(),
					value = !initval && initval != "" ?
							//ZSS-1214
							sheet.isPercentCell(cell.r, cell.c) ? 
									cell.text : cell.edit : initval; //ZSS-1165: allow empty
				editor.edit(cell.comp, pos.row, pos.column, value ? value : '', noFocus);
				sheet.state = zss.SSheetCtrl.EDITING;
			}
		}
	},
	/**
	 * Returns the editor. Default returns {@link zss.Editbox} 
	 * 
	 * @param string editing type. Either 'inlineEditing' or 'formulabarEditing'.
	 */
	getEditor: function (type) {
		var sheet = this.sheet;
		if (type) {
			return type == 'formulabarEditing' ? sheet.formulabarEditor : sheet.inlineEditor;
		} else {
			var inlineEditor = sheet.inlineEditor;
			if (inlineEditor.isEditing() || !sheet.formulabarEditor) {
				return inlineEditor;
			}
			return sheet.formulabarEditor;
		}
	},
	/**
	 * Cancel editing on cell
	 */
	cancelEditing: function (type) {
		var sheet = this.sheet;
		if (sheet.state >= zss.SSheetCtrl.FOCUSED) {
			this.getEditor(type).cancel();
			sheet.fire('onStopEditing'); //hide formulabar's button
			sheet.state = zss.SSheetCtrl.FOCUSED;
			this.reFocus(true);
		}
	},
	/**
	 * Stop editing on cell
	 * 
	 * @param string type the action type (move cell focus, lost cell focus etc..) after stop editing
	 */
	stopEditing: function (type) {
		var sheet = this.sheet,
			inlineEditing = sheet.inlineEditor.isEditing(),
			editingType = inlineEditing ? 'inlineEditing' : 'formulabarEditing';
		if (sheet.state == zss.SSheetCtrl.EDITING) {

			sheet.state = zss.SSheetCtrl.STOP_EDIT;

			var data = this._wgt._cacheCtrl.getSelectedSheet(),
				editor = inlineEditing ? this.sheet.inlineEditor : this.sheet.formulabarEditor,
				value = editor.getValue(),
				sheetId = editor.sheetId,
				row = editor.row, 
				col = editor.col, 
				cell = sheet.getCell(row, col),
				edit = cell ? cell.edit : null;

			if (sheetId && sheetId != sheet.serverSheetId) {
				var sheetBar = sheet._wgt._sheetBar,
					sheetSelector = sheetBar ? sheetBar.getSheetSelector(): null;
				if (sheetSelector) {
					sheetSelector.doSelectSheet(sheetId);
				}
			}

			//ZSS-1046: enforce formula check if a String but looks like a formula
			if (edit != value || (edit && edit.charAt(0) == '=' && cell && cell.cellType == 1 && edit.length > 1)) { //has to send back to server
				var token = "";
				if (type == "movedown") {//move down after aysnchronized call back
					token = zkS.addCallback(function(){
						if (sheet.invalid) return;
						sheet.state = zss.SSheetCtrl.FOCUSED;
						if (!sheet._skipMove) //@see Spreadsheet.js#doUpdate()
							sheet.dp.moveDown(null, row, col);
					});
				} else if (type == "moveright") {//move right after aysnchronized call back
					token = zkS.addCallback(function(){
						if (sheet.invalid) return;
						sheet.state = zss.SSheetCtrl.FOCUSED;
						if (!sheet._skipMove) //@see Spreadsheet.js#doUpdate()
							sheet.dp.moveRight(null, row, col);
					});
				} else if (type == "moveleft") {//move right after aysnchronized call back
					token = zkS.addCallback (function(){
						if (sheet.invalid) return;
						sheet.state = zss.SSheetCtrl.FOCUSED;
						if (!sheet._skipMove) //@see Spreadsheet.js#doUpdate()
							sheet.dp.moveLeft(null, row, col);
					});
				} else if (type == "refocus") {//refocuse after aysnchronized call back
					token = zkS.addCallback(function(){
						if (sheet.invalid) return;
						sheet.state = zss.SSheetCtrl.FOCUSED;
						sheet.dp.reFocus(true);
					});
				} else if (type == "lostfocus") {//lost focus after aysnchronized call back
					//ZSS-1080, 20150717, henrichen: in Firefox when click another sheet tab
					// after entering a half-baked formula, Firefox will continue to trigger 
					// SheetTab.doClick_() while Chrome will NOT(an unknown myth; maybe
					// it is done in ZK?). However, it caused the issue of ZSS-1080.
					// What we do is to prohibit Firefox from calling doClick_() in SheetTab
					// and avoid sheet tab selection being changed; then after server done
					// the formula checking and then call the doClick_() accordingly.
					sheet.asyncCheckFormula = true; //ZSS-1080: do formula checking on Server after lost focus
					token = zkS.addCallback(function(){
						sheet.asyncCheckFormula = false; //ZSS-1080: done the formula checking
						if (!sheet.invalid) {
							var osheetState = sheet.state; //ZSS-1080
							sheet.dp._doFocusLost();
							
							//ZSS-1080: until after formula check is done; then 
							// call back to doClick_ on SheetTab(@see Sheetbar.js)
							// if it is a valid formula
							if (sheet.sheetTabFn && osheetState == zss.SSheetCtrl.STOP_EDIT) {
								sheet.sheetTabFn();
							}
						}
						sheet.sheetTabFn = null; //ZSS-1080: clean up sheetTabFn
					});
				}
				
				sheet.fire('onStopEditing', {row: row, col: col, value: value});
				sheet._wgt.fire('onStopEditing', 
						{token: token, sheetId: sheet.serverSheetId, row: row, col: col, value: value, type: editingType}, {toServer: true}, 25);
			} else {
				sheet.fire('onStopEditing', {row: row, col: col, value: value});
				this._stopEditing();
				if (type == "movedown") {//move down
					if (sheet.invalid) return;
					sheet.state = zss.SSheetCtrl.FOCUSED;
					this.moveDown();
				} else if (type == "moveright") {//move right
					if (sheet.invalid) return;
					sheet.state = zss.SSheetCtrl.FOCUSED;
					this.moveRight();
				} else if (type == "moveleft") {//move right
					if (sheet.invalid) return;
					sheet.state = zss.SSheetCtrl.FOCUSED;
					this.moveLeft();
				} else if (type == "refocus") {//refocuse
					if (sheet.invalid) return;
					sheet.state = zss.SSheetCtrl.FOCUSED;
					this.reFocus(true);
				} else if (type == "lostfocus") {//lost focus
					if (sheet.invalid) return;
					this._doFocusLost();
				}
			}
		}
	},
	/**
	 * Stop inline editing
	 */
	_stopEditing: function () {
		var sheet = this.sheet;
		if (sheet.state == zss.SSheetCtrl.STOP_EDIT) {
			sheet.inlineEditor.stop();
		}
	},
	/* move focus to a cell, this method will do - 
	* 1. stop editing, 
	* 2. check if the cell loaded already or not
	* 3. if not loaded, it will cause a asynchronized loading. after loading then do 4.
	* 4. if loaded, then invoke _moveFocus to move to loaded cell
	* 
	* @param {int} row
	* @param {int} col
	* @param {bollean} scroll scroll the cell in view after loading
	* @param {boolean} selection move selection to focus cell, (the selection will change)
	* @param {boolean} noevt don't send onCellFocus Event to server side
	* @param {boolean} noslevt don't send onCellSelection Event to server side
	* @param {boolean} forceStopEditing force stop editing mode
	*/
	moveFocus: function(row, col, scroll, selection, noevt, noslevt, forceStopEditing) { //ZSS-1098
		var sheet = this.sheet,
			lastFocus = sheet.getLastFocus();

		if (sheet && !sheet.editingFormulaInfo) {
			// ZSS-370: don't stop editing if target position is same as current focus cell 
			if(lastFocus.row != row || lastFocus.column != col || forceStopEditing) { //ZSS-1098
				this.stopEditing("refocus");
			}
		} else { //when editing formula, always set focus back to editor
			
			//var sf = this;
			//setTimeout(function () {
				var info = sheet.editingFormulaInfo;
				if (info) {
					info.moveCell = true;
					//sf.getEditor(info.type).focus();
					// ZSS-674: use flag instead of setTimeout
					sheet.shallIgnoreBlur = true;
				}
			//});
		}
		var fzr = sheet.frozenRow,
			fzc = sheet.frozenCol,
			local = this,
			fn = function () {
				//zss-219, if the cell dom is not exsited, scroll to it first, and then focus it. 
				if(!sheet.getCell(row, col)){
					sheet.sp.scrollToVisible(row,col);
					setTimeout(function(){
						local._moveFocus(row, col, scroll, selection, noevt, noslevt);	
					},25);
				}else{
					local._moveFocus(row, col, scroll, selection, noevt, noslevt);
				}
			},
			block = sheet.activeBlock,
		//if target cell is on frozon row and col
		//then modify the load target to a loaded cell
			lr = (row <= fzr ? block.range.top : row),
			lc = (col <= fzc ? block.range.left : col),
			r = block.loadCell(lr, lc, 5, fn);
		if(r)
			fn();
	},
	/* move focus to new cell , it will check cell is initialed or not(delay init)*/
	_moveFocus: function (row, col, scroll, selection, noevt, noslevt) {
		var sheet = this.sheet,
			cell = sheet.getCell(row, col);
		
		if (!cell || !cell.isSelectable())
			return false;	

		var cellcmp = cell.comp,
			ml = cell.merl,
			mt = cell.mert;//this cell is merged by a left cell. cellcmp.ctrl.merl;
		if (zkS.t(ml) && (ml != col || mt != row))
			return this._moveFocus(mt, ml, scroll, selection, noevt, noslevt);
				
		sheet.moveCellFocus(row, col);
		if (!noevt) sheet._sendOnCellFocus(row, col); 
		if (selection) {
			sheet.moveCellSelection(col, row, col, row);
			var ls = sheet.getLastSelection(); 
			if (!noslevt) sheet._sendOnCellSelection(zss.SEL.CELL, ls.left, ls.top, ls.right, ls.bottom);
		}
		
		var sheet = this.sheet;
		this._gainFocus(true, noevt, sheet.state < zss.SSheetCtrl.FOCUSED ? false : true);
		
		if (scroll)
			sheet.sp.scrollToVisible(null, null, cell);	
		return true;
	},
	/* re-focus current cell , and stop editing*/
	reFocus: function (scroll) {
		var pos = this.sheet.getLastFocus();
		this.moveFocus(pos.row, pos.column, scroll, true);
	},
	/** gain focus to the focus tag , and stop editing
	 *  @param trigger should fire focustag.focus (if genFocus is call by a focustag listener for focus, then it is false 
	 */
	gainFocus: function (trigger) {
		if (!this.sheet.isSwitchingSheet) {
			this.stopEditing("refocus");
		}
		this._gainFocus(trigger);
	},
	/* gain focus to the focus cell*/
	_gainFocus: function (trigger, noevt, noslloc) {
		var sheet = this.sheet,
			focustag = this.focustag,
			pos = sheet.getLastFocus(),
			row = pos.row,
			col = pos.column;

		if (sheet.state == zss.SSheetCtrl.NOFOCUS && !noevt)
			sheet._sendOnCellFocus(row, col); 
		
		if (sheet.state < zss.SSheetCtrl.FOCUSED)
			sheet.state = zss.SSheetCtrl.FOCUSED;
		
		if (!noslloc) {
			sheet.moveCellFocus(row, col);
			var ls = sheet.selArea.lastRange;
			sheet.moveCellSelection(ls.left, ls.top, ls.right, ls.bottom, null, !trigger);
		}
		
		var lhl = sheet.hlArea.lastRange;
		sheet.moveHighlight(lhl.left, lhl.top, lhl.right, lhl.bottom);
		sheet.animateHighlight(true);

		if (trigger && sheet.state == zss.SSheetCtrl.FOCUSED){ 
			this.deferSelectFocustag();
		}
	},
	// ZSS-681: defer focus textarea, it's necessary if on mouse down event
	deferSelectFocustag: function () {
		var self = this;
		if (this.selectFocustagId) {
			return;
		}
		this.selectFocustagId =
			setTimeout(function () {
				self.selectFocustag();
				delete self.selectFocustagId;
			}, 0);
	},
	selectFocustag: function () {
		var inlineEditor = this.sheet.inlineEditor;
		inlineEditor.getInputNode().focus();
		//jq(this.focustag).select();
		inlineEditor.select();
	},
	// ZSS-737: it's used for pasting from clipboard as plain text.
	getInputNode: function () {
		return this.sheet.$n('fo');
	},
	selectInputNode: function () {
		var inputNode = this.getInputNode();
		inputNode.focus();
		inputNode.select();
	},
	/* process focus lost */
	_doFocusLost: function() {
		var sheet = this.sheet;
		sheet.state = zss.SSheetCtrl.NOFOCUS;
		sheet.hideCellFocus();
		if (!sheet._wgt._keepCellSelection) sheet.hideCellSelection(); //ZSS-1044
		sheet.animateHighlight(false);
		sheet._wgt.fire('onBlur');
	},
	/**
	 * Select cell
	 * @param int row the row
	 * @param int col the column
	 */
	selectCell: function(row, col, forcemove) {
		var sheet = this.sheet;
		if(sheet.maxRows <= row || sheet.maxCols <= col) return;

		if ((forcemove || sheet.state >= zss.SSheetCtrl.FOCUSED) && row >-1 && col > -1) {
			//sheet has focus move, load cell to client,and scroll the such cell
			this.moveFocus(row, col, true, true);
		} else {//user click back to the sheet, don't move the scroll
			//gain focus and reallocate mark , then show it, 
			//don't move the focus because the cell maybe doens't exist in block anymore.
			sheet.moveCellFocus(row, col);
			sheet.moveCellSelection(col, row, col, row);			
			this._gainFocus(true, false, true);
		}
	},
	/**
	 * Move page up
	 */
	movePageup: function (evt) {
		var sheet = this.sheet;
		if (zkS.isEvtKey(evt, "s")) {
			sheet.shiftSelection("pgup");
			return;
		}
		var pos = sheet.getLastFocus(),
			row = pos.row,
			col = pos.column;
		if (row < 0 || col < 0) return;
		if (row >= 0) {
			var oldTop = zss.SSheetCtrl._getVisibleRange(sheet).top,
				activeBlock = sheet.activeBlock,
				frozenRow = sheet.frozenRow,
				rowOffset = row > frozenRow ? row - oldTop: 0,
				prevrow,
				newTop;
			// ZSS-664: scroll to previous page
			sheet.sp.scrollToVisible(oldTop, -1, null, zss.SCROLL_DIR.VERTICAL, zss.SCROLL_POS.BOTTOM);
			activeBlock.loadForVisible();

			newTop = zss.SSheetCtrl._getVisibleRange(sheet).top;
			prevrow = newTop + rowOffset;
			
			// ZSS-664: align the first row to the top after scrolled to previous page
			sheet.sp.scrollToVisible(newTop, -1, null, zss.SCROLL_DIR.VERTICAL, zss.SCROLL_POS.TOP);

			// ZSS-664: do not move focus if not allow to select locked cells
			if (sheet._wgt.isProtect() && !sheet._wgt.allowSelectLockedCells) {
				return;
			}

			if (prevrow < 0)
				prevrow = 0;
			var custRowHeight = sheet.custRowHeight,
				newrow = prevrow > 0 ? 
						custRowHeight.getDecUnhidden(prevrow, 0) : //search upward
						custRowHeight.getIncUnhidden(prevrow, row); //search downward
			if (newrow < 0 && prevrow > 0) //search upward and still fail
				newrow = custRowHeight.getIncUnhidden(prevrow, row); //search downward
			row = newrow;
		}
		this.moveFocus(row, col, true, true, null, null, true); //ZSS-1098
	},
	/**
	 * Move page down
	 */
	movePagedown: function (evt) {
		var sheet = this.sheet;
		if (zkS.isEvtKey(evt,"s")){
			sheet.shiftSelection("pgdn");
			return;
		}
		var	pos = sheet.getLastFocus(),
			row = pos.row,
			col = pos.column;
		if(row < 0 || col < 0) return;
		
		if (row < sheet.maxRows - 1) {
			var oldRange = zss.SSheetCtrl._getVisibleRange(sheet),
				activeBlock = sheet.activeBlock,
				rowOffset = row > sheet.frozenRow ? row - oldRange.top : 0,
				nextrow;

			// ZSS-664: scroll to next page
			sheet.sp.scrollToVisible(oldRange.bottom, -1, null, zss.SCROLL_DIR.VERTICAL, zss.SCROLL_POS.TOP);
			activeBlock.loadForVisible();

			// ZSS-664: do not move focus if not allow to select locked cells
			if (sheet._wgt.isProtect() && !sheet._wgt.allowSelectLockedCells) {
				return;
			}
			
			nextrow = zss.SSheetCtrl._getVisibleRange(sheet).top + rowOffset;

			if (nextrow > sheet.maxRows - 1) {
				return;
			}
			var custRowHeight = sheet.custRowHeight,
				newrow = nextrow < (sheet.maxRows - 1) ? 
					custRowHeight.getIncUnhidden(nextrow, sheet.maxRows - 1): //search downward
					custRowHeight.getDecUnhidden(nextrow, row); //search upward
			if (newrow < 0 && nextrow < (sheet.maxRows -1)) //search downward and still fail
				newrow = custRowHeight.getDecUnhidden(nextrow, row); //search upward
			row = newrow;
		}
		this.moveFocus(row, col, true, true, null, null, true); //ZSS-1098
	},
	/**
	 * Move to the end column
	 */
	moveEnd: function (evt) {
		var sheet = this.sheet;
		if (zkS.isEvtKey(evt, "s")) {
			sheet.shiftSelection("end");
			return;
		}
		var	pos = sheet.getLastFocus(),
			row = pos.row,
			col = pos.column;
		if (row < 0 || col < 0) return;

		if (!sheet._wgt.isProtect() || sheet._wgt.allowSelectLockedCells) {
			var nextcol = sheet.maxCols - 1,
				custColWidth = sheet.custColWidth;
			col = custColWidth.getDecUnhidden(nextcol, nextcol > col ? col : 0); //search backward
		} else {
			var newpos = this._getShiftPos(row, col, 'end');
			//ZSS-1085: wait for server callback
			if (newpos == null) { 
				return;
			}
			row = newpos.row;
			col = newpos.col;
		}

		this.moveFocus(row, col, true, true, null, null, true); //ZSS-1098
	},
	/**
	 * Move to the first column 
	 */
	moveHome: function (evt) {
		var sheet = this.sheet;
		if (zkS.isEvtKey(evt, "s")) {
			sheet.shiftSelection("home");
			return;
		}
		var pos = sheet.getLastFocus(),
			row = pos.row,
			col = pos.column;
		if (row < 0 || col < 0) return;
		
		if (!sheet._wgt.isProtect() || sheet._wgt.allowSelectLockedCells) {
			var prevcol = 0,
				custColWidth = sheet.custColWidth;
			col = custColWidth.getIncUnhidden(prevcol, col < (sheet.maxCols - 1) ? col : (sheet.maxCols - 1)); //search forward
		} else {
			var newpos = this._getShiftPos(row, col, 'home');
			//ZSS-1085: wait for server callback
			if (newpos == null) {
				return;
			}
			row = newpos.row;
			col = newpos.col;
		}
		this.moveFocus(row, col, true, true, null, null, true); //ZSS-1098
	},
	/**
	 * Move up
	 */
	moveUp: function (evt) {
		var sheet = this.sheet,
			ctrlkey = evt && !evt.altKey && evt.ctrlKey; //ZSS-1000, ZSS-1069;
		if (zkS.isEvtKey(evt,"s")) {
			sheet.shiftSelection("up");
			return;
		}
		var pos = sheet.getLastFocus(),
			row = pos.row,
			col = pos.column;
		if (row < 0 || col < 0) return;
		
		//ZSS-1000
		if (ctrlkey) {
			this._fireCtrlArrow(sheet, row, col, "up");
			return;
		}
		if (!sheet._wgt.isProtect() || sheet._wgt.allowSelectLockedCells) {
			if (row > 0) {
				var prevrow = row - 1,
					custRowHeight = sheet.custRowHeight,
					newrow = prevrow > 0 ? 
							custRowHeight.getDecUnhidden(prevrow, 0) : //search upward
							custRowHeight.getIncUnhidden(prevrow, row); //search downward
				if (newrow >= 0)
					row = newrow;
			}
		} else {
			var newpos = this._getShiftPos(row, col, 'up');
			//ZSS-1085: wait for server callback
			if (newpos == null) { 
				return;
			}
			row = newpos.row;
			col = newpos.col;
		}
		
		this.moveFocus(row, col, true, true, null, null, true); //ZSS-1098
	},
	/**
	 * Move down
	 */
	moveDown: function(evt, r, c) {
		var sheet = this.sheet,
			ctrlkey = evt && !evt.altKey && evt.ctrlKey; //ZSS-1000, ZSS-1069;
		if (zkS.isEvtKey(evt, "s")) {
			sheet.shiftSelection("down");
			return;
		}
		var pos = sheet.getLastFocus(),
			row = r ? r : pos.row,
			col = c ? c : pos.column;
		if (row < 0 || col < 0) return;
		
		var cell = sheet.getCell(row, col);
		if (cell) {
			var mb = cell.merb;
			if (zkS.t(mb))
				row = mb;
		}

		//ZSS-1000
		if (ctrlkey) {
			this._fireCtrlArrow(sheet, row, col, "down");
			return;
		}
		if (!sheet._wgt.isProtect() || sheet._wgt.allowSelectLockedCells) {
			if (row < sheet.maxRows - 1) {
				var nextrow = row + 1,
					custRowHeight = sheet.custRowHeight,
					newrow = nextrow < (sheet.maxRows - 1) ? 
						custRowHeight.getIncUnhidden(nextrow, sheet.maxRows - 1): //search downward
						custRowHeight.getDecUnhidden(nextrow, row); //search upward
				if (newrow >= 0)
					row = newrow;
			}
		} else {
			var newpos = this._getShiftPos(row, col, 'down');
			//ZSS-1085: wait for server callback
			if (newpos == null) { 
				return;
			}
			row = newpos.row;
			col = newpos.col;
		}

		this.moveFocus(row, col, true, true, null, null, true); //ZSS-1098
	},
	/**
	 * Move to the left column
	 */
	moveLeft: function(evt, r, c) {
		var sheet = this.sheet,
			ctrlkey = evt && !evt.altKey && evt.ctrlKey; //ZSS-1000, ZSS-1069;
		if (zkS.isEvtKey(evt,"s")) {
			sheet.shiftSelection("left");
			return;
		}
		var pos = sheet.getLastFocus(),
			row = r ? r : pos.row,
			col = c ? c : pos.column;
		if (row < 0 || col < 0) return;
		//ZSS-1000
		if (ctrlkey) {
			this._fireCtrlArrow(sheet, row, col, "left");
			return;
		}
		if (!sheet._wgt.isProtect() || sheet._wgt.allowSelectLockedCells) {
			if (col > 0) {
				var prevcol = col - 1,
				custColWidth = sheet.custColWidth,
				newcol = prevcol > 0 ? 
						custColWidth.getDecUnhidden(prevcol, 0) : //search backward
						custColWidth.getIncUnhidden(prevcol, col); //search foreward
				if (newcol >= 0)
					col = newcol;
			}
		} else {
			var newpos = this._getShiftPos(row, col, 'left');
			//ZSS-1085: wait for server callback
			if (newpos == null) { 
				return;
			}
			row = newpos.row;
			col = newpos.col;
		}
		this.moveFocus(row, col, true, true, null, null, true); //ZSS-1098
	},
	/**
	 * Move to the right column 
	 */
	moveRight: function(evt, r, c) {
		var sheet = this.sheet,
			ctrlkey = evt && !evt.altKey && evt.ctrlKey; //ZSS-1000, ZSS-1069;
		if (zkS.isEvtKey(evt, "s")) {
			sheet.shiftSelection("right");
			return;
		}
		var pos = sheet.getLastFocus(),
			row = r ? r : pos.row,
			col = c ? c : pos.column;
		if(row < 0 || col < 0) return;

		var cell = sheet.getCell(row, col);
		if (cell) {
			var mr = cell.merr;
			if(zkS.t(mr))
				col = mr;
		}
		
		//ZSS-1000
		if (ctrlkey) {
			this._fireCtrlArrow(sheet, row, col, "right");
			return;
		}
		if (!sheet._wgt.isProtect() || sheet._wgt.allowSelectLockedCells) {
			if (col < sheet.maxCols - 1) {
				var nextcol = col + 1,
					custColWidth = sheet.custColWidth,
					newcol = nextcol < (sheet.maxCols - 1) ? 
						custColWidth.getIncUnhidden(nextcol, sheet.maxCols - 1): //search foreward
						custColWidth.getDecUnhidden(nextcol, col); //search backward
				if (newcol >= 0)
					col = newcol;
			}
		} else {
			var newpos = this._getShiftPos(row, col, 'right');
			//ZSS-1085: wait for server callback
			if (newpos == null) { 
				return;
			}
			row = newpos.row;
			col = newpos.col;
		}
		this.moveFocus(row, col, true, true, null, null, true); //ZSS-1098
	},
	// Get the unlock and unhidden cell's position when in sheet protection
	_getShiftPos: function(row, col, key) {
		var sheet = this.sheet,
			newPos = {row: row, col: col},
			fn = function() {return newPos};
		if (key == 'up') {
			fn = this._shiftUp;
		} else if (key == 'down') {
			fn = this._shiftDown;
		} else if (key == 'left') {
			fn = this._shiftLeft;
		} else if (key == 'right') {
			fn = this._shiftRight;
		} else if (key == 'home') {
			// 20140509, RaymondChao: move to the first column, shift right until matched.
			newPos = {row: 0, col: -1};
			fn = this._shiftRight;
		} else if (key == 'end') {
			// 20140509, RaymondChao: move to the end of the maximum column, shift left until matched.
			fn = this._shiftLeft;
			newPos = {row: sheet.maxRows - 1, col: sheet.maxCols};
		}
		var count = 1000; //ZSS-1085: client side count of trial
		do {
			//ZSS-1085: try in client side for most [count] times; then use server solution
			if (--count == 0) {
				this._fireShiftPos(sheet, row, col, key);
				return null;
			}
			newPos = fn.call(this, newPos);
		} while (this.sheet.isCellLocked(newPos.row, newPos.col) || 
			sheet.custRowHeight.isHidden(newPos.row) || sheet.custColWidth.isHidden(newPos.col));

		return newPos;
	},
	/*
	 *      ^  ^
	 *      |  |
	 *   ^  |  |
	 *   |  |  |
	 *   |  | [X]
     *   |  | 
     *   |  | 
	 */
	_shiftUp: function (pos) {
		var newpos = {row: pos.row - 1, col: pos.col},
			sheet = this.sheet;
		if (newpos.row < 0) {
			newpos.row = sheet.maxRows - 1;
			newpos.col = newpos.col > 0 ? newpos.col - 1 : sheet.maxCols - 1;
		}
		return newpos;
	},
	/*
	 *       |  |
	 *       |  |
	 *   [X] |  |
	 *    |  |  |
     *    |  |  V
     *    |  |
     *    V  V 
	 */
	_shiftDown: function (pos) {
		var newpos = {row: pos.row + 1, col: pos.col},
			sheet = this.sheet;
		if (newpos.row >= sheet.maxRows) {
			newpos.row = 0;
			newpos.col = newpos.col < sheet.maxCols - 1 ? newpos.col + 1 : 0;
		}
		return newpos;
	},
	/*
     *       <-------
	 *   <-----------
	 *   <-----[X]
	 */
	_shiftLeft: function (pos) {
		var newpos = {row: pos.row, col: pos.col - 1},
			sheet = this.sheet;
		if (newpos.col < 0) {
			newpos.col = sheet.maxCols - 1;
			newpos.row = newpos.row > 0 ? newpos.row - 1 : sheet.maxRows - 1;
		}
		return newpos;
	},
	/*
	 *      [X]----->
	 *   ----------->
	 *   ------->
	 */
	_shiftRight: function (pos) {
		var newpos = {row: pos.row, col: pos.col + 1},
			sheet = this.sheet;
		if (newpos.col >= sheet.maxCols) {
			newpos.col = 0;
			newpos.row = newpos.row < sheet.maxRows - 1 ? newpos.row + 1 : 0;
		}
		return newpos;
	},
	//ZSS-1000
	_fireCtrlArrow: function (sheet, row, col, dir) {
		sheet._wgt.fire('onZSSCtrlArrow',
				{sheetId: sheet.serverSheetId, row: row, col: col, dir: dir}, {toServer: true});
	},
	//ZSS-1085
	_fireShiftPos: function (sheet, row, col, dir) {
		sheet._wgt.fire('onZSSShiftPos',
				{sheetId: sheet.serverSheetId, row: row, col: col, dir: dir}, {toServer: true});
	}		
});
})();
/* Defer.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Jan 12, 2012 7:07:27 PM , Created by sam
}}IS_NOTE

Copyright (C) 2012 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
}}IS_RIGHT
*/
(function () {

/**
 * Preload extra cells data from server
 */
zss.DeferLoader = zk.$extends(zk.Object, {
	_deferTime: 500,
	/**
	 * Assume visible column size is 50
	 * 
	 * When 
	 * Scroll once: may scroll down about 30 rows
	 * Scroll twice: may scroll down about 40 rows
	 * Scroll thrice: may scroll down about 60 rows
	 * 
	 * Extra size: 60 (rows) * 50 (columns)
	 */
	_extraSize: 3000,
	/**
	 * Default load row size if Spreadsheet's preload row size not defined
	 */
	_loadRow: 60,
	/**
	 * Default load column size if Spreadsheet's preload column size not defined
	 */
	_loadCol: 40,
	$init: function (sheet) {
		this.sheet = sheet;
		this._wgt = sheet._wgt;
	},
	asyncRun: function () {
		if (this._timeoutId) {
			clearTimeout(this._timeoutId);
			this._timeoutId = null;
		}

		var sf = this;
		if (this.shallLoad()) {
			if (this.shallLoadNow()) {
				this._timeoutId = null;
				var wgt = sf._wgt,
					maxRow = wgt.getMaxRows(),
					maxCol = wgt.getMaxColumns(),
					preloadRow = wgt.getPreloadRowSize(),
					preloadCol = wgt.getPreloadColumnSize(),
					ar = wgt._cacheCtrl.getSelectedSheet(),
					rect = ar.rect,
					dir = this.sheet.sp.getDirection(),
					top = -1,
					left = -1,
					right = -1,
					bottom = -1;
				if (dir == 'south') {
					left = rect.left;
					right = rect.right;
					top = rect.bottom + 1;
					if (top >= maxRow) //hit boundary, no need to fetch data
						return;
					bottom = top + (preloadRow > 0 ? preloadRow : this._loadRow);
					if (bottom >= maxRow)
						bottom = maxRow - 1;
				} else if (dir == 'north') {
					left = rect.left;
					right = rect.right;
					bottom = rect.top - 1;
					if (bottom < 0)
						return;
					top = bottom - (preloadRow > 0 ? preloadRow : this._loadRow);
					if (top < 0)
						top = 0;
				} else if (dir == 'east') {
					top = rect.top;
					bottom = rect.bottom;
					left = rect.right + 1;
					if (left >= maxCol)
						return;
					right = left + (preloadCol > 0 ? preloadCol : this._loadCol);
					if (right >= maxCol)
						right = maxCol - 1;
				} else if (dir == 'west') {
					top = rect.top;
					bottom = rect.bottom;
					right = rect.left - 1;
					if (right < 0)
						return;
					left = right - (preloadCol > 0 ? preloadCol : this._loadCol);
					if (left < 0)
						left = 0;
				}
				if (top >= 0 && left >= 0 && right >= 0 && bottom >=0)
					wgt.fetchActiveRange(top, left, right, bottom);
			} else {
				this._timeoutId = setTimeout(function () {
					sf.asyncRun();
				}, this._deferTime)
			}
		}
	},
	/**
	 * Decide whether shall load extra data or not
	 * 
	 * @return boolean
	 */
	shallLoad: function (dir) {
		var wgt = this._wgt,
			sheet = this.sheet,
			activeBlock = sheet.activeBlock;
		if (activeBlock.loadstate == zss.MainBlockCtrl.LOADING) {
			return;
		}
		dir = dir || this.sheet.sp.getDirection();
		var vrng = activeBlock.range,
			maxRow = wgt.getMaxRows() - 1,
			maxCol = wgt.getMaxColumns() - 1,
			ar = wgt._cacheCtrl.getSelectedSheet();
		if (!ar) return false; //ZSS-1181: sometimes it would be null; see Spreadsheet.java#notifyVisibleRangeChange()
		var	rect = ar.rect,
			size = ((rect.right - rect.left + 1) * (rect.bottom - vrng.bottom + 1));
		switch (dir) {
		case 'south':
			var rbtm = rect.bottom;
			if (rbtm >= maxRow)
				return false;
			var width = rect.right - rect.left + 1,
				size = width * (rbtm - vrng.bottom + 1);
			return size < this._extraSize;
		case 'east':
			var rright = rect.right;
			if (rright >= maxCol)
				return false;
			var height = rect.bottom - rect.top + 1,
				size = (height * (rect.right - vrng.right + 1));
			return size < this._extraSize;
		case 'north':
			var rtop = rect.top
			if (!rtop)
				return false;
			var	width = rect.right - rect.left + 1,
				size = width * (vrng.top - rtop + 1);
			return size < this._extraSize;
		case 'west':
			var rleft = rect.left;
			if (!rleft)
				return false;
			var hgh = rect.bottom - rect.top + 1,
				size = hgh * (vrng.left - rleft + 1);
			return size < this._extraSize;
		}
	},
	/**
	 * Decide whether shall load extra data now or not
	 * 
	 * @return boolean
	 */
	shallLoadNow: function () {
		return this.sheet.activeBlock.loadstate == zss.MainBlockCtrl.IDLE;
		/*
		if (zAu.processing())
			return false;
		
		var sheet = this.sheet,
			activeBlock = sheet.activeBlock,
			shtState = sheet.state,
			notEditing = shtState == zss.SSheetCtrl.FOCUSED || shtState == zss.SSheetCtrl.NOFOCUS;
		return notEditing && activeBlock.loadstate == zss.MainBlockCtrl.IDLE;
		*/
	}
});
})();
/* DragHandler.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * DragHandler handle mouse dragging selection event
 */
zss.DragHandler = zk.$extends(zk.Object, {
	$init: function (sheet) {
		this.$supers('$init', arguments);
		this.sheet = sheet;
		var wgt = sheet._wgt;

		wgt.domListen_(document, "onMouseUp", '_doDragMouseUp');
		wgt.domListen_(document, "onMouseMove", '_doDragMouseDown');

		zk(document.body).disableSelection();
	},
	_isMenupopupOpen: function () {
		var sheet = this.sheet,
			p = sheet.getStyleMenupopup();
		if (p && p.isOpen()) {
			return true;
		}
		
		p = sheet.getCellMenupopup();
		if (p && p.isOpen()) {
			return true;
		}
		
		p = sheet.getColumnHeaderMenupopup();
		if (p && p.isOpen()) {
			return true;
		}
		
		p = sheet.getRowHeaderMenupopup();
		if (p && p.isOpen()) {
			return true;
		}
		return false;
	},
	cleanup: function () {
		if (this.invalid) return;//don't clean twice.
		var wgt = this.sheet._wgt;
		wgt.domUnlisten_(document, "onMouseUp", '_doDragMouseUp');
		wgt.domUnlisten_(document, "onMouseMove", '_doDragMouseDown');
		
		this.invalid = true;
		this.stopAutoScroll();
		zk(document.body).enableSelection();
		this.sheet.stopDragging();
		/* ZSS-169: set paste src only when user set selection by drag cells
		//feature #26: Support copy/paste value to local Excel
		var sheet = this.sheet,
			self = this;
		if (sheet.state != zss.SSheetCtrl.Editing && !sheet.editingFormulaInfo) {
			var focustag = sheet.dp.focustag;
			
			//Note. mouse down -> mouse up (DragHandler cleanup) -> mouse click
			//Menupopup open at mouse click event, delay focustag.focus 
			sheet.runAfterMouseClick(function () {
				setTimeout(function () {
					if (!self._isMenupopupOpen()) {
						focustag.focus();
						jq(focustag).select();
					}
				}, 0);
			});
		}
		*/
	},
	stopAutoScroll : function (){
		if (this.scrollctrl) {
			this.scrollctrl.cleanup();
			this.scrollctrl = null;
		}
	},
	doMouseup: function (evt) {
		this.cleanup();
	},
	doMousemove: function (evt) {
		//do nothing in default
	}
});


/**
 * zkSSelDrag -> zss.SelDrag
 * 
 * SelDrag handle mouse dragging selection
 */
zss.SelDrag = zk.$extends(zss.DragHandler, {
	$init: function (sheet, selType, row, col, key, merr) {
		this.$supers('$init', arguments);
		this.selType = selType;
		this.row = row;
		this.col = col;
		this.lastrow = row;
		this.lastcol = col;
		this.key = key;//right("r") or left("l") mouse key
		this.merr = merr;
	},
	/**
	 * Ends mouse dragging selection event, and sets the cell's selection range
	 * @param zk.Event
	 */
	doMouseup: function (evt) {
		var sheet = this.sheet,
			ls = sheet.getLastSelection();

		sheet._sendOnCellSelection(this.selType, ls.left, ls.top, ls.right, ls.bottom);
		this.cleanup();
	},
	/**
	 * Start mouse dragging selection event
	 * @param zk.Event
	 */ 
	doMousemove: function (evt) {
		if (this.key != "l") return;//only care left key drag
		
		var sheet = this.sheet,
			elm = evt.domTarget,
			row = -1,
			col = -1,

			mx = evt.pageX,//mouse offset, against browser body 
			my = evt.pageY,
			cmp,
			outside;
		
		if ( (cmp = zkS.parentByZSType(elm, ["SCell","SRow"], 1)) != null) {//move on cell or vertical merged cell
			var cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false);
			row = cellpos[0];
			col = cellpos[1];
		} else if (this.selType == zss.SEL.ROW && (cmp = zkS.parentByZSType(elm, "SLheader", 1)) != null) {//move on left header
			row = cmp.ctrl.index;
		} else if (this.selType == zss.SEL.COL && (cmp = zkS.parentByZSType(elm, "STheader", 1)) != null) {//move on top header
			col = cmp.ctrl.index;
		} else if ((cmp = zkS.parentByZSType(elm, ["SSelect", "SHighlight"], 1)) != null) {//move on select
			var cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false);
			row = cellpos[0];
			col = cellpos[1];
		} else if ((cmp = zkS.parentByZSType(elm, ["SScrollpanel", "SCorner", "SLheader", "STheader"], 2)) != null
			|| zkS.parentByZSType(elm, "SSheet", 5) == null ) {
			var dir = "";
			switch (jq(cmp).attr('zs.t')) {
			case 'SCorner':
				dir = "lt";
				break;
			case 'SLheader':
				dir = "l";
				break;
			case 'STheader':
				dir = "t";
				break;
			default:
				//outside or scrollpanel*/
				var sheetofs = zk(sheet.comp).revisedOffset();
				if (mx < sheetofs[0]) {
					dir = "l";
				} else if (mx >= sheetofs[0] + sheet.comp.offsetWidth - zss.Spreadsheet.scrollWidth) {
					dir = "r";
				}
				if (my < sheetofs[1]) {
					dir += "t";
				} else if (my>=sheetofs[1] + sheet.comp.offsetHeight) {
					dir += "b";
				}
			}

			if (dir != "" && (!this.scrollctrl || this.scrollctrl.getDir() == "")) { 
				var dironly = (this.selType == zss.SEL.ROW ? zss.AutoScrollCtrl.ROWONLY: this.selType == zss.SEL.COL ? zss.AutoScrollCtrl.COLONLY: "");
				this.scrollctrl = new zss.AutoScrollCtrl(sheet, dir, dironly);
			} else if (this.scrollctrl)
				this.scrollctrl.setDir(dir);

			return;
		} else {
			this.stopAutoScroll();
			return;
		}
		this.stopAutoScroll();
		this.moveSelection(row, col);
	},
	/**
	 * Move selection
	 * @param int row
	 * @param int col
	 */
	moveSelection: function (row, col) {
		var sheet = this.sheet;
		if (row >= sheet.maxRows) row = sheet.maxRows - 1;
		if (col >= sheet.maxCols) col = sheet.maxCols - 1;
		if (row < 0) row = 0;
		if (col < 0) col = 0;
		
		if (this.selType == zss.SEL.ROW) {
			if (this.lastrow != row && row>-1) {
				this.lastrow = row;
				sheet.moveRowSelection(this.row, row);
			}
		} else if (this.selType == zss.SEL.COL) {
			if (this.lastcol != col && col > -1) {
				this.lastcol = col;
				sheet.moveColumnSelection(this.col, col);
			}
		} else if (this.selType == zss.SEL.CELL) {
			var update = false;
			if (this.lastrow != row && row > -1) {
				this.lastrow = row;
				update = true;
			}
			if (this.lastcol != col && col > -1) {
				this.lastcol = col;
				update = true;
			}
			if (update) {
				var top = (this.row > row) ? row : this.row,
					bottom = (this.row < row)? row : this.row,
					left = (this.col > col) ? col : this.col,
					right = (this.col < col) ? col : this.col;
		
				sheet.moveCellSelection(left, top, right, bottom, true);
			}
		}
	}
});

/**
 * zkSSelChgDrag -> zss.SelChgDrag
 * SelChgDrag handle selection change event.
 * 
 * Selection change event occur when mouse down on current cell selection and drag to change it's range.  
 */ 
zss.SelChgDrag = zk.$extends(zss.DragHandler, {
	$init: function (sheet, selType, action, row, col) {
		this.$supers('$init', arguments);
		this.selType = selType;
		this.action = action;
		var selrang = sheet.selArea.lastRange;
		this.top = selrang.top;
		this.left = selrang.left;
		this.right = selrang.right;
		this.bottom = selrang.bottom;
		
		var pos = sheet.getLastFocus();
		this.frow = pos.row;
		this.fcol = pos.column;
		
		if (action == zss.SELDRAG.MOVE) {
			this.row = row;//start on which row
			this.col = col;//on which col
		}
		sheet.moveSelectionChange(this.left, this.top, this.right, this.bottom);
	},
	/**
	 * Ends selection change event
	 * @param  zk.Event
	 */ 
	doMouseup: function (evt) {
		var sheet = this.sheet,
			orgrange = sheet.selArea.lastRange;
			range = sheet.selChgArea.lastRange;
		if (!range)
			return;//sel change area never be updated.
		var row = this.frow,
			col = this.fcol;
			
		if (this.action == zss.SELDRAG.MOVE) {
			var voff = range.top - this.top,//offset to orginal selection
				hoff = range.left - this.left; 
			//move foucs depends on offset	
			row += voff;
			col += hoff;
		}
		
		if (col > range.right) col = range.right;
		else if (col < range.left) col = range.left;
			
		if (row > range.bottom) row = range.bottom;
		else if(row < range.top) row = range.top;
	
		if (row != this.frow || col != this.fcol) {
			sheet.dp.moveFocus(row, col, false, false);//moveFocus only move Focus, doesn't move selection
		}
			
		
		if (range.left != orgrange.left || range.top != orgrange.top || range.right != orgrange.right || range.bottom != orgrange.bottom) { 
			sheet._sendOnCellSelectionUpdate(this.selType, this.action,
				range.left, range.top, range.right, range.bottom,
				orgrange.left, orgrange.top, orgrange.right, orgrange.bottom);
		}
		sheet.hideSelectionChange();
		sheet.moveCellSelection(range.left, range.top, range.right, range.bottom);
		this.cleanup();
	},
	/**
	 * Starts selection change event
	 * @param zk.Event
	 */
	doMousemove: function (evt) {
		var sheet = this.sheet,
			elm = evt.domTarget,
			row = -1,
			col = -1,
			mx = evt.pageX,//mouse offset, against browser body 
			my = evt.pageY,
			cmp,
			outside;
		
		if ((cmp = zkS.parentByZSType(elm, ["SCell", "SSelect", "SSelChg", "SHighlight"], 1)) != null){//move on select
			cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false);
			row = cellpos[0];
			col = cellpos[1];
		} else if((cmp = zkS.parentByZSType(elm, ["SScrollpanel", "SCorner", "SLheader", "STheader"], 2)) != null
			|| zkS.parentByZSType(elm, "SSheet", 5) == null ){
			var dir = "";
			switch (jq(cmp).attr('zs.t')) {
			case 'SCorner':
				dir = "lt";
				break;
			case 'SLheader':
				dir = "l";
				break;
			case 'STheader':
				dir = "t";
				break;
			default:
				//outside or scrollpanel*/
				var sheetofs = zk(sheet.comp).revisedOffset();
				if (mx < sheetofs[0])
					dir = "l";
				else if(mx >= sheetofs[0] + sheet.comp.offsetWidth - zss.Spreadsheet.scrollWidth)
					dir = "r";
				
				if (my < sheetofs[1])
					dir += "t";
				else if (my >= sheetofs[1] + sheet.comp.offsetHeight)
					dir += "b";
			}

			if (dir != "" && (!this.scrollctrl || this.scrollctrl.getDir() == "")) { 
				this.scrollctrl = new zss.AutoScrollCtrl(sheet, dir, false);
			} else if (this.scrollctrl)
				this.scrollctrl.setDir(dir);
			return;
		} else {
			this.stopAutoScroll();
			return;
		}
		this.stopAutoScroll();

		if (this.action == zss.SELDRAG.MOVE)
			this._move(row, col);
		else if (this.action == zss.SELDRAG.RESIZE)
			this._modify(row, col);
	},
	_modify: function (row, col) {
		var sheet = this.sheet;
		if (row >= sheet.maxRows) row = sheet.maxRows - 1;
		if (col >= sheet.maxCols) col = sheet.maxCols - 1;
		if (row < 0) row = 0;
		if (col < 0) col = 0;

		var top = this.top,
			bottom = this.bottom,
			left = this.left,
			right = this.right,
			update = false;
		if (this.lastrow != row && row > -1) {
			this.lastrow = row;
			update = true;
		}
		if (this.lastcol != col && col > -1){
			this.lastcol = col;
			update = true;
		}
		if (update) {
			if(top > row || bottom < row || left > col || right < col) {
				//outside original selection
				//just a simple algorithm to know it move in horizontal or vertical
				var v = (Math.abs(top + (bottom - top) / 2 - row) / 2 > Math.abs(left + (right - left) / 2 - col))?true:false;
				if( (v || (left <= col && this.right >= col)) && top > row) {
					top = row;	
				} else if( (v || (left <= col && this.right >= col)) &&  bottom < row){
					bottom = row;
				} else if((!v || (top <= row && this.bottom >= row)) && left > col){
					left = col;
				} else if((!v || (top <= row && this.bottom >= row)) && right < col){
					right = col;
				}
			} else {
				//inside original selection
				var v = ((bottom - row) / 2 > (right - col)) ? true : false;
				if (v)
					bottom = row;
				else
					right = col;
			}
			sheet.moveSelectionChange(left, top, right, bottom);
		}
	},
	_move: function (row, col) {
		var sheet = this.sheet;
		if (row >= sheet.maxRows) row = sheet.maxRows - 1;
		else if (row < 0) row = 0;
		if (col >= sheet.maxCols) col = sheet.maxCols - 1;
		else if(col < 0) col = 0;

		var update = false;
		if (this.lastrow != row && row > -1) {
			this.lastrow = row;
			update = true;
		}
		if (this.lastcol != col && col>-1) {
			this.lastcol = col;
			update = true;
		}
		if (update) {
			var voff = row - this.row,
				hoff = col - this.col; 
			if(voff + this.top < 0) voff = -this.top;
			else if(voff + this.bottom >= sheet.maxRows) voff = sheet.maxRows - this.bottom - 1;
			
			if(hoff + this.left < 0) hoff = -this.left;
			else if(hoff + this.right >= sheet.maxCols) hoff = sheet.maxCols - this.right - 1;
			
			var top = this.top + voff,
				bottom = this.bottom + voff,
				left = this.left + hoff,
				right = this.right + hoff;
			sheet.moveSelectionChange(left, top, right, bottom);
		}
	}
});
/* Editbox.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

(function () {

	var supportGetSelection =
			typeof window.getSelection == 'function',
		supportDocumentSelection =
			document.selection && document.selection.type != 'Control', // IE
		newLine = function () {
			if (supportGetSelection) {
				return function (node) {
					var selection = window.getSelection(),
						range = selection.getRangeAt(0),
						br = createBrNode();
					range.deleteContents();
					range.insertNode(br);
					range.setStartAfter(br);
					range.setEndAfter(br);
					selection.removeAllRanges();
					selection.addRange(range);
				};
			} else if (supportDocumentSelection) {
				return function (node) {
					var range = document.selection.createRange(),
						textRange = document.body.createTextRange();
					textRange.setEndPoint('StartToStart', range);
					textRange.setEndPoint('EndToEnd', range);
					// insert a span to index caret to the new line in IE8
					textRange.pasteHTML("<br><span class=\"caret-positioner\"></span>");
					textRange.moveStart('character', 1);
				};
			} else {
				return zk.$void;
			}
		}(),
		// Returns the range's text offset including br tags.
		getTextOffset = function () {
			if (supportGetSelection) {
				return function (range, countBr) {
					return range.toString().length + 
						// count br as line break
						(countBr ? range.cloneContents().querySelectorAll('br').length : 0);
				};
			} else if (supportDocumentSelection) {
				return function (range, countBr) {
					var count = 0;
					if (countBr) {
						var brs = range.htmlText.match(/<br\s*\/?>/gi);
						if (brs) {
							// count br as line break
							count = brs.length;
						}
					}
					return range.text.length + count;
				};
			} else {
				return function () {
					return 0;
				};
			}
		}(),
		/** Returns the selection range's text offset of the specified element. The offset is returned as a two-element array,
		 * where the first item is the start offset, and the second item is the end offset (excluding).
		 * <p>If an exception occurs, [0, 0] is returned.
		 * @param node the specified element which is selected
	 	 * @param countBr whether to count <br> as text "\n" (optional)
		 * @return Array a two-element array representing the selection range offset of the specified element
		 */
		getSelectionRange = function () {
			if (supportGetSelection) {
				return function (node, countBr) {
					try {
						var range = window.getSelection().getRangeAt(0),
							startRange = range.cloneRange(),
							endRange = range.cloneRange();
						startRange.selectNodeContents(node);
						endRange.selectNodeContents(node);
						startRange.setStart(node, 0);
						startRange.setEnd(range.startContainer, range.startOffset);
						endRange.setStart(node, 0);
						endRange.setEnd(range.endContainer, range.endOffset);
						//ZSS-1005
						if(range.toString() === '' && range.startOffset == 0 && range.endOffset == 0) {
							var length = node.innerText.length;
							startRange.setEnd(range.startContainer, length);
							endRange.setEnd(range.endContainer, length);
						}
						return [getTextOffset(startRange, countBr), getTextOffset(endRange, countBr)];
					} catch (e) {
						return [0, 0];
					}
				};
			} else if (supportDocumentSelection) {
				return function (node, countBr) {
					try {
						var range = document.selection.createRange(),
							startRange = document.body.createTextRange(),
							endRange = document.body.createTextRange();
						startRange.moveToElementText(node);
						startRange.setEndPoint('EndToStart', range);
						endRange.moveToElementText(node);
						endRange.setEndPoint('EndToEnd', range);
						return [getTextOffset(startRange, countBr), getTextOffset(endRange, countBr)];
					} catch (e) {
						return [0, 0];
					}
				};
			} else {
				return function () {
					return [0, 0];
				};
			}
		}(),
		// Selects all the contents in the node.
		selectText = function () {
			if (supportGetSelection) {
				return function (node) {
					var selection = window.getSelection(),
						range;
					if (selection.rangeCount > 0)
						selection.removeAllRanges();
					range = document.createRange();
					range.selectNodeContents(node);
					selection.addRange(range);
				};
			} else if (supportDocumentSelection) {
				return function (node) {
					var textRange = document.body.createTextRange();
					textRange.moveToElementText(node);
					textRange.select();
				};
			} else {
				return zk.$void;
			}
		}(),
		placeCaretAtEnd = function () {
			if (supportGetSelection) {
				return function (node) {
					var selection = window.getSelection(),
						range;
					if (selection.rangeCount > 0)
						selection.removeAllRanges();
					range = document.createRange();
					range.selectNodeContents(node);
					range.setStart(range.endContainer, range.endOffset);
					selection.addRange(range);
				};
			} else if (supportDocumentSelection) {
				return function (node) {
					var textRange = document.body.createTextRange();
					textRange.moveToElementText(node);
					textRange.moveStart('Character', getTextOffset(textRange, true));
					textRange.select();
				};
			} else {
				return zk.$void;
			}
		}(),
		//ZSS-1214
		placeCaretBeforeEnd = function () {
			if (supportGetSelection) {
				return function (node) {
					var selection = window.getSelection(),
						range;
					if (selection.rangeCount > 0)
						selection.removeAllRanges();
					range = document.createRange();
					
					var textnodes = $(node).contents().filter(function(){
						return this.nodeType == 3;
					});
					var textnode = textnodes[textnodes.length - 1];
					var pos = textnode.textContent.length - 1;
					
					range.selectNodeContents(textnode);
					range.collapse(true); // collaps to start
					range.setStart(textnode, pos);
					selection.addRange(range);
				};
			} else if (supportDocumentSelection) {
				return function (node) {
					var textRange = document.body.createTextRange();
					textRange.moveToElementText(node);
					var pos = getTextOffset(textRange, true) - 1;
					textRange.moveEnd('Character', pos);
					textRange.moveStart('Character', pos);
					textRange.select();
				};
			} else {
				return zk.$void;
			}
		}(),
		complementHTML = function () {
			if (zk.webkit) { 
				return function (node) {
					node.appendChild(createBrNode());
				};
			} else if (zk.gecko) {
				return function (node) {
					var lastChild = node.lastChild;
					// 20140609, RaymondChao: firefox needs to append <br type="_moz"> to display a new empty line at the end
					if (lastChild && lastChild.nodeName.toLowerCase() == 'br' && jq(lastChild).attr('type') != '_moz') {
						var br = createBrNode();
						jq(br).attr('type', '_moz');
						node.appendChild(br);
					}
				};
			} else {
				return zk.$void;
			}
		}(),
		appendBrNode = function () {
			if (zk.webkit) { 
				return function (node) {
					var lastChild = node.lastChild;
					// 20140606, RaymondChao: in webkit, contenteditable div should insert an additional <br> in the end,
					// or it would need to press alt+enter two times to get a new line.
					if (!lastChild || lastChild.nodeName.toLowerCase() != 'br') {
						node.appendChild(createBrNode());
					}
				};
			} else {
				return zk.$void;
			}
		}(),
		stripBrNode = function () {
			if (zk.webkit) { 
				return function (node) {
					var lastChild = node.lastChild;
					// remove the redundant <br> inserted by appendBrNode()
					if (lastChild && lastChild.nodeName.toLowerCase() == 'br') {
						node.removeChild(lastChild);
					}
				};
			} else if (zk.gecko) {
				return function (node) {
					var lastChild = node.lastChild;
					// remove the redundant <br> inserted by appendBrNode()
					if (lastChild && lastChild.nodeName.toLowerCase() == 'br' && jq(lastChild).attr('type') == '_moz') {
						node.removeChild(lastChild);
					}
				};
			} else {
				return zk.$void;
			}
		}();

	// convert node to string, to replace <br> with "\n"
	function br2nl (n) {
		var duplicateNode = n.cloneNode(true),
			$duplicateNode = jq(duplicateNode);
		stripBrNode(duplicateNode);
		$duplicateNode.find('br').after("\n").remove();
		return $duplicateNode.text();
	}

	// convert string to html, and replace "\n" with <br> node.
	function nl2br (value) {
		return jq.parseHTML(value.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\n/g, '<br>'));
	}

	function createBrNode () {
		return document.createElement('br');
	}
	
	function syncEditorHeight (n) {
		var ch = n.clientHeight,
			//cw = n.clientWidth,
			//sw = n.scrollWidth,
			sh = n.scrollHeight,
			hsb = zkS._hasScrollBar(n),//has hor scrollbar
			vsb = zkS._hasScrollBar(n, true);//has ver scrollbar
		
		if (sh > ch + 3) {//3 is border
			if (hsb && !vsb)
				jq(n).css('height', jq.px0(sh + zss.Spreadsheet.scrollWidth));// extend height
			else
				jq(n).css('height', jq.px0(sh));
		}
	}
	
	function blurEditor (wgt) {
		var sheet = wgt.sheet;
		if (sheet) {
			wgt.isFocused = false;
			// ZSS-674: stay focused if formulabar's ok/cancel btn was pressed down.
			if (sheet.shallIgnoreBlur) {
				focusWhenBlur(wgt);
				sheet.shallIgnoreBlur = false;
			} else if (sheet.isSwitchingFocus) {
				// 20140519, RaymondChao: when change focus between editors, spreadsheet could have no focus as below
				// formulabar editor blur -> ( no focus ) -> editbox focus
				// need to add isSwitchingFocus flag to determine the situation
				sheet.isSwitchingFocus = false;
			} else if (sheet.isSwitchingSheet) {
				focusWhenBlur(wgt);
			// ZSS-683: check if the editor is editing to prevent fire onStopEditing twice
			} else if (!sheet._wgt.hasFocus() && wgt.isEditing()) {
				sheet.dp.stopEditing(sheet.innerClicking > 0 ? "refocus" : "lostfocus");
			} else if (zk.ie && sheet._wgt.hasFocus() && wgt.isEditing()) {
				//ZSS-1081; ie's hasFocus() will be true while others not
				sheet.dp.stopEditing(sheet.innerClicking > 0 ? "refocus" : "lostfocus");
			}
		}
	}

	function focusWhenBlur (wgt) {
		if (!zk.gecko) {
			wgt.focus();
		} else {
			// 20140603, RaymondChao: firefox needs setTimeout to refocus when blur.
			setTimeout(function () {wgt.focus();});
		}
	}

	/**
	 * Returns cell reference
	 * 
	 * @param string src the source to extract reference
	 * @return array cell reference
	 */
	function getCellRefs(src) {
		return src.match('\\$?([A-Za-z]+)\\$?([0-9]+)');
	}
	
	/**
	 * Returns the editing formula info
	 *  
	 * @param string type the type of editor (optional)
	 * @param Object n the editor DOM element
	 * @param array p the text cursor position (optional)
	 */
	function getEditingFormulaInfo(type, node, position) {
		var p = position || getSelectionRange(node),
			tp = type || 'inlineEditing',
			start = p[0],
			end = p[1],
			v = jq(node).text(),
			firstChar = v.charAt(0);
		if (firstChar && firstChar == '=') {
			if (start != end) { //text has selection, need to replace cell reference
				return {start: start, end: end, type: tp};
			} else {
				if (!start) {
					return null; // ZSS-1005, ZSS-1209
//					return {start: 0, end: 0, type: tp};
				} else {
					var DELIMITERS = ['=', '+', '-', '*', '/', '!', ':', '^', '&', '(',  ',', '.'],
						i = start - 1,
						c = v.charAt(i);
					if (DELIMITERS.$contains(c)) {
						return {start: start, end: start, type: tp};
					}
				}
			}
		}
	}
	
	/**
	 * Insert cell reference to editor
	 * 
	 * @param Object sheet the ({@link zss.SSheetCtrl})
	 * @param Object n the editor DOM element
	 * @param int tRow
	 * @param int lCol
	 * @param int bRow
	 * @param int rCol
	 */
	function insertCellRef(sheet, n, tRow, lCol, bRow, rCol) {
   		var info = sheet.editingFormulaInfo,
			start = info.start,
			end = info.end,
			$n = jq(n),
			v = $n.text(),
			c1 = sheet.getCell(tRow, lCol),
			// ZSS-689: check if the selection is merged cell or range
			c2 = c1.isInRange(bRow, rCol) ? null : sheet.getCell(bRow, rCol),
			ref = c1.ref,
			editor = sheet.inlineEditor,
			editorSheetId = editor.sheetId,
			currentSheetId = sheet.serverSheetId;
		if (c2) {
			ref += (':' + c2.ref);
		}

		if (editorSheetId && editorSheetId != currentSheetId) {
			ref = getSheetName(sheet, currentSheetId) + '!' + ref;
		}

		if (!start) {
			ref = '=' + ref; 
		}
		$n.text(v.substring(0, start) + ref + v.substring(end, v.length));
		editor.setValue($n.text());
		end = start + ref.length;
		info.end = end;
		if (zk.ie && zk.ie < 11) { 
			setTimeout(function () {
				placeCaretAtEnd(n);
			});
		} else {
			placeCaretAtEnd(n);
		}
	}

	/**
	 * Get sheet name
	 * 
	 * @param Object sheet the ({@link zss.SSheetCtrl})
	 * @param string sheetId
	 */
	function getSheetName (sheet, sheetId) {
		var labels = sheet._wgt.getSheetLabels();
		for (var prop in labels) {
			if (labels[prop].id == sheetId) {
				return quoteName(labels[prop].name);
			}
		}
	}

	// returns sheet name or surrounds name with single-quote if nessarery
	function quoteName (name) {
		if (/^[a-z_]+[a-z0-9_.]*$/i.test(name)) {
			return name;
		} else {
			return "'" + name + "'";
		}
	}

zss.FormulabarEditor = zk.$extends(zul.inp.InputWidget, {
	widgetName: 'FormulabarEditor',
	_editing: false,
	row: -1,
	col: -1,
   	$init: function (wgt) {
   		this.$supers(zss.FormulabarEditor, '$init', []);
   		this._wgt = wgt;
   	},
   	bind_: function () {
   		this.$supers(zss.FormulabarEditor, 'bind_', arguments);
   		var sheet = this._wgt.sheetCtrl;
   		if (sheet) {
   			this.sheet = sheet;
   			sheet.formulabarEditor = this;
   			
   			sheet.listen({'onStartEditing': this.proxy(this._onStartEditing)})
   				.listen({'onStopEditing': this.proxy(this.stop)})
   				.listen({'onCellSelection': this.proxy(this._onCellSelection)})
   				.listen({'onContentsChanged': this.proxy(this._onContentsChanged)});
   		}
   	},
   	unbind_: function () {
   		var sheet = this.sheet;
   		if (sheet) {
   			
   			sheet.unlisten({'onStartEditing': this.proxy(this._onStartEditing)})
   				.unlisten({'onStopEditing': this.proxy(this.stop)})
   				.unlisten({'onCellSelection': this.proxy(this._onCellSelection)})
   				.unlisten({'onContentsChanged': this.proxy(this._onContentsChanged)});
   			
   			sheet.formulaEditor = null;
   		}
   		this.sheet = this._wgt = null;
   		this.$supers(zss.FormulabarEditor, 'unbind_', arguments);
   	},
   	disable: zk.$void,
   	cancel: function () {
   		var sheet = this.sheet;
   		if (sheet) {
   			sheet.inlineEditor.cancel();
   		}
   		this.clearStatus();
   	},
   	stop: function () {
   		var sheet = this.sheet;
   		if (sheet) {
   			sheet.inlineEditor.stop();
   		}
   		this.clearStatus();
   	},
	clearStatus: function () {
   		this.row = this.col = -1;
   		this._editing = false;
	},
   	/**
   	 * Sync editor top position base on text cursor position
   	 * 
   	 * @param int p the text cursor position. If doesn't specify, use current text cursor position
   	 */
   	syncEditorPosition: function (p) {
		var	sheet = this.sheet;
		if (!sheet) {
			return;
		}
		
		var n = this.$n(), // it's outer element

			// adjust target position
			// and check position is most-top or bottom
			pos = p !== undefined ? p : getSelectionRange(this.getInputNode(), true)[1];
		if (pos <= 0) { // scroll to most-top
			jq(n).scrollTop(0); // ZSS-205: scroll the parent, don't move the input
			return;
		}
		
		// ZSS-205: scroll to specific position
		var textHeight = this.getTextHeight(this.getValue().substring(0, pos)),
			sp = textHeight - this.getLineHeight();
		jq(n).scrollTop(sp);
   	},
   	/** one line height in formula editor */
   	getLineHeight: function() {
   		// calculate once and keep the result
   		if(this._lineHeight === undefined) {
   			// use one char to simulate one line and get the height
   			this._lineHeight = this.getTextHeight('a');
   		}
   		return this._lineHeight;
   	},
   	/** get specific text height in formula editor */
   	getTextHeight: function (text) {
   		var support = this.$n('support'),
   			$support = jq(support),
   			height;
   		$support.text(text);
   		// 20140609, RaymondChao: it's need an additional <br> if text ends with \n 
   		support.appendChild(createBrNode());
   		height = support.scrollHeight;
   		$support.text(''); // clear
   		return height;
   	},
   	/**
   	 * Sets the value of formula editor
   	 * 
   	 * @string string value
   	 * @param int pos the text cursor position
   	 */
   	setValue: function (value, pos) {
   		var n = this.$n(),
   			input = this.getInputNode(),
   			$input= jq(input);
   		$input.html(nl2br(value));
   		complementHTML(input);
   		if (this.isRealVisible()) {
   			// ZSS-205: reset height to parent's height before sync. editor's height with scroll height
   			$input.css('height', jq.px0(n.clientHeight - 3 /* top padding */ ));
   	   		syncEditorHeight(input);
   	   		
   	   		this.syncEditorPosition(pos !== undefined ? pos : value.length);
   		}
   	},
   	getValue: function () {
   		return br2nl(this.getInputNode());
   	},
   	newLine: function () {
   		newLine(this.getInputNode());
   	},
   	/**
   	 * Focus on editor
   	 */
   	focus: function () {
   		var input = this.getInputNode();
   		if (zk(input).isRealVisible(true))
   			input.focus();
   	},
   	doFocus_: function () {
   		var sheet = this.sheet;
   		this._editing = true;
   		if (sheet) {
   			var info = sheet.editingFormulaInfo;
   			if (info) {
   				if (!info.moveCell) {//focus back by user's mouse evt, re-eval editing formula info
   					sheet.editingFormulaInfo = getEditingFormulaInfo('formulabarEditing', this.getInputNode());
   				} else {
   					//focus back to editor while move cell, do nothing
   				}
   			} else {
   	   	   		var p = this.sheet.getLastFocus(),
				 	ls = sheet.selArea.lastRange;
				sheet.moveCellFocus(p.row, p.column);
				sheet.moveCellSelection(ls.left, ls.top, ls.right, ls.bottom, false, true);
   			}
   			this.isFocused = true;
   		}
   	},
   	doBlur_: function () {
   		blurEditor(this);
   	},
   	_onContentsChanged: function (evt) {
   		var sheet = this.sheet;
   		if (sheet && this.isRealVisible() && !sheet.editingFormulaInfo) {
   			var p = sheet.getLastFocus(),
   				c = sheet.getCell(p.row, p.column);
   			if (c) {
   				// ZSS-205: called by server updating cells
   				// should call setValue(), don't change DOM directly 
   				this.setValue(c.edit || '', 0);
   			}
   		}
   	},
   	isEditing: function () {
   	   	return this._editing;
   	},
   	_onStartEditing: function (evt) {
   		var d = evt.data;
   		this.row = d.row;
   		this.col = d.col;
   	},
   	_onCellSelection: function (evt) {
   		var sheet = this.sheet;
   		if (sheet) {
   			if (sheet.state == zss.SSheetCtrl.FOCUSED) {
   			   	var d = evt.data,
   			   		row = d.top,
   			   		col = d.left,
   			   		cell = sheet.getCell(row, col);
   			   	if (cell) {
   			   		// ZSS-1214
   			   		var value = sheet.isPercentCell(row, col) ? cell.text : (cell.edit || '');
   			   		// ZSS-205: should call setValue(), don't change DOM directly
   			   		this.setValue(value, 0);
   			   	} else {
   			   	}
   			} else if (sheet.state == zss.SSheetCtrl.EDITING) {
   				var info = sheet.editingFormulaInfo,
   					d = evt.data,
   					skipInsertCellRef = d.skipInsertCellRef;
   				if (info && 'formulabarEditing' == info.type && !skipInsertCellRef) {
   					insertCellRef(sheet, this.getInputNode(), d.top, d.left, d.bottom, d.right);
   				}
   			}
   		}
   	},
	doMouseDown_: function (evt) {
		var sheet = this.sheet;
		if (sheet) {
			if (sheet.state == zss.SSheetCtrl.FOCUSED) {
				var p = sheet.getLastFocus(),
					c = sheet.getCell(p.row, p.column);
				if (c && sheet.dp.startEditing(evt, c.edit, 'formulabarEditing')) {
					this.row = p.row;
					this.col = p.column;
				} else { //not allow edit, focus back
					sheet.dp.gainFocus(true);
				}
			} else if (sheet.state == zss.SSheetCtrl.NOFOCUS) {
				var p = sheet.getLastFocus(),
					row = p.row,
					col = p.column;
				sheet.dp.moveFocus(row == -1 ? 0 : row, col == -1 ? 0 : col);
				evt.stop();
			} else if (sheet.state == zss.SSheetCtrl.EDITING) {
				if (!this.isFocused) {
					sheet.isSwitchingFocus = true;
				}
				var info = sheet.editingFormulaInfo;
				if (info && info.moveCell) {//re-eval editing formula info
					sheet.editingFormulaInfo = getEditingFormulaInfo('formulabarEditing', this.getInputNode());
				}
			}
		}
	},
	doKeyDown_: function (evt) {
		var sheet = this.sheet;
		if (sheet) {
			sheet._doKeydown(evt);
			appendBrNode(this.getInputNode());
		}
	},
	afterKeyDown_: function (evt, simulated) {//must eat the event, otherwise cause delete key evt doesn't work correctly
	},
	doKeyUp_: function (evt) {
		var sheet = this.sheet,
			keycode = evt.keyCode;
		if (sheet && sheet.state == zss.SSheetCtrl.EDITING) {
			var input = this.getInputNode(),
				position = getSelectionRange(input),
				value = this.getValue(),
				info = sheet.editingFormulaInfo;
			syncEditorHeight(input); // ZSS-205: doesn't need to reset height here
			this.syncEditorPosition();
			sheet.inlineEditor.setValue(value);
			this._wgt.fire('onEditboxEditing', {token: '', sheetId: sheet.serverSheetId, row:this.row, col:this.col,  clienttxt: value});
			
			if (!value) {
				sheet.editingFormulaInfo = null;
				return;
			}
			
			var type = 'formulabarEditing';
			if (info) {
				info.type = type;
				if (info.moveCell) {
					if (info.end != end) { //means keyboard input new charcater
						sheet.editingFormulaInfo = getEditingFormulaInfo(type, input, position);
					} else {
						//no new charcater, remian the same editing info, do nothing.
					}
				} else {
					sheet.editingFormulaInfo = getEditingFormulaInfo(type, input, position);
				}
			} else {
				//ZSS-1071 when mouse click on a editing input, enableKeyNavigation will became false.
				//we won't give a cell reference navigation again for it till next startEditing
				if(sheet.enableKeyNavigation)
					sheet.editingFormulaInfo = getEditingFormulaInfo(type, input, position);
			}
		}
	},
	doKeyPress_: function (evt) {//eat the event
	},
   	setWidth: function (v) {
   		this.$supers(zss.FormulabarEditor, 'setWidth', arguments);
   		
   		// ZSS-205: input should be adjusted to sync. editor
   		// should subtract padding (left and right are both 3px)
   		// and scrollbar width according to browsers
   		var w = this.$n().clientWidth - 6; // 6px is padding
   		w = w - zss.Spreadsheet.scrollWidth; // scrollbar width
   		if(w < 0) {
   			w = 0;
   		}
   		jq(this.getInputNode()).css('width', jq.px(w));
   		jq(this.$n('support')).css('width', jq.px(w)); // must sync. with input
   	},
   	setHeight: function (v) {
   		this.$supers(zss.FormulabarEditor, 'setHeight', arguments);
   		
   		// ZSS-205: input should be adjusted to sync. editor
   		var input = this.getInputNode(),
   			n = this.$n();
		jq(input).css('height', jq.px0(n.clientHeight - 3 /* top padding */ )); // reset height to parent's height before sync. editor's height with scroll height
   		syncEditorHeight(input);
   		this.syncEditorPosition();
   	},
   	redrawHTML_: function () {
   		var uid = this.uuid,
   			zcls = this.getZclass();
   		// ZSS-205: add a support element for calculating scroll position 
   		return '<div id="' + uid + '" class="' + zcls + '"><div id="' + uid + '-real" class="' + zcls + '-real" contentEditable="true">' + this._areaText() + '</div><div id="' + uid + '-wrap-support" class="' + zcls + '-wrap-support"><div id="' + uid + '-support" class="' + zcls + '-support" contentEditable="true"></div></div></div>';
   	},
   	getZclass: function () {
   		return 'zsformulabar-editor';
   	}
});

/**
 * Editbox represent a edit area for cell
 */
zss.Editbox = zk.$extends(zul.inp.InputWidget, {
	widgetName: 'InlineEditor',
	_editing: false,
	_type: 'inlineEditing',
	$init: function (sheet) {
		this.$supers(zss.Editbox, '$init', []);
		this._wgt = sheet._wgt;
		
		this.sheet = sheet;
		this.row = -1;
		this.col = -1;
		this.disabled = true;
	},
	bind_: function () {
		this.$supers(zss.Editbox, 'bind_', arguments);
		this.comp = this.getInputNode();
		this.comp.ctrl = this;

		if (!zk.ie || zk.ie > 9) {
			this.domListen_(this.comp, 'onCompositionStart');
			this.domListen_(this.comp, 'onCompositionEnd');
		}
		
		this.sheet.listen({'onStartEditing': this.proxy(this._onStartEditing)})
   			.listen({'onStopEditing': this.proxy(this.stop)})
   			.listen({'onCellSelection': this.proxy(this._onCellSelection)});
	},
	unbind_: function () {
		if (!zk.ie || zk.ie > 9) {
			this.domUnlisten_(this.comp, 'onCompositionStart');
			this.domUnlisten_(this.comp, 'onCompositionEnd');
		}
		this.sheet.unlisten({'onStartEditing': this.proxy(this._onStartEditing)})
   			.unlisten({'onStopEditing': this.proxy(this.stop)})
   			.unlisten({'onCellSelection': this.proxy(this._onCellSelection)});
		
		this.sheet = this.comp.ctrl = this.comp = this._wgt = null;
		this.$supers(zss.Editbox, 'unbind_', arguments);
	},
	focus: function () {
		var n = this.comp;
   		if (zk(n).isRealVisible(true))
   			n.focus();
	},
	isEditing: function () {
		return this._editing;
	},
   	_onStartEditing: function (evt) {
   		var d = evt.data,
   			sheet = this.sheet;
   		this.row = d.row;
   		this.col = d.col;
   		this.sheetId = sheet.serverSheetId;
   		this.sheetName = getSheetName(sheet, this.sheetId);
   		this.cellRef = sheet.getCell(this.row, this.col).ref;
   		// ZSS-182: enable key navigation only when inline editing and
   		// 1. start edit in an empty cell
   		// 2. override the text in a cell
   		if (d.type == 'inlineEditing' && (!d.value || d.value.length <= 1)) {
   			sheet.enableKeyNavigation = true;
   		}
   	},
	_onCellSelection: function (evt) {
   		var sheet = this.sheet;
   		if (sheet) {
   			if (sheet.state == zss.SSheetCtrl.EDITING) {
   				var info = sheet.editingFormulaInfo,
   					d = evt.data,
   					skipInsertCellRef = d.skipInsertCellRef;
   				if (info && 'inlineEditing' == info.type && !skipInsertCellRef) {
   					var formulabarEditor = sheet.formulabarEditor;
   					insertCellRef(sheet, this.getInputNode(), d.top, d.left, d.bottom, d.right);
   					if (formulabarEditor) {
   						formulabarEditor.setValue(this.getValue());
   					}
   				}
   			}
   		}
	},
	doFocus_: function () {
		this._editing = true;
		if (this.sheet) {
			this.isFocused = true;
		}
	},
	doBlur_: function () {
		blurEditor(this);
	},
	doMouseDown_: function (evt) {
		var sheet = this.sheet;
		if (sheet) {
			if (sheet.state == zss.SSheetCtrl.EDITING) {
				if (!this.isFocused) {
					sheet.isSwitchingFocus = true;
				}
				var info = sheet.editingFormulaInfo;
				if (info && info.moveCell) {//re-eval editing formula info
					sheet.editingFormulaInfo = getEditingFormulaInfo(this._type, this.getInputNode());
				}
			}
		}
	},
	doKeyPress_: function (evt) {
		var sheet = this.sheet;
		if (sheet.state == zss.SSheetCtrl.EDITING) {
			this.autoAdjust(true);
		} else {
			sheet._wgt.doKeyPress_(evt);
		}
	},
	doKeyDown_: function (evt) {
		var sheet = this.sheet;
		if (sheet.state != zss.SSheetCtrl.EDITING) {
			sheet._wgt.doKeyDown_(evt);
			return;
		}
		if (this.disabled) {
			evt.stop();
		} else {
			this.sheet._doKeydown(evt);
			appendBrNode(this.comp);
			var keycode = evt.keyCode;
			switch (keycode) {
			case 35: //End
				if (evt.altKey) {
					if (this.col + this.sw < this.sheet.maxCols - 1) {
						this.sw++;
						this.adjust("w");
					}
					evt.stop();
				}
				break;
			case 34: //PgDn
				if (evt.altKey) {
					if(this.row + this.sh <  this.sheet.maxRows - 1) {
						this.sh++;
						this.adjust("h");
					}
					evt.stop();
				}
				break;
			case 36: //Home
				if (evt.altKey) {
					if (this.sw > 0) {
						this.sw--;
						this.adjust("w");
					}
					evt.stop();
				}
				break;
			case 33: //PgUp
				if (evt.altKey) {
					if (this.sh > 0) {
						this.sh--;
						this.adjust("h");
					}
					evt.stop();
				}
				break;
			case 37: //Left
			case 38: //Up
			case 39: //Right
			case 40: //Dow
				//ZSS-1005: extra bug, hold arrow key to move quickly causes cursor shift incorrectly, 
				//so that cursor calculation will be wrong.
				if(sheet.enableKeyNavigation)
					evt.stop();
				break;
			}	
		}
	},
	afterKeyDown_: function (evt, simulated) { //must eat the event, otherwise cause delete key evt doesn't work correctly
		var sheet = this.sheet;
		if (sheet.state != zss.SSheetCtrl.EDITING) {
			sheet._wgt.afterKeyDown_(evt);
		}
	},
	_doCompositionStart: function (evt) {
		var sheet = this.sheet;
		if (sheet.state == zss.SSheetCtrl.FOCUSED) {
			if (zk.webkit) {
				this.prepareComposition = true;
			}
			//ZSS-1165
			sheet._enterIMEEditing(evt);
		}
	},
	_doCompositionEnd: function (evt) {
		if (this.prepareComposition) {
			this.prepareComposition = null;
		}
	},
	doKeyUp_: function (evt) {
		var sheet = this.sheet;
		if (!sheet) {
			return;
		}
		if (sheet.state == zss.SSheetCtrl.EDITING) {
			var	formulabarEditor = sheet.formulabarEditor,
				value = sheet.inlineEditor.getValue(),
				keycode = evt.keyCode,
				info = sheet.editingFormulaInfo,
				input = this.comp,
				position = getSelectionRange(input);
				end = position[1];
			if (formulabarEditor) {
				formulabarEditor.setValue(value, getSelectionRange(input, true)[1]);
			}
			sheet._wgt.fire('onEditboxEditing', {token: '', sheetId: sheet.serverSheetId, row:this.row, col:this.col, clienttxt: value});
			
			if (!value) {
				sheet.editingFormulaInfo = null;
				return;
			}
			
			var type = this._type;
			if (info) {
				info.type = type;
				if (info.moveCell) {
					if (info.end != end) { //means keyboard input new charcater
						sheet.editingFormulaInfo = getEditingFormulaInfo(type, input, position);
					} else {
						//no new charcater, remian the same editing info, do nothing.
					}
				} else {
					sheet.editingFormulaInfo = getEditingFormulaInfo(type, input, position);
				}
			} else {
				//ZSS-1005 when mouse click on a editing input, enableKeyNavigation will became false.
				//we won't give a cell reference navigation again for it till next startEditing
				//ZSS-1209: 20160908, henrichen: side effect of ZSS-1005. We now, like
				// excel, use F2 to control sheet.enableKeyNavigation to determine
				// whether select a cell refence or move Caret in edit box
				if(sheet.enableKeyNavigation)
					sheet.editingFormulaInfo = getEditingFormulaInfo(type, input, position);
			}
		} else {
			sheet._wgt.doKeyUp_(evt);
		}
	},
	/**
	 * Sets edit box disabled
	 * @param boolean disabled
	 */
	disable: function (disabled) {
		this.comp.style.backgroundColor = disabled ? "#DDDDDD" : "#EFECFF";
		this.disabled = disabled;
	},
	/**
	 * Sets the value of inline editor
	 * 
	 * @param string value
	 */
	setValue: function (v) {
		if (this.disabled) {
			return;
		}
		var input = this.comp;
		jq(input).html(nl2br(v));
		complementHTML(input);
		this.autoAdjust(true);
	},
	_startEditing: function (noFocus) {
		var sheet = this.sheet;
		if (sheet) {
			this._editing = !noFocus;
			var formulabarEditor = sheet.formulabarEditor,
				input = this.comp,
				value = this.getValue();
			if (formulabarEditor) {
				//20150724, henrichen: ZSS-1086: Firefox seems stop the focus 
				// event if you set value into formulabarEditor when it is 
				// gaining focus. StackTraces:
				//  formulabarEditor.doMouseDown_ -> dataPanel.startEditing -> 
				//	dataPanel._openEditbox(null, true) -> inlineEditor.edit ->
				//	inlineEditor._startEditing -> ... -> formulabarEditor.doFocus_
				if (!noFocus) { 
					formulabarEditor.setValue(value);
				}
			}
			if ('=' == value.charAt(0)) {
				var length = value.length;
				sheet.editingFormulaInfo = getEditingFormulaInfo(this._type, input, [length, length]);
			}
		}
	},
	/**
	 * 
	 * @cellcmp
	 * @row int row number (0 based)
	 * @col int column number (0 based)
	 * @param string value the edit value 
	 * @param boolean noFocus whether focus on inline editor or not
	 */
	edit: function (cellcmp, row, col, value, noFocus) {
		this.disable(false);
		this.row = row;
		this.col = col;
		this.sw = 0;//width to show
		this.sh = 0;//height to show
		var sheet = this.sheet,
			txtcmp = cellcmp.lastChild,
			fontcmp = txtcmp.lastChild,
			editorcmp = this.comp,
			$edit = jq(editorcmp);

		//ZSS-1214
		var percent = sheet.isPercentCell(row, col) && zkS.isSingleDigit(value);
		if (percent) {
			value = value + "%";
		}
		
		this.setValue(value);
		var w = cellcmp.ctrl.overflowed ? (cellcmp.firstChild.offsetWidth + this.sheet.cellPad) : (cellcmp.offsetWidth);
		var h = cellcmp.offsetHeight;
		var $cell = cellcmp.ctrl;
		var scrollPanel = sheet.sp;
		// ZSS-421: calculate editor position must consider freeze panel
		var l = sheet.custColWidth.getStartPixel($cell.c) + sheet.leftWidth - (sheet.frozenCol >= 0 && col <= sheet.frozenCol ? 0 : scrollPanel.currentLeft);
		var t = sheet.custRowHeight.getStartPixel($cell.r) + sheet.topHeight - (sheet.frozenRow >= 0 && row <= sheet.frozenRow ? 0 : scrollPanel.currentTop);
		
		t -= 1;//position adjust
		w -= 1;
		h -= 1;
		l -= 1;
		
		if (zk.safari || zk.opera)
			//the display in different browser. 
			w -= 2;

		this.editingWidth = w;
		this.editingHeight = h;
		this.editingTop = t;
		this.editingLeft = l;

		//issue 228: firefox need set display block, but IE can not set this.
		$edit.css({'min-width': jq.px0(w), 'min-height': jq.px0(h), 'width': 'auto', 'height': 'auto',
			// 20140605: limit the editbox inside the sheet
			'max-width': jq.px0(sheet.spcmp.clientWidth - l), 'max-height': jq.px0(sheet.spcmp.clientHeight - t),
			'left': jq.px(l), 'top': jq.px(t), 'line-height': sheet.lineHeight});
		//if (!zk.ie || zk.ie >= 11)
		//	$edit.css('display', 'block');
		zcss.copyStyle(txtcmp, editorcmp, ["text-align"], true);
		zcss.copyStyle(fontcmp, editorcmp, ["font-family","font-size","font-weight","font-style","color","text-decoration"], true);
		zcss.copyStyle(cellcmp, editorcmp, ["background-color"], true);

		this._startEditing(noFocus);
   			
		//move text cursor position to last
		//fun = function () {
		//	placeCaretAtEnd(editorcmp);
		//};
		if (!noFocus) {
			// ZSS-737: do not move caret's position when prepare composition
			if (this.prepareComposition) {
				$edit.focus();
			} else {
				setTimeout(function() {
					$edit.focus();
					//ZSS-1214
					if (percent) {
						placeCaretBeforeEnd(editorcmp);
					} else {
						placeCaretAtEnd(editorcmp);
					}
				}, 25);
			}
		}

		// ZSS-683: zk.safari is not true on Chrome since ZK 7.0.1
		//if (!zk.safari && !zk.chrome && (!zk.ie /*|| zk.ie >= 11*/)) fun();//safari must run after timeout
		//setTimeout(function(){
			//issue 228: ie focus event need after show
			//if (zk.ie /*&& zk.ie < 11*/) {
			//	$edit.show();
			//}
			//if (!noFocus) {
			//	$edit.focus();
			//	placeCaretAtEnd(editorcmp);
			//	issue 230: IE cursor position is not at the text end when press F2
			//	if (zk.safari || zk.chrome || (zk.ie /*&& zk.ie < 11*/)) fun();
			//}
		//}, 25);
		this.autoAdjust(true);
	},
	cancel: function () {
		this.clearStatus();
	},
	stop: function () {
		var str = this.getValue();
		this.clearStatus();
		return str;
	},
	clearStatus: function () {
		var sheet = this.sheet;
		if (sheet) {
			sheet.editingFormulaInfo = null;
			if (sheet.enableKeyNavigation) {
				sheet.enableKeyNavigation = null;
			}
		}
		this._editing = false;
		this.disable(true);
		jq(this.comp).text('').css({'left': '-10005px', 'top': '-10005px'});
		jq(this.$n('info')).text('').css('display', 'none');
		this.row = this.col = -1;
		this.sheetId = null;
		this.sheetName = null;
		this.cellRef = null;
		if (this.prepareComposition) {
			this.prepareComposition = null;
		}
	},
	select: function() {
		selectText(this.comp);
	},
	getValue: function () {
		return br2nl(this.comp);
	},
	newLine: function () {
		newLine(this.comp);
		this.autoAdjust();
	},
	adjust: function (type) {
		var editorcmp = this.comp;

		if (type == "w") {
			var custColWidth = this.sheet.custColWidth,
				w = custColWidth.getStartPixel(this.col + this.sw + 1) - custColWidth.getStartPixel(this.col);
			if ((zk.ie && zk.ie < 11) || zk.safari || zk.opera)
				w -= 2;
			jq(editorcmp).css('width', jq.px0(w));
		} else if (type == "h") {
			var custRowHeight = this.sheet.custRowHeight,
				h = custRowHeight.getStartPixel(this.row + this.sh + 1) - custRowHeight.getStartPixel(this.row);
			jq(editorcmp).css('height', jq.px0(h));
		}
	},
	autoAdjust: function (forceadj) {
		var local = this;
		setTimeout(function() {
			var editorcmp = local.comp,
				ch = editorcmp.clientHeight,
			//	cw = editorcmp.clientWidth,
				sw = editorcmp.scrollWidth,
				sh = editorcmp.scrollHeight;
			//	hsb = zkS._hasScrollBar(editorcmp),//has hor scrollbar
			//	vsb = zkS._hasScrollBar(editorcmp, true);//has ver scrollbar
			
			//if (sh > ch + 3) {//3 is border
			//	if (hsb && !vsb)
			//		jq(editorcmp).css('height', jq.px0(sh + zss.Spreadsheet.scrollWidth));// extend height
			//	else
			//		jq(editorcmp).css('height', jq.px0(sh));
			//}
			if (sh > ch + 3 || forceadj) {
				var custColWidth = local.sheet.custColWidth,
					custRowHeight = local.sheet.custRowHeight;
				local.sw = custColWidth.getCellIndex(custColWidth.getStartPixel(local.col) + sw)[0] - local.col;
				local.sh = custRowHeight.getCellIndex(custRowHeight.getStartPixel(local.row) + sh)[0] - local.row;
			}			
		}, 0);
	},
	updateInfo: function () {
		var sheet = this.sheet,
			info = this.$n('info'),
			$info = jq(info),
			label = '',
			sheetId = this.sheetId;

		if (sheetId && sheetId != sheet.serverSheetId) {
			label = this.sheetName + '!' + this.cellRef;
			$info.css('display', 'block');
		} else {
			$info.css('display', 'none');
		}
		$info.text(label);
		$info.css({'left': this.editingLeft, 'top': jq.px(this.editingTop - info.offsetHeight)});
	},
	redrawHTML_: function () {
		return '<div id="' + this.uuid + '" class="zsedit"><div id="' + this.uuid + '-info" class="zsedit-info"></div><div id="' + this.uuid + '-real" class="zsedit-real" zs.t="SEditbox" contentEditable="true"></div></div>';
	}
});
})();
/* FocusMarkCtrl.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * FocusMarkCtrl control the focus mark of the spreadsheet
 */
zss.FocusMarkCtrl = zk.$extends(zk.Object, {
	$init: function (sheet, cmp, pos) {
		this.$supers('$init', arguments);
		this.id = cmp.id;
		this.comp = cmp;
		var local = this;
		
		this.sheet = sheet;
		this.row = pos.row;
		this.column = pos.column;
		
		cmp.ctrl = this;
		jq(cmp).bind('mouseenter', this.proxy(this._doMouseEnter));
		jq(cmp).bind('mouseleave', this.proxy(this._doMouseLeave));
	},
	cleanup: function () {
		this.invalid = true;
		if (this.comp) {
			jq(this.comp).unbind('mouseenter', this.proxy(this._doMouseEnter));
			jq(this.comp).unbind('mouseleave', this.proxy(this._doMouseLeave));
			this.comp.ctrl = null;
			this.comp = null;
		}
		this.sheet =  null;
	},
	/**
	 * Locate the focus mark to cell
	 * @param int row row index
	 * @param int col column index
	 */
	relocate: function (row, col) {
		var sheet = this.sheet;
		this.row = row;
		this.column = col;
		var cell = sheet.getCell(row, col),
			mr = cell && cell.merr ? cell.merr : col,
			mb = cell && cell.merb ? cell.merb : row,
			custColWidth = sheet.custColWidth,
			custRowHeight = sheet.custRowHeight,
			l = custColWidth.getStartPixel(col),
			t = custRowHeight.getStartPixel(row),
			w = custColWidth.getStartPixel(mr + 1) - l,
			h = custRowHeight.getStartPixel(mb + 1) - t;
		
		this.relocate_(l, t, w, h);
	},
	/**
	 * Sets the focus mark position
	 * @param int left position
	 * @param int top position
	 * @param int width
	 * @param int height
	 */
	relocate_: function(l, t, w, h) {
		var sheet = this.sheet,
			dp = sheet.dp;
		
		l += sheet.leftWidth;//adjust to block position.
		t += sheet.topHeight + 1;//adjust to block position. //ZSS-948
		jq(this.comp).css({'width': jq.px0(w + 3), 'height': jq.px0(h + 3), 'left': jq.px(l - 2), 'top': jq.px(t - 2)});
	},
	/**
	 * Display focus mark
	 */
	showMark: function (color, label) {
		this.comp.style.display = "block";
		var bright = 0;
		var comp = jq(this.comp);
		if(color){
			comp.css({'border-color':color});
			var rgb = comp.css('border-color');
			var rgbarr = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
			if(!rgbarr || rgbarr.length!=4){
				rgbarr = rgb.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d+)\)$/);
			}
			if(rgbarr && rgbarr.length>=4){
				bright = 1 - (0.299*rgbarr[1]+0.587*rgbarr[2]+0.114*rgbarr[3])/255;
			}
		}
		// ZSS-714: cache and update the infomation for latter use
		this.color = color;
		this.label = label;
		this.bright = bright;
	},
	/**
	 * Hide focus mark
	 */
	hideMark: function () {
		this.comp.style.display = "none";
	},
	_doMouseEnter: function (evt) {
		var color = this.color,
			label = this.label,
			sheet = this.sheet;
		if (!sheet || !sheet._wgt.hasFocus()) {
			return;
		}
		if (color && label) {
			var $comp = jq(this.comp),
				$lab = jq("<span class='zsfocmarkl'/>");
			this.lab = $lab;
			$lab.text(label).css({'background-color':color,'left':$comp.width() + 1}).appendTo($comp);
			if (this.bright > 0.5) {
				$lab.addClass('zsfocmarkl-lite');
				$lab.removeClass('zsfocmarkl-dark');
			} else {
				$lab.addClass('zsfocmarkl-dark');
				$lab.removeClass('zsfocmarkl-lite');
			}
		}
	},
	_doMouseLeave: function (evt) {
		if (this.lab) {
			this.lab.detach();
			this.lab = null;
		}
	}
});

/**
 * FocusMarkCtrlCorner control the focus mark at corner panel
 */
zss.FocusMarkCtrlCorner = zk.$extends(zss.FocusMarkCtrl, {});

/**
 * FocusMarkCtrlLeft control the focus mark at left panel
 */
zss.FocusMarkCtrlLeft = zk.$extends(zss.FocusMarkCtrl, {
	//override
 	relocate_: function (l, t, w, h) {
		var sheet = this.sheet;
		l += sheet.leftWidth - 1;
		if (sheet.lp.toppad) {
			t -= sheet.lp.toppad;
		}
		jq(this.comp).css({'width': jq.px0(w + 3), 'height': jq.px0(h + 3), 'left': jq.px(l - 2), 'top': jq.px(t - 2)});
	}
});

/**
 *  FocusMarkCtrlTop control the focus mark at the top panel
 */
zss.FocusMarkCtrlTop = zk.$extends(zss.FocusMarkCtrl, {
	//override
  	relocate_: function(l, t, w, h) {
		var sheet = this.sheet;
		t += sheet.topHeight;//adjust to block position. //ZSS-948
		jq(this.comp).css({'width': jq.px0(w + 3), 'height': jq.px0(h + 3), 'left': jq.px(l - 2),'top': jq.px(t - 2)});
	}
});
/* Formulabar.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Dec 8, 2011 9:43:24 AM , Created by sam
}}IS_NOTE

Copyright (C) 2011 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
}}IS_RIGHT
*/
(function () {

zss.Namebox = zk.$extends(zk.Widget, {
   	//indicate whether redraw name items or not
   	_redrawNames: false,
   	$init: function (wgt) {
   		this.$supers(zss.Namebox, '$init', []);
   		this._names = [];
   		this._wgt = wgt;
   	},
   	$define: {
		/** Returns whether it is disabled.
		 * <p>Default: false.
		 * @return boolean
		 */
		/** Sets whether it is disabled.
		 * @param boolean disabled
		 */
   		disabled: function (disabled) {
   			var n = this.$n();
   			if (n) {
   				jq(n)[disabled ? 'addClass' : 'removeClass'](this.getZclass() + '-disd');
   			}
   		}
   	},
   	bind_: function () {
   		this.$supers(zss.Namebox, 'bind_', arguments);
   		this.sheet = this._wgt.sheetCtrl;
   	},
   	unbind_: function () {
   		this._wgt = this.sheet = null;
   		this.$supers(zss.Namebox, 'unbind_', arguments);
   	},
   	setValue: function (v) {
   		var inp = this.$n('inp');
   		inp.value = v;
   	},
   	setNames: function (ary) {
   		//{v: value, range: {top: 0, right: 0, bottom: 0, right: 0}}
   		this._redrawNames = false;
   		var ns = this._names = [],
   			i = ary.length;
   		while (i--) {
   			ns[i] = ary[i];
   		}
   		if (this._isOpenPopup()) {
			this._appendNames();
   		}
   	},
   	_appendNames: function () {
		var $pp = jq(this.$n('pp'));
		$pp.children().remove();
		$pp.append(this._redrawNamesHTML_());
		this._redrawNames = true;
   	},
   	_fixPopupSize: function () {
   		var size = this._names.length,
   			pp = this.$n('pp');
   		if (!size) {
   			pp.style.height = '150px';//empty popup default height
   		}
   		pp.style.width = jq(this.$n()).width() + 'px';
   	},
   	_isOpenPopup: function () {
   		return zk(this.$n('pp')).isVisible();
   	},
   	_closePopup: function () {
   		var pp = this.$n('pp');
   		zk(pp).undoVParent();
   		pp.style.display = 'none';
   	},
   	_openPopup: function () {
   		var created = this._redrawNames,
   			pp = this.$n('pp');
   		if (!created) {
   			this._appendNames();
   		}
   		zk(pp).makeVParent();
   		zk(pp).position(this.$n(), 'after_start'); //TODO: add offset
   		pp.style.display = 'block';
   		this._fixPopupSize();
   		
   		var $n = this.$n('inp');
   		setTimeout(function () {
   			$n.focus();
   			$n.select();
   		});
   	},
   	doMouseDown_: function (evt) {
   		if (this.isDisabled()) {
   			this.$n('inp').blur();
   			evt.stop();
   			return;
   		}
   		var sheet = this.sheet;
   		if (sheet) {
   			if (sheet.state == zss.SSheetCtrl.FOCUSED) {
   	   	   		var target = evt.domTarget,
		   			inp = this.$n('inp'),
		   			icon = this.$n('icon');
		   		if (inp == target) {
		   			setTimeout(function () {
		   				jq(inp).select();
		   			});
		   		} else if (icon == target) {
		   			this._openPopup();
		   		} else if (jq.isAncestor(this.$n('pp'), target)) {
		   			this._closePopup();
		   		}	
   			} else if (sheet.state == zss.SSheetCtrl.NOFOCUS) {
				var p = sheet.getLastFocus(),
					row = p.row,
					col = p.column;
				sheet.dp.moveFocus(row == -1 ? 0 : row, col == -1 ? 0 : col);
   			}
   		}
   	},
   	doMouseOver_: function (evt) {
   		var t = evt.domTarget,
   			pp = this.$n('pp'),
   			clsOver = 'zsnamebox-item-over';
   		if (pp != t && jq.isAncestor(pp, t)) {
   			jq(pp).children('.' + clsOver).removeClass(clsOver);
   			jq(t).addClass(clsOver);
   		}
   	},
   	setWidth: function (v) {
   		this.$supers(zss.Namebox, 'setWidth', arguments);
   		this._fixWidth(v);
   	},
   	_fixWidth: function (v) {
   		var n = this.$n(),
   			totalWidth = zk.parseInt(v),
   			inp = n.firstChild,
   			icon = inp.nextSibling;
   		inp.style.width = jq.px(totalWidth - icon.clientWidth);		    		
   	},
   	bind_: function () {
   		this.$supers(zss.Namebox, 'bind_', arguments);
   		var sheet = this._wgt.sheetCtrl;
   		if (sheet) {
   			this.sheet = sheet;
   			sheet.listen({'onCellSelection': this.proxy(this._onCellSelection)});
   		}
   	},
   	unbind_: function () {
   		var sheet = this.sheet;
   		if (sheet) {
   			sheet.unlisten({'onCellSelection': this.proxy(this._onCellSelection)});
   		}
   		this.sheet = this._wgt = null;
   		this.$supers(zss.Namebox, 'unbind_', arguments);
   	},
   	_onCellSelection: function (evt) {
   		var d = evt.data,
   			inp = this.$n('inp'),
			c = this.sheet.getCell(d.top, d.left);
   		if (c) {
   			inp.value = c.ref;
   		}
   		if (this._isOpenPopup()) {
   			this._closePopup();
   		}
   	},
   	_redrawNamesHTML_: function () {
   		var ns = this._names,
   			zcls = this.getZclass(),
   			html = '';
   		for (var i = 0, size = ns.length; i < size; i++) {
   			html += '<div class="' + zcls +'-item">' + ns[i].v + '</div>';
   		}
   		return html;
   	},
   	redrawHTML_: function () {
   		var uid = this.uuid,
   			zcls = this.getZclass();
   			html = '<div id="' + uid + '" class="' + zcls + '"><input id="' + 
    				uid + '-inp" class="' + zcls + '-inp"></input><div id="' + 
    				uid +'-icon" class="' + zcls + '-icon"></div><div id="' + 
    				uid + '-pp" class="' + zcls + '-pp" style="display:none;"></div></div>';
    		return html;
   	},
   	getZclass: function () {
   		return 'zsnamebox';
   	}
});
	
zss.FormulabarButton = zk.$extends(zul.wgt.Toolbarbutton, {
	setDomVisible_: function (n, visible, opts) {
		this.$supers(zss.FormulabarButton, 'setDomVisible_', [n, visible, {visibility:1}]);
	},
	domStyle_: function (no) {
		if (!this.isVisible())
			return 'visibility:hidden;';
	},
	doMouseOver_: function (evt) {
		this.$supers(zss.FormulabarButton, 'doMouseOver_', arguments);
		var body = this.$n().firstChild;
		jq(body).addClass(this.getSclass() + '-body-over');
	},
	doMouseOut_: function (evt) {
		this.$supers(zss.FormulabarButton, 'doMouseOut_', arguments);
		jq(this.$n().firstChild).removeClass(this.getSclass() + '-body-over');
	}
});

zss.FormulabarWestCave = zk.$extends(zk.Widget, {
	$o: zk.$void, //owner, fellows relationship no needed
	$init: function (wgt) {
		this.$supers(zss.FormulabarWestCave, '$init', []);
		
		this._wgt = wgt;
		//namebox and button container
		var nb = this._namebox = new zss.Namebox(wgt);
		this.appendChild(nb);
		
		var cancelBtn = this._cancelBtn = new zss.FormulabarButton({label: '✗', sclass: 'zsformulabar-cancelbtn',
				'onClick': this.proxy(this._onClickCancelBtn), 'onMouseDown': this.proxy(this._onMouseDownBtn)}),
			okBtn = this._okBtn = new zss.FormulabarButton({label: '✓', sclass: 'zsformulabar-okbtn',
				'onClick': this.proxy(this._onClickOKBtn), 'onMouseDown': this.proxy(this._onMouseDownBtn)}),
			formulaBtn = this._formulaBtn = new zss.FormulabarButton({label: 'f(x)', sclass: 'zsformulabar-insertbtn', 'onClick': this.proxy(this._onClickInsertFormulabar)});
		cancelBtn.setVisible(false);
		okBtn.setVisible(false);
		this.appendChild(cancelBtn);
		this.appendChild(okBtn);
		this.appendChild(formulaBtn); //for insert formula
	},
	bind_: function () {
		this.$supers(zss.FormulabarWestCave, 'bind_', arguments);
		var sheet = this._wgt.sheetCtrl;
		if (sheet) {
			this.sheet = sheet;
			sheet.listen({'onStartEditing': this.proxy(this._onStartEditing)});
			sheet.listen({'onStopEditing': this.proxy(this._onStopEditing)});
		} else {
			this._formulaBtn.setDisabled(true);
			this._namebox.setDisabled(true);
		}
	},
	unbind_: function () {
		var sheet = this.sheet;
		if (sheet) {
			sheet.unlisten({'onStartEditing': this.proxy(this._onStartEditing)});
			sheet.unlisten({'onStopEditing': this.proxy(this._onStopEditing)});
		}
		this._cancelBtn.unlisten({'onClick': this.proxy(this._onClickCancelBtn),
			'onMouseDown': this.proxy(this._onMouseDownBtn)});
		this._okBtn.unlisten({'onClick': this.proxy(this._onClickOKBtn),
			'onMouseDown': this.proxy(this._onMouseDownBtn)});
		this._formulaBtn.unlisten({'onClick': this.proxy(this._onClickInsertFormulabar)});
		
		this._wgt = this._cancelBtn = this._okBtn = this._formulaBtn = null; 
		this.$supers(zss.FormulabarWestCave, 'unbind_', arguments);
	},
	_onStartEditing: function () {
		this._cancelBtn.setVisible(true);
		this._okBtn.setVisible(true);
	},
	_onStopEditing: function () {
		this._cancelBtn.setVisible(false);
		this._okBtn.setVisible(false);
	},
	_onClickCancelBtn: function () {
		var sheet = this.sheet;
		if (sheet) {
			sheet.dp.cancelEditing('formulabarEditing');
			this._onStopEditing();
		}
	},
	_onClickOKBtn: function () {
		var sheet = this.sheet;
		if (sheet) {
			sheet.dp.stopEditing('refocus'); // ZSS-501
			this._onStopEditing();
		}
	},
	_onClickInsertFormulabar: function () {
		var wgt = this._wgt,
			sheet = wgt.sheetCtrl;
		if (sheet) {
			var s = sheet.getLastSelection();
			wgt.fireToolbarAction('insertFunction', {tRow: s.top, lCol: s.left, bRow: s.bottom, rCol: s.right});
		}
	},
	_onMouseDownBtn: function () {
		var sheet = this.sheet;
		if (sheet) {
			sheet.shallIgnoreBlur = true;
		}
	},
	getNamebox: function () {
		return this._namebox;
	},
	redraw: function (out) {
		var uid = this.uuid,
			html = '<div id="' + uid + '">';
		//namebox and buttons container
		html += '<div style="background:#F7F7F7;">' + this._namebox.redrawHTML_() + 
			'<div id="' + uid + '-btns" class="zsformulabar-buttons">' + this._cancelBtn.redrawHTML_() + this._okBtn.redrawHTML_() + this._formulaBtn.redrawHTML_() + '</div></div>';
		html += '<div class="zsformulabar-blank"></div></div>';
		out.push(html);
	},
	setFlexSize_: function(sz) {
		var size = this.$supers(zss.FormulabarWestCave, 'setFlexSize_', arguments),
			total = this.$n().clientWidth; //to compitiable with ZK7
		//TODO: fine tune IE6/IE7 namebox width/height
		this._namebox.setWidth(jq.px(total - this.$n('btns').clientWidth));
	}
});

zss.FormulabarWest = zk.$extends(zul.layout.West, {
	$o: zk.$void, //owner, fellows relationship no needed
   	$init: function (wgt) {
   		this.$supers(zss.FormulabarWest, '$init', []);
   		this.setFlex(true);
   		this.setBorder(0);
   		this.setSplittable(true);
   		this.setCollapsible(false);
   		this.setSclass('zsformulabar-west');
   		this.setSize('265px');
    		
   		var cave = this.cave = new zss.FormulabarWestCave(wgt);
   		this.appendChild(cave);
   	},
   	redrawHTML_: function () {
   		return this.$supers(zss.FormulabarWest, 'redrawHTML_', arguments);
   	}
});
    
zss.ExpandFormulabarButton = zk.$extends(zss.FormulabarButton, {
   	_expanded: false,
   	bind_: function () {
   		this.$supers(zss.ExpandFormulabarButton, 'bind_', arguments);
    	if (this._expanded)
    		jq(this.$n()).addClass(this.getSclass() + '-expanded');
    },
    isExpanded: function () {
    	return this._expanded;
    },
   	setExpanded: function (v) {
   		if (this._expanded != v) {
   			this._expanded = v;
   			jq(this.$n())[v ? 'addClass' : 'removeClass'](this.getSclass() + '-expanded');
   		}
   	},
   	getSclass: function () {
   		return 'zsformulabar-expandbtn';
   	}
});

zss.FormulabarCenterCave = zk.$extends(zk.Widget, {
	$o: zk.$void, //owner, fellows relationship no needed
   	$init: function (wgt) {
   		this.$supers(zss.FormulabarCenterCave, '$init', []);
   		this._wgt = wgt;
   		
   		this.appendChild(this.editor = new zss.FormulabarEditor(wgt));
   		this.appendChild(this.expandBtn = new zss.ExpandFormulabarButton());
   	},
   	bind_: function () {
   		this.$supers(zss.FormulabarCenterCave, 'bind_', arguments);
   		if (!this._wgt.sheetCtrl) {
   			this.editor.setDisabled(true);
   		}
   	},
   	redraw: function (out) {
		var uid = this.uuid,
			zcls = this.getZclass(),
			html = '<div id="' + uid + '">';
		html += (this.editor.redrawHTML_() + 
				'<div id="' + uid + '-expandbtn" class="' + zcls + '-colbtn">' + this.expandBtn.redrawHTML_() + '</div></div>');
		out.push(html);
   	},
   	getZclass: function () {
   		return 'zsformulabar-center-cave';
   	},
	setFlexSize_: function(sz) {
		var size = this.$supers(zss.FormulabarCenterCave, 'setFlexSize_', arguments),
			ss = this.$n(),//to compitiable with ZK7
			editor = this.editor,
			btn = this.$n('expandbtn');
		editor.setWidth(jq.px(ss.clientWidth - btn.clientWidth));
		editor.setHeight(jq.px(ss.clientHeight - zk(editor.$n()).sumStyles('tb', jq.borders)));
   	}
});

zss.FormulabarCenter = zk.$extends(zul.layout.Center, {
	$o: zk.$void, //owner, fellows relationship no needed
   	$init: function (wgt) {
   		this.$supers(zss.FormulabarCenter, '$init', []);
   		this.setFlex(true);
   		this.setBorder(0);
   		
   		this.appendChild(this.cave = new zss.FormulabarCenterCave(wgt));
   	},
   	getEditor: function () {
   		return this.cave.editor;
   	},
   	getExpandFormulabarBtn: function () {
   		return this.cave.expandBtn;
   	},
   	redrawHTML_: function () {
   		return this.$supers(zss.FormulabarCenter, 'redrawHTML_', arguments);
   	}
});

zss.Formulabar = zk.$extends(zul.layout.North, {
	$o: zk.$void, //owner, fellows relationship no needed
    //default expand formulabar size
   	_prevExpandedSize: 47,
   	$init: function (wgt) {
   		this.$supers(zss.Formulabar, '$init', []);
   		this._wgt = wgt;
   		this.setFlex(true);
   		this.setBorder(0);
   		this.setSize('27px');
   		this.setMinsize(27);
   		this.setSplittable(true);
   		this.setCollapsible(false);
   	},
   	afterParentChanged_: function () { 
    	var wgt = this._wgt,
   			cave = new zul.layout.Borderlayout(),
   			west = new zss.FormulabarWest(wgt),
   			center = new zss.FormulabarCenter(wgt),
   			btn = this.expandFormulabarBtn = center.getExpandFormulabarBtn();
   		this.editor = center.getEditor();
   		cave.appendChild(west);
   		cave.appendChild(center);
   		this.appendChild(cave);
   		
   		btn.listen({'onClick': this.proxy(this._onClickExpandFormulabarBtn)});
   	},
   	bind_: function () {
   		this.$supers(zss.Formulabar, 'bind_', arguments);
   		this.listen({'onSize': this});
   	},
   	unbind_: function () {
   		this.unlisten({'onSize': this});
   		this.expandFormulabarBtn.listen({'onClick': this.proxy(this._onClickExpandFormulabarBtn)});
   		this.$supers(zss.Formulabar, 'unbind_', arguments);
   	},
   	setHeight: function (v) {
   		this.$supers(zss.Formulabar, 'setHeight', arguments);
   		this._prevExpandedSize = zk.parseInt(v);
   	},
   	onSize: function (evt) {
   		var d = evt.data,
   			h = zk.parseInt(d.height),
   			fixHgh = h,
   			editor = this.editor,
   			minSize = this.getMinsize(),
   			btn = this.expandFormulabarBtn;
   		
   		var lineHgh = zk.parseInt(jq(editor.getInputNode()).css('line-height')),
   			extra = editor.$n().clientHeight - minSize;
   		if (extra > 0) {
   			var rest = extra % lineHgh;
   			fixHgh = minSize + (rest > 0 ? extra + (lineHgh - rest) : extra);
   			this.setHeight(jq.px(fixHgh));
   			editor.setHeight(jq.px(fixHgh));
   			btn.setExpanded(fixHgh > minSize);
   		} else {
   			btn.setExpanded(false);
   		}
   	},
   	_onClickExpandFormulabarBtn: function (evt) {
   		var curSize = zk.parseInt(this.getSize()),
   			minSize = this.getMinsize(),
   			btn = this.expandFormulabarBtn,
			expanded = btn.isExpanded();
   		if (expanded) {
   			this.setSize(minSize + 'px'); //min height
   		} else {
   			this.setSize(this._prevExpandedSize + 'px'); //restroe last height
   		}
   		btn.setExpanded(!expanded);
   	},
   	redrawHTML_: function () {
   		return this.$supers(zss.Formulabar, 'redrawHTML_', arguments);
   	},
   	getSclass: function () {
   		return 'zsformulabar';
   	}
});
})();
/* HeadCtrl.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/


(function () {
	function _ignoresizing (dg, pt, evt) {
		var ctrl = dg.control;
		ctrl.draging = true;
		
		ctrl.sheet.dp.stopEditing("refocus");
		var pt0 = pt[0] - (dg._unhide && ctrl.type == zss.Header.HOR ? 6 : 0),
			pt1 = pt[1] - (dg._unhide && ctrl.type != zss.Header.HOR ? 6 : 0);
		
		dg.start = [pt0, pt1];
		return dg._fixstart = false;
	}
	
	function _startDrag (dg, evt) {
		dg.control.sheet.headerdrag = true;
	}

	function _endDrag (dg, evt) {
		var ctrl = dg.control,
			sheet = ctrl.sheet,
			cp = sheet.cp,
			rng = sheet.getLastSelection(),
			cousin = ctrl.cousin,
			idx = ctrl.index,
			type = sheet.selType;
		
		ctrl.draging = sheet.headerdrag = false;
		
		if (ctrl.type == zss.Header.HOR) {
			var offset = dg.last[0] - dg.start[0],
				fw = ctrl.orgsize + offset,
				left = rng.left,
				right = rng.right;
			if (fw < ctrl.minHWidth) fw = ctrl.minHWidth;
			if (type == zss.SEL.COL && left <= idx && idx <= right) {
				sheet._setColumnsWidth(left, right, fw, true, true, dg._unhide? false : undefined); //undefined means depends on fw
			} else
				sheet._setColumnWidth(idx, fw, true, true, dg._unhide? false : undefined); //undefined means depends on fw
		} else {
			var offset = dg.last[1] - dg.start[1],
				fh = ctrl.orgsize + offset,
				top = rng.top,
				bottom = rng.bottom;
			if (fh < ctrl.minVHeight) fh = ctrl.minVHeight;
			var CUSTOM = true; 
			if (type == zss.SEL.ROW && top <= idx && idx <= bottom) {
				sheet._setRowsHeight(top, bottom, fh, true, true, dg._unhide? false : undefined, null, CUSTOM); //undefined means depends on fh
			} else
				sheet._setRowHeight(idx, fh, true, true, dg._unhide? false : undefined, null, CUSTOM); //undefined means depends on fh
		}
		//clear header style
		ctrl.comp.removeAttribute('style');
		ctrl.icomp.removeAttribute('style');
		if (cousin) {
			cousin.comp.removeAttribute('style');
			cousin.icomp.removeAttribute('style');
		}
		cp.comp.removeAttribute('style');

		//gain focus and reallocate mark , then show it, 
		//don't move the focus because the cell maybe doens't exist in block anymore.		
		sheet.dp._gainFocus(true);
		
		var pos = sheet.getLastFocus(),
			ls = sheet.getLastSelection(); //must re-fetch again

		sheet.moveCellFocus(pos.row, pos.column);
		sheet.moveCellSelection(ls.left, ls.top, ls.right, ls.bottom);
		ctrl.orgsize = null;
	}

	
	function _snap (dg, pt) {
		var ctrl = dg.control,
			last = [pt[0], pt[1]],
			cmp = ctrl.comp,
			icmp = ctrl.icomp,
			sheet = ctrl.sheet,
			cp = sheet.cp,
			cousin = ctrl.cousin;
		if (!dg._fixstart) {
			dg.start[0] -= dg.offset[0];
			dg.start[1] -= dg.offset[1];
			dg._fixstart = true;

			//when column size is 0, the head will set to display none, so, we remove the style here
			//see also zkSSheetCtrl#setColumnWidth
			//var name = "#"+this.sheetid;
			//zcss.setRule(name+" div.zscw"+this.index,"display","",true,this.sheetid+"-sheet");
			ctrl._processDrag(false, dg._unhide);
		}

		if (ctrl.type == zss.Header.HOR) {
			if (ctrl.orgsize == null) 
				ctrl.orgsize = zk(cmp).offsetWidth();
			
			var off = dg.start[0] - pt[0],
				maxoff = ctrl.orgsize - ctrl.minHWidth;
			if (maxoff < 0) maxoff = 0;
			
			last = off >= maxoff ? [dg.start[0] - maxoff, 0] : [pt[0], 0];
			dg.last = [last[0], last[1]];
			if (zk.opera) {//In opera , i must add head position to get correct left position
				var bcmp = ctrl.bcomp;
				last[0] += (bcmp.offsetLeft+bcmp.offsetWidth);
			}
			
			//set size of column right now, but it will fail in opera
			if (!zk.opera) {
				var w, wi, ow,
					offset = last[0] - dg.start[0];
				ow = wi = w = ctrl.orgsize + offset;
				if(w < ctrl.minHWidth) w = ctrl.minHWidth;
				
				//for firefox -moz-box-size, offsetWidth is the width
				cmp.removeAttribute('style');
				if (ow < 5) {
					jq(cmp).css('padding', 0);
					if (ow <= 0)
						jq(cmp).css('border-right', 'none');
				}
				if (zk.gecko)
					wi = zk(cmp).revisedWidth(w); 
				else 
					w = wi = zk(cmp).revisedWidth(w);
				
				jq(cmp).css('width', jq.px0(w));
				jq(icmp).css('width', jq.px0(wi));
				if (cousin) {
					cousin.comp.removeAttribute('style');
					if (ow < 5) {
						jq(cousin.comp).css('padding', 0);
						if (ow <= 0)
							jq(cousin.comp).css('border-right', 'none');
					}
					jq(cousin.comp).css('width', jq.px0(w));
					jq(cousin.icomp).css('width', jq.px0(wi));
				}
				//update corner panel szie cause ugly display when freeze in both directly
				//jq(cp.comp).css('width', jq.px0(cp._cornerWidth() + w - ctrl.orgsize));
			}
		} else {
			if (ctrl.orgsize == null)
				ctrl.orgsize = zk(cmp).offsetHeight();

			var off = dg.start[1] - pt[1],
				maxoff = ctrl.orgsize - ctrl.minVHeight;

			if (maxoff < 0) maxoff =0;
			last = off >= maxoff ? [0, dg.start[1] - maxoff] : last = [0, pt[1]];

			dg.last = [last[0], last[1]];
			//set size of row right now, but it will fail in opera
			if (!zk.opera) {
				var h, oh,
					offset = last[1] - dg.start[1];
				oh = h = ctrl.orgsize + offset;
				if (h < ctrl.minVHeight) h= ctrl.minVHeight;

				cmp.removeAttribute('style');
				if (oh < 5) {
					jq(cmp).css('padding', 0);
					if (oh <= 0)
						jq(cmp).css('border-bottom', 'none');
				}
				jq(cmp).css({'height': jq.px0(h - 1), 'line-height': jq.px0(h - 1)});
				jq(icmp).css({'height': jq.px0(h - 1), 'line-height': jq.px0(h - 1)});
				if (cousin) {
					cousin.comp.removeAttribute('style');
					if (oh < 5) {
						jq(cousin.comp).css('padding', 0);
						if (oh <= 0)
							jq(cousin.comp).css('border-bottom', 'none');
					}
					jq(cousin.comp).css({'height': jq.px0(h - 1), 'line-height': jq.px0(h - 1)});
					jq(cousin.icomp).css({'height': jq.px0(h - 1), 'line-height': jq.px0(h - 1)});
				}
				//update corner panel szie cause ugly display when freeze in both directly
				//jq(cp.comp).css('height', jq.px0(cp._cornerHeight() + h - ctrl.orgsize));
			}
		}
		return last;
	}
	
	/**
	 * Create a dom element to be drag instead of drag the element itself
	 */
	function _ghosting (dg, ofs, evt) {
		var htmlborder,
			ctrl = dg.control,
			bcmp = ctrl.ibcomp,
			bcmpw = bcmp.offsetWidth,
			bcmph = bcmp.offsetHeight,
			height = (zk.ie && zk.ie < 11) ? 2 : 3,
			width = (zk.ie && zk.ie < 11) ? 2 : 3,
			top = ofs[1] + bcmph,
			left = ofs[0] + bcmpw,
			spcomp = ctrl.sheet.sp.comp;

		if (ctrl.type == zss.Header.HOR) {
			var w = zk(spcomp).offsetWidth(),
				barHeight = (spcomp.scrollWidth - w <= 0) ? 0 : zss.Spreadsheet.scrollWidth,
			height = zk(spcomp).offsetHeight() - barHeight - bcmph;
			htmlborder = 'border-right:thin dotted #000;';
		} else {
			var h = zk(spcomp).offsetHeight(),
				barWidth = (spcomp.scrollHeight - h <= 0) ? 0 : zss.Spreadsheet.scrollWidth;
			width = zk(spcomp).offsetWidth() - barWidth - bcmpw;
			htmlborder = 'border-bottom:thin dotted #000;';
		}
		
		if (jq('#zk_sghost')) //if exists, remove it first
			jq('#zk_sghost').remove();

		var html = ['<div id="zk_sghost" style="font-size:0;line-height:0px;', htmlborder, 'position:absolute;top:', top, 'px;left:',
	            left, 'px;width:', width, 'px;height:', height, 'px;z-index:20"></div>'].join('');
		jq(document.body).append(html);
		
		return ctrl.element = jq('#zk_sghost')[0];
	}

/**
 * Header represent row/column header of the spreadsheet.
 */
var TopHeader = "H";
zss.Header = zk.$extends(zk.Widget, {
	widgetName: 'Header',
	draging: false,
	minHWidth: 0,
	minVHeight: 0,
	$init: function (sheet, type, data, cousin) {
		this.$supers(zss.Header, '$init', []);
		this.sheet = sheet;
		this.index = data.i; //header index
		this._pId = data.p; //css position index
		this.title = data.t || ''; //header title
		this.type = type;
		if (cousin) {
			this.cousin = cousin;
			cousin.cousin = this;
		}
	},
	//super
	getZclass: function () {
		var id = this._pId;
		return this.type == TopHeader ? 
				'zstopcell' + (id ? ' zsw' + id : '') : 'zsleftcell zsrow' + (id ? ' zslh' + id : '');
	},
	_getInnerClass: function () {
		var id = this._pId;
		return this.type == TopHeader ? 
				'zstopcelltxt' + (id ? ' zsw' + id : '') : 'zsleftcelltxt' + (id ? ' zslh' + id : '');
	},
	redraw: function (out) {
		out.push(this.getHtml());
	},
	getHtml: function () {
		return this.getHtmlPrologHalf() + this.getHtmlEpilogHalf();
	},
	getHtmlPrologHalf: function () {
		var uid = this.uuid,
			isTop = this.type == TopHeader;
		return '<div id="' + uid + '" zs.t="' + (isTop ? "STheader" : "SLheader") + '" class="' + this.getZclass() + 
			'"><div class="' + this._getInnerClass() + '">' + this.title + '</div></div>';
	},
	getHtmlEpilogHalf: function () {
		var uid = this.uuid,
			isTop = this.type == TopHeader;
		return '<div id="' + uid + '-boun" class="' + (isTop ? 'zshboun' : 'zsvboun') + 
			'"><div zs.t="SBoun" class="' + (isTop ? 'zshbouni' : 'zsvbouni') + '"></div></div>';
	},
	bind_: function () {
		this.$supers(zss.Header, 'bind_', arguments);

		var header = this.$n(),
			boundary = this.$n("boun");
		
		this.comp = header;
		header.ctrl = this;
		
		this.bcomp = boundary;
		this.bcomp.ctrlref = this;
		
		this.ibcomp = boundary.firstChild;
		this.ibcomp2 = boundary.lastChild;
		if (this.ibcomp2 == this.ibcomp) 
			delete this.ibcomp2;
		
		this.icomp = header.firstChild;
	},
	unbind_: function () {		
		if (this.drag) {
			this.drag.destroy();
			this.drag = null;
		}
		
		this.comp = this.comp.ctrl = this.bcomp = this.bcomp.ctrlref = 
		this.ibcomp = this.ibcomp2 = this.icomp = this.sheet = this.cousin = null;
		this.$supers(zss.Header, 'unbind_', arguments);
	},
	detach: function () {
		var b = this.bcomp;
		if (b)
			b.parentNode.removeChild(b);
		this.$supers(zss.Header, 'detach', arguments);
	},
	doTooltipOver_: zk.$void,
	doTooltipOut_: zk.$void,
	doClick_: function (evt) {
		this.sheet._doMouseleftclick(evt);
	},
	doMouseDown_: function (evt) {
		this.sheet._doMousedown(evt);
	},
	doMouseUp_: function (evt) {
		this.sheet._doMouseup(evt);
	},
	doRightClick_: function (evt) {
		this.sheet._doMouserightclick(evt);
	},
	doDoubleClick_: function (evt) {
		this.sheet._doMousedblclick(evt);
	},
	/**
	 * Setup column header per the new width or whether unhide the column header
	 */
	setColumnHeader: function (hidden) {
		var sheet = this.sheet,
			cmp = this.comp,
			icmp = this.icomp;
		
		jq(cmp).css('width', '');
		jq(icmp).css('width', '');

		//hidden so need the extra boundary to "unhide" the column 
		if (hidden) {
			if (!this.ibcomp2) //insert the SBoun2
				this.ibcomp2 = jq(this.ibcomp).after('<div class="zshbounw" zs.t="SBoun2"></div>').next()[0];
			//hide the sizing boundary to avoid affect sizing bounary of left side header
			jq(this.ibcomp).css('visibility', 'hidden');
		} else if (this.ibcomp2) {//if not hidden, must remove extra "unhide" boudnary if exist
			jq(this.ibcomp2).remove();
			jq(this.ibcomp).css('visibility', '');
			delete this.ibcomp2;
		}
	},
	/**
	 * Setup row header per the new height or whether unhide the row header
	 */
	setRowHeader: function (hidden) {
		var sheet = this.sheet,
		cmp = this.comp,
		icmp = this.icomp;
		
		jq(cmp).css({'height': '', 'line-height': ''});
		jq(icmp).css({'height': '', 'line-height': ''});

		//hidden so need the extra boundary to "unhide" the row
		if (hidden) {
			if (!this.ibcomp2) //insert the SBoun2
				this.ibcomp2 = jq(this.ibcomp).after('<div class="zsvbounw" zs.t="SBoun2"></div>').next()[0];
			//hide the sizing boundary so will not disturb bottom headers
			jq(this.ibcomp).css('visibility', 'hidden');
		} else if (this.ibcomp2) {//if not hidden, must remove extra "unhide" boudnary if exist
			jq(this.ibcomp2).remove();
			jq(this.ibcomp).css('visibility', '');
			delete this.ibcomp2;
		}
	},
	
	/**
	 * Sets the width position index
	 * @param int the width position index
	 */
	appendZSW: function (zsw) {
		this._pId = zsw;
		jq(this.comp).addClass("zsw" + zsw);
		jq(this.icomp).addClass("zswi" + zsw);
	},
	/**
	 * Sets the height position index
	 * @param int the height position index
	 */
	appendZSH: function (zsh) {
		this._pId = zsh;
		jq(this.comp).addClass("zslh" + zsh);
		jq(this.icomp).addClass("zslh" + zsh);
	},
	/**
	 * Reset info
	 * @param int newindex new index
	 * @param string newnm title of the header
	 */
	resetInfo: function (newindex, newnm) {
		this.index = newindex;
		if (this.type == zss.Header.HOR) {
			this.c = newindex;
			jq(this.icomp).text(newnm);
		} else {
			this.r = newindex;
			jq(this.icomp).text(newnm);
		}
	},
	_processDrag: function (show, unhide) { //sizing column
		if (this.sheet.isDragging())
			return;//don't care if dragging
		
		if (show && this.drag && this.drag._unhide != unhide) {
			if (this.draging) { //drag direct from unhide thumb to size thumb, shall ignore such case 
				return;
			}
			delete this.drag;
		}
		
		//ZSS-407 Shouldn't allow to drag row/column size in protected sheet
		if(this.sheet._wgt.isProtect() &&
			!(this.type == zss.Header.HOR && this.sheet._wgt.allowFormatColumns) && 
			!(this.type == zss.Header.VER && this.sheet._wgt.allowFormatRows)) {
			return;//don't drag when protection
		}
		
		var ibcmp = unhide ? this.ibcomp2 : this.ibcomp,
			ibcmpcls = this.type == zss.Header.HOR ? 
				(unhide ? "zshbounw-over" : "zshbouni-over") : (unhide ? "zsvbounw-over" : "zsvbouni-over");
		jq(ibcmp)[show && !zss.Header.draging ? 'addClass' : 'removeClass'](ibcmpcls);
		 
		if (!this.drag) {
			var local = this;
			this.drag = new zk.Draggable(this, ibcmp, {
				//revert: true,
				constraint: (local.type == zss.Header.HOR) ? "horizontal" : "vertical",
				ghosting: _ghosting,
				snap: _snap,
				ignoredrag: _ignoresizing,
				starteffect: _startDrag,
				endeffect: _endDrag
			});
			this.drag._unhide = unhide; //indicate that this dragging is for unhide
		}
	}
}, {
	HOR: "H",
	VER: "V"
});
})();
/* Hightlight.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

(function () {

	this.animations = [];
	this.timeout = 600;
	this.disabled = false;
	this.running = false;
	this.animate = _animate;

	function _animate () {
		 if (this.disabled) return;
			
		 this.running = false;
			var animations = this.animations,
				size = animations.length;
			for (var i = 0; i < size; i++) {
				animations[i].animate();
			}
			if (size > 0) {
				this.running = true;
				setTimeout(_animate, 600);
			}
	}
	 
	function _addAnimate (ctrl) {
		var animations = this.animations,
			size = animations.length;
		for (var i = 0; i < size; i++) {
			if(animations[i] == ctrl) return;
		}
		animations.push(ctrl);
		if (!this.running) {
			this.running = true;
			setTimeout(_animate, 600);
		}
	}
	 
	function _removeAnimate (ctrl) {
		var animations = this.animations,
			size = animations.length;
		for (var i = 0; i < size; i++) {
			if (animations[i] == ctrl){
				var tail = animations.slice(i+1);
				animations.length = i;
				animations.push.apply(animations, tail);
			}
		}
	}
	 
	function _objAnimate (obj) {
		if(!obj.invalid && obj.animated){
			if (!obj.flash){
				jq(obj.comp).addClass("zshighlight2");
				obj.flash = true;
			} else {
				jq(obj.comp).removeClass("zshighlight2");
				obj.flash = false;
			}
		}
	}
	 
	 function _objDoAnimation (obj, start) {
		if (start && !obj.animated){
			_addAnimate(obj);
			obj.animated = true;
		} else if(!start && obj.animated) {
			jq(obj.comp).removeClass("zshighlight2");
			_removeAnimate(obj);
			obj.animated = false;
		}
	 }
/**
 *  Highlight animate highlight area
 */
zss.Highlight = zk.$extends(zss.AreaCtrl, {
	animate: function () {
		_objAnimate(this);
	},
	doAnimation : function (start){
		_objDoAnimation(this, start);
	}
});


/**
 *  HighlightTop animate highlight area at top panel
 */
zss.HighlightTop = zk.$extends(zss.AreaCtrlTop, {
	animate: function () {
		_objAnimate(this);
	},
	doAnimation : function (start) {
		_objDoAnimation(this, start);
	}
});

/**
 *  HighlightLeft animate highlight area at left panel
 */
zss.HighlightLeft = zk.$extends(zss.AreaCtrlLeft, {
	animate: function () {
		_objAnimate(this);
	},
	doAnimation: function (start) {
		_objDoAnimation(this, start);
	}
});

/**
 *  HighlightCorner animate highlight area at corner panel
 */
zss.HighlightCorner = zk.$extends(zss.AreaCtrlCorner, {
	animate: function () {
		_objAnimate(this);
	},
	doAnimation: function (start) {
		_objDoAnimation(this, start);
	}
});
})();
/* Id.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 *  Id
 */
zss.Id = zk.$extends(zk.Object, {
	last: 0,
	increase: 1,
	$init: function (init, increase) {
		this.$supers('$init', arguments);
		this.last = init;
		this.increase = increase;
	},
	next: function () {
		this.last += this.increase;
		return this.last;
	}
});
/* Info.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * Info is used for display current header index information
 */
zss.Info = zk.$extends(zk.Object, {
	$init: function (sheet, cmp) {
		this.$supers('$init', arguments);
		this.sheet = sheet;
		this.comp = cmp;
		this.txtcomp = jq(cmp).children("SPAN:first")[0];
		this.visible = false;
		this.displaytime = 2000;
		this.showcount = 0;
		this.enabled = true;
		cmp.ctrl = this;
		this.lastautohide;
	},
	cleanup: function () {
		this.invalid = true;
		this.visible = this.enabled = false;
		
		if(this.comp) this.comp.ctrl = null;
		this.sheet = this.comp = this.txtcmop = null;
	},
	/**
	 * Sets info
	 * @param boolean enabled
	 */
	setEnabled: function (enabled) {
		if(this.enabled == enabled) return;
		this.enabled = enabled;
		if(!enabled)
			this.hideInfo();
	},
	/**
	 * Display info
	 * @param boolean autohide
	 */
	showInfo: function (autohide) {
		if (!this.enabled) return ;
		this.lastautohide = autohide;
		this.visible = true;
		jq(this.comp).css('display', 'inline');
		
		if (autohide) {
			var local = this;
			this.showcount++;
			setTimeout(function () {
				local.showcount -- ;
				if (local.showcount <= 0) {
					setTimeout(function () {
						if (local.showcount > 0) return;
						if (!local.lastautohide) return;
						local.hideInfo();
					}, local.displaytime);	
				}
			},300);
		}
	},
	/**
	 * Sets info text
	 * @param string txt
	 */
	setInfoText: function (txt) {
		var txtcmp = this.txtcomp;
		txt = txt.trim();
		jq(txtcmp).text(txt);
	},
	/**
	 * Hides info
	 */
	hideInfo: function(){
		if (!this.visible) return;
		this.visible = false;
		jq(this.comp).css('display', 'none');
	}
});
/* Label.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Jan 12, 2012 7:07:27 PM , Created by sam
}}IS_NOTE

Copyright (C) 2012 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
}}IS_RIGHT
*/
(function () {
/*
	var US = {
		_sheet: 'Sheet',
		_addSheet: 'Add sheet',
		_deleteSheet: 'Delete',
		_renameSheet: 'Rename',
		_moveSheetLeft: 'Move left',
		_moveSheetRight: 'Move right',
		_homePanel: 'Home',
		_formulaPanel: 'Formula',
		_insertPanel: 'Insert',
		_newBook: 'New Book',
		_saveBook: 'Save Book',
		_closeBook: 'Close',
		_exportPDF: 'Export to PDF',
		_paste: 'Paste',
		_pasteFormula: 'Formulas',
		_pasteValue: 'Paste Values',
		_pasteAllExceptBorder: 'All Except Borders',
		_pasteTranspose: 'Transpose',
		_pasteSpecial: 'Paste Special',
		_cut: 'Cut',
		_copy: 'Copy',
		_fontFamily: 'Font',
		_fontSize: 'Font Size',
		_fontBold: 'Bold',
		_fontItalic: 'Italic',
		_fontUnderline: 'Underline',
		_fontStrike: 'Strikeout',
		_borderColor: 'Border Color',
		_border: 'Border',
		_borderBottom: 'Bottom Border',
		_borderTop: 'Top Border',
		_borderLeft: 'Left Border',
		_borderRight: 'Right Border',
		_borderNo: 'No Borders',
		_borderAll: 'All Borders',
		_borderOutside: 'Outside Borders',
		_borderInside: 'Inside Borders',
		_borderInsideHorizontal: 'Inside Horizontal Borders',
		_borderInsideVertical: 'Inside Vertical Borders',
		_backColor: 'Background Color',
		_fontColor: 'Font Color',
		_verticalAlign: 'Vertical Align',
		_verticalAlignTop: 'Top Align',
		_verticalAlignMiddle: 'Middle Align',
		_verticalAlignBottom: 'Bottom Align',
		_horizontalAlign: 'Horizontal Align',
		_horizontalAlignLeft: 'Align Text Left',
		_horizontalAlignCenter: 'Center Text',
		_horizontalAlignRight: 'Align Text Right',
		_textIndentIncrease: 'Increase Indent',
		_textIndentDecrease: 'Decrease Indent',
		_wrapText: 'Wrap Text',
		_mergeAndCenter: 'Merge & Center',
		_mergeAcross: 'Merge Across',
		_mergeCell: 'Merge Cells',
		_unmergeCell: 'Unmerge Cells',
		_insert: 'Insert',
		_insertCell: 'Insert Cells...',
		_shiftCellRight: 'Shift Cells Right',
		_shiftCellDown: 'Shift Cells Down',
		_insertSheetRow: 'Insert Rows',
		_insertSheetColumn: 'Insert Columns',
		_format: 'Format',
		_rowHeight: 'Row Height',
		_columnWidth: 'Column Width',
		_hideRow: 'Hide Row',
		_unhideRow: 'Unhide Row',
		_hideColumn: 'Hide Column',
		_unhideColumn: 'Unhide Column',
		_formatCell: 'Format Cell',
		_lockCell: 'Lock Cell',
		_del: 'Delete',
		_deleteCell: 'Delete Cells...',
		_shiftCellLeft: 'Shift cells left',
		_shiftCellUp: 'Shift cells up',
		_deleteSheetRow: 'Delete Rows',
		_deleteSheetColumn: 'Delete Columns',
		_clear: 'Clear',
		_clearContent: 'Clear Content',
		_clearStyle: 'Clear Style',
		_clearAll: 'Clear All',
		_autoSum: 'AutoSum',
		_average: 'Average',
		_countNumber: 'Count Numbers',
		_max: 'Max',
		_min: 'Min',
		_moreFunction: 'More Functions...',
		_sort: 'Sort',
		_sortAndFilter: 'Sort & Filter',
		_sortAscending: 'Ascending',
		_sortDescending: 'Descending',
		_customSort: 'Custom Sort',
		_filter: 'Filter',
		_clearFilter: 'Clear',
		_reapplyFilter: 'Reapply',
		_insertPicture: 'Insert Picture',
		_columnChart: 'Column Chart',
		_columnChart3D: 'Column Chart 3D',
		_lineChart: 'Line Chart',
		_lineChart3D: 'Line Chart 3D',
		_pieChart: 'Pie Chart',
		_pieChart3D: 'Pie Chart 3D',
		_barChart: 'Bar Chart',
		_barChart3D: 'Bar Chart 3D',
		_areaChart: 'Area Chart',
		_scatterChart: 'Scatter Chart',
		_otherChart: 'Other Charts',
		_doughnutChart: 'Doughnut Chart',
		_hyperlink: 'Hyperlink',
		_insertFunction: "Insert Function",
		_financial: 'Financial',
		_logical: 'Logical',
		_text: 'Text',
		_dateAndTime: 'Date & Time',
		_lookupAndReference: 'Lookup & Reference',
		_mathAndTrig: 'Math & Trig',
		_moreFunction: 'More Functions',
		_protectSheet: 'Protect Sheet',
		_gridlines: 'Gridlines',
		_dataValidation: 'Data Validation'
	};
	
zss.Labels = zk.$extends(zk.Object, {
	//TODO: Locale-dependent label
	$init: function (locale) {
		zk.copy(this, US);
	},
	$define: {
		sheet: null,
		addSheet: null,
		deleteSheet: null,
		renameSheet: null,
		moveSheetLeft: null,
		moveSheetRight: null,
		homePanel: null,
		formulaPanel: null,
		insertPanel: null,
		newBook: null,
		saveBook: null,
		closeBook: null,
		exportPDF: null,
		paste: null,
		pasteFormula: null,
		pasteValue: null,
		pasteAllExceptBorder: null,
		pasteTranspose: null,
		pasteSpecial: null,
		cut: null,
		copy: null,
		fontFamily: null,
		fontSize: null,
		fontBold: null,
		fontItalic: null,
		fontUnderline: null,
		fontStrike: null,
		borderColor: null,
		border: null,
		borderBottom: null,
		borderTop: null,
		borderLeft: null,
		borderRight: null,
		borderNo: null,
		borderAll: null,
		borderOutside: null,
		borderInside: null,
		borderInsideHorizontal: null,
		borderInsideVertical: null,
		backColor: null,
		fontColor: null,
		verticalAlign: null,
		verticalAlignTop: null,
		verticalAlignMiddle: null,
		verticalAlignBottom: null,
		horizontalAlign: null,
		horizontalAlignLeft: null,
		horizontalAlignCenter: null,
		horizontalAlignRight: null,
		textIndentIncrease: null,
		textIndentDecrease: null,
		wrapText: null,
		mergeAndCenter: null,
		mergeAcross: null,
		mergeCell: null,
		unmergeCell: null,
		insert: null,
		insertCell: null,
		shiftCellRight: null,
		shiftCellDown: null,
		insertSheetRow: null,
		insertSheetColumn: null,
		format: null,
		rowHeight: null,
		columnWidth: null,
		hideRow: null,
		unhideRow: null,
		hideColumn: null,
		unhideColumn: null,
		formatCell: null,
		lockCell: null,
		del: null,
		deleteCell: null,
		shiftCellLeft: null,
		shiftCellUp: null,
		deleteSheetRow: null,
		deleteSheetColumn: null,
		clear: null,
		clearContent: null,
		clearStyle: null,
		clearAll: null,
		autoSum: null,
		average: null,
		countNumber: null,
		max: null,
		min: null,
		moreFunction: null,
		sort: null,
		sortAndFilter: null,
		sortAscending: null,
		sortDescending: null,
		customSort: null,
		filter: null,
		clearFilter: null,
		reapplyFilter: null,
		insertPicture: null,
		columnChart: null,
		columnChart3D: null,
		lineChart: null,
		lineChart3D: null,
		pieChart: null,
		pieChart3D: null,
		barChart: null,
		barChart3D: null,
		areaChart: null,
		scatterChart: null,
		otherChart: null,
		doughnutChart: null,
		hyperlink: null,
		insertFunction: null,
		financial: null,
		logical: null,
		text: null,
		dateAndTime: null,
		lookupAndReference: null,
		mathAndTrig: null,
		moreFunction: null,
		protectSheet: null,
		gridlines: null,
		dataValidation: null
	}
});
*/
})();
/* MainBlockCtrl.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

(function () {
	var IDLE = 0,
		LOADING = 1;

/**
 * MainBlockCtrl handle scroll event and load spreadsheet content
 */
zss.MainBlockCtrl = zk.$extends(zss.CellBlockCtrl, {
	loadstate: IDLE,
	_loadVisibleOnResponse: false,
	replaceWidget: function (newwgt) {
		this.$supers(zss.MainBlockCtrl, 'replaceWidget', [newwgt]); //create cells
		
		var r = newwgt.range;
		newwgt.create_('jump', r.top, r.left, r.bottom, r.right, true);//wgt init won't create frozen area
	},
	/**
	 * Create cells, frozen cells and associated headers
	 */
	create_: function (dir, tRow, lCol, bRow, rCol, createFrozenOnly) {
		var sht = this.sheet;
		switch (dir) {
		case 'east':
		case 'west':
			sht.tp.create_(dir, lCol, rCol, 0, sht._wgt.getRowFreeze());
			break;
		case 'north':
		case 'south':
			sht.lp.create_(dir, tRow, bRow, 0, sht._wgt.getColumnFreeze());
			break;
		case 'jump':
			sht.tp.create_(dir, lCol, rCol, 0, sht._wgt.getRowFreeze());
			sht.lp.create_(dir, tRow, bRow, 0, sht._wgt.getColumnFreeze());
			break;
		}
		if (!createFrozenOnly)
			this.$supers(zss.MainBlockCtrl, 'create_', [dir, tRow, lCol, bRow, rCol]); //create cells;
		sht.dp._fixSize(this);
	},
	_recheckVisible: function () {
		var self = this,
			sheet = this.sheet;
		clearTimeout(self._timeoutId);
		self._timeoutId = setTimeout(function () {
			self.loadForVisible();
		}, 50);
	},
	/**
	 * Create cells from cache
	 * 
	 * @param string dir direction
	 * @param int prune reserve when prune, -1 means don't prune, 0 means don't reserve 
	 */
	_createCellsIfCached: function (dir, size, jump, vr0) {
		var sheet = this.sheet,
			wgt = sheet._wgt,
			cr = this.range,
			maxCellSize = wgt.getMaxRenderedCellSize(),
			ar = wgt._cacheCtrl.getSelectedSheet(),
			vr = vr0 || zss.SSheetCtrl._getVisibleRange(sheet); //ZSS-1181
		switch (dir) {
		case 'south':
			var tRow = cr.bottom + 1,
				lCol = cr.left,
				rCol = cr.right,
				bRow = tRow + size - 1,
				cache = false;
			bRow = Math.min(bRow, sheet.maxRows - 1);
			if (ar.containsRange(tRow, lCol, bRow, rCol)) {
				this.create_(dir, tRow, lCol, bRow, rCol);
				var size = this.range.size(),
					prune = size > maxCellSize;
				//TODO: minimize prune size
				if (prune && cr.top + vr.height < vr.top) {
					this.pruneCell('north', vr, jump ? null : vr.top - (cr.top + vr.height));
				}
				cache = true;
			}
			break;
		case 'north':
			var bRow = cr.top - 1,
				lCol = cr.left,
				rCol = cr.right,
				tRow = bRow - size + 1,
				cache = false;
			bRow = bRow >= 0 ? bRow : 0;
			tRow = tRow >= 0 ? tRow : 0;
			if (ar.containsRange(tRow, lCol, bRow, rCol)) {
				this.create_(dir, tRow, lCol, bRow, rCol);
				var size = this.range.size(),
					prune = size > maxCellSize;
				//TODO: minimize prune size
				if (prune && (cr.bottom - vr.height > vr.bottom)) {
					this.pruneCell('south', vr, jump ? null : cr.bottom - vr.height - vr.bottom);
				}
				cache = true;
			}
			break;
		case 'west':
			var tRow = cr.top,
				bRow = cr.bottom,
				rCol = cr.left - 1,
				lCol = rCol - size + 1,
				cache = false;
			rCol = rCol >= 0 ? rCol : 0;
			lCol = lCol >= 0 ? lCol : 0;
			if (ar.containsRange(tRow, lCol, bRow, rCol)) {
				this.create_(dir, tRow, lCol, bRow, rCol);
				var size = this.range.size(),
					prune = size > maxCellSize;
				//TODO: "cr.right - vr.width > vr.right"
				if (prune && (cr.right - vr.width > vr.right)) {
					this.pruneCell('east', vr, jump ? null : cr.right - vr.width - vr.right);
				}
				cache = true;
			}
			break;
		case 'east':
			var tRow = cr.top,
				bRow = cr.bottom,
				lCol = cr.right + 1,
				rCol = lCol + size - 1,
				cache = false;
			rCol = Math.min(rCol, sheet.maxCols - 1);
			if (ar.containsRange(tRow, lCol, bRow, rCol)) {
				this.create_(dir, tRow, lCol, bRow, rCol);
				var size = this.range.size(),
					prune = size > maxCellSize;
				//TODO: minimize prune size
				if (prune && (cr.left + vr.width < vr.left)) {
					this.pruneCell('west', vr, jump ? null : (vr.left - (cr.left + vr.width)));
				}
				cache = true;
			}
			break;
		}
		if (cache) {
			this.sheet.dp._fixSize(this);
			this._recheckVisible(); //will sendSyncblock 
			return true; //use cache
		}
		return false;
	},
	/**
	 * Handle scroll on spreadsheet.
	 */
	doScroll: function (vertical) {
		var sheet = this.sheet,
			range = zss.SSheetCtrl._getVisibleRange(sheet),
			alwaysjump = false,
			scrolling = true; //ZSS-1267
		/*if(!sheet.snapedBlock && sheet.snapedBlock!=sheet.activeBlock){
			sheet._snapActiveBlock();
			alwaysjump = true; 
		}*/
		sheet._wgt._sheetScrolled = true;
		if (vertical) {
			var ctop = this.range.top,
				cbottom = this.range.bottom;
			if (range.top >= ctop && range.top <= cbottom) {
				if(range.bottom < cbottom) {
					//ZSS-1267
					var wasRendering = sheet.renderingWin;
					sheet.startRenderingMessage();
					if (!wasRendering) {
						sheet.closeRenderingMessage();
					}
					return; //the visible is be contained.
				}
				var hgh = range.bottom - cbottom + 1;
				//neighbor south
				if (hgh > 0 && !this._createCellsIfCached('south', hgh)) {
					sheet.activeBlock.loadCell(range.bottom, range.left, (alwaysjump ? -1 : 20), null, alwaysjump, scrolling);//ZSS-1267
				}
			} else if(ctop >= range.top && ctop <= range.bottom) {
				var hgh = ctop - range.top + 1;
				//neighbor north;
				if (!this._createCellsIfCached('north', hgh)) {
					sheet.activeBlock.loadCell(range.top,range.left, (alwaysjump ? -1 : 20), null, alwaysjump, scrolling); //ZSS-1267
				}
			} else if(range.top > cbottom) {
				//jump south
				if (!this._createCellsIfCached('south', range.height, true)) {
					sheet.activeBlock.loadCell(range.bottom, range.left,-1, null, alwaysjump, scrolling); //ZSS-1267
				}
			} else if(ctop > range.bottom) {
				//jump north;
				if (!this._createCellsIfCached('north', range.height, true)) {
					sheet.activeBlock.loadCell(range.top, range.left, -1, null, alwaysjump, scrolling); //ZSS-1267
				}
			} else{
				return;
			}
		} else {
			var cleft = this.range.left,
				cright = this.range.right;
			if (range.left >= cleft && range.left <= cright) {
				if (range.bottom < cbottom)
					return; //the visible is be contained.
				var width = range.right - cright + 1;
				//neighbor east
				if (width > 0 && !this._createCellsIfCached('east', width)) {
					sheet.activeBlock.loadCell(range.top, range.right, (alwaysjump ? -1 : 5), null, alwaysjump, scrolling); //ZSS-1267
				}
			} else if (cleft >= range.left && cleft <= range.right) {
				var width = cleft - range.left + 1;
				//neighbor west;
				if (!this._createCellsIfCached('west', width)) {
					sheet.activeBlock.loadCell(range.top, range.left, (alwaysjump ? -1 : 5), null, alwaysjump, scrolling); //ZSS-1267
				}
			} else if (range.left>cright) {
				//jump east
				if (!this._createCellsIfCached('east', range.width, true)) {
					sheet.activeBlock.loadCell(range.top, range.right, -1, null, alwaysjump, scrolling); //ZSS-1267
				}
			} else if (cleft > range.right) {
				//jump west;
				if (!this._createCellsIfCached('west', range.width, true)) {
					sheet.activeBlock.loadCell(range.top, range.left, -1, null, alwaysjump, scrolling); //ZSS-1267
				}
			} else {
				return;
			}
		}
	},
	_sendOnCellFetch: function(token, type, direction, fetchLeft, fetchTop, fetchWidth, fetchHeight, vrange) {
		var sheet = this.sheet;
		this.loadstate = zss.MainBlockCtrl.LOADING;
		if (!vrange)
			vrange = zss.SSheetCtrl._getVisibleRange(sheet);

		var wgt = sheet._wgt,
			range = this.range,
			spcmp = this.sheet.sp.comp,
			dp = this.sheet.dp,
			arRect = wgt._cacheCtrl.getSelectedSheet().rect,
			arTopHgh = -1,
			arBtmHgh = -1
			arLeftWidth = -1,
			arRightWidth = -1;

		if ('east' == direction || 'west' == direction) {
			var	topHgh = range.top - arRect.top + 1,
				btmHgh = arRect.bottom - range.bottom + 1;
			if (topHgh > 1)
				arTopHgh = topHgh;
			if (btmHgh > 1)
				arBtmHgh = btmHgh;
		} else if ('north' == direction || 'south' == direction) {
			//TODO: if the amount of cell to load is small, shall load extra cells, not prune cached cells.
			var	ar = sheet._wgt._cacheCtrl.getSelectedSheet(),
				leftWidth = range.left - arRect.left,
				rightWidth = arRect.right - range.right;
			
			if (leftWidth > 0) {
				ar.pruneLeft(leftWidth);
			}
			if (rightWidth > 0) {
				ar.pruneRight(rightWidth);
			}
		}
		//ZSS-1267: start rendering message
		this.sheet.startRenderingMessage();

		wgt.fire('onZSSCellFetch', 
		 {token: token, sheetId: sheet.serverSheetId, type: type, direction: direction,
		 dpWidth: dp.width, dpHeight: dp.height, viewWidth: spcmp.clientWidth, viewHeight: spcmp.clientHeight,
		 blockLeft: range.left, blockTop: range.top, blockRight: range.right, blockBottom: range.bottom,
		 fetchLeft: fetchLeft, fetchTop: fetchTop, fetchWidth: fetchWidth, fetchHeight: fetchHeight,
		 rangeLeft: vrange.left, rangeTop: vrange.top, rangeRight: vrange.right, rangeBottom: vrange.bottom,
		 arLeft: arRect.left, arTop: arRect.top, arRight: arRect.right, arBottom: arRect.bottom,
		 arFetchTopHeight: arTopHgh, arFetchBtmHeight: arBtmHgh}, {toServer: true}, 25);
	},
	/**
	 * Returns Load Cell Direction
	 * @return string last direction (H: horizon; V: vertical; or null)
	 */
	_getLastDirection: function () {
		return this.sheet.activeBlock._lastDir;
	},
	/**
	 * load cell , if cell of row/col not exist, then load the cell into this block
	 * @param {Object} row row of a cell
	 * @param {Object} col col of a cell
	 * @param {Object} pruneres reserve when prune, -1 means don't prune, 0 means don't reserve 
	 * @param {Object} callbackfn callback function after cell be loaded
	 * @param {Object} alwaysjump always jump to this cell, this means skip this block, use a new bolck instead.
	 * @param {Object} scrolling called from doScroll()
	 * @return true if already loaded, false if need to asynchronize loading.
	 */
	loadCell: function (row, col, pruneres, callbackfn, alwaysjump, scrolling) {
		//ZSS-1267
		if (scrolling) {
			this.sheet.startRenderingMessage();
		}
		var cleft = this.range.left,
			ctop = this.range.top,
			cw = this.range.width,
			ch = this.range.height,
			cright = this.range.right,//cleft + cw - 1;
			cbottom = this.range.bottom;//ctop + ch - 1;
		
		//ZSS-1174: same focus and return
		var sheet = this.sheet,
			lastFocus = sheet.getLastFocus();
		if (lastFocus.row == row && lastFocus.column == col) {
			return true;
		}

		if (row >= ctop && row <= cbottom && col >= cleft && col <= cright)
			return true;
		if (this.loadstate != zss.MainBlockCtrl.IDLE)//still waiting previous loading.
			return false;
		var token = "",
			range = zss.SSheetCtrl._getVisibleRange(sheet),
			local = this,
			fetchw = range.width, //size of cell of width to fetch back
			fetchh = range.height, //size of cell of height to fetch back
			//ZSS-1174			
			rect = sheet._wgt._cacheCtrl.getSelectedSheet().rect;
		if ((row >= ctop && row <= cbottom)) {//horizontal shift, east or west
			if (col < cleft) {//minus, west
				var y = ctop,
					h = ch,
					x = rect.left - 1, //cleft - 1, //ZSS-1174
					w = x - col + 1;
				if (alwaysjump || (w > 0 && w > fetchw)) { //ZSS-1174
					//jump;
					token = zkS.addCallback(function () {
						if (sheet.invalid) return;
						
						var block = sheet.activeBlock ;//get current activeBlock again.
						block._lastDir = null;
						block.loadstate = zss.MainBlockCtrl.IDLE;
						if (callbackfn) callbackfn();
						block.loadForVisible();
					});
					this._sendOnCellFetch(token, "jump", "west", col, row, -1, -1, range);
				} else {
					//neighbor
					if (x - w < 0)
						w = x + 1;
					//ZSS-1174
					var fn = function () {
						if (sheet.invalid) return;
						var block = sheet.activeBlock,//get current activeBlock again.
							lastDir = block._lastDir,
							wgt = sheet._wgt,
							maxCellSize = wgt.getMaxRenderedCellSize(),
							size = block.range.size(),
							prune = size > maxCellSize;
						block._lastDir = "H";
						if (prune) {
							if (lastDir && lastDir == "V"){
								block.pruneCell("south", range, 1);
								block.pruneCell("north", range, 1);
							} else if(pruneres >= 0) {
								block.pruneCell("east", range, pruneres);
							}	
						}
						block.loadstate = zss.MainBlockCtrl.IDLE;
						if(callbackfn) callbackfn();
						block.loadForVisible();
					};
					//ZSS-1174
					if (w > 0) {
						token = zkS.addCallback(fn);
						this._sendOnCellFetch(token, "neighbor", "west", x, y, w, h, range);
					} else {
						fn();
					}
				}

			} else {//positive, east
				var y = ctop,
					x = rect.right + 1, //cleft + cw, //ZSS-1174
					w = col-x + 1;
				if (alwaysjump || (w > 0 && w > fetchw)) { //ZSS-1174
					//jump;
					token = zkS.addCallback(function () {
						if (sheet.invalid) return;
						var block = sheet.activeBlock ;//get current activeBlock again.
						block._lastDir = null;
						block.loadstate = zss.MainBlockCtrl.IDLE;
						if (callbackfn) callbackfn();
						block.loadForVisible();
					});
					this._sendOnCellFetch(token, "jump", "east", col, row, -1, -1, range);
				} else {
					//neighbor
					var h = ch;
					if (x + w > this.sheet.maxCols)
						w = this.sheet.maxCols - x;
					//ZSS-1174
					var fn = function () {
						if (sheet.invalid) return;
						var block = sheet.activeBlock,//get current activeBlock again.
							lastDir = block._lastDir,
							wgt = sheet._wgt,
							maxCellSize = wgt.getMaxRenderedCellSize(),
							size = block.range.size(),
							prune = size > maxCellSize;
						block._lastDir = "H";
						if (prune) {
							if (lastDir && lastDir == "V") {
								block.pruneCell("south", range, 1);
								block.pruneCell("north", range, 1);
							} else if (pruneres >= 0){
								block.pruneCell("west", range, pruneres);
							}	
						}
						block.loadstate = zss.MainBlockCtrl.IDLE;
						if (callbackfn) callbackfn();
						block.loadForVisible();
					};
					//ZSS-1174
					if (w > 0) {
						token = zkS.addCallback(fn);
						this._sendOnCellFetch(token, "neighbor", "east", x, y, w, h, range);
					} else {
						fn();
					}
				}
			}
		} else if ((col >= cleft && col <=cright)) {//vertical shift, shouth or north
			if (row < ctop) {//minus, north
				var x = cleft,
					w = cw,
					y = rect.top - 1, //ctop - 1, //ZSS-1174
					h = y - row + 1;
				if (alwaysjump || (h > 0 && h > fetchh)) { //ZSS-1174
					token = zkS.addCallback(function () {
						if (sheet.invalid) return;
						var block = sheet.activeBlock ;//get current activeBlock again.
						block._lastDir = null;
						block.loadstate = zss.MainBlockCtrl.IDLE;
						if (callbackfn) callbackfn();
						block.loadForVisible();
					});
					this._sendOnCellFetch(token, "jump", "north", col, row, -1, -1, range);
				} else {
					if (y - h < 0)
						h = y + 1;
					//ZSS-1174
					var fn = function () {
						if (sheet.invalid) return;
						var block = sheet.activeBlock,//get current activeBlock again.
							lastDir = block._lastDir,
							wgt = sheet._wgt,
							maxCellSize = wgt.getMaxRenderedCellSize(),
							size = block.range.size(),
							prune = size > maxCellSize;
						local._lastDir = "V";
						if (prune) {
							if (lastDir && lastDir == "H") {
								block.pruneCell("east", range, 1);
								block.pruneCell("west", range, 1);
							} else if (pruneres >= 0) {
								block.pruneCell("south", range, pruneres);
							}	
						}
						sheet.activeBlock.loadstate = zss.MainBlockCtrl.IDLE;
						if (callbackfn) callbackfn();

						sheet.activeBlock.loadForVisible();
					};
					//ZSS-1174
					if (h > 0) {
						token = zkS.addCallback(fn);
						this._sendOnCellFetch(token, "neighbor", "north", x, y, w, h, range);
					} else {
						fn();
					}
				}
			} else {//positive, south
				var y = rect.bottom + 1,//ctop + ch, // ZSS-1174
					x = cleft,
					w = cw,
					h = row-y +1;
				if (alwaysjump || (h > 0 && h > fetchh)) { //ZSS-1174
					//jump
					token = zkS.addCallback(function () {
						if (sheet.invalid) return;
						var block = sheet.activeBlock ;//get current activeBlock again.
						block._lastDir = null;
						block.loadstate = zss.MainBlockCtrl.IDLE;
						if (callbackfn) callbackfn();
						block.loadForVisible();
					});
					this._sendOnCellFetch(token, "jump", "south", col, row, -1, -1, range);
				} else {
					if (y + h > this.sheet.maxRows)
						h = this.sheet.maxRows - y;
					//ZSS-1174
					var fn = function () {
						if (sheet.invalid) return;
						//get current activeBlock again.
						var block = sheet.activeBlock,
							lastDir = block._lastDir,
							wgt = sheet._wgt,
							maxCellSize = wgt.getMaxRenderedCellSize(),
							size = block.range.size(),
							prune = size > maxCellSize;
						block._lastDir = "V";
						if (prune) {
							if (lastDir && lastDir == "H") {
								block.pruneCell("east", range, 1);
								block.pruneCell("west", range, 1);
							} else if(pruneres >= 0) {
								block.pruneCell("north", range, pruneres);
							}	
						}
						block.loadstate = zss.MainBlockCtrl.IDLE;
						if (callbackfn) callbackfn();
						block.loadForVisible();
					};
					//ZSS-1174
					if (h > 0) {
						token = zkS.addCallback(fn);
						this._sendOnCellFetch(token, "neighbor", "south", x, y, w, h, range);
					} else {
						fn();
					}
				}
			}
		} else {
			token = zkS.addCallback(function () {
				if(sheet.invalid) return;
				var block = sheet.activeBlock ;//get current activeBlock again.
				block.loadstate = zss.MainBlockCtrl.IDLE;
				if(callbackfn) callbackfn();
				//local variable will be destoryed, don't use local.loadForVisible
				block.loadForVisible();
			});

			var direction = "";
			if (row < ctop && col < cleft) {
				//west-north
				direction = "westnorth";
			} else if(row < ctop && col > cright) {
				//east-north
				direction = "eastnorth";
			} else if(row > cbottom && col < cleft) {
				//west-south
				direction = "westsouth";
			} else if(row > cbottom && col > cright) {
				//east-shouth
				direction = "eastsouth";
			} else{
				direction = "eastnorth";
			}
			this._sendOnCellFetch(token, "jump", direction, col, row, -1, -1, range);
		}
		return false;
		
	},
	/**
	 * Prune cell
	 * @param string type the direction to prune
	 * @param zss.Range range the range to prune
	 * @param int reserve
	 */
	pruneCell: function (type , range, reserve) {
		var sheet = this.sheet;
		if (!sheet.config.prune) return;
		
		if (!range)
			range = zss.SSheetCtrl._getVisibleRange(sheet);
		if (!reserve || reserve < 0)
			reserve = 0;
		
		var sync = false,
			wgt = sheet._wgt,
			pruneCache = wgt.isClientCacheDisabled(),
			ar = wgt._cacheCtrl.getSelectedSheet(),
			rect = ar.rect;
		if (type == "west") {
			var l = range.left - reserve;
			l = sheet.mergeMatrix.getLeftConnectedColumn(l, this.range.top, this.range.bottom);

			if (l <= 0 || l < this.range.left) return;
			var size = l - this.range.left;
			if (size > 0) {
				if (size > this.range.width) {
					size = this.range.width;
				}
				this.removeColumnsFromStart_(size);
				sheet.tp.removeChildFromStart_(size);
				if (pruneCache) {
					var colSize = wgt.getPreloadColumnSize();
					if (colSize <= 0)
						ar.pruneLeft(size);
					else {
						var pruneSize = (l - ar.rect.left + 1) - colSize;
						if (pruneSize > 0)
							ar.pruneLeft(pruneSize);
					}
					sync = true;
				}
			}
		} else if (type == "east") {
			var r = range.right + reserve;
			r = sheet.mergeMatrix.getRightConnectedColumn(r,this.range.top,this.range.bottom);
			
			if(r > this.range.right) return;
			var size = this.range.right - r;
			if (size > 0) {
				if (size > this.range.width) {
					size = this.range.width;
				}
				this.removeColumnsFromEnd_(size);
				sheet.tp.removeChildFromEnd_(size);
				if (pruneCache) {
					var colSize = wgt.getPreloadColumnSize();
					if (colSize <= 0) {
						ar.pruneRight(size);
					} else {
						var pruneSize = (ar.rect.right - r + 1) - colSize;
						if (pruneSize > 0)
							ar.pruneRight(pruneSize);
					}
					sync = true;
				}
			}
		} else if (type == "north") {
			var t = range.top - reserve;
			t = sheet.mergeMatrix.getTopConnectedRow(t, this.range.left, this.range.right);
			
			if(t <= 0 || t < this.range.top) return;
			var size = t - this.range.top;
			if (size > 0) {
				if (size > this.range.height) {
					size = this.range.height;
				}
				this.removeRowsFromStart_(size);
				sheet.lp.removeChildFromStart_(size);
				if (pruneCache) {
					var rowSize = wgt._preloadRowSize;
					if (rowSize <= 0) {
						ar.pruneTop(size);
					} else {
						var pruneSize = (t - ar.rect.top + 1) - rowSize;
						if (pruneSize > 0) {
							ar.pruneTop(pruneSize);
						}
					}
					sync = true;
				}
			}
		} else if (type == "south") {
			var b = range.bottom + reserve;
			b = sheet.mergeMatrix.getBottomConnectedRow(b,this.range.left,this.range.right);
			
			if (b > this.range.bottom) return;
			var size = this.range.bottom - b;
			if (size > 0) {
				if (size > this.range.height) {
					size = this.range.height;
				}
				this.removeRowsFromEnd_(size);
				sheet.lp.removeChildFromEnd_(size);
				if (pruneCache) {
					var rowSize = wgt._preloadRowSize;
					if (rowSize <= 0) {
						ar.pruneBottom(size);
					} else {
						var pruneSize = (ar.rect.bottom - b + 1) - rowSize;
						if (pruneSize > 0) {
							ar.pruneBottom(pruneSize);
						}
					}
					sync = true;
				}
			}
			
		}
		if (sync) {
			//bug 1951423 IE : row is broken when scroll down
			//i must use timeout to delay processing
			setTimeout(function () {
				sheet.sendSyncblock();
			}, 0);	
		}
		sheet.dp._fixSize(this);
	},
	//ZSS-1174: Returns the number of columns to preload into client cache
	_getEastFetchWidth: function (rCol, arRight) {
		var sheet = this.sheet;
		return Math.min(sheet._wgt.getMaxColumns(), rCol + sheet._wgt.getPreloadColumnSize()) - arRight;
	},
	//ZSS-1174: Returns the number of rows to preload into client cache
	_getSouthFetchHeight: function (bRow, arBtm) {
		var sheet = this.sheet;
		return Math.min(sheet._wgt.getMaxRows(), bRow + sheet._wgt.getPreloadRowSize()) - arBtm;
	},
	//ZSS-1174: Returns the number of columns to preload into client cache
	_getWestFetchWidth: function (lCol, arLeft) {
		var sheet = this.sheet;
		return arLeft - Math.max(0, lCol - sheet._wgt.getPreloadColumnSize());
	},
	//ZSS-1174: Returns the number of rows to preload into client cache
	_getNorthFetchHeight: function (tRow, arTop) {
		var sheet = this.sheet;
		return arTop - Math.max(0, tRow - sheet._wgt.getPreloadRowSize());
	},
	//ZSS-1174: Returns the most south row to create cells
	_getSouthRow: function (bRow) {
		var sheet = this.sheet;
		return Math.min(sheet._wgt.getMaxRows(), bRow + Math.round(sheet._wgt.getPreloadRowSize()/2));
	},
	//ZSS-1174: Returns the most east column to create cells
	_getEastCol: function (rCol) {
		var sheet = this.sheet;
		return Math.min(sheet._wgt.getMaxColumns(), rCol + Math.round(sheet._wgt.getPreloadColumnSize()/2));
	},
	//ZSS-1174: Returns the most north row to create cells
	_getNorthRow: function (tRow) {
		var sheet = this.sheet;
		return Math.max(0, tRow - Math.round(sheet._wgt.getPreloadRowSize()/2));
	},
	//ZSS-1174: Returns the most west column to create cells
	_getWestCol: function (lCol) {
		var sheet = this.sheet;
		return Math.max(0, lCol - Math.round(sheet._wgt.getPreloadColumnSize()/2));
	},
	/**
	 * Load content and set the range to visible 
	 * @param zss.Range 
	 */
	loadForVisible: function (vrange) {
		//ZSS-556: prepare filter button after loadForVisible
		if (!this._loadForVisible(vrange)) {
			var sheet = this.sheet;
			if (sheet) {
				var wgt = sheet._wgt,
					af = wgt._autoFilter;
				if (af != null && wgt.setAutoFilter) {
					var rng = af.range,
						l = rng.left,
						t = rng.top,
						r = rng.right;
					if (!vrange) vrange = zss.SSheetCtrl._getVisibleRange(sheet);
					//ZSS-954: In frozen panel, one dimension change still need to setAutoFilter
					if ((t <= vrange.bottom && t >= vrange.top) || (l <= vrange.right && r >= vrange.left)) { //overlap
						wgt.setAutoFilter(af);
					}
				}
				//ZSS-988: has to prepare Table's filter button after loadForVisible
				var tbafs = wgt._tableFilters;
				if (tbafs && wgt.setTableFilters) {
					for (var tbname in tbafs) {
						//ZSS-1186
						if (!tbafs.hasOwnProperty(tbname)) 
							continue;
						
						var af = tbafs[tbname];
						if (af) { //ZSS-1186
							var rng = af.range,
								l = rng.left,
								t = rng.top,
								r = rng.right;
							if (!vrange) vrange = zss.SSheetCtrl._getVisibleRange(sheet);
							//ZSS-954: In frozen panel, one dimension change still need to prepare the Table filter
							if ((t <= vrange.bottom && t >= vrange.top) || (l <= vrange.right && r >= vrange.left)) { //overlap
								wgt._prepareAutoFilter(sheet, wgt._tableFilters ? wgt._tableFilters[tbname] : null, af);
							}
						}
					}
				}
			}
		}
	},
	_loadForVisible: function (vrange0) {
		var local = this,
			sheet = this.sheet;
		if (!sheet) {
			// the sheet may be null when switching spreadsheet demo
			return false;
		}
		if (this.loadstate != zss.MainBlockCtrl.IDLE) { //waiting previous loading.
			if (!this._loadVisibleOnResponse) {
				this._loadVisibleOnResponse = true;
				sheet._wgt._onResponseCallback.push(function () {
					local.loadForVisible.apply(local);
					local._loadVisibleOnResponse = false;
				});
			}
			return true;
		}
		var vrange = vrange0 || zss.SSheetCtrl._getVisibleRange(sheet);
		
		//Two phases
		//1. create cells from cache if possible
		//2. fetch data from server
		
		var tRow = vrange.top,
			lCol = vrange.left,
			rCol = vrange.right,
			bRow = vrange.bottom,
			range = this.range,
			top = range.top,
			left = range.left,
			right = range.right,
			bottom = range.bottom,
			ar = sheet._wgt._cacheCtrl.getSelectedSheet();
		
		//create east from cache
		if (right + 1 <= rCol) {
			var createFromCache = false,
				fRow = sheet._wgt.getRowFreeze(),
				rCol0 = this._getEastCol(rCol);  //ZSS-1174: precreate client side cells
			if (ar.containsRange(top, right + 1, bottom, rCol0)) {
//				this.create_('east', top, right + 1, bottom, rCol0);
				this._createCellsIfCached("east", rCol0 - right, null, vrange); //ZSS-1181
				createFromCache = true;
			} else if (ar.rect.right >= right + 1 && ar.rect.right < rCol0 && ar.containsRange(top, right + 1, bottom, ar.rect.right)) {
				//create partial east from cache
//				this.create_('east', top, right + 1, bottom, ar.rect.right);
				this._createCellsIfCached("east", ar.rect.right - right, null, vrange); //ZSS-1181
				createFromCache = true;
			}
			if (createFromCache) { //after create cell from cache, range's value may changed
				range = this.range;
				top = range.top;
				left = range.left;
				right = range.right;
				bottom = range.bottom;
			}
		}
		
		//create west from cache
		if (left - 1 >= lCol) {
			var createFromCache = false,
				fRow = sheet._wgt.getRowFreeze(),
				lCol0 = this._getWestCol(lCol);  //ZSS-1174: precreate client side cells
			if (ar.containsRange(top, lCol0, bottom, left - 1)) {
//  			this.create_('west', top, lCol0, bottom, left - 1);
				this._createCellsIfCached("west", left - lCol0, null, vrange); //ZSS-1181
				createFromCache = true;
			} else if (ar.rect.left > lCol0 && ar.rect.left <= left - 1 && ar.containsRange(top, ar.rect.left, bottom, left - 1)) {
				//create partial west from cache
//				this.create_('west', top, ar.rect.left, bottom, left - 1);
				this._createCellsIfCached("west", left - ar.rect.left, null, vrange); //ZSS-1181
				createFromCache = true;
			}
			if (createFromCache) { //after create cell from cache, range's value may changed
				range = this.range;
				top = range.top;
				left = range.left;
				right = range.right;
				bottom = range.bottom;
			}
		}

		//create south from cache
		if (bottom + 1 <= bRow) {
			var createFromCache = false,
				fCol = sheet._wgt.getColumnFreeze(),
				bRow0 = this._getSouthRow(bRow); //ZSS-1174: precreate client side cells
			if (ar.containsRange(bottom + 1, left, bRow0, right)) {
//				this.create_('south', bottom + 1, left, bRow0, right);
				this._createCellsIfCached("south", bRow0 - bottom, null, vrange); //ZSS-1181
				createFromCache = true;
			} else if (ar.rect.bottom >= bottom + 1 && ar.rect.bottom < bRow0 && ar.containsRange(bottom + 1, left, ar.rect.bottom, right)) {
				//create partial south from cache
//				this.create_('south', bottom + 1, left, ar.rect.bottom, right);
				this._createCellsIfCached("south", ar.rect.bottom - bottom, null, vrange); //ZSS-1181
				createFromCache = true;
			}
			if (createFromCache) {
				range = this.range;
				top = range.top;
				left = range.left;
				right = range.right;
				bottom = range.bottom;
			}
		}
		
		//create north from cache
		if (tRow < top) {
			var createFromCache = false,
				fCol = sheet._wgt.getColumnFreeze(),
				tRow0 = this._getNorthRow(tRow); //ZSS-1174: precreate client side cells
			if (ar.containsRange(tRow0, left, top - 1, right)) {
//				this.create_('north', tRow0, left, top - 1, right);
				this._createCellsIfCached("north", top - tRow0, null, vrange); //ZSS-1181
				createFromCache = true;
			} else if (ar.rect.top > tRow0 && ar.rect.top <= top - 1 && ar.containsRange(ar.rect.top, left, top - 1, right)) {
				//create partial north from cache
//				this.create_('north', ar.rect.top, left, top - 1, right);
				this._createCellsIfCached("north", top - ar.rect.top, null, vrange); //ZSS-1181
				createFromCache = true;
			}
			if (createFromCache) {
				range = this.range;
				top = range.top;
				left = range.left;
				right = range.right;
				bottom = range.bottom;
			}
		}
		
		if (tRow > bottom || bRow < top || lCol > right || rCol < left) {
			
			//visible range not cross this block,  this should invoke a jump 
			//invoke a jump to top,left of visual range.
			var alwaysjump = true,
				scrolling = true;
			this.loadCell(vrange.top, vrange.left, 0, null, alwaysjump, scrolling);
			return true;
		} else if (!(tRow >= top && lCol >= left && bRow <= bottom && rCol <= right)) {

			//ZSS-1174
			var southFetchHeight = -1,
				eastFetchWidth = -1,
				northFetchHeight = -1,
				westFetchWidth = -1,
				arRight = ar.rect.right,
				arBtm = ar.rect.bottom,
				arLeft = ar.rect.left,
				arTop = ar.rect.top;

			if (arRight < rCol) {
				eastFetchWidth = this._getEastFetchWidth(rCol, arRight);
			} else if (arLeft > lCol) {
				westFetchWidth = this._getWestFetchWidth(lCol, arLeft);
			}
			if (arBtm < bRow) {
				southFetchHeight = this._getSouthFetchHeight(bRow, arBtm);
			} else if (arTop > tRow) {
				northFetchHeight = this._getNorthFetchHeight(tRow, arTop);
			}

			var token = zkS.addCallback(function () {
				//when inital , there is a loadForVisible, 
				//in this monent, use might click to invalidate this spreadhsheet
				//if click first, and then call loadForVisible.(those 2 event will send in one au_
				//then this call bak will throw exception because this block is invalidate.
				//TODO : so, in any call, i should check is it valid or not. 
				if (local.invalid || !local.range) return; //ZSS-1101: when change sheet, local.range could be undefined
				var b = sheet.activeBlock;
				b.loadstate = zss.MainBlockCtrl.IDLE;
				b.loadForVisible();
				sheet.dp._fixSize(local);
			});
			
			//ZSS-1174
			var fetchWidth = eastFetchWidth > 0 ? eastFetchWidth : westFetchWidth,
				fetchHeight = southFetchHeight > 0  ? southFetchHeight : northFetchHeight;
				
//			if (fetchWidth < 0)
//				fetchWidth = 0;
//			if (fetchHeight < 0)
//				fetchHeight = 0;
			if (fetchHeight > 0 || fetchWidth > 0) {
				this.loadstate = zss.MainBlockCtrl.LOADING;
				this._sendOnCellFetch(token, "visible", "", -1, -1, fetchWidth, fetchHeight, vrange);
			}
			return true;
		}
		sheet.dp._fixSize(this);

		var deferLoader = sheet.deferLoader;
		if (!deferLoader) {
			deferLoader = sheet.deferLoader = new zss.DeferLoader(sheet);
		}
		deferLoader.asyncRun(); //check if need to load data later
		
		sheet.sendSyncblock(true);
		return false;
	},
	/**
	 * Reload block area content 
	 * @param string dir: "east", "west", "south", "north" or null
	 */
	reloadBlock: function (dir) {
		var local = this,
			sheet = this.sheet,
		//TODO should i control this??
		//local.loadstate!=zkSMainBlockCtrl.IDLE
			vrange = zss.SSheetCtrl._getVisibleRange(sheet),
			top = this.range.top,
			left = this.range.left,
			right = this.range.right,
			bottom = this.range.bottom; 
		var token = zkS.addCallback(function () {
			if (sheet.invald) return; 
			var block = sheet.activeBlock,
				range = block.range;
			block.loadstate = zss.MainBlockCtrl.IDLE;
			if (dir == "east" || dir == "west") {
				sheet.sp.scrollToVisible(null, dir == "east" ? range.right : range.left);
			} else if (dir == "south" || dir == "north") {
				sheet.sp.scrollToVisible(dir == "south" ? range.bottom: range.top ? range.right: range.left, null);
			}
			block.loadForVisible();
		});
		var col = dir=="east" ? right : left,
			row = dir=="south" ? bottom : top;
		this._sendOnCellFetch(token, "jump", (dir ? dir: "west"), col, row, -1, -1, vrange);
	}
}, {
	IDLE: 0,
	LOADING: 1
});
})();
/* MergeMatrix.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/


/**
 * MergeMatrix handle merge on cells
 */
zss.MergeMatrix =  zk.$extends(zk.Object, {
	mergeMatrix: [],
	$init: function (matrix, sheet) {
		this.$supers('$init', arguments);
		this.mergeMatrix = matrix;
		this.sheet = sheet;
	},
	/**
	 * Returns row's merge range
	 * @return array result
	 */
	getRangesByRow: function (row) {
		var size = this.mergeMatrix.length,
			result = [],
			range;
		for (var i = 0; i < size; i++) {
			range = this.mergeMatrix[i];
			if (range.top <= row && range.bottom >= row)
				result.push(range);
		}
		return result;
	},
	/**
	 * Returns the top connected row
	 * @param int row row index
	 * @param int left column start index
	 * @param int right column end index
	 * @return int row
	 */
	getTopConnectedRow: function (row, left, right) {
		var size = this.mergeMatrix.length,
			result = [],
			range,
			fzc = this.sheet.frozenCol;
		for (var i = 0; i < size; i++) {
			range = this.mergeMatrix[i];
			if (range.left > fzc && (range.left < left || range.right > right))
				continue;
			result.push(range);
		}
		
		var conti = true;
		while (conti) {
			conti = false;
			size = result.length;
			for(var i = 0; i < size; i++) {
				range = result[i];
				if (range.top < row && range.bottom >= row) {
					row = range.top;
					conti = true;
					//TODO a fast way to remove range form result array
					break;
				}
			}
		}
		return row;
	},
	/**
	 * Returns the bottom connected row
	 * @param int row row index
	 * @param int left column start index
	 * @param int right column end index
	 * @return int row 
	 */
	getBottomConnectedRow: function (row, left, right) {
		var size = this.mergeMatrix.length,
			result = [],
			range,
			fzc = this.sheet.frozenCol;
		for (var i = 0; i < size; i++) {
			range = this.mergeMatrix[i];
			if (range.left > fzc && (range.left < left || range.right > right))
				continue;
			result.push(range);
		}
		
		var conti = true;
		while (conti) {
			conti = false;
			size = result.length;
			for (var i = 0; i < size; i++) {
				range = result[i];
				if (range.bottom > row && range.top <= row) {
					row = range.bottom;
					conti = true;
					//TODO a fast way to remove range from result array
					break;
				}
			}
		}
		return row;
	},
	/**
	 * Returns column's merge range
	 * @return array result
	 */
	getRangesByColumn: function (col) {
		var size = this.mergeMatrix.length,
			result = [],
			range;
		for (var i = 0; i < size; i++) {
			range = this.mergeMatrix[i];
			if (range.left <= col && range.right >= col)
				result.push(range);
		}
		return result;
	},
	/**
	 * Returns the left connected column
	 * @param int col column index
	 * @param int top row start index
	 * @param int bottom row end index
	 * @return int col
	 */
	getLeftConnectedColumn: function (col, top, bottom) {
		var size = this.mergeMatrix.length,
			result = [],
			range,
			fzr = this.sheet.frozenRow;
		for (var i = 0; i < size; i++) {
			range = this.mergeMatrix[i];
			if (range.top > fzr && (range.top < top || range.bottom > bottom))
				continue;
			result.push(range);
		}
		
		var conti = true;
		while (conti) {
			conti = false;
			size = result.length;
			for(var i = 0; i < size; i++) {
				range = result[i];
				if (range.left < col && range.right >= col) {
					col = range.left;
					conti = true;
					//TODO a fast way to remove range form result array
					break;
				}
			}
		}
		return col;
	},
	/**
	 * Returns the right connected column
	 * @param int col column index
	 * @param int top row start index
	 * @param int bottom row end index
	 * @return int col 
	 */
	getRightConnectedColumn: function (col, top, bottom) {
		var size = this.mergeMatrix.length,
			result = [],
			range,
			fzr = this.sheet.frozenRow;
		for (var i = 0; i < size; i++) {
			range = this.mergeMatrix[i];
			if (range.top > fzr && (range.top < top || range.bottom > bottom))
				continue;
			result.push(range);
		}
		
		var conti = true;
		while (conti) {
			conti = false;
			size = result.length;
			for (var i = 0; i < size; i++) {
				range = result[i];
				if (range.right > col && range.left <= col) {
					col = range.right;
					conti = true;
					//TODO a fast way to remove range form result array
					break;
				}
			}
		}
		return col;
	},
	/**
	 * Sets the merge range
	 * @param string id
	 * @param int left column start index
	 * @param int top row start index
	 * @param int right column end index
	 * @param int bottom row end index
	 */
	addMergeRange: function(id, left, top, right, bottom) {
		var range = new zss.Range(left, top, right, bottom);
		range.id = id;
		this.mergeMatrix.push(range);
	},
	/**
	 * Remove merge range
	 * @param string id
	 */
	removeMergeRange: function (id) {
		var mm = this.mergeMatrix,
			size = mm.length;
		for (var i = 0; i < size; i++) {
			range = mm[i];
			if (range.id == id) {
				var tail = mm.slice(i + 1, size);
				mm.length = i;
				mm.push.apply(mm,tail);
				break;
			}
		}
	},
	//ZSS-927
	/**
	 * Returns the merged top row which overlaps the specified row. 
	 */
	getTopRow: function (row) {
		var size = this.mergeMatrix.length,
			top = row,
			range;
		for (var i = 0; i < size; i++) {
			range = this.mergeMatrix[i];
			if (range.top <= row && range.bottom >= row && range.top < top)
				top = range.top;
		}
		return top;
	},
	//ZSS-927
	/**
	 * Returns the merged left row which overlaps the specified column.
	 */
	getLeftCol: function (col) {
		var size = this.mergeMatrix.length,
			left = col,
			range;
		for (var i = 0; i < size; i++) {
			range = this.mergeMatrix[i];
			if (range.left <= col && range.right >= col && range.left < left)
				left = range.left;
		}
		return left;
	}
	,
	//ZSS-1168
	/**
	 * Remove All merge range and execute fn per merge range
	 */
	removeAllMergeRange: function (owner, fn) {
		if (fn) {
			var mm = this.mergeMatrix,
				size = mm.length;
			for (var i = 0; i < size; i++) {
				var range = mm[i];
				fn.call(owner, range);
			}
		}
		this.mergeMatrix = [];
	}
});
/* CornerPanel.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * CornerPanel is used for represent the frozen area
 * 
 * Frozen area contains
 * 1. Top panel if has frozen column
 * 2. Left panel if has frozen row
 */
zss.CornerPanel = zk.$extends(zk.Widget, {
	widgetName: 'CornerPanel',
	$o: zk.$void, //owner, fellows relationship no needed
	$init: function (sheet, rowHeadHidden, columnHeadHidden, lCol, tRow, rCol, bRow, data) {
		this.$supers(zss.CornerPanel, '$init', []);
		
		this.sheet = sheet;
		var wgt = sheet._wgt;
		var r = wgt.getRowFreeze();
		var c = wgt.getColumnFreeze();

		if (c > -1 && r > -1) {
			// ZSS-423: get data from cornerFrozen
			if (data.cornerFrozen) {
				data = data.cornerFrozen; 
			}
			// ZSS-423: get header data from corner frozen
			this.appendChild(tp = this.tp = new zss.TopPanel(sheet, columnHeadHidden, 0, c, data, true), true);
			this.appendChild(lp = this.lp = new zss.LeftPanel(sheet, rowHeadHidden, 0, r, data, true), true);
			rCol = c;
			bRow = r;
			this.appendChild(this.block = new zss.CellBlockCtrl(sheet, 0, 0, bRow, rCol, data, 'corner'), true);
		} else if (c > -1) {
			// ZSS-423: get header data from left frozen (for left frozen's column header)
			this.appendChild(tp = this.tp = new zss.TopPanel(sheet, columnHeadHidden, 0, c, (data.leftFrozen ? data.leftFrozen : data), true), true);
		} else if (r > -1) {
			// ZSS-423: get header data from top frozen (for top frozen's row header)
			this.appendChild(lp = this.lp = new zss.LeftPanel(sheet, rowHeadHidden, 0, r, (data.topFrozen ? data.topFrozen : data), true), true);
		}
	},
	redraw: function (out) {
		var uid = this.uuid,
			sheet = this.sheet,
			fRow = sheet.frozenRow,
			fCol = sheet.frozenCol;
		out.push('<div id="' + uid + '" class="zscorner zsfzcorner" zs.t="SCorner">');
		if (this.tp) {
			this.tp.redraw(out);
		}
		if (this.lp) {
			this.lp.redraw(out);
		}
		if (this.block) {
			this.block.redraw(out);
			out.push('<div id="', uid, '-select" class="zsselect" zs.t="SSelect">',
					'<div class="zsselecti" zs.t="SSelInner"></div><div class="zsseldot" zs.t="SSelDot"></div></div>',
					'<div id="', uid, '-selchg" class="zsselchg" zs.t="SSelChg"><div class="zsselchgi"></div></div>',
					'<div id="', uid, '-focmark" class="zsfocmark" zs.t="SFocus"><div class="zsfocmarki"></div></div>',
					'<div id="', uid, '-highlight" class="zshighlight" zs.t="SHighlight"><div class="zshighlighti"></div></div>',
					'<div id="', uid, '-cornerwp" class="zswidgetpanel" zs.t="SWidgetpanel"></div>');
		}
		out.push('<div class="zscorneri" ></div></div>');
	},
	bind_: function () {
		this.$supers(zss.CornerPanel, 'bind_', arguments);
		
		this.comp = this.$n();
		if (this.block) {
			var sheet = this.sheet,
				selareacmp = this.$n('select'),
				selchgcmp = selareacmp.nextSibling,
				focuscmp = selchgcmp.nextSibling,
				hlcmp = focuscmp.nextSibling;

			this.selArea = new zss.SelAreaCtrlCorner(sheet, selareacmp, sheet.initparm.selrange.clone());
			this.selChgArea = new zss.SelChgCtrlCorner(sheet, selchgcmp);
			this.focusMark = new zss.FocusMarkCtrlCorner(sheet, focuscmp, sheet.initparm.focus.clone());
			this.hlArea = new zss.HighlightCorner(sheet, hlcmp, sheet.initparm.hlrange.clone(), "inner");

			//ZSS-1043
			var sheet = this.sheet;
			if(sheet.editorFocusMark) {
				var dummy = "";
				for (var id in sheet.editorFocusMark) {
					var focusMark = sheet.editorFocusMark[id];
					this.addEditorFocus(id, dummy);
				}
			}
		}
	},
	unbind_: function () {
		//ZSS-1043
		if (this.editorFocusMark) {
			for (var id in this.editorFocusMark) {
				var focusMark = this.editorFocusMark[id];
				this._removeEditorFocusMark(focusMark);
			}
			this.editorFocusMark = null;
		}
		
		if (this.selArea) {
			this.selArea.cleanup();
			this.selArea = null;
		}
		if (this.selChgArea) {
			this.selChgArea.cleanup();
			this.selChgArea = null;
		}
		if (this.focusMark) {
			this.focusMark.cleanup();
			this.focusMark = null;
		}
		if (this.hlArea) {
			this.hlArea.cleanup();
			this.hlArea = null;
		}
		this.sheet = this.tp = this.lp = this.block = this.comp = null;
		this.$supers(zss.CornerPanel, 'unbind_', arguments);
	},
	_cornerHeight: function () {
		var sheet = this.sheet,
			th = sheet.topHeight,
			fzr = sheet.frozenRow;
		return (fzr > -1) ?
			(th + sheet.custRowHeight.getStartPixel(fzr + 1)) :	th + 1;
	},
	_cornerWidth: function () {
		var sheet = this.sheet,
			lw = sheet.leftWidth,
			fzc = sheet.frozenCol;
		return (fzc > -1) ?
			(lw - 1 + sheet.custColWidth.getStartPixel(fzc + 1)) : lw;
	},
	_fixSize: function () {
		var wgt = this.sheet._wgt;
		zcss.setRule(wgt.getSelectorPrefix() + " .zscorner", ["width", "height"],
			[this._cornerWidth() + "px", this._cornerHeight() + "px"], true, wgt.getSheetCSSId());
	},
	/**
	 * Sets the column's width position index
	 * @param int col the column
	 * @param int zsw the width position index
	 */
	appendZSW: function (col, zsw) {
		if (this.block) this.block.appendZSW(col, zsw);
		if (this.tp) this.tp.appendZSW(col, zsw);
		if (this.lp) this.lp.appendZSW(col, zsw);
	},
	/**
	 * Sets the row's height position index
	 * @param int row the row
	 * @param int the height position index
	 */
	appendZSH: function (row, zsh) {
		if (this.block) this.block.appendZSH(row, zsh);
		if (this.tp) this.tp.appendZSH(row, zsh);
		if (this.lp) this.lp.appendZSH(row, zsh);
	},
	/**
	 * Insert new column
	 * @param int col the column
	 * @param size the size of the column
	 * @param extnm
	 */
	insertNewColumn: function (col, size, extnm) {
		if (this.block) this.block.insertNewColumn(col, size);
		if (this.tp) this.tp.insertNewColumn(col, size, extnm);
		if (this.lp) this.lp.insertNewColumn(col, size);
	},
	/**
	 * Insert new row
	 * @param int row the row
	 * @param int size the size of the row
	 * @param extnm 
	 */
	insertNewRow: function(row, size, extnm) {
		if (this.block) this.block.insertNewRow(row, size);
		if (this.tp) this.tp.insertNewRow(row, size);
		if (this.lp) this.lp.insertNewRow(row, size, extnm);
	},
	/**
	 * Remove column
	 * @param int col the column
	 * @param int size the size the of the column
	 * @param extnm
	 */
	removeColumn: function (col, size, extnm) {
		if (this.block) this.block.removeColumn(col, size);
		if (this.tp) this.tp.removeColumn(col, size, extnm);
		if (this.lp) this.lp.removeColumn(col, size);
	},
	/**
	 * Remove row
	 * @param int row the row
	 * @param int size the size if the row
	 * @param extnm
	 */
	removeRow: function (row, size, extnm) {
		if (this.block) this.block.removeRow(row, size);
		if (this.tp) this.tp.removeRow(row, size);
		if (this.lp) this.lp.removeRow(row, size, extnm);
	},
	//ZSS-1043
	addEditorFocus : function(id, name){
		if (this.editorFocusMark && this.editorFocusMark[id])
			return;
		if (this.block) {
			var sheet = this.sheet,
				focusmarkcmp = this.$n('focmark'), 
				x = focusmarkcmp,
				div = x.cloneNode(true);
			
			div.id = div.id + '_' + id;
			div.style.borderWidth = "3px";
			x.parentNode.appendChild(div);
			this.addEditorFocus_(id, name, div);
		}
	},
	//ZSS-1043
	addEditorFocus_ : function(id, name, div) {
		if(!this.editorFocusMark)
			this.editorFocusMark = new Object();
		this.editorFocusMark[id] = new zss.FocusMarkCtrlCorner(this.sheet, div, new zss.Pos(0, 0));
	},
	//ZSS-1043
	removeEditorFocus : function(id){
		if (this.block) {
			if (!this.editorFocusMark)
				return;
			var ctrl = this.editorFocusMark[id];
			this._removeEditorFocusMark(ctrl);
			this.editorFocusMark[id] = null;
		}
	},
	//ZSS-1043
	_removeEditorFocusMark : function(ctrl) {
		if (ctrl) {
			ctrl.comp.parentNode.removeChild(ctrl.comp);
			ctrl.cleanup();
		}
	},
	//ZSS-1043
	moveEditorFocus : function(id, name, color, row, col){
		if (this.block) {
			if(!this.editorFocusMark || !this.editorFocusMark[id]){
				this.addEditorFocus(id, name);
			}
			this.editorFocusMark[id].relocate(row, col);
			this.editorFocusMark[id].showMark(color, name); //new color/oldcolor with label
		}
	}
});
/* LeftPanel.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/
(function () {

zss.Panel = zk.$extends(zk.Widget, {
	widgetName: 'Panel',
	$o: zk.$void, //owner, fellows relationship no needed
	$init: function (sheet, hide, start, end, data, isCorner) {
		this.$supers(zss.Panel, '$init', []);
		
		this.sheet = sheet;
		this.hidehead = hide;
		this.isCorner = isCorner;
		
		this.headers = this.initHeaders_(sheet, start, end, data, isCorner);
		this.block = this.initFrozenBlock_(sheet, start, end, data);
	},
	/**
	 * Returns {@link Header}
	 */
	getHeader: function (index) {
		var headers = this.headers;
		for(var j = 0, len = headers.length; j < len; ++j)
			if (headers[j].index == index)
				return headers[j];
		return null;
	},
	/**
	 * Create zss.Header child widgets, invoke on Panel widget initialization
	 */
	initHeaders_: function (sheet, start, end, data, isCorner) {
		//to be overridden
		return null;//return header widget array
	},
	isEmptyHeader: function() {
		return !(this.headers && this.headers.length > 0);
	},
	/**
	 * Create frozen block, invoke on Panel widget initialization 
	 */
	initFrozenBlock_: function (sheet, start, end, data) {
		//to be overridden
		return null;//return zss.CellBlockCtrl if there's frozen area
	},
	createHeaders_: function (dir, start, end) {
		var sheet = this.sheet,
			headers = this.getHeaderData_(),
			isInsert = this.isInsert_(dir),
			type = this.getHeaderType_(),
			html = '',
			hs = [];
		if ('jump' == dir)
			this._clearAllHeader();
		
		for (var i = start, j = 0; i <= end; i++) {
			var h = new zss.Header(sheet, type, headers[i]);
			isInsert ? this.insertHeader_(j++, h) : this.appendHeader_(h);
		}
		this.updateSelectionCSS_();
	},
	updateSelectionCSS_: function () {
		//to be overridden
	},
	_clearAllHeader: function () {
		var hs = this.headers,
			size = hs ? hs.length : 0;
		this.removeChildFromStart_(size);
	},
	/**
	 * Returns the cached active range data source
	 */
	getHeaderData_: function () {
		//to be overridden
	},
	/**
	 * Returns frozen data
	 */
	getFrozenData_: function () {
		//to be overridden
	},
	/**
	 * Returns frozen header data
	 */
	getFrozenHeaderData_: function () {
		//to be overridden
	},
	getHeaderType_: function () {
		//to be overridden
	},
	isInsert_: function (dir) {
		//to be overridden
	},
	/**
	 * Append zss.Header widget
	 * 
	 * @param zss.Header header
	 * @param string html
	 */
	appendHeader_: function (header) {
		this.appendChild(header, true);
		jq(this.hcomp).append(header.getHtml());
		header.bind_();
		this.headers.push(header);
	},
	/**
	 * Insert zss.Header widget
	 * 
	 * @param int index
	 * @param zss.Header 
	 * @param boolean ignoreDom
	 */
	insertHeader_: function (index, header) {
		var headers = this.headers,
			sibling = headers[index];
		if (!sibling) {
			this.appendHeader_(header);
		} else {
			this.insertBefore(header, sibling, true);
			headers.splice(index, 0, header);
			var $anchor = jq(header.getHtmlEpilogHalf());
			$anchor.insertBefore(sibling.$n());
			jq(header.getHtmlPrologHalf()).insertBefore($anchor);
			header.bind_();	
		}
	},
	/**
	 * Create cells and associated headers
	 */
	create_: function (dir, headerStart, headerEnd, frozenStart, frozenEnd, createFrozenOnly) {
		//to be overridden
	},
	/**
	 * Remove child from start
	 * 
	 * @param int size 
	 */
	removeChildFromStart_: function (size) {
		if (this.hidehead)
			return;
		var headers = this.headers;
		while (size--) {
			if (!headers.length)
				return;
			headers.shift().detach();
		}
	},
	/**
	 * Remove headers from end
	 * 
	 * @param int size 
	 */
	removeChildFromEnd_: function (size) {
		if (this.hidehead) return;
		
		var headers = this.headers;
		while (size--) {
			if (!headers.length)
				return;
			headers.pop().detach();
		}
	},
	removeHeader_: function (index, size) {
		var ctrl,
			headers = this.headers;
		
		if (index > headers.length) return;

		// ZSS-488: these code can cover every situation, we don't need to consider "first index" situation separately
		var rem = headers.slice(index, index + size);
		var tail = headers.slice(index + size, headers.length);
		headers.length = index;
		headers.push.apply(headers, tail);
		
		var header = rem.pop();
		for (; header; header = rem.pop()) {
			header.detach();
		}
	},
	bind_: function () {
		this.$supers(zss.Panel, 'bind_', arguments);
		
		var n = this.comp = this.$n();
		n.ctrl = this;
		zk(n).disableSelection();//disable selectable

		this.padcomp = this.$n('pad'),
		this.icomp = this.$n('real'),
		this.hcomp = this.icomp.firstChild,
		this.wpcomp = this.$n(this.type+'wp');
		
		if (this.block) {
			this.bindFrozenCtrl_();
			
			//ZSS-1043
			var sheet = this.sheet;
			if(sheet.editorFocusMark) {
				var dummy = "";
				for (var id in sheet.editorFocusMark) {
					var focusMark = sheet.editorFocusMark[id];
					this.addEditorFocus(id, dummy);
				}
			}
		}
	},
	bindFrozenCtrl_: function () {
		//to be overridden
	},
	unbindFrozenCtrl_: function () {
		if (this.selArea) {
			this.selArea.cleanup();
			this.selArea = null;
		}
		if (this.selChgArea) {
			this.selChgArea.cleanup();
			this.selChgArea = null;
		}
		if (this.focusMark) {
			this.focusMark.cleanup();
			this.focusMark = null;
		}
		if (this.hlArea) {
			this.hlArea.cleanup();
			this.hlArea = null;
		}
	},
	unbind_: function () {
		
		if (this.headers) {
			this.headers.splice(0, this.headers.length);
		}
		
		//ZSS-1043
		if (this.editorFocusMark) {
			for (var id in this.editorFocusMark) {
				var focusMark = this.editorFocusMark[id];
				this._removeEditorFocusMark(focusMark);
			}
			this.editorFocusMark = null;
		}
		
		this.unbindFrozenCtrl_();
		this.comp = this.comp.ctrl = this.padcomp = this.wpcomp = this.icomp = 
		this.hcomp = this.headers = this.block = this.sheet = null;
		this.$supers(zss.Panel, 'unbind_', arguments);
	},
	getTypeAttr_: function () {
		//to be overridden
	},
	hasPad_: function () {
		return false;
	},
	doTooltipOver_: zk.$void,
	doTooltipOut_: zk.$void,
	doClick_: zk.$void,
	doMouseDown_: function (evt) {
		this.sheet._doMousedown(evt);
	},
	doMouseUp_: function (evt) {
		this.sheet._doMouseup(evt);
	},
	doRightClick_: function (evt) {
		this.sheet._doMouserightclick(evt);
	},
	doDoubleClick_: function (evt) {
		this.sheet._doMousedblclick(evt);
	},
	doMouseOver_: function (evt) {
		var n = evt.domTarget;
		if (n.getAttribute('zs.t') == "SBoun")
			n.parentNode.ctrlref._processDrag(true, false);
		if (n.getAttribute('zs.t') == "SBoun2")
			n.parentNode.ctrlref._processDrag(true, true);
	},
	doMouseOut_: function (evt) {
		var n = evt.domTarget;
		if (n.getAttribute('zs.t') == "SBoun")
			n.parentNode.ctrlref._processDrag(false, false);
		if (n.getAttribute('zs.t') == "SBoun2")
			n.parentNode.ctrlref._processDrag(false, true);
	},
	redraw: function (out) {
		var type = this.type,
			type = this.isCorner ? 'corner' + type : type,
			uid = this.uuid;
		out.push('<div id="', uid, '" class="zs', type, ' zsfz', type, '" zs.t="',
				this.getTypeAttr_(), '">', 
				(this.hasPad_() ? '<div id="' + uid + '-pad" class="zs' + type + 'pad"></div>' : ''),
				'<div id="', uid, '-real" class="zs', type, 
				'i"><div id="', uid, '-head" class="zs', type, 'head">');

		// ZSS-937 output DOM however. simply hiding headers for hidden state is enough. 
		var hs = this.headers,
			size = hs.length;
		for (var i = 0; i < size; i++) {
			out.push(hs[i].getHtml());
		}

		out.push('</div>'); //head div end
		if (this.block) { //frozen block
			this.block.redraw(out);
			out.push('<div id="', uid, '-select" class="zsselect" zs.t="SSelect">',
					'<div class="zsselecti" zs.t="SSelInner"></div><div class="zsseldot" zs.t="SSelDot"></div></div>',
					'<div id="', uid, '-selchg" class="zsselchg" zs.t="SSelChg"><div class="zsselchgi"></div></div>',
					'<div id="', uid, '-focmark" class="zsfocmark" zs.t="SFocus"><div class="zsfocmarki"></div></div>',
					'<div id="', uid, '-highlight" class="zshighlight" zs.t="SHighlight"><div class="zshighlighti"></div></div>');
					
		}
		out.push('</div>');
		out.push('<div id="', uid, '-',type,'wp" class="zswidgetpanel" zs.t="SWidgetpanel"></div>');
		out.push('</div>');
	},
	//ZSS-1043
	addEditorFocus : function(id, name){
		if (this.editorFocusMark && this.editorFocusMark[id])
			return;
		if (this.block) {
			var sheet = this.sheet,
				focusmarkcmp = this.$n('focmark'), 
				x = focusmarkcmp,
				div = x.cloneNode(true);
			
			div.id = div.id + '_' + id;
			div.style.borderWidth = "3px";
			x.parentNode.appendChild(div);
			this.addEditorFocus_(id, name, div);
		}
	},
	//ZSS-1043
	addEditorFocus_ : function(id, name, div) {
		//to be overridden
	},
	//ZSS-1043
	removeEditorFocus : function(id){
		if (this.block) {
			if (!this.editorFocusMark)
				return;
			var ctrl = this.editorFocusMark[id];
			this._removeEditorFocusMark(ctrl);
			this.editorFocusMark[id] = null;
		}
	},
	//ZSS-1043
	_removeEditorFocusMark : function(ctrl) {
		if (ctrl) {
			ctrl.comp.parentNode.removeChild(ctrl.comp);
			ctrl.cleanup();
		}
	},
	//ZSS-1043
	moveEditorFocus : function(id, name, color, row, col){
		if (this.block) {
			if(!this.editorFocusMark || !this.editorFocusMark[id]){
				this.addEditorFocus(id, name);
			}
			this.editorFocusMark[id].relocate(row, col);
			this.editorFocusMark[id].showMark(color, name); //new color/oldcolor with label
		}
	}
});
/**
 * LeftPanel represent the left area of the spreadsheet. It contains row headers of the spreadsheet
 */
zss.LeftPanel = zk.$extends(zss.Panel, {
	widgetName: 'LeftPanel',
	type: 'left',
	initHeaders_: function (sheet, start, end, data, isCorner) {		
		var ary = [],
			headers = data.rowHeaders,
			type = zss.Header.VER,
			leftHeaders = isCorner ? sheet.lp.headers : null,
			j = 0;
		for (var i = start; i <= end; i++) {
			var h = new zss.Header(sheet, type, headers[i], leftHeaders ? leftHeaders[j++] : null);
			this.appendChild(h, true);
			ary.push(h);
		}
		return ary;
	},
	/**
	 * Create cells and associated headers
	 */
	create_: function (dir, rowStart, rowEnd, frozenColStart, forzenColEnd, createFrozenOnly) {
		if (!createFrozenOnly)
			this.createHeaders_(dir, rowStart, rowEnd);
		
		var createFrozen = frozenColStart >= 0 && forzenColEnd >= 0;
		if ('jump' == dir && createFrozen) {
			var oldBlock = this.block;
			this.block = new zss.CellBlockCtrl(this.sheet, rowStart, frozenColStart, rowEnd, forzenColEnd, this.getFrozenData_(), 'left'); // ZSS-404: fixed missed sheet
			oldBlock ? oldBlock.replaceWidget(this.block) : this.appendChild(this.block);
		} else if (this.block && createFrozen) {
			this.block.create_(dir, rowStart, frozenColStart, rowEnd, forzenColEnd, this.getFrozenData_());
		}
	},
	initFrozenBlock_: function (sheet, tRow, bRow, data) {
		var c = sheet.frozenCol;
		if (c > -1) {
			var b = new zss.CellBlockCtrl(sheet, tRow, 0, bRow, c, data, 'left');
			this.appendChild(b, true);
			return b;
		}
		return null;
	},
	getHeaderData_: function () {
		// ZSS-404: if this is for corner panel's header, the header data must be fetched from top freeze panel
		if(this.isCorner) {
			return this.sheet._wgt._cacheCtrl.getSelectedSheet().topFrozen.rowHeaders;
		} else {
			return this.sheet._wgt._cacheCtrl.getSelectedSheet().rowHeaders;
		}
	},
	getFrozenData_: function () {
		var a = this.sheet._wgt._cacheCtrl.getSelectedSheet(),
			f = a.leftFrozen;
		return f ? f : a;
	},
	getFrozenHeaderData_: function () {
		var leftFrozen = this.getFrozenData_();
		return leftFrozen ? leftFrozen.columnHeaders : null;
	},
	getHeaderType_: function () {
		return zss.Header.VER;
	},
	isInsert_: function (dir) {
		return 'north' == dir; 
	},
	bindFrozenCtrl_: function () {
		var sheet = this.sheet,
			selArea = this.$n('select'),
			selChg = selArea.nextSibling,
			focus = selChg.nextSibling,
			highlight = focus.nextSibling;
		
		this.selArea = new zss.SelAreaCtrlLeft(sheet, selArea, sheet.initparm.selrange.clone());
		this.selChgArea = new zss.SelChgCtrlLeft(sheet, selChg);
		this.focusMark = new zss.FocusMarkCtrlLeft(sheet, focus, sheet.initparm.focus.clone());
		this.hlArea = new zss.HighlightLeft(sheet, highlight, sheet.initparm.hlrange.clone(), "inner");
	},
	//ZSS-1043
	addEditorFocus_ : function(id, name, div) {
		if(!this.editorFocusMark)
			this.editorFocusMark = new Object();
		this.editorFocusMark[id] = new zss.FocusMarkCtrlLeft(this.sheet, div, new zss.Pos(0, 0));
	},
	getTypeAttr_: function () {
		return 'SLeftPanel';
	},
	hasPad_: function () {
		return true;
	},
	removeChildFromStart_: function (size) {
		if (this.block) {
			this.block.removeRowsFromStart_(size);
		}
		this.$supers(zss.LeftPanel, 'removeChildFromStart_', arguments);
	},
	removeChildFromEnd_: function (size) {
		if (this.block) {
			this.block.removeRowsFromEnd_(size);
		}
		this.$supers(zss.LeftPanel, 'removeChildFromEnd_', arguments);
	},
	_updateHeight: function (height) {
		jq(this.comp).css('height', jq.px0(height));
		this.height = height;
		this._updateBlockHeight();
	},	
	_updateTopPos: function (toppos) {
		jq(this.icomp).css('top', jq.px(toppos));
		jq(this.wpcomp).css('top', jq.px(toppos-this.sheet.topHeight));
		this.toppos = toppos;
		this._updateBlockHeight();
	},
	_updateTopPadding: function (toppad) {
		if (this.toppad == toppad) return;
		jq(this.padcomp).css('height', jq.px0(toppad));
		this.toppad = toppad;	
		
		if (this.selArea)
			this.selArea.relocate();

		if (this.selChgArea)
			this.selChgArea.relocate();

		if (this.focusMark) {
			var pos = this.sheet.getLastFocus();
			this.focusMark.relocate(pos.row, pos.column);
		}
		this._updateBlockHeight();
	},
	_updateBlockHeight: function () {
		if (!this.block) return;
		var height = this.height,
			toppos = this.toppos,
			toppad = this.toppad;
		// ZSS-1281: grey area; side effect of fixing ZSS-1117; revert
		height = height - (toppos ? toppos : 0) - (toppad ? toppad : 0);
//			//ZSS-1117
//			range = this.block.range,
//			top = range.top,
//			bottom = range.bottom;
//		
//		height = this.sheet.custRowHeight.getDiffPixel(top, bottom);//ZSS-1117
		if (height < 0) height = 0;
		jq(this.block.comp).css('height', jq.px0(height));
	},
	/**
	 * Sets the selection range of the header
	 * @param int from row selection start index
	 * @param int to row selection end index
	 */
	updateSelectionCSS: function (from, to, remove) {
		var i = this.headers.length,
			header;
		while (i--) {
			header = this.headers[i];
			if (header.index >= from && header.index <= to)
				jq(header.comp)[remove ? 'removeClass' : 'addClass']("zsleft-sel");
		}
	},
	/**
	 * Sets the selection range of the header
	 * 
	 * Update CSS after header created (this.createHeaders_), ignore update selection when sheet CSS not ready
	 */
	updateSelectionCSS_: function () {
		var sheet = this.sheet,
			wgt = sheet._wgt,
			selRange = sheet.selArea.lastRange;
		if (!wgt.isSheetCSSReady())
			return;
		
		if (selRange) {
			var top = selRange.top,
				bottom = selRange.bottom;
			this.updateSelectionCSS(top, bottom, false || sheet.state == zss.SSheetCtrl.NOFOCUS);
		}
	},
	/**
	 * Sets the width position index
	 * @param int col column index
	 * @param int zsw the width position index
	 */
	appendZSW: function (col, zsw) {
		if (this.block)
			this.block.appendZSW(col, zsw);
	},
	/**
	 * Sets the height position index
	 * @param row row index
	 * @param int the height position index
	 */
	appendZSH: function (row, zsh) {
		if (this.block)
			this.block.appendZSH(row, zsh);
		
		// ZSS-515: header might be empty because of removing last row/column at freeze panels
		if(this.isEmptyHeader()) {
			return;
		}
		
		var top = this.headers[0].index,
			bottom = top + this.headers.length - 1; 
		if (top > row || bottom < row) return;
		
		var index = row - top,
			header = this.headers[index];
		header.appendZSH(zsh);
	},
	/**
	 * Insert new column
	 * @param int col column
	 * @param int size the size of the column
	 */
	insertNewColumn: function (col, size) {
		if (this.block)
			this.block.insertNewColumn(col, size);
	},
	/**
	 * Insert new row
	 * @param int row row index
	 * @param int size the size of the row
	 * @param array extnm
	 */
	insertNewRow: function (row, size, extnm) {
		if (this.block)
			this.block.insertNewRow(row, size);

		// ZSS-515: header might be empty because of removing last row/column at freeze panels
		if(this.isEmptyHeader()) {
			return;
		}

		var top = this.headers[0].index,
			bottom = top + this.headers.length - 1; 
		if (row > (bottom + 1) || row < top) return;
		
		var index = row - top,
			ctrl,
			rowHeaders = this.getHeaderData_(),
			type = zss.Header.VER;
		
		//insert row intersect with selection range, must remove selection CSS before insert cells
		var sheet = this.sheet,
			selRange = sheet.selArea.lastRange;
		if (sheet.state != zss.SSheetCtrl.NOFOCUS && selRange) {
			var top = selRange.top,
				bottom = selRange.bottom;
			if (row <= bottom && (row+size-1) >= top)
				this.updateSelectionCSS(top, bottom, true);
		}
			
		for (var i = 0; i < size; i++) {
			var r = row + i;
			ctrl = new zss.Header(sheet, type, rowHeaders[r]);
			this.insertHeader_(index + i, ctrl);
		}
		extnm = extnm.slice(size, extnm.length);
		this.shiftHeaderInfo(index + size, row + size, extnm);
	},
	/**
	 * Shift header
	 * @param int index start shift index
	 * @param array extnm
	 */
	shiftHeaderInfo: function (index, newrow, extnm) {
		var size = this.headers.length,
			j = 0;
		for (var i = index; i < size; i++) {
			if(!extnm[j]) zk.log("undefined header to assing>>"+(newrow+j),"always");
			this.headers[i].resetInfo(newrow + j, extnm[j]);
			j++;
		}
	},
	/**
	 * Remove column
	 * @param int col column index
	 * @param int size the size of the column
	 */
	removeColumn: function (col, size) {
		if (this.block)
			this.block.removeColumn(col, size);
	},
	/**
	 * Remove row
	 * @param int row row index
	 * @param int size
	 * @param array extnm
	 */
	removeRow: function (row, size, extnm) {
		if (this.block)
			this.block.removeRow(row, size);

		// ZSS-515: header might be empty because of removing last row/column at freeze panels
		if(this.isEmptyHeader()) {
			return;
		}

		var top = this.headers[0].index,
			bottom = top + this.headers.length - 1; 
		if(row > (bottom+1) || row < top) return;
		
		var index = row - top;
		if ((row + size) > bottom)
			size = bottom - row + 1;

		this.removeHeader_(index, size);
		this.shiftHeaderInfo(index, row, extnm);
	},
	_fixSize: function() {
		var sheet = this.sheet,
			wgt = sheet._wgt,
			lw = sheet.leftWidth,
			leftw = lw-1,
			fzc = sheet.frozenCol,
			name = wgt.getSelectorPrefix(),
			sid = wgt.getSheetCSSId();
		
		if (fzc > -1)
			leftw = leftw + sheet.custColWidth.getStartPixel(fzc + 1);

		zcss.setRule(name + " .zsleft", ["width"], [(fzc > -1 ? leftw - 1 : leftw) + "px"], true, sid);
		zcss.setRule(name + " .zslefti", ["width"], [leftw + "px"], true, sid);
	}
});
})();
/* Button.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Jan 12, 2012 7:07:27 PM , Created by sam
}}IS_NOTE

Copyright (C) 2012 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
}}IS_RIGHT
*/
(function () {

zss.ResizeableToolbar = zk.$extends(zul.wgt.Toolbar, {
	$init: function (wgt) {
		this.$supers(zss.ResizeableToolbar, '$init', []);
		this._wgt = wgt;
	},
	bind_: function () {
		this.$supers(zss.ResizeableToolbar, 'bind_', arguments);
		zWatch.listen({onSize: this});
	},
	unbind_: function () {
		zWatch.unlisten({onSize: this});
		this.$supers(zss.ResizeableToolbar, 'unbind_', arguments);
	},
	//ZSS-177
	onSize: function () {
		var prevHgh = this._hgh,
			curHgh = jq(this.$n('cave')).height();
		if (!prevHgh || prevHgh != curHgh) {
			var panel = this.parent,
				tb = panel.getTabbox(),
				zkn = jq(this.$n()).zk,
				cv = this._wgt.cave,
				h = curHgh + zkn.sumStyles('tb', jq.paddings) + zkn.sumStyles('tb', jq.borders);
			panel.setHeight(h + 'px');
			
			tb.clearCachedSize_();//clear tabbox vflex height cache
			tb.parent.clearCachedSize_();//clear north vflex height cache
			
			//1. resize top panel (toolbar)
			zWatch.fire('onFitSize', this._wgt, {reverse:true})
			
			//2. resize cave (sheet content)
			this._wgt.clearCachedSize_();//clear sheet cave size
			zFlex.onSize.apply(cv);
			cv.resize();
		}
		this._hgh = curHgh;
	}
});

zss.ToolbarTabpanel = zk.$extends(zul.tab.Tabpanel, {
	$init: function (actions, wgt) {
		this.$supers(zss.ToolbarTabpanel, '$init', []);
		this._wgt = wgt;
		this._actions = actions;//array
	},
	createButtonsIfNotExist: function () {
		var tb = this.toolbar;
		if (!tb) {
			tb = this.toolbar = new zss.ResizeableToolbar(this._wgt);
			var btns = new zss.ButtonBuilder(this._wgt, tb).addAll(this._actions).build();
			for (var i = 0, len = btns.length; i < len; i++) {
				var b = btns[i];
				if (b)
					tb.appendChild(b);
			}
			this.appendChild(tb);
			this.setDisabled(this._wgt.getActionDisabled());
		}
	},
	onShow: function () {
		this.createButtonsIfNotExist();
	},
	setDisabled: function (actions) {
		var tb = this.toolbar;
		if (tb && actions) {
			var btn = tb.firstChild;
			for (; btn; btn = btn.nextSibling) {
				if (!btn.setDisabled) {
					continue;
				}
				btn.setDisabled(actions);
			}	
		}
	},
	getSclass: function () {
		return 'zstbtabpanel';
	}
});

zss.ToolbarTabbox = zk.$extends(zul.tab.Tabbox, {
	$o: zk.$void,
	$init: function (wgt) {
		this.$supers(zss.ToolbarTabbox, '$init', []);
		this._wgt = wgt;
		this.setVflex('min');
		
		var tbs = new zul.tab.Tabs(),
			homeTab = new zul.tab.Tab({
				label: msgzss.action.homePanel,
				sclass: 'zstab-homePanel'
			}),
			insertTab = new zul.tab.Tab({
				label: msgzss.action.insertPanel,
				onClick: this.proxy(this.onClickInsertTab),
				sclass: 'zstab-insertPanel'
			}),
			//TODO: formulaTab = new zul.tab.Tab({
			//	label: msgzss.action.formulaPanel,
			//	onClick: this.proxy(this.onClickFormulaTab)
			//}),
			panels = new zul.tab.Tabpanels(),
			homePanel = this.homePanel = new zss.ToolbarTabpanel(zss.Buttons.HOME_DEFAULT, wgt),
			//TODO: formulaPanel = this.formulaPanel = new zul.tab.Tabpanel(zss.Buttons.FORMULA_DEFAULT),
			insertPanel = this.insertPanel = new zss.ToolbarTabpanel(zss.Buttons.INSERT_DEFAULT, wgt);
//			homeToolbar = new zul.wgt.Toolbar({height: '23px'});

		this.appendChild(tbs);
		this.appendChild(panels);
		
		tbs.appendChild(homeTab);
		tbs.appendChild(insertTab);
		//TODO: tbs.appendChild(formulaTab);

		homePanel.createButtonsIfNotExist();
		panels.appendChild(homePanel);
		panels.appendChild(insertPanel);
		//TODO: panels.appendChild(formulaPanel);
		
		this.setSelectedTab(homeTab);
		
		var tb = new zul.wgt.Toolbar({
				ignoreFlexSize_: function () {
					return true;
				}
			});
		tb.appendChild(new zss.Toolbarbutton({
			$action: 'closeBook',
			tooltiptext: msgzss.action.closeBook,
			image: zk.ajaxURI('/web/zss/img/gray-cross.png', {au: true}),
			onClick: function () {
				wgt.fireToolbarAction('closeBook');
			}
		}));
		this.appendChild(tb);
	},
	onClickInsertTab: function () {
		this.insertPanel.createButtonsIfNotExist();
	},
	onClickFormulaTab: function () {
		this.formulaPanel.createButtonsIfNotExist();
	}
});

zss.Toolbar = zk.$extends(zul.layout.North, {
	$o: zk.$void,
	$init: function (wgt) {
		this.$supers(zss.Toolbar, '$init', []);
		this.setBorder(0);
		this._wgt = wgt;
		this.setVflex('min');
		
		this.appendChild(this.toolbarTabbox = new zss.ToolbarTabbox(wgt));
	},
	setDisabled: function (actions) {
		var tb = this.toolbarTabbox,
			panels = tb.getTabpanels(),
			panel = panels.firstChild;
		for (; panel; panel = panel.nextSibling) {
			panel.setDisabled(actions);
		}
	},
	//	ZSS-177
	setFlexSize_: function(sz, isFlexMin) {
		var sz = this.$supers(zss.Toolbar, 'setFlexSize_', arguments),
			ss = this.$n('real').style,//to compitiable with ZK7		
			sh = ss.height,
			$cv = jq(this.$n('cave'));
		if (sh && $cv.height() != parseInt(sh)) {
			$cv.height(sh + 'px');
		}
		return sz;
	}
});
})();
/* TopPanel.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * TopPanel represent the top rectangle area of the spreadsheet. It contains column headers of the spreadsheet
 */
zss.TopPanel = zk.$extends(zss.Panel, {
	widgetName: 'TopPanel',
	type: 'top',
	$o: zk.$void, //owner, fellows relationship no needed
	initHeaders_: function (sheet, start, end, data, isCorner) {
		var ary = [],
			headers = data.columnHeaders,
			type = zss.Header.HOR,
			topHeaders = isCorner ? sheet.tp.headers : null,
			j = 0;
		for (var i = start; i <= end; i++) {
			var h = new zss.Header(sheet, type, headers[i], topHeaders ? topHeaders[j++] : null);
			this.appendChild(h, true);
			ary.push(h);
		}
		return ary;
	},
	/**
	 * Create cells and associated headers
	 */
	create_: function (dir, colStart, colEnd, frozenRowStart, frozenRowEnd, createFrozenOnly) {
		if (!createFrozenOnly)
			this.createHeaders_(dir, colStart, colEnd);

		var createFrozen = frozenRowStart >= 0 && frozenRowEnd >= 0;
		if ('jump' == dir && createFrozen) {
			var oldBlock = this.block;
			this.block = new zss.CellBlockCtrl(this.sheet, frozenRowStart, colStart, frozenRowEnd, colEnd, this.getFrozenData_(), 'top'); // ZSS-404: fixed missed sheet
			oldBlock ? oldBlock.replaceWidget(this.block) : this.appendChild(this.block);
		} else if (this.block && createFrozen) {
			this.block.create_(dir, frozenRowStart, colStart, frozenRowEnd, colEnd, this.getFrozenData_());
		}
	},
	initFrozenBlock_: function (sheet, lCol, rCol, data) {
		var r = sheet.frozenRow;
		if (r > -1) {
			var b = new zss.CellBlockCtrl(sheet, 0, lCol, r, rCol, data, 'top');
			this.appendChild(b);
			return b;
		}
		return null;
	},
	getHeaderData_: function () {
		// ZSS-404: if this is for corner panel's header, the header data must be fetched from left freeze panel
		if(this.isCorner) {
			return this.sheet._wgt._cacheCtrl.getSelectedSheet().leftFrozen.columnHeaders;
		} else {
			return this.sheet._wgt._cacheCtrl.getSelectedSheet().columnHeaders;
		}
	},
	getFrozenData_: function () {
		var a = this.sheet._wgt._cacheCtrl.getSelectedSheet(),
			f = a.topFrozen;
		return f ? f : a;
	},
	getFrozenHeaderData_: function () {
		var topFrozen =  this.getFrozenData_();
		return topFrozen ? topFrozen.rowHeaders : null;
	},
	getHeaderType_: function () {
		return zss.Header.HOR;
	},
	isInsert_: function (dir) {
		return 'west' == dir;
	},
	bindFrozenCtrl_: function () {
		var sheet = this.sheet,
			selArea = this.$n('select'),
			selChg = selArea.nextSibling,
			focus = selChg.nextSibling,
			highlight = focus.nextSibling;
		
		this.selArea = new zss.SelAreaCtrlTop(sheet, selArea, sheet.initparm.selrange.clone());
		this.selChgArea = new zss.SelChgCtrlTop(sheet, selChg);
		this.focusMark = new zss.FocusMarkCtrlTop(sheet, focus, sheet.initparm.focus.clone());
		this.hlArea = new zss.HighlightTop(sheet, highlight, sheet.initparm.hlrange.clone(), "inner");
	},
	//ZSS-1043
	addEditorFocus_ : function(id, name, div) {
		if(!this.editorFocusMark)
			this.editorFocusMark = new Object();
		this.editorFocusMark[id] = new zss.FocusMarkCtrlTop(this.sheet, div, new zss.Pos(0, 0));
	},
	_getTopHeaderFontSize: function () {
		var head = this.$n('head'),
			col = head != null ? head.firstChild : null;
		if (col && col.getAttribute('zs.t') == 'STheader')
			return jq(col).css('font-size');
		return null;
	},
	bind_: function () {
		this.$supers(zss.TopPanel, 'bind_', arguments);
		var fontSize= this.isCorner && (zk.ie && zk.ie < 11) ? this._getTopHeaderFontSize() : null;
		if (fontSize)
			this.fontSize = fontSize;
	},
	unbind_: function () {
		this.$supers(zss.TopPanel, 'unbind_', arguments);
		this.fontSize = null;
	},
	getTypeAttr_: function () {
		return 'STopPanel';
	},
	removeChildFromStart_: function (size) {
		if (this.block) {
			this.block.removeColumnsFromStart_(size);
		}
		this.$supers(zss.TopPanel, 'removeChildFromStart_', arguments);
	},
	removeChildFromEnd_: function (size) {
		if (this.block) {
			this.block.removeColumnsFromEnd_(size);
		}
		this.$supers(zss.TopPanel, 'removeChildFromEnd_', arguments);
	},
	/**
	 *  IE need font size to display correctly in corner panel
	 *  @return string font size of the header , or null means this's not in corner panel
	 */
	_getCornerHeaderFontSize: function () {
		return this.fontSize;
	},
	_updateWidth: function (width) {
		jq(this.comp).css('width', jq.px0(width));
		this.width = width;	
		this._updateBlockWidth();
	},
	_updateLeftPos: function (pos) {
		jq(this.icomp).css('left', jq.px(pos));
		jq(this.wpcomp).css('left', jq.px(pos-this.sheet.leftWidth));
		this.leftpos = pos;
		this._updateBlockWidth();
	},
	_updateLeftPadding: function (leftpad) {
		leftpad = leftpad - this.sheet.leftWidth;
		jq(this.icomp).css('padding-left', jq.px0(leftpad));
		this.leftpad = leftpad;
		this._updateBlockWidth();
	},
	_updateBlockWidth: function () {
		if (!this.block) return;
		var width = this.width,
			leftpos = this.leftpos,
			leftpad = this.leftpad;
		// ZSS-1281: grey area; side effect of fixing ZSS-1117; revert
		width = width - (leftpos ? leftpos : 0) - (leftpad ? leftpad : 0);		
//			//ZSS-1117
//			range = this.block.range,
//			left = range.left,
//			right = range.right;
//		
//		width = this.sheet.custColWidth.getDiffPixel(left, right);//ZSS-1117
		if (width < 0) width = 0;
		jq(this.block.comp).css('width', jq.px0(width));
	},
	/**
	 * Sets the selection range of the header
	 * @param int from row selection start index
	 * @param int to row selection end index
	 */
	updateSelectionCSS: function (from, to, remove) {
		var i = this.headers.length,
			header;
		while (i--) {
			header = this.headers[i];
			if (header.index >= from && header.index <= to)
				jq(header.comp)[remove ? 'removeClass' : 'addClass']("zstop-sel");
		}
	},
	/**
	 * Sets the width position index
	 * @param int col column index
	 * @param int zsw the width position index
	 */
	appendZSW: function (col, zsw) {
		if (this.block)
			this.block.appendZSW(col, zsw);

		// ZSS-515: header might be empty because of removing last row/column at freeze panels
		if(this.isEmptyHeader()) {
			return;
		}

		var left = this.headers[0].index,
			right = left + this.headers.length - 1;
		if (left > col || right < col) return;
		
		var index = col - left,
			header = this.headers[index];
		header.appendZSW(zsw);
	},
	/**
	 * Sets the height position index
	 * @param row row index
	 * @param int the height position index
	 */
	appendZSH: function (row, zsh) {
		if (this.block)
			this.block.appendZSH(row, zsh);
	},
	/**
	 * Insert new column
	 * @param int col column
	 * @param int size the size of the column
	 * @param array extnm
	 */
	insertNewColumn: function (col, size, extnm) {
		if (this.block)
			this.block.insertNewColumn(col, size);

		// ZSS-515: header might be empty because of removing last row/column at freeze panels
		if(this.isEmptyHeader()) {
			return;
		}

		var left = this.headers[0].index,
			right = left + this.headers.length - 1; 
		if (col > (right + 1) || col < left) return;
		
		var index = col - left,
			ctrl,
			colHeaders = this.getHeaderData_(),
			type = zss.Header.HOR,
			fontSize = (zk.ie && zk.ie < 11) ? this._getCornerHeaderFontSize() : null;
			
		//insert columns intersect with selection range, must remove selection CSS before insert cells
		var sheet = this.sheet,
			selRange = sheet.selArea.lastRange;
		if (sheet.state != zss.SSheetCtrl.NOFOCUS && selRange) {
			var left = selRange.left,
				right = selRange.right;
			if (col <= right && (col+size-1) >= left)
				this.updateSelectionCSS(left, right, true);
		}
			
		for (var i = 0; i < size; i++) {
			var c = col + i;
			ctrl = new zss.Header(sheet, type, colHeaders[c]);
			
//			if (fontSize) {
//				jq(ctrl.getHeaderNode()).css('font-size', fontSize);
//			}
			
			this.insertHeader_(index + i, ctrl);
		}
		extnm = extnm.slice(size, extnm.length);
		this.shiftHeaderInfo(index + size, col + size,extnm);
	},
	/**
	 * Insert new row
	 * @param int row row index
	 * @param int size the size of the row
	 */
	insertNewRow: function (row, size) {
		if (this.block)
			this.block.insertNewRow(row,size);
	},
	/**
	 * Shift header
	 * @param int index start shift index
	 * @param int newcol new column index
	 * @param array extnm
	 */
	shiftHeaderInfo: function (index, newcol, extnm) {
		var size = this.headers.length,
			j = 0;
		for (var i = index; i < size; i++) {
			if (!extnm[j]) zk.log("undefined header to assing>>"+(newrow+j),"always");
			this.headers[i].resetInfo(newcol + j, extnm[j]);
			j++;
		}
	},
	/**
	 * Remove column
	 * @param int col column index
	 * @param int size the size of the column
	 * @param array extnm
	 */
	removeColumn: function (col, size, extnm) {
		if (this.block)
			this.block.removeColumn(col,size);

		// ZSS-515: header might be empty because of removing last row/column at freeze panels
		if(this.isEmptyHeader()) {
			return;
		}

		var left = this.headers[0].index,
			right = left + this.headers.length -1; 
		if (col > (right+1) || col < left) return;
		
		var index = col - left;
		if ((col + size) > right)
			size = right - col + 1;
		this.removeHeader_(index, size);
		this.shiftHeaderInfo(index, col, extnm);
	},
	/**
	 * Remove row
	 * @param int row row index
	 * @param int size
	 * @param array extnm
	 */
	removeRow: function (row, size) {
		if (this.block)
			this.block.removeRow(row, size);
	},
	/**
	 * Sets the selection range of the header
	 * 
	 * Update CSS after header created (this.createHeaders_), ignore update selection when sheet CSS not ready
	 */
	updateSelectionCSS_: function () {
		var sheet = this.sheet,
			wgt = sheet._wgt,
			selRange = sheet.selArea.lastRange;
		if (!wgt.isSheetCSSReady())
			return;
		
		if (selRange) {
			var left = selRange.left,
				right = selRange.right;
			this.updateSelectionCSS(left, right, false || sheet.state == zss.SSheetCtrl.NOFOCUS);
		}
	},
	_fixSize: function() {
		var sheet = this.sheet,
			wgt = sheet._wgt,
			th = sheet.topHeight,
			toph = th,
			fzr = sheet.frozenRow,
			name = wgt.getSelectorPrefix(),
			sid = wgt.getSheetCSSId();
		
		if (fzr > -1)
			toph = toph + sheet.custRowHeight.getStartPixel(fzr + 1);
		
		zcss.setRule(name + " .zstop", ["height"], [(fzr > -1 ? toph - 1: toph) + "px"], true, sid);
		zcss.setRule(name + " .zstopi", ["height"], [toph + "px"], true, sid);
	}
});
/* Pos.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * Pos represent cell's position
 */
zss.Pos = zk.$extends(zk.Object, {
	row: -1,
	column: -1,
	$init: function (row, column) {
		this.$supers('$init', arguments);
		this.row = row;
		this.column = column;
	},
	toString : function(){
		return "row:" + this.row + ", column:" + this.column;
	},
	clone : function(){
		return new zss.Pos(this.row, this.column);
	}
});
/* PositionHelper.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

(function () {
	
	function updateSize(customizedSizeInfo, size, custom) {
		customizedSizeInfo[1] = size;
		customizedSizeInfo[4] = custom;
	}
/**
 * PositionHelper for calculate pixel to column/row index or vice versa
 */
zss.PositionHelper = zk.$extends(zk.Object, {
	$init: function (defaultSize, customizedSize) {
		this.$supers('$init', arguments);
		this.size = defaultSize;
		this.custom = customizedSize;
	},
	cleanup: function () {
		this.size = this.custom = null;
	},
	updateDefaultSize: function (defaultSize) {
		this.size = defaultSize;
	},
	getIncUnhidden: function (idx, limit) {
		var customizedSize = this.custom,
			size = customizedSize.length,
			v0,
			v1;
		for(var j = 0; j < size && idx <= limit; ++j) {
			v0 = customizedSize[j][0];
			if (idx == v0) {
				v1 = customizedSize[j][3]; //hidden: true
				if (!v1) {//special size but not hidden, return
					break;
				} else {
					++idx; //a hidden one, try next unhidden
				}
			} else if (idx < v0) { //normal case, return
				break; 
			}
		}
		return idx > limit ? -1 : idx;
	},
	getDecUnhidden: function (idx, limit) {
		var customizedSize = this.custom,
			size = customizedSize.length,
			v0,
			v1;
		for(var j = size - 1; j >= 0 && idx >= limit; --j) {
			v0 = customizedSize[j][0];
			if (idx == v0) {
				v1 = customizedSize[j][3]; //hidden: true
				if (!v1) {//special size but not hidden, return
					break;
				} else {
					--idx; //a hidden one, try next unhidden
				}
			} else if (idx > v0) { //normal case, return
				break; 
			}
		}
		return idx < limit ? -1 : idx;
	},
	/**
	 * get cell index from a pixel
	 * @param int px
	 */
	getCellIndex: function (px, firstHidden) { // ZSS-1266
		if (px < 0) px = 0; //col1/row1 can be hidden...
		var sum = 0,
			sum2 = 0,
			index = 0,
			inc = 0,
			customizedSize = this.custom,
			defaultSize = this.size,
			size = customizedSize.length,
			i = 0,
			v0,
			v1;
		for (;i < size; i++) {
			v0 = customizedSize[i][0];
			v1 = customizedSize[i][3] ? 0 : customizedSize[i][1]; //hidden, then size is zero
			sum2 = sum2 + (v0 -index ) * defaultSize;
			if (sum2 > px) {
				inc = px - sum;
				var incx = Math.floor(inc / defaultSize),
					cpx = inc - incx * defaultSize;
				index = index + incx;
				return [firstHidden ? this.getFirstHiddenIndex(i, index) : index, cpx]; //ZSS-1266
			}
			sum2 = sum2 + v1;
			if (sum2 > px) {
				var cpx = px - sum2 + v1;
				return [firstHidden ? this.getFirstHiddenIndex(i, v0) : v0, cpx]; //ZSS-1266
			}
			sum = sum2;
			index = v0+1;
		}
		inc = px - sum; 
		var incx = Math.floor(inc / defaultSize),
			cpx = inc - incx * defaultSize;
		index = index + incx;
		return [firstHidden ? this.getFirstHiddenIndex(i, index) : index, cpx]; //ZSS-1266
	},
	//ZSS-1266
	// find backward the 1st consecutive hidden row/col index 
	getFirstHiddenIndex: function (i, index) {
		while (--i >= 0 && this.custom[i][3] && this.custom[i][0] == index - 1) {
			// locate index
			--index;
		}
		return index;
	},
	/**
	 * Returns start pixel(left or top) of a cell, 
	 * @param int cellIndex
	 * @return int
	 */
	getStartPixel: function (cellIndex) {
		if (cellIndex < 0) return 0;
		return this._getStartPixel0(cellIndex)[0];
	},
	//ZSS-1117: return [start-pixel-of-cellIndex, new start metaIndex, new start pixel for the new start metaIndex]
	// + cellIndex to find its startPixel
	// + sidx - starting metaIndex; optional; default 0
	// + spx - starting pixel for the starting metaIndex; optional; default 0
	_getStartPixel0: function (cellIndex, sidx, spx) {
		var count = sidx || 0,
			sum = spx || 0,
			customizedSize = this.custom,
			defaultSize = this.size,
			size = customizedSize.length;

		for (var i = count; i < size; i++) {
			if (cellIndex <= customizedSize[i][0])
				break;

			count++;
			sum += customizedSize[i][3] ? 0 : customizedSize[i][1];
		}
		var spx0 = sum + (count > 0 ? (customizedSize[count-1][0] + 1 - count) : 0) * defaultSize; 
		sum = sum + (cellIndex - count) * defaultSize;
		return [sum, count, spx0];
	},
	//ZSS-1117
	getDiffPixel: function (startIdx, endIdx) {
		var sinfo = this._getStartPixel0(startIdx),
			einfo = this._getStartPixel0(endIdx+1, sinfo[1], sinfo[2]);
		return einfo[0] - sinfo[0];
	},
	//ZSS-1117
	getMetaIndex: function (cellIdx, min, max) {
		var customizedSize = this.custom,
			defaultSize = this.size,
			size = customizedSize.length,
			imin = min || 0,
			imax = max || size-1;
		while (imin <= imax) {
			var imid = Math.floor((imax + imin) / 2),
				cidx = customizedSize[imid][0];
			if ( cidx == cellIdx) {
				return imid;
			} else if (cidx < cellIdx) {
				imin = imid + 1; 
			} else {
				imax = imid - 1;
			}
		}
		return -imid - 1; // not found
	},
	/**
	 * Shift Meta 
	 * @param int cellIndex
	 * @param int size
	 */
	shiftMeta: function (cellIndex, size) {
		//TODO binary search to speed up
		var customizedSize = this.custom,
			len = customizedSize.length;
		for (var i = 0; i < len; i++) {
			if (cellIndex <= customizedSize[i][0] ) {
				customizedSize[i][0] += size;	
			}
		}
	},
	/**
	 * Unshift Meta
	 * @param int cellIndex
	 * @param int size
	 */
	unshiftMeta: function (cellIndex, size) {
		//TODO binary search to speed up
		var customizedSize = this.custom,
			len = customizedSize.length,
			remove = [],
			end = cellIndex + size,
			index;

		for (var i = 0; i < len; i++) {
			index = customizedSize[i][0];
			if (index >= cellIndex && index < end) {
				remove.push(i);
			} else if (index >= end) {
				customizedSize[i][0] -= size;	
			}
		}
		end = remove.length;
		for (var i = end - 1; i >= 0; i--) {
			this._remove(remove[i]);
		}
	},
	/**
	 * Returns whether cell's size is default or not
	 * 
	 * @param int index
	 * @return boolean indicate whether is default size or not
	 */
	isDefaultSize: function (index) {
		var defaultSize = this.size,
			size = this._getCustomizedSize(index),
			dif = Math.abs(size - defaultSize);
		if (Math.abs(size - defaultSize) > 1) { //default height tolerate range
			return false;
		}
		return true;
	},
	_getCustomizedSize: function (index) {
		var customizedSize = this.custom,
			i = customizedSize.length;
		while (i--) {
			if (index == customizedSize[i][0]) {
				return customizedSize[i][1];	
			}
		}
		return this.size;
	},
	/**
	 * Returns the size of the cell
	 * @param int cellIndex
	 * @return int size
	 */
	getSize: function (cellIndex) {
		//TODO binary search to speed up
		var customizedSize = this.custom,
			defaultSize = this.size,
			size = customizedSize.length;

		for (var i = 0; i < size; i++) {
			if (cellIndex == customizedSize[i][0]) return customizedSize[i][1];
			if (cellIndex < customizedSize[i][0]) return defaultSize;
		}
		return defaultSize;
	},
	/**
	 * Returns Meta
	 * @param int cellIndex
	 * @return array meta
	 */
	getMeta: function (cellIndex) {
		//TODO binary search to speed up
		var customizedSize = this.custom,
			defaultSize = this.size,
			size = customizedSize.length;

		for (var i = 0; i < size; i++) {
			if (cellIndex == customizedSize[i][0]) return customizedSize[i];
			if (cellIndex < customizedSize[i][0]) return null;
		}
		return null;
	},
	/**
	 * Sets the customized size of the cell
	 * @param int cellIndex
	 * @param int size
	 * @param string id
	 * @param boolean hidden
	 * @param boolean custom
	 */
	setCustomizedSize: function (cellIndex, size, id, hidden, custom) {
		var customizedSize = this.custom,
			defaultSize = this.size,
			s = 0,
			e = customizedSize.length;
		if (e == 0) {
			this._insert(0, cellIndex, size, id, hidden, custom);
			return;
		}
		var i;
		while (s < e) {//binary search
			i = s + Math.floor((e - s) / 2);
			if (customizedSize[i][0] == cellIndex) {
				customizedSize[i][2] = id;
				customizedSize[i][3] = hidden;
				updateSize(customizedSize[i], size, custom);
				return;
			} else if (customizedSize[i][0] > cellIndex) {
				e = i - 1;
			} else {
				s = i + 1;
			}
			if (e == s) {
				if (e >= customizedSize.length || customizedSize[e][0] > cellIndex) {
					this._insert(e, cellIndex, size, id, hidden, custom);
				} else if (customizedSize[e][0] == cellIndex) {
					customizedSize[e][2] = id;
					customizedSize[e][3] = hidden;
					updateSize(customizedSize[e], size, custom);
				} else {
					this._insert(e + 1, cellIndex, size, id, hidden, custom);
				}
				break;
			} else if (e < s) {
				this._insert(s, cellIndex, size, id, hidden, custom);
			}
		}
	},
	/**
	 * Remove the customized size of the cell
	 * @param int cellIndex
	 */
	removeCustomizedSize: function (cellIndex) {
		var customizedSize = this.custom,
			s = 0,
			e = customizedSize.length;
		if (e == 0)
			return;

		var i;
		while (s < e){//binary search
			i = s + Math.floor((e - s) / 2);
			if (customizedSize[i][0] == cellIndex) {
				this._remove(i);
				return;
			} else if (customizedSize[i][0] > cellIndex) {
				e = i - 1;
			} else {
				s = i + 1;
			}
			if (e == s) {
				if (e < customizedSize.length&&customizedSize[e][0] == cellIndex) {
					this._remove(e);
				}
				break;
			} else if (e < s) {
				break;
			}
		}
	},
	_remove: function (index) {
		var customizedSize = this.custom;
		if (customizedSize.length == 1) {
			customizedSize.pop();
			return;
		}
		if (index == 0) {
			customizedSize.shift();
		} else if (index >= customizedSize.length - 1) {
			customizedSize.pop();
		} else {
			var tail = customizedSize.slice(index + 1);
			customizedSize.length = index;
			customizedSize.push.apply(customizedSize, tail);
		}
	},
	_insert: function(index, cellIndex, size, id, hidden, custom) {
		var customizedSize = this.custom,
			obj = [cellIndex, size, id, hidden, custom];
		if (customizedSize.length == 0) {
			customizedSize.push.apply(customizedSize, [obj]);
			return;
		}
		if (index == 0) {
			customizedSize.unshift(obj);
		} else if(index > customizedSize.length) {
			customizedSize.push.apply(customizedSize, [obj]);
		} else {
			var tail = customizedSize.slice(index, customizedSize.length);
			customizedSize.length = index;
			customizedSize.push.apply(customizedSize, [obj]);
			customizedSize.push.apply(customizedSize, tail);
		}
	},
	/**
	 * An custom size is set manually users. The size determined by Spreadsheet automatically for some features, i.e. wrap text, 
	 * is not custom.
	 * @return boolean indicate whether the size is determined automatically or not
	 */
	isCustomSize: function(rowIndex){
		var customSize = this.getMeta(rowIndex);
		if (customSize == null){ //no custom info, default size
			return false;
		}else{
			return customSize[4];
		}
	},
	getDefaultSize: function(){
		return this.size;
	},
	/**
	 * @param rowColumnIndex row or column index
	 * @return return "hidden" value in position helper of specified row (or column).
	 * If no position helper exists, return FALSE.  
	 */
	isHidden: function(rowColumnIndex){
		var metaInfo =  this.getMeta(rowColumnIndex);
		if (metaInfo == null){
			return false;
		}else{
			return metaInfo[3];
		}
	}
});
})();
/* Range.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * Range represent a rectangle area of cells
 */
zss.Range = zk.$extends(zk.Object, {
	left: -1,
	top: -1,
	right: -1,
	bottom: -1,
	width: -1,
	height: -1,
	$init: function (left, top, right/*width*/, bottom/*height*/, sizemode) {
		this.$supers('$init', arguments);
		this.left = left;
		this.top = top;
		if (sizemode) {//when size mode, that is assing width and height.
			this.width = right;
			this.height = bottom;
			this.right = this.left + this.width - 1 ;
			this.bottom = this.top + this.height - 1 ;
		} else {
			this.right = right;
			this.bottom = bottom;
			this.width = this.right - this.left + 1 ;
			this.height = this.bottom - this.top + 1 ;
		}
	},
	size: function () {
		var size = this.width * this.height;
		return size >= 0 ? size : 0;
	},
	clone: function (){
		return new zss.Range(this.left, this.top, this.right, this.bottom);
	},
	toString: function(){
		return "left:" + this.left + ",top:" + this.top + ",right:" + this.right + ",bottom:" + this.bottom;
	},
	extendRight: function (size) {
		this.right += size;
		this.width += size;
	},
	extendLeft: function (size) {
		this.left -= size;
		this.width +=size;
	},
	extendBottom: function (size) {
		this.bottom += size;
		this.height += size;
	},
	extendTop: function (size) {
		this.top -= size;
		this.height += size;
	},
	shiftTop: function (size) {
		this.top -= size;
		this.bottom -= size;
	},
	shiftLeft: function (size) {
		this.left -= size;
		this.right -= size;
	},
	shiftRight: function (size) {
		this.left += size;
		this.right += size;
	},
	shiftBottom: function (size) {
		this.top += size;
		this.bottom += size;
	}
});
/* Row.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * 
 * Row represent a row of the spreadsheet, it also be container that contains cells of the row
 */
zss.Row = zk.$extends(zk.Widget, {
	widgetName: 'Row',
	$o: zk.$void, //owner, fellows relationship no needed
	$init: function (sheet, block, row, src) {
		this.$supers(zss.Row, '$init', []); //DO NOT pass "arguments" or all fields will be copied into this Object. 
		
		this.sheet = sheet; //an object of zss.SSheetCtrl
		this.block = block;
		
		this.r = row;
		
		this.cells = [];
		this.wrapedCells = [];

		this._updateCacheSrc(src);
	},
	//ZSS-1181
	_updateCacheSrc: function (src) {
		this.src = src;
		this.zsh = src.getRowHeightId(this.r); // an ID to retrieve the row's custom height from the pool (this.sheet.custRowHeight)
	},
	bind_: function (desktop, skipper, after) {
		this.$supers(zss.Row, 'bind_', arguments);//after bind cells, may need to process wrap height
	},
	unbind_: function () {
		delete this.cells;
		this.r = this.zsh = null;
		this.$supers(zss.Row, 'unbind_', arguments);
	},
	updateAutoHeightDirty: function (oldCellHeight, newCellHeight) {
		// not implement in OSE
	},
	processCellAutoHeight: function (cell) {
		// not implement in OSE
	},
	addAutoHeightCell: function (cell) {
		// not implement in OSE
	},
	removeAutoHeightCell: function (cell) {
		// not implement in OSE
	},
	/**
	 * Append zss.Cell at the end of the row
	 * 
	 * @param zss.Cell
	 * @param boolean ignoreDom
	 */
	appendCell: function (cell, ignoreDom) {
		this.appendChild(cell, ignoreDom);
		this.cells.push(cell);
	},
	/**
	 * Insert zss.Cell
	 * 
	 * @param int index
	 * @param zss.Cell
	 * @param boolean ignoreDom
	 */
	insertCell: function (index, cell, ignoreDom) {
		var cells = this.cells,
			sibling = cells[index];
		this.insertBefore(cell, sibling, ignoreDom);
		cells.splice(index, 0, cell);
	},
	redraw: function (out) {
		out.push(this.getHtmlPrologHalf())
		var cells = this.cells,
			size = cells.length;
		for (var i = 0; i < size; i++) {
			var cell = cells[i];
			cell.redraw(out);
		}
		out.push(this.getHtmlEpilogHalf());
	},
	getHtmlPrologHalf: function () {
		return '<div id="' + this.uuid + '" class="' + this.getZclass() + '" zs.t="SRow">';
	},
	getHtmlEpilogHalf: function () {
		return '</div>';
	},
	//super//
	getZclass: function () {
		var cls = 'zsrow',
			hId = this.zsh;
		return hId ? cls + ' zsh' + hId : 'zsrow';
	},
	/**
	 * Returns the {@link zss.Cell}
	 * @param int col column
	 * @return zss.Cell
	 */
	getCell: function (col) {
		var size = this.cells.length,
			i = 0;
		//TODO use binary search
		for (i = 0; i < size; i++) {
			if (this.cells[i].c == col) return this.cells[i];
		}
		return null;
	},
	/**
	 * Returns the {@link zss.Cell}
	 * @param int index column index
	 * @return zss.Cell
	 */
	getCellAt: function (index) {
		return this.cells[index];
	},
	/**
	 * Remove cell
	 * @param int size
	 */
	removeLeftCell: function (size) {
		var cells = this.cells;
		var beforeSize = cells.length;
		while (size--) {
			if (!cells.length)
				return;
			cells.shift().detach();
		}
	},
	/**
	 * Remove right cell
	 * @param int size
	 */
	removeRightCell: function (size) {
		var cells = this.cells;
		while (size--) {
			if (!cells.length)
				return;
			cells.pop().detach();
		}
	},
	/**
	 * Sets the width position index
	 * @param int index cell index
	 * @param int zsw the width position index
	 */
	appendZSW: function (index, zsw) {
		var cell = this.cells[index];
		cell.appendZSW(zsw);
	},
	/**
	 * Sets the height position index
	 * @param int zsh the height position index
	 */
	appendZSH: function (zsh) {
		if (zsh) {
			this.zsh = zsh;
			jq(this.$n()).addClass("zsh" + zsh);
			var size = this.cells.length;
			for (var i = 0; i < size; i++)
				this.cells[i].appendZSH(zsh);	
		}
	},
	/**
	 * Insert new cell
	 * @param int index cell index
	 * @param int size
	 */
	insertNewCell: function (index, size) {
		var sheet = this.sheet,
			ctrl,
			cells = this.cells,
			col;
		
		if (index > cells.length) return;
		
		//there is a pentional BUG, if index==0 , not template to copy previous format
		//however, for now, the only templat need to copy is overflow and merge cell, 
		//and it is never be care if previous not beend loaded in client.
		var tempcell = index == 0 ? null : cells[index - 1];
		col = index == 0 ? cells[0].c :(tempcell.c + 1);
		
		var block = this.block,
			src = this.src,
			r = this.r;
		
		for (var i = 0; i < size; i++) {
			var c = col + i;
			
			//don't care merge property, it will be sync by removeMergeRange and addMergeRange.
			//don't care the sytle, since cell should be updated by continus updatecell event.
			ctrl = new zss.Cell(sheet, block, r, c, src);
			ctrl._justCopied = true; 
			//because of overflow logic, we must maintain overflow link from overhead
			//copy over flow attrbute overby and overhead,
			if (tempcell) {
				if (tempcell.overflowed) ctrl.overlapBy = tempcell;
				else if(tempcell.overlapBy) ctrl.overlapBy = tempcell.overlapBy;
			}
			this.insertCell(index + i, ctrl);
		}
		this.shiftCellInfo(index + size, col + size);
	},
	/**
	 * Shift cell's info
	 * @param int index the start index of the cell
	 * @param int newcol new column index
	 */
	shiftCellInfo: function (index, newcol) {
		var cells = this.cells,
			size = cells.length,
			j = 0;
		for(var i = index; i < size; i++)
			cells[i].resetColumnIndex(newcol+(j++));
	},
	/**
	 * Sets the row index
	 * @param int newrow new row index
	 */
	resetRowIndex: function (newrow) {
		this.r = newrow;
		var cells = this.cells,
			i = cells.length;
		while (i--)
			cells[i].resetRowIndex(newrow);
	},
	/**
	 * Remove the cell of the row
	 * @param int index cell index
	 * @param int size
	 */
	removeCell: function (index, size) {
		var ctrl,
			cells = this.cells,
			col;
		
		if (index > cells.length) return;
		if (index == cells.length)
			col = cells[index - 1].c + 1 ;
		else
			col = cells[index].c;

		var rem = cells.slice(index, index + size),
			tail = cells.slice(index + size, cells.length);
		cells.length = index;
		cells.push.apply(cells, tail);
		
		var cell = rem.pop();
		for (;cell ; cell = rem.pop()) {
			cell.detach();
		}
			
		this.shiftCellInfo(index, col);
	},
	getHeight: function(){
		return this.sheet.custRowHeight._getCustomizedSize(this.r);
	},
	doMouseMove_: function(evt) {
		var sheet = this.sheet,
			mx = evt.pageX,
			my = evt.pageY,
			position = zss.SSheetCtrl._calCellPos(sheet, mx, my),
			row = position[0],
			column = position[1],
			cell = sheet.getCell(row, column);

		//ZSS-454 Cannot click on hyperlink in the merge cell.
		if (cell!=null && cell.merr) {
			cell = sheet.getCell(cell.mert,cell.merl);
		}

		if (cell) {
			var $anchor = jq(cell.comp).find('a');
			if ($anchor.length > 0) {
				var anchor = $anchor[0];
				if(zkS.isOverlapByPoint(anchor, mx, my)) {
					this._cursor = 'pointer';
					jq(this.$n()).css('cursor', 'pointer');
					return;
				}
			} 
		}
		
		if (this._cursor) {
			this._cursor = null;
			jq(this.$n()).css('cursor', '');
		}
	}
}, {
	/**
	 * Returns a row that copy cells from target
	 * @param zss.Row tmprow a target row to copy it's cells
	 * @return string zss.Cell's html content
	 */
	copyCells: function (srcRow, destRow) {
		var cells = srcRow.cells;
			size = cells.length,
			r = destRow.r,
			html = '';
		for (var i = 0; i < size; i++) {
			var srcCell = cells[i],
				c = srcCell.c,
				src = srcCell.src,
				block = srcCell.block,
				sht = srcCell.sheet,
				newCell = new zss.Cell(sht, block, r, c, src);
			newCell._justCopied = true;
			html += newCell.getHtml();
			destRow.appendCell(newCell);
		}
		return html;
	}
});

/* ScrollInfo.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * ScrollInfo show current row/column information after scrolling
 */
zss.ScrollInfo = zk.$extends(zss.Info, {
	$init: function (sheet, cmp) {
		this.$supers('$init', arguments);
		this.horizontal = true;
		this.x = this.y = -1;
	},
	/**
	 * Show information by direction
	 * @param boolean horizontal
	 */
	showInfoOnDir: function (horizontal) {
		
		if (!this.enabled) return;
		var sheet = this.sheet,
			sp = sheet.sp,
			custColWidth = sheet.custColWidth,
			custRowHeight = sheet.custRowHeight,
			spcmp = sp.comp,
			viewLeft = spcmp.scrollLeft,
			viewTop = spcmp.scrollTop,
			viewWidth = spcmp.clientWidth,
			viewHeight = spcmp.clientHeight;
		
		if (horizontal) {
			var col = viewLeft;
			
			if (sheet.frozenCol > -1)
				col += custColWidth.getStartPixel(sheet.frozenCol + 1);
			
			col = custColWidth.getCellIndex(col)[0] + 1;
			this.setInfoText("Column : " + col);
			jq(this.comp).css('text-align', 'left');
		} else {
			var row = viewTop;
			if (sheet.frozenRow > -1)
				row += custRowHeight.getStartPixel(sheet.frozenRow + 1);

			row = custRowHeight.getCellIndex(row)[0] + 1;
			this.setInfoText("Row : " + row);
			jq(this.comp).css('text-align', 'right');
		}
		this.showInfo(true);
	},
	/** 
	 * Pin xy point and enable
	 * @param int x
	 * @param int y
	 * @param boolean horizontal
	 */
	pinXY: function(x, y, horizontal) {
		this.x = x;
		this.y = y;
		this.horizontal = horizontal;
		this.enabled = true;

		if (this.visible) {
			this.pinLocation(horizontal);
			this.showInfo(horizontal);
		}
	},
	/**
	 * Pin location
	 * @param boolean horizontal
	 */
	pinLocation: function (horizontal) {
		if (!this.enabled) return ;
		var sheet = this.sheet,
			spcmp = sheet.sp.comp;
		if (this.horizontal != horizontal) {
			this.x = -1;
			this.y = -1;
		}
		this.horizontal = horizontal;
		
		var viewWidth = spcmp.clientWidth,
			viewHeight = spcmp.clientHeight;
		
		if (!this.visible)
			jq(this.comp).css({'left': '-90000px', 'display': 'inline'});//show in non-visible for correct size
		var infox, infoy;
		
		if (horizontal) {
			infox = (this.x == -1) ? sheet.leftWidth + 1 : this.x;
			infoy = viewHeight - zk(this.comp).offsetHeight();
		} else {
			infox = viewWidth - zk(this.comp).offsetWidth();
			infoy = (this.y == -1) ? sheet.topHeight + 1 : this.y;
		}

		jq(this.comp).css({'left': jq.px(infox), 'top': jq.px(infoy)});
	}
});
/* ScrollPanel.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * ScrollPanel is used to handle spreadsheet scroll moving event,  
 */
zss.ScrollPanel = zk.$extends(zk.Object, {
	/**
	 * Scroll direction
	 */
	dir: 'south',
	$init: function (sheet) {
		this.$supers('$init', []);
		var wgt = sheet._wgt,
			scrollPanel = sheet.$n('sp');
		
		this.id = scrollPanel.id;
		this.sheet = sheet;
		this.comp = scrollPanel;
		this.currentTop = this.currentLeft = this.timerCount = 0;
		this.leftWidth = 28;//left head width
		this.topHeight = 20;//top head height
		this.timerRunning = false;//is timer for scroll running.
		this.lastMove = "";//the last move of scrolling,
		scrollPanel.ctrl = this;
		
		var dtcmp = this.sheet.dp.comp,//zkSDatapanelCtrl._currcmp(self);
			sccmp = this.comp;
		this.minLeft = this._getMaxScrollLeft(dtcmp, sccmp);
		this.minTop = this._getMaxScrollTop(dtcmp, sccmp);
		this.minHeight = dtcmp.offsetHeight;
		this.minWidth = dtcmp.offsetWidth;
		wgt.domListen_(scrollPanel, 'onScroll', this.proxy(this._doScrolling))
			.domListen_(scrollPanel, 'onMouseDown', this.proxy(this._doMousedown));
		
		jq(sheet.cp.$n()).on('mousewheel', this.proxy(this._doMouseWheel));
		jq(sheet.lp.$n()).on('mousewheel', this.proxy(this._doMouseWheel));
		jq(sheet.tp.$n()).on('mousewheel', this.proxy(this._doMouseWheel));
	},
	/**
	 * Returns the direction that scroll to
	 * 
	 * <ul>
	 * 	<li>north</li>
	 * 	<li>west</li>
	 * 	<li>east</li>
	 * 	<li>south</li>
	 * </ul>
	 * 
	 * @return string direction
	 */
	getDirection: function () {
		return this.dir;
	},
	reset: function (top, left) {
		var n = this.comp;
		n.scrollLeft = left;
		n.scrollTop = top;
		this.currentTop = top;
		this.currentLeft = left;
	},
	//ZSS-1134: IE9 only. Enforce set scroll position back
	_resetIE9ScrollPosition: function () {
		if (this._visFlg) return; //ZSS-1134: do NOT enforce if scrollToVisible()
		
		var spcmp = this.comp,
			sl = spcmp.scrollLeft,
			st = spcmp.scrollTop,
			sl0 = this.currentLeft,
			st0 = this.currentTop;
		if (sl == 0 && st == 0 && (sl != sl0 || st != st0))
			this.reset(st0, sl0);
	},
	cleanup: function () {
		var sheet = this.sheet,
			wgt = sheet._wgt,
			n = sheet.$n('sp');
		
		jq(sheet.tp.$n()).off('mousewheel', this.proxy(this._doMouseWheel));
		jq(sheet.lp.$n()).off('mousewheel', this.proxy(this._doMouseWheel));
		jq(sheet.cp.$n()).off('mousewheel', this.proxy(this._doMouseWheel));
		
		wgt.domUnlisten_(n, 'onScroll', this.proxy(this._doScrolling))
			.domUnlisten_(n, 'onMouseDown', this.proxy(this._doMousedown));
		
		this.invalid = true;
		if(this.comp) this.comp.ctrl = null;
		this.comp = this.sheet = null;
	},
	//ZSS-996
	_doMouseWheel: function (evt) {
		var event = evt.originalEvent,
			deltaX = event.wheelDeltaX,
			deltaY = event.wheelDeltaY ? event.wheelDeltaY / 120 : event.wheelDelta ? event.wheelDelta / 120 : -event.detail / 3,
			scrollPanel = jq(this.comp);
				
		if(deltaY && deltaY != 0)
			scrollPanel.scrollTop(scrollPanel.scrollTop() - (deltaY * 100));
		
		// ff & IE doesn't support horizontal mouse wheel
		if(deltaX && deltaX != 0)
			scrollPanel.scrollLeft(scrollPanel.scrollLeft() - (deltaX / 120 * 100));
	},
	_doMousedown: function (evt) {
		var cmp = this.comp;
		if(evt.domTarget != cmp) return;
		var data = zkS._getMouseData(evt, cmp);
		
		//calculate is xy in scroll bar
		var clickInHor = (data[1] < zk(cmp).offsetHeight() && data[1] > cmp.clientHeight);
			clickInVer = (data[0] < zk(cmp).offsetWidth() && data[0] > cmp.clientWidth);
		
		if( (clickInHor&&clickInVer) || (!clickInHor&&!clickInVer)) return;
		var sinfo = this.sheet.sinfo;
		sinfo.pinXY(data[0], data[1], clickInHor);
	},
	_doScrolling: function (evt) {
		//ZSS-1134: This is patchy; IE9 sometimes wrongly set spcmp.scrollLeft 
		//   to zero. We enforcly set it back if a call from SSheetCtrl.js#_fixSize()
		if (!evt && zk.ie && zk.ie == 9) {
			this._resetIE9ScrollPosition();
		}
		var sheet = this.sheet,
			dtcmp = sheet.dp.comp,
			sccmp = this.comp,
			scleft = sccmp.scrollLeft,
			sctop = sccmp.scrollTop,
			moveHorizontal = (scleft != this.currentLeft),
			moveVertical = (sctop != this.currentTop),
			moveLeft = scleft < this.currentLeft,
			moveTop = sctop < this.currentTop;
		
		if (moveHorizontal) {
			this.dir = moveLeft ? 'west' : 'east';
		} else {
			this.dir = moveTop ? 'north' : 'south';
		}
		this.currentLeft = scleft;
		this.currentTop = sctop;
		sheet.tp._updateLeftPos(-this.currentLeft);
		sheet.lp._updateTopPos(-this.currentTop);
		if (this._visFlg) {
			//if fire by scroll to visible, don't show info 
			this._visFlg = false;
		} else {
			/*show scroll info*/
			var sinfo = sheet.sinfo;
			if (moveHorizontal) {
				if (!sinfo.visible || !sinfo.horizontal)
					sinfo.pinLocation(true);
				sinfo.showInfoOnDir(true);
			}
			
			if (moveVertical) {
				if (!sinfo.visible || sinfo.horizontal)
					sinfo.pinLocation(false);
				sinfo.showInfoOnDir(false);
			}
			if (moveVertical || moveHorizontal)
				this._trackScrolling(moveVertical);
		}
	},
	_trackScrolling: function (vertical) {
		if (vertical)
			this._fireOnVScroll();//fire scroll vertical
		else
			this._fireOnHScroll();//fire scroll horizontal
	},
	_vscrollTimeoutId: null,
	_hscrollTimeoutId: null,
	_fireOnVScroll: function (time) {
		clearTimeout(this._vscrollTimeoutId);
		
		//this._vscrollTimeoutId = setTimeout(this.proxy(this._doVScroll), time >= 0 ? time : zk.gecko ? 200 : 60);
		var self = this;
		this._vscrollTimeoutId = setTimeout(function () {
			self._doVScroll();
		}, time >= 0 ? time : 60);
	},
	_fireOnHScroll: function (time) {
		clearTimeout(this._hscrollTimeoutId);
		
		//this._hscrollTimeoutId = setTimeout(this.proxy(this._doHScroll), time >= 0 ? time : zk.gecko ? 200 : 60);
		var self = this;
		this._vscrollTimeoutId = setTimeout(function () {
			self._doHScroll();
		}, time >= 0 ? time : 60);
	},
	_doVScroll: function () {
		this._doScroll(true);
	},
	_doHScroll: function () {
		this._doScroll(false);
	},
	_doScroll: function (vertical) {
		this.sheet.activeBlock.doScroll(vertical);
	},
	_getMaxScrollLeft: function (dtcmp, sccmp) {
		return (dtcmp.offsetWidth - sccmp.offsetWidth) + zss.Spreadsheet.scrollWidth;
	},
	_getMaxScrollTop: function (dtcmp, sccmp) {
		return (dtcmp.offsetHeight - sccmp.offsetHeight) + zss.Spreadsheet.scrollWidth;
	},
	/**
	 * scroll a row, col or cell to visible
	 * @param {Object} cell cell ctrl
	 */
	scrollToVisible: function (row, col, cell, direction, pos) { // ZSS-475: add direction parameter
																// ZSS-664: add position parameter
		
		if(direction == undefined || direction == null) {
			direction = zss.SCROLL_DIR.BOTH; 
		}

		if (!pos) {
			pos = zss.SCROLL_POS.NONE;
		}
		
		//zss-219, scrollToVisible should able to not depends on cell dom instance
		
		var sheet = this.sheet;
		if (cell) {
			row = cell.r;
		    col = cell.c;
		}
		var cellLoc = this._getCellLocation(sheet,row,col);
		
		var spcmp = this.comp,
			block = sheet.activeBlock,
			w = cellLoc.width,//cellcmp.offsetWidth, // component width
			h = cellLoc.height,//cellcmp.offsetHeight, // component height
			l = cellLoc.left + sheet.leftWidth,//cellcmp.offsetLeft + block.comp.offsetLeft,//cell left in row + block left in datapanel = cell left in scroll panel 
			t = cellLoc.top + sheet.topHeight,//cellcmp.parentNode.offsetTop + block.comp.offsetTop,//Row top in block + block top in datapanel = cell top in scroll panel.
			sl = spcmp.scrollLeft,//current scroll left
			st = spcmp.scrollTop,//current scroll top
			sw = spcmp.clientWidth,//scroll panel width(no scroll bar)
			sh = spcmp.clientHeight,//scroll panel height(no scroll bar)
			th = sheet.topHeight, //sheet top height
			lw = sheet.leftWidth, //sheet left width
			lsl = sl, //final scroll left
			lst = st, //final scroll top
			dirty = false,
			fzr = sheet.frozenRow, //processing for frozen
			fzc = sheet.frozenCol,
			fh = 0,
			fw = 0;
		
		/**
		 * I wan to provide a feature, is moveFocus on frozenpanel then don't scroll datapanel 
		 * but if scroll to visible after a jump(for example, at the last column then click HOME)
		 * then the datapanel wil be recreate, if i dont scroll to the certain cell, 
		 * then i will see a blank (because the cell in this position is all cleared. 
		 */
		var moveonfr = moveonfc = false;
		 
		if (zkS.t(col) && fzc > -1) {
			if (fzc < col)
				fw = sheet.custColWidth.getStartPixel(fzc + 1);
			else
				moveonfc = true;// cell on frozen col, no need to scroll datapanel 
		}
	
		if (zkS.t(row) && fzr > -1) {
			if (fzr < row)
				fh = sheet.custRowHeight.getStartPixel(fzr + 1);
			else
				moveonfr = true;// cell on frozen col, no need to scroll datapanel
		}
		//end procesing for frozen
		
		/**
		 * if cell width large then scroll panel width
		 * or cell left small then scroll panel left
		 * then scroll left = cell-left
		 * 
		 * if scroll right < cell right
		 * then scroll left = cell right - scroll width (show cell right at the end of right side 
		 */
		if (zkS.t(col) && !moveonfc) {
			//cellcmp width large then scroll pane || cell-left  small then scroll=panel-left
			if (( (sw - lw) < (w - fw)) || (l-lw) < (sl+fw) ) {  
				lsl = l-lw - fw;
				dirty = true;
			 } else if(sl + sw < l + w) {
				lsl = l + w - sw;
				dirty = true;
			}
		}
		if (zkS.t(row) && !moveonfr) {
			if (((sh - th < h - fh || t - th < st + fh) && pos != zss.SCROLL_POS.BOTTOM) ||
				pos == zss.SCROLL_POS.TOP) { 
				lst = t-th - fh;
				dirty = true;
			} else if (st + sh < t + h || pos == zss.SCROLL_POS.BOTTOM) {//top large then scroll panel bottom
				lst = t+h - sh;
				dirty = true;
			}
		}

		if (dirty) {
			this._visFlg = true;

			// ZSS-475: consider scrolling direction accroding to argument
			switch(direction) {
			case zss.SCROLL_DIR.HORIZONTAL :
					spcmp.scrollLeft = lsl;
					break;
			case zss.SCROLL_DIR.VERTICAL :
					spcmp.scrollTop = lst;
					break;
			case zss.SCROLL_DIR.BOTH :
					spcmp.scrollLeft = lsl;
					spcmp.scrollTop = lst;
					break;
			}
			//after this , onScroll will be fired.
		}
	},
	_getCellLocation : function(sheet, row, column){
		var loc = {};
		loc.left = sheet.custColWidth.getStartPixel(column);
		loc.width = sheet.custColWidth.getSize(column);
		loc.top = sheet.custRowHeight.getStartPixel(row);
		loc.height = sheet.custRowHeight.getSize(row);
		return loc;
	}
});
/* Sheetbar.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Jan 12, 2012 7:07:27 PM , Created by sam
}}IS_NOTE

Copyright (C) 2012 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
}}IS_RIGHT
*/
(function () {
	
zss.SheetMenupopup = zk.$extends(zul.menu.Menupopup, {
	$o: zk.$void,
	$init: function (wgt) {
		this.$supers(zss.SheetMenupopup, '$init', []);
		this._wgt = wgt;
		
		var sheet = this.sheet = wgt.sheetCtrl,
			del = this.deleteSheet = new zss.Menuitem({
				$action: 'deleteSheet',
				label: msgzss.action.deleteSheet
			}, wgt),
			rename = this.renameSheet = new zss.Menuitem({
				$action: 'renameSheet',
				label: msgzss.action.renameSheet
			}, wgt),
			copy = this.copySheet = new zss.Menuitem({
				$action: 'copySheet',
				label: msgzss.action.copySheet
			}, wgt),
			protect = this.protectSheet = new zss.Menuitem({
				$action: 'protectSheet',
				label: msgzss.action.protectSheet, 
				checkmark: true
			}, wgt),
			hide = this.hide = new zss.Menuitem({
				$action: 'hideSheet',
				label: msgzss.action.hideSheet
			}, wgt),
			unhide = this.unhide = new zss.Menuitem({
				$action: 'unhideSheet',
				label: msgzss.action.unhideSheet
			}, wgt);
			moveLeft = this.moveLeft = new zss.Menuitem({
				$action: 'moveSheetLeft',
				label: msgzss.action.moveSheetLeft
			}, wgt),
			moveRight = this.moveRight = new zss.Menuitem({
				$action: 'moveSheetRight',
				label: msgzss.action.moveSheetRight
			}, wgt);
		
		this.appendChild(del);
		this.appendChild(rename);
		this.appendChild(copy);
		this.appendChild(protect);
		
		this.appendChild(new zul.menu.Menuseparator());
		this.appendChild(hide);
		this.appendChild(unhide);
		this.appendChild(moveLeft);
		this.appendChild(moveRight);
	},
	doMouseDown_: function () {
		//eat event, if propagate to Spreadsheet will cause fail to click Menuitem
	},
	doMouseUp_: function () {
		//eat event, if propagate to Spreadsheet will cause fail to click Menuitem
	},
	onClickDeleteSheet: function () {
		this._wgt.fireSheetAction('delete');
	},
	onClickRenameSheet: function () {
		var sheetBar = this._wgt._sheetBar;
		if (sheetBar) {
			var tab = sheetBar.getSheetSelector().getSelectedTab();
			if (tab)
				tab.startEditing();
		}
	},
	onClickCopySheet: function() {
		this._wgt.fireSheetAction('copy');
	},
	onClickProtectSheet: function () {
		this._wgt.fireSheetAction('protect');
	},
	onClickHideSheet: function () {
		this._wgt.fireSheetAction('hide');
	},
	onClickUnhideSheet: function () {
		this._wgt.fireSheetAction('unhide');
	},
	onClickMoveSheetLeft: function () {
		this._wgt.fireSheetAction('moveLeft');
	},
	onClickMoveSheetRight: function () {
		this._wgt.fireSheetAction('moveRight');
	},
	setProtectSheetCheckmark: function (b) {
		this.protectSheet.setChecked(b);
	},
	bind_: function () {
		this.$supers(zss.SheetMenupopup, 'bind_', arguments);
		
		// ZSS-601: listen onClick here, not just attach listener to menu item
		// ZK replace DOM every time when using IE version less than 11
		// so, it will invoke unbind_() first then bind_()
		this.moveRight.listen({'onClick': this.proxy(this.onClickMoveSheetRight)});
		this.moveLeft.listen({'onClick': this.proxy(this.onClickMoveSheetLeft)});
		this.unhide.listen({'onClick': this.proxy(this.onClickUnhideSheet)});
		this.hide.listen({'onClick': this.proxy(this.onClickHideSheet)});
		this.protectSheet.listen({'onClick': this.proxy(this.onClickProtectSheet)});
		this.copySheet.listen({'onClick': this.proxy(this.onClickCopySheet)});
		this.renameSheet.listen({'onClick': this.proxy(this.onClickRenameSheet)});
		this.deleteSheet.listen({'onClick': this.proxy(this.onClickDeleteSheet)});
	},
	unbind_: function () {
		this.deleteSheet.unlisten({'onClick': this.proxy(this.onClickDeleteSheet)});
		this.renameSheet.unlisten({'onClick': this.proxy(this.onClickRenameSheet)});
		this.copySheet.unlisten({'onClick': this.proxy(this.onClickCopySheet)});
		this.protectSheet.unlisten({'onClick': this.proxy(this.onClickProtectSheet)});
		this.hide.unlisten({'onClick': this.proxy(this.onClickHideSheet)});
		this.unhide.unlisten({'onClick': this.proxy(this.onClickUnhideSheet)});
		this.moveLeft.unlisten({'onClick': this.proxy(this.onClickMoveSheetLeft)});
		this.moveRight.unlisten({'onClick': this.proxy(this.onClickMoveSheetRight)});
		
		this.$supers(zss.SheetMenupopup, 'unbind_', arguments);
	},
	open: function (ref, offset, position, opts) {
		var wgt = this._wgt,
			sheetName = ref.getLabel(),
			sheetLabels = wgt.getSheetLabels(),
			i = 0,
			len = sheetLabels.length;
		for (; i < len; i++) {
			var obj = sheetLabels[i];
			if (obj.name == sheetName) {
				break;
			}
		}
		if (this.moveLeft.isDisabled)
		this.moveLeft.setDisabled(i == 0 || this._moveLeftDisabled);//the first sheet not allow move left, ZSS-1099
		this.moveRight.setDisabled(i == len - 1 || this._moveRightDisabled);//the last sheet not allow move right, ZSS-1099
		
		this.protectSheet.setChecked(wgt.isProtect());
		
		position = 'before_start';
		this.$supers(zss.SheetMenupopup, 'open', arguments);
	},
	setDisabled: function (actions){
		var chd = this.firstChild;
		for (;chd; chd = chd.nextSibling) {
			if (!chd.setDisabled) {//Menuseparator
				continue;
			}
			
			chd.setDisabled(actions);
		}
		//ZSS-1099
		this._moveLeftDisabled = this.moveLeft.isDisabled();
		this._moveRightDisabled = this.moveRight.isDisabled();
	}
});

zss.SheetTab = zk.$extends(zul.tab.Tab, {
	$o: zk.$void, //owner, fellows relationship no needed
	$init: function (arg, wgt) {
		this.$supers(zss.SheetTab, '$init', [arg]);
		this._wgt = wgt;
		this._selector = arg.selector;
		this.appendChild(this.textbox = new zul.inp.Textbox({
			visible: false,
			onBlur: this.proxy(this.onStopEditing), // ZSS-308: spec. changed > do rename process when blurring 
			onOK: this.proxy(this.onStopEditing), // send by afterKeyDown_(), no matter event propagation is stopped
			onCancel: this.proxy(this.onCancelEditing), // send by afterKeyDown_(), no matter event propagation is stopped
			afterKeyDown_: this.proxy(function(evt){
				// editing doesn't need to be handled by CtrlKey detection in zss.Spreadsheet
				// here we let ESC(27) ENTER(13) to be handled by Spreadsheet in order to get onOK and Cancel behavior
				if(!this.editing || evt.keyCode === 27 || evt.keyCode === 13)
					this.$supers(zul.inp.InputWidget, 'afterKeyDown_', arguments);
			}),
			sclass: 'zssheettab-rename-textbox'
		}));
	},
	$define: {
		sheetUuid: null
	},
	domContent_: function () {
		var uid = this.uuid,
			scls = this.getSclass(),
			html = '<div id="' + uid + '-text" class="' + scls + '-text">' + this.getLabel() + '</div>' +
				this.textbox.redrawHTML_();
		return html;
	},
	onStopEditing: function () {
		// ZSS-308: if it's not in editing status, don't rename.
		// this prevents rename at non-editing statues
		// e.g: if server is slow enough, press Enter make ZK fire onOK and onBlur sequentially
		if (!this.editing) {
			return;
		}
		
		var name = this.getLabel(),
			text = this.textbox.getText();
		// ZSS-609: let component determine if the sheet name is legal
		//if (!text)
		//	return;
		
		if (name != text) {
			var wgt = this._wgt;
			this._wgt.fireSheetAction('rename', {name: text});
		}
		this.stopEditing();
	},
	onCancelEditing: function () {
		this.textbox.setText(this.getLabel());
		this.stopEditing();
	},
	stopEditing: function () {
		this.textbox.setVisible(false);
		this.editing = false;
		jq(this.getTextNode()).css('display', 'block');
	},
	startEditing: function () {
		var tb = this.textbox,
			val = this.getLabel();
		jq(this.getTextNode()).css({'display': 'none'});
		tb.setValue(val);
		tb.setVisible(true);
		tb.focus_();
		tb.select(0, val.length);
		this.editing = true;
	},
	isEditing: function () {
		return !!this.editing;
	},
	doDoubleClick_: function () {
		// ZSS-908 support disabled from server command
		if(this._selector.renameDisabled)
			return;
		var editing = this.isEditing();
		if (editing) {
			var tb = this.textbox;
			tb.select(0, tb.getText().length);
		} else {
			this.startEditing();
		}
	},
	//ZSS-1080: tricky. Avoid doClick_ proceed (until formula check on server is done)
	doClick_: function (event) {
		var sheet = this._wgt.sheetCtrl;
	
		if (sheet.asyncCheckFormula) { // is checking formula on server
			sheet.asyncCheckFormula = false;
			var sheetTab = this,
				event0 = event;
			sheet.sheetTabFn = function () 
				{ sheetTab.$supers(zss.SheetTab, 'doClick_', [event0]);};
			return;
		}
	
		this.$supers(zss.SheetTab, 'doClick_', arguments);
	},
	doMouseDown_: function (event) {
		//TODO: spreadsheet shall remain focus when mouse down on SheetTab
		//eat event
		var sheet = this._wgt.sheetCtrl;
		if (sheet.editingFormulaInfo) {
			sheet.isSwitchingSheet = true;
		}
	},
	doMouseUp_: function () {
		//eat event
	},
	doKeyDown_: function () {
		//eat event, or zss.SSheetCtrl might stop the event propagation and make Textbox no input 
	},
	afterKeyDown_: function () {
		//eat event, or zss.SSheetCtrl might stop the event propagation and make Textbox no input 
	},
	doKeyUp_: function () {
		//eat event, or zss.SSheetCtrl might stop the event propagation and make Textbox no input 
	},
	doKeyPress_: function () {
		//eat event, or zss.SSheetCtrl might stop the event propagation and make Textbox no input 
	},
	getTextNode: function () {
		return this.$n('text');
	},
	getSclass: function () {
		return 'zssheettab';
	}
});

// ZSS-858
zss.Tabs = zk.$extends(zul.tab.Tabs, {
	_scrollcheck: function(way, tb) {
		this._shallCheck = false;
		var tabbox = this.getTabbox();
		if (!this.desktop || 
				(tabbox && (!tabbox.isRealVisible() || !tabbox.isTabscroll())))
			return;

		var tabs = this.$n(),
			tbx = tabbox.$n();

		if (!tabs || !tbx) 
			return;	// tabbox is delete , no need to check scroll

		if (tabbox.isVertical()) { //vertical
			var tabsOffsetHeight = tabs.offsetHeight,
				tabsScrollTop = tabs.scrollTop,
				childHeight = 0;
			
			jq(this.$n('cave')).children().each(function () {
				childHeight += this.offsetHeight;
			});

			if (tabbox._scrolling) { //already in scrolling status
				var btnsize = this._getArrowSize();
				if (tabs.offsetHeight <= btnsize)  return;
				
				var sel = tabbox.getSelectedTab(),
					node = tb ? tb.$n() : (sel ? sel.$n() : null),
					nodeOffsetTop = node ? node.offsetTop : 0,
					nodeOffsetHeight = node ? node.offsetHeight : 0;
					
				if (childHeight <= tabsOffsetHeight + btnsize) {
					tabbox._scrolling = false;
					this._showbutton(false)
					tabs.style.height = jq.px0(tbx.offsetHeight-2);
					tabs.scrollTop = 0;
				}
				switch (way) {
				case 'end':
					var d = childHeight - tabsOffsetHeight - tabsScrollTop;
					this._doScroll(d >= 0 ? 'down' : 'up', d >= 0 ? d : Math.abs(d));
					break;
				case 'init':
				case 'vsel':
					if (nodeOffsetTop < tabsScrollTop) {
						this._doScroll('up', tabsScrollTop - nodeOffsetTop);
					} else if (nodeOffsetTop + nodeOffsetHeight > tabsScrollTop + tabsOffsetHeight) {
						this._doScroll('down', nodeOffsetTop + nodeOffsetHeight - tabsScrollTop - tabsOffsetHeight);
					}
					break;
				}
			} else { // not enough tab to scroll
				if (childHeight - tabsOffsetHeight > 0) {
					tabbox._scrolling = true;
					this._showbutton(true);
					var btnsize = this._getArrowSize(),
						temp = tbx.offsetHeight - btnsize;
					tabs.style.height = temp > 0 ? temp + 'px' : '';
					if (way == 'end') {
						var d = childHeight - tabsOffsetHeight - tabsScrollTop + 2;
						if (d >= 0)
							this._doScroll(this.uuid, 'down', d);
					}
				} else {
					this._showbutton(false);
				}
			}
		} else if(!tabbox.inAccordionMold()) {
			var cave = this.$n('cave'),
			 	sel = tabbox.getSelectedTab(),
				node = tb ? tb.$n() : ( sel ? sel.$n() : null),
			 	nodeOffsetLeft = node ? node.offsetLeft : 0,
				nodeOffsetWidth = node ? node.offsetWidth : 0,
				tabsOffsetWidth = tabs.offsetWidth,
				tabsScrollLeft = tabs.scrollLeft,
				childWidth = 0,
				toolbar = tabbox.toolbar,
				toolbarWidth = 0;

			jq(cave).children().each(function () {
				childWidth += this.offsetWidth;
			});
			
			if (toolbar && toolbar.desktop)
				toolbarWidth = toolbar.$n().offsetWidth;
			
			if (tabbox._scrolling) { //already in scrolling status
				var btnsize = this._getArrowSize();
				tabbox.$n('right').style.right = toolbarWidth + 'px';
				
				if (tabs.offsetWidth <= btnsize) return;
				if (childWidth <= tabsOffsetWidth + btnsize) {
					tabbox._scrolling = false;
					this._showbutton(false);
					tabs.style.width = jq.px0(tbx.offsetWidth - toolbarWidth);
					tabs.scrollLeft = 0;
				}
				// scroll to specific position
				switch (way) {
				case 'end':
					var d = childWidth - tabsOffsetWidth - tabsScrollLeft;
					this._doScroll(d >= 0 ? 'right' : 'left', d >= 0 ? d : Math.abs(d));
					break;
				case 'init':
				case 'sel':
					if (nodeOffsetLeft == tabsScrollLeft) // nothing to do
						break;
					
					if (nodeOffsetLeft < tabsScrollLeft) {
						this._doScroll('left', tabsScrollLeft - nodeOffsetLeft);
					} else if (nodeOffsetLeft + nodeOffsetWidth > tabsScrollLeft + tabsOffsetWidth) {
						this._doScroll('right', nodeOffsetLeft + nodeOffsetWidth - tabsScrollLeft - tabsOffsetWidth);
					}
					break;
				}
			} else { // not enough tab to scroll
				if (childWidth - tabsOffsetWidth > 0) {
					tabbox._scrolling = true;
					this._showbutton(true);
					var cave = this.$n('cave'),
						btnsize = this._getArrowSize(),
						temp = tbx.offsetWidth - toolbarWidth - btnsize;//coz show button then getsize again
					cave.style.width = '33554430px'; // maximum width for chrome
					tabs.style.width = temp > 0 ? temp + 'px' : '';
					tabbox.$n('right').style.right = toolbarWidth + 'px';
					
					if (way == 'sel') {
						if (nodeOffsetLeft < tabsScrollLeft) {
							this._doScroll('left', tabsScrollLeft - nodeOffsetLeft);
						} else if (nodeOffsetLeft + nodeOffsetWidth > tabsScrollLeft + tabsOffsetWidth) {
							this._doScroll('right', nodeOffsetLeft + nodeOffsetWidth - tabsScrollLeft - tabsOffsetWidth);
						}
					}
				} else {
					this._showbutton(false);
				}
			}
		}
	}
});

zss.SheetSelector = zk.$extends(zul.tab.Tabbox, {
	$o: zk.$void,
	$init: function (wgt, menu) {
		this.$supers(zss.SheetSelector, '$init', []);
		this._wgt = wgt;
		// ZSS-601: don't register context menu on Tabbox, just on Tab
		// and _context field should be a UUID string
		this._menu = menu; 
		this.setSheetLabels(wgt.getSheetLabels());
		this._orient = 'bottom';
	},
	setSheetLabels: function (labels) {
		var wgt = this._wgt,
			tabs = this.tabs,
			menu = this._menu,
			selTab = null,
			clkFn = this.proxy(this._onSelectSheet);
		if (tabs)
			tabs.detach();
		
		tabs = new zss.Tabs();
		for (var i = 0, len = labels.length; i < len; i++) {
			var obj = labels[i],
				tab = new zss.SheetTab({'label': obj.name, 'sheetUuid': obj.id, 
				'onClick': clkFn, 'onRightClick': clkFn, selector: this}, wgt);
			tab.setContext(menu);
			tabs.appendChild(tab);
			
			if (obj.sel)
				selTab = tab;
		}
		this.appendChild(tabs);
		if (selTab)
			this.setSelectedTab(selTab);
	},
	//when select different sheet, detach current sheet's widgets
	_detachSheetWidget: function () {
		var wgt = this._wgt,
			n = wgt.sheetCtrl.$n('wp');
		jq(n).children().each(function (i, n) {
			var w = zk.Widget.$(n.id);
			if (w) {
				w.detach();
			}
		});
	},
	_onSelectSheet: function (evt) {
		var tab = evt.target;
		if (!tab.$instanceof(zss.SheetTab)) {
			return;
		}
		this.doSelectSheet(tab.getSheetUuid(), this._wgt.sheetCtrl.isSwitchingSheet);
	},
	doSelectSheet: function (sheetId, ignoreStatus) {

		var	wgt = this._wgt,
			sheet = wgt.sheetCtrl,
			currSheetId = wgt.getSheetId();
		if (sheetId != currSheetId) {
			var useCache = false,
				row = -1, col = -1,
				left = -1, top = -1, right = -1, bottom = -1,
				hleft = -1, htop = -1, hright = -1, hbottom = -1,
				frow = -1, fcol = -1;
			
			this._detachSheetWidget();
			
			//For wgt.isSheetCSSReady() to work correctly.
			//when during select sheet in client side, server send focus Au command response first (set attributes later), 
			// _sheetId will be last selected sheet, cause isSheetCSSReady() doesn't work correctly 
			wgt._invalidatedSheetId = true;
			
			this.setDisabled(true);//shall not allow user to select sheet during loading sheet
			
			var cacheCtrl = wgt._cacheCtrl;
			if (cacheCtrl) {
				cacheCtrl.snap(currSheetId);//snapshot current sheet status
				if (cacheCtrl.isCached(sheetId)) {
					
					//restore target sheet status: focus, selection etc..
					var snapshop = cacheCtrl.getSnapshot(sheetId),
						visRng = snapshop.getVisibleRange(),
						focus = snapshop.getFocus(),
						sel = snapshop.getSelection(),
						hsel = snapshop.getHighlight(),
						dv = snapshop.getDataValidations(),
						af = snapshop.getAutoFilter(),
						tbafs = snapshop.getTableFilters(), //ZSS-988
						frow = snapshop.getRowFreeze(),
						fcol = snapshop.getColumnFreeze(),
						maxRows = snapshop.getMaxRows(), //ZSS-1082
						maxColumns = snapshop.getMaxColumns(); //ZSS-1082
						
					//ZSS-1082
					wgt.setMaxRows(maxRows);
					wgt.setMaxColumns(maxColumns);
					
					if (focus && !ignoreStatus) {
						row = focus.row;
						col = focus.column;
					}
					if (sel && !ignoreStatus) {
						left = sel.left;
						top = sel.top;
						right = sel.right;
						bottom = sel.bottom;
					}
					if (hsel && !ignoreStatus) { //highlight
						hleft = hsel.left;
						htop = hsel.top;
						hright = hsel.right;
						hbottom = hsel.bottom;
					}
					if (dv && !ignoreStatus) {
						wgt.setDataValidations(dv);
					} else if (wgt.setDataValidations) {
						wgt.setDataValidations(null);
					}
					if (af && !ignoreStatus) {
						wgt.setAutoFilter(af);
					} else if (wgt.setAutoFilter) {
						wgt.setAutoFilter(null);
					}
					//ZSS-988
					if (tbafs && !ignoreStatus) {
						wgt.setTableFilters(tbafs);
					} else if (wgt.setTableFilters) {
						wgt.setTableFilters(null);
					}
					wgt.setSheetId(sheetId, false, visRng);//replace widgets: cells, headers etc..
					
					//restore sheet last focus/selection
					if (row >= 0 && col >= 0 && !ignoreStatus) {
						sheet.moveCellFocus(row, col);
						sheet.moveCellSelection(left, top, right, bottom);
					}
					useCache = true;
				}
			}
			
			sheet.hideCellFocus();
			sheet.hideCellSelection();
			if (sheet.isHighlightVisible()) {
				sheet.hideHighlight(true);
			}
			
			wgt.fire('onSheetSelect', 
				{sheetId: sheetId, cache: useCache, 
				row: row, col: col, 
				left: left, top: top, right: right, bottom: bottom,
				hleft: hleft, htop: htop, hright: hright, hbottom: hbottom,
				frow: frow, fcol: fcol}, {toServer: true});
		}
	},
	//shall invoke this at the end of process setSelectedSheet
	setSelectedSheet: function (sheetId) {
		this.setProtectSheetCheckmark(this._wgt.isProtect());
		
		var tab = this.tabs.firstChild;
		for (;tab; tab = tab.nextSibling) {
			if (sheetId == tab.getSheetUuid()) {
				var sheet = this._wgt.sheetCtrl;
				if (sheet && !sheet.isSwitchingSheet) { //ZSS-1037: side-effect of ZSS-762
					// ZSS-762: blur spreadsheet to prevent it refocuses to inline editor
					sheet.dp._doFocusLost();
				}
				this.setSelectedTab(tab);
				break;
			}
		}
		
		if (!!this._disd) {
			this.setDisabled(false);
		}
	},
	setProtectSheetCheckmark: function (b) {
		this._menu.setProtectSheetCheckmark(b);
	},
	setDisabled: function (b) {
		// var cur = !!this._disd;
		// if (cur != b) {
		// 	this._disd = b;
		// 	var tab = this.tabs.firstChild;
		// 	for (;tab; tab = tab.nextSibling) {
		// 		tab.setDisabled(b);
		// 	}
		// }

		// ZSS-908 support disabled from server command
		var renameDisabled = false;
		if (jq.isArray(b)) {
			for(var i = 0, length = b.length; i < length; i++) {
				if(b[i] === 'renameSheet') {
					renameDisabled = true;
					break;
				}
			}	
			this.renameDisabled = renameDisabled;
		}
	},
   	redrawHTML_: function () {
   		return this.$supers(zss.SheetSelector, 'redrawHTML_', arguments);
   	},
   	getSclass: function () {
   		return 'zssheetselector';
   	}
});

zss.TabPopup = zk.$extends(zul.wgt.Popup, {
	$init: function() {
		this.$supers(zss.TabPopup, '$init', arguments);
		this.setSclass('zstab-popup');
	},
	doMouseDown_: function () {
		// cancel bubble
	},
	doMouseUp_: function () {
		// cancel bubble
	},
	bind_: function () {
		this.$supers(zss.TabPopup, 'bind_', arguments);
		this.domListen_(this.$n('cave'), 'onClick', '_doClick');
	},
	unbind_: function () {
		this.domUnlisten_(this.$n('cave'), 'onClick', '_doClick');
		this.$supers(zss.TabPopup, 'unbind_', arguments);
	},
	_doClick: function(evt) {
		var target = evt.target;
		if(target.widgetName == 'TabOption') {
			var sheetpanelCave = this.parent.parent;
			sheetpanelCave.sheetSelector.doSelectSheet(target.getSheetId(), 
					sheetpanelCave._wgt.sheetCtrl.isSwitchingSheet);
			this.close();
		}
	},
	afterOpenAnima_: function (ref, offset, position, opts) {
		this.$supers(zss.TabPopup, 'afterOpenAnima_', arguments);
		if (opts && opts.tabOption) {
			opts.tabOption.scrollIntoView();
		}
	}
});

zss.TabOption = zk.$extends(zul.wgt.Button, {
	$init: function() {
		this.$supers(zss.TabOption, '$init', arguments);
		this.setZclass('zstab-option');
	},
	widgetName: 'TabOption',
	$define: {
		sheetId: function(){}
	}
});

zss.SheetpanelCave = zk.$extends(zk.Widget, {
	$o: zk.$void,
	$init: function (wgt) {
		this.$supers(zss.SheetpanelCave, '$init', []);
		this.setHflex(true);
		this.setHeight("100%");
		this._wgt = wgt;
		
		var menu = this.menu = new zss.SheetMenupopup(wgt),
			addSheetBtn = this.addSheetButton = new zss.Toolbarbutton({
				$action: 'addSheet',
				tooltiptext: msgzss.action.addSheet,
				image: zk.ajaxURI('/web/zss/img/plus.png', {au: true}),
				onClick: this.proxy(this.onClickAddSheet)
			}),
			sheetMenuBtn = this.sheetMenuButton = new zss.Toolbarbutton({
				$action: 'showSheets',
				tooltiptext: msgzss.action.showSheets,
				image: zk.ajaxURI('/web/zss/img/ui-menu.png', {au: true}),
				onClick: function() {
					var labels = wgt.getSheetLabels(),
						inner = [],
						sheetId = wgt.getSheetId(),
						selected;
					popup.clear();
					for(var i = 0, label; label = labels[i++];) {						
						var labelId = label.id,
							tabOption = new zss.TabOption({
								label: label.name, 
								sheetId: label.id,
								sclass: label.id === sheetId ? 'zstab-option-select' : ''
							});
						popup.appendChild(tabOption);
						if (label.id === sheetId) {
							selected = tabOption;
						}
					}
					//will call into zss.TabPopup.afterOpenAnima_()
					popup.open(this, null, 'before_start', {'tabOption':selected});
				}
			}),
			hlayout = this.hlayout = new zul.box.Hlayout({spacing: 0}),
			sheetSelector = this.sheetSelector = new zss.SheetSelector(wgt, menu),
			popup = new zss.TabPopup(),
			addColBtn = this.addColButton = new zss.Toolbarbutton({ //ZSS-1082
				$action: 'addCol',
				tooltiptext: msgzss.action.addCol,
				image: zk.ajaxURI('/web/zss/img/control-stop-000-small.png', {au: true}),
				onClick: this.proxy(this.onClickAddCol)
			}),
			addRowBtn = this.addRowButton = new zss.Toolbarbutton({ //ZSS-1082
				$action: 'addRow',
				tooltiptext: msgzss.action.addRow,
				image: zk.ajaxURI('/web/zss/img/control-stop-270-small.png', {au: true}),
				onClick: this.proxy(this.onClickAddRow)
			});
		
		hlayout.appendChild(addSheetBtn);
		hlayout.appendChild(sheetMenuBtn);
		hlayout.appendChild(sheetSelector);
		hlayout.appendChild(addColBtn); //ZSS-1082
		hlayout.appendChild(addRowBtn); //ZSS-1082
		hlayout.appendChild(popup);
		
		this.appendChild(hlayout);
		this.appendChild(menu);
	},
	setFlexSize_: function(sz, isFlexMin) {
		var r = this.$supers(zss.SheetpanelCave, 'setFlexSize_', arguments),
			width = sz.width,
			btnWidth = 26 * 2 + 18 * 2; //ZSS-1082: button size, TODO: rm hard-code: jq(this.hlayout.$n().firstChild).width() get wrong value;

		if (width > btnWidth)
			this.sheetSelector.setWidth((width - btnWidth) + 'px');
	},
	onClickAddSheet: function () {
		this._wgt.fireSheetAction("add");
	},
	//ZSS-1082
	onClickAddRow: function () {
		this._wgt.fireRowAction("add");
	},
	//ZSS-1082
	onClickAddCol: function () {
		this._wgt.fireColAction("add");
	},
	//ZSS-1082
	bind_: function () {
		this.addColButton.setVisible(this._wgt._addColumn);
		this.addRowButton.setVisible(this._wgt._addRow);
		this.$supers(zss.SheetpanelCave, 'bind_', arguments);
	},
	redraw: function (out) {
		var uid = this.uuid;
		out.push('<div', this.domAttrs_(), '>');
		
		var chd = this.firstChild;
		for (;chd;chd = chd.nextSibling) {
			chd.redraw(out);
		}
		out.push('</div>');
	},
	setDisabled: function (actions){
		// TODO: consider applying sheet selector's and sheet menu's disabled. 
		this.addSheetButton.setDisabled(actions);
		this.sheetSelector.setDisabled(actions);
		this.menu.setDisabled(actions);
	}
});

zss.Sheetbar = zk.$extends(zul.layout.South, {
	$o: zk.$void,
	$init: function (wgt) {
		this.$supers(zss.Sheetbar, '$init', []);
		this._wgt = wgt;
		this.setBorder(0);
		this.setSize('28px');
		
		this.appendChild(this.cave = new zss.SheetpanelCave(wgt));
		
		this.setDisabled(wgt.getActionDisabled());
	},
	getSheetSelector: function () {
		return this.cave.sheetSelector;
	},
   	redrawHTML_: function () {
   		return this.$supers(zss.Sheetbar, 'redrawHTML_', arguments);
   	},
   	getSclass: function () {
   		return 'zssheetbar';
   	},
   	setDisabled: function (actions){
   		this.cave.setDisabled(actions);
   	}
});
})();
/* SSheetCtrl.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

(function () {
	_skey = [32,106,107,109,110,111,186,187,188,189,190,191,192,220,221,222,219];
	_opearKey = [42, 43, 45, 47, 61];
	function asciiChar (charcode) {
		if ((charcode != 13 && charcode != 9 && charcode < 32) || charcode > 127) return null;
		return String.fromCharCode(charcode);
	}
	function isAsciiCharkey (keycode) {
		//48-57 number, 65-90 alpha, 
		//number pad
		//0-9 96-105
		//* 106 + 107 - 109 . 110  / 111
		//special
		//;: 186  =+ 187 ,< 188  -_ 189   .> 190  /? 191  `~ 192 
		//\| 220  } 221 '" 222 [{ 219      
		var r = ((keycode >= 48 && keycode <= 57) ||
			(keycode >= 65 && keycode <= 90) || (keycode >= 96 && keycode <= 105)),
			i = _skey.length;
		if(r) return true;
		while (i--)
			if(keycode == _skey[i]) return true;
		if (zk.opera && _opearKey.$contains(keycode))
			return true;
		//firefox fire +(61) ;(59) -(173)
		if(zk.gecko && (keycode == 61 || keycode == 59 || keycode == 173)) return true;
		
		return false;
	}
	
	function _isEvtButton (evt, flag) {
		var r = false;
		if (flag.indexOf("l") != -1)
			r |= ((evt.which) && (evt.which == 1));
		if(!r && flag.indexOf("r") != -1)
			r |= ((evt.which) && (evt.which == 3));
		if(!r && flag.indexOf("m") != -1)
			r |= ((evt.which) && (evt.which == 2));
		return r;
	}
	
	function _isLeftMouseEvt (evt) {
		return (evt.which) && (evt.which == 1);
	}
	
	function _isMiddleMouseEvt (evt) {
		return (evt.which) && (evt.which == 2);
	}
	
	function _isRightMouseEvt (evt) {
		return (evt.which) && (evt.which == 3);
	}
	
	function syncAttributes(dst, src, fields) {
		for (var key in fields) {
			var f = fields[key];
			dst[f] = src[f];
		}
	}
	
	/**
	 * 1. show active block
	 * 2. cells may need to process wrap height
	 * 3. show focus/selection etc.
	 */
	function doAfterCSSReady(sheet) {
		var wgt = sheet._wgt;
		if (wgt.isSheetCSSReady()) {
			sheet.activeBlock.setVisible(true); //show cells
			sheet._doSSInitLater(); //may show focus, process wrap height
			if (!sheet.isSwitchingSheet) {
				wgt.focus();
			} else {
				sheet.inlineEditor.updateInfo();
				sheet.isSwitchingSheet = null;
			}
		} else {
			setTimeout(function () {
				doAfterCSSReady(sheet);
			}, 1);
		}
	}
	
	function newPositionArray(str) {
		var array = [];
		if (str) {
			str = str.split(",");
			var size  = str.length;
			for (var i = 0; i < size; i = i + 5)
				array.push([zk.parseInt(str[i]), zk.parseInt(str[i + 1]), zk.parseInt(str[i + 2]), 'true' == str[i+3], 'true' == str[i+4]]);
		}
		return array;
	}
	
	function newMergeMatrixArray(str) {
		var array = [];
		if (str && str != "") {
			str = str.split(";");
			var size = str.length,
				r;
			for (var i = 0; i < size; i++) {
				r = str[i].split(",");
				var range = new zss.Range(zk.parseInt(r[0]), zk.parseInt(r[1]), zk.parseInt(r[2]), zk.parseInt(r[3]));
				range.id = zk.parseInt(r[4]);
				array.push(range);
			}
		}
		return array;
	}
	
	
	function toHeaderTitleArray(headers) {
		var ts = [];
		for (var i = 0, len = headers.length; i < len; i++) {
			ts[i] = headers[i].t;
		}
		return ts;
	}

	function groupContains(group, index) {
		if (!group || group.length == 0)
			return false;
		return searchGroup(group, index, 0, group.length - 1);
	}

	// use binary search for better performance
	function searchGroup(group, key, min, max) {
		if (max < min)
			return false;
		var mid = Math.floor((min + max) / 2);
		if (group[mid].start > key) {
			return searchGroup(group, key, min, mid - 1);
		} else if (group[mid].end < key) {
			return searchGroup(group, key, mid + 1, max);
		} else {
			return true;
		}
	}

/**
 *  SSheetCtrl controls spreadsheet
 *  
 *  Sheet events
 *  <ul>
 *  	<li>onContentsChanged</li>
 *  	<li>onFocused: fire when sheet has focus (cell, widget etc...)</li>
 *  	<li>onCellSelection</li>
 *  	<li>onStartEditing</li>
 *  	<li>onStopEditing</li>
 *  </ul>
 *  
 */
zss.SSheetCtrl = zk.$extends(zk.Widget, {	
	$o: zk.$void, //no need to invoke _addIdSpaceDown, no fellows relationship
	/**
	 * Editing formula info
	 * 
	 * <ul>
	 * 	<li>start: the start index position in formula string, for insert cell address reference</li>
	 * 	<li>end: the end index position in formula string, for insert cell address reference</li>
	 * 	<li>type: either 'inlineEditiong' or 'formulabarEditing'</li>
	 *  <li>moveCell: boolean indicate whether key event shall move cell or not</li>
	 * </ul>
	 */
	editingFormulaInfo: null,
	// ZSS-514: change default line hight to normal
	lineHeight: 'normal', 
	$init: function (wgt) {
		this.$supers(zss.SSheetCtrl, '$init', []);
		this._wgt = wgt;
		this.setHflex(true);
		this.setVflex(true);
		this.pageKeySize = 100;
		this._initiated = false;
		
		this._clienttxt = '';
		
		//init function later queue, the function in this queue will be invoke in ZK InitialLater
		//I create this queue because ZK initial later doesn't support parameter.
		this._initLaterQ = [];//after init function queue
		this._initLaterQ.urgent = 0;//after init function queue
		
		this.state = zss.SSheetCtrl.NOFOCUS;
		
		//initial default size;
		this.topHeightDt = this.leftWidthDt = this.rowHeightDt = 
			this.colWidthDt = this.lineHeightDt = this.cellPadDt =  false;

		this.config = new zss.Configuration();
	},
	doSheetSelected: function (visRng) {
		if (this.bindLevel < 0) {//this method shall invoke after bind
			return;
		}
		var	wgt = this._wgt,
			sheet = this,
			cacheCtrl = wgt._cacheCtrl,
			dp = this.dp,
			sp = this.sp,
			tp = this.tp,
			lp = this.lp,
			snapshot = cacheCtrl.getSnapshot(wgt.getSheetId());
		if (snapshot) {
			syncAttributes(wgt, snapshot, 
				['_displayGridlines', '_rowFreeze', '_columnFreeze', '_rowHeight', '_columnWidth', '_protect']);
			var d = snapshot.getDataPanelSize(),
				s = snapshot.getScrollPanelPos();
			
			dp.reset(d.width, d.height);
			sp.reset(s.scrollTop, s.scrollLeft);
			lp._updateTopPos(snapshot.getLeftPanelPos());
			tp._updateLeftPos(snapshot.getTopPanelPos());
		} else { //switch to new sheet focus on [0, 0]
			sp.reset(0, 0);
			lp._updateTopPos(0);
			tp._updateLeftPos(0);
		}
		
		this.serverSheetId = wgt.getSheetId();
		this.topHeight = wgt.getTopPanelHeight(); //default top panel height 20
		this.leftWidth = wgt.getLeftPanelWidth(); //default left panel width 28
		this.rowHeight = wgt.getRowHeight(); //default row height 20
		this.colWidth = wgt.getColumnWidth(); //default column width 80
		this.frozenRow = wgt.getRowFreeze();
		this.frozenCol = wgt.getColumnFreeze();

		this.custColWidth = new zss.PositionHelper(this.colWidth, snapshot ? snapshot.getCustColWidth() : newPositionArray(wgt.getCsc()));
		this.custColWidth.ids = new zss.Id(snapshot?snapshot.getCustColLastId():0, 2);
		
		this.custRowHeight = new zss.PositionHelper(this.rowHeight, snapshot ? snapshot.getCustRowHeight() : newPositionArray(wgt.getCsr()));
		this.custRowHeight.ids = new zss.Id(snapshot?snapshot.getCustRowLastId():0, 2);
		
		//merge range
		this.mergeMatrix = new zss.MergeMatrix(snapshot ? snapshot.getMergeMatrix() : newMergeMatrixArray(wgt.getMergeRange()), this);

		var data = wgt._cacheCtrl.getSelectedSheet(),
			sheetCSSReady = wgt.isSheetCSSReady();
		visRng = visRng || zss.SSheetCtrl._getVisibleRange(this);
		if (data) {			
			var oldBlock = this.activeBlock,
				oldTopPanel = this.tp,
				oldLeftPanel = this.lp,
				oldCornerPanel = this.cp,
				rows = data.rows,
				rect = data.rect,
				tRow = visRng.top,
				bRow = visRng.bottom,
				lCol = visRng.left,
				rCol = visRng.right,
				rowHeadHidden = wgt._rowHeadHidden,
				colHeadHidden = wgt._columnHeadHidden,
				tRow0 = tRow > 0 ? this.mergeMatrix.getTopRow(tRow) : 0, //ZSS-927
				lCol0 = lCol > 0 ? this.mergeMatrix.getLeftCol(lCol) : 0; //ZSS-927
			if (bRow > rect.bottom)
				bRow = rect.bottom;
			if (rCol > rect.right)
				rCol = rect.right;
			// ZSS-392: every panel use it's owned ActiveRange data
			var activeBlock = new zss.MainBlockCtrl(sheet, tRow0, lCol0, bRow, rCol, data); //ZSS-927
			var topPanel = new zss.TopPanel(sheet, rowHeadHidden, lCol0, rCol, (data.topFrozen ? data.topFrozen : data)); //ZSS-927
			var leftPanel = new zss.LeftPanel(sheet, colHeadHidden, tRow0, bRow, (data.leftFrozen ? data.leftFrozen : data)); //ZSS-927

			if (!sheetCSSReady) {//set visible after CSS loaded
				activeBlock.setVisible(false);
			}
			if (oldTopPanel) {
				oldTopPanel.replaceWidget(this.tp = topPanel);
			} else {
				this.appendChild(this.tp = topPanel, true);
			}
			
			if (oldLeftPanel) {
				oldLeftPanel.replaceWidget(this.lp = leftPanel);
			} else {
				this.appendChild(this.lp = leftPanel, true);
			}
			
			var cornerPanel = new zss.CornerPanel(sheet, rowHeadHidden, colHeadHidden, lCol, tRow, rCol, bRow, data); // corner needs other two freeze panels' data for header
			
			if (oldCornerPanel) {
				oldCornerPanel.replaceWidget(this.cp = cornerPanel);
			} else {
				this.appendChild(this.cp = cornerPanel, true);
			}
			if (oldBlock) {
				//Note. do not use MainBlockCtrl.replaceWidget (for row/column freeze)
				activeBlock.replaceHTML(oldBlock.$n(), this.desktop, null, true);
				this.activeBlock = activeBlock;
			} else {
				this.appendChild(this.activeBlock = activeBlock, true);
			}

			this.fireProtectSheet(wgt.isProtect());
			this.fireDisplayGridlines(wgt.isDisplayGridlines());
			
			dp._fixSize(this.activeBlock);
			this._fixSize();
		}
		if (!sheetCSSReady) {
			this.addSSInitLater(function () {
				sheet._resize();
			});
		} else {
			this._resize();
		}
		doAfterCSSReady(this);
	},
	//ZSS-1087: restore panel postion 
	restorePos_: function (snapshot) {
		if (!snapshot) return; //ZSS-1095
		if (this.bindLevel < 0) {//this method shall invoke after bind
			return;
		}
		var	wgt = this._wgt,
			sheet = this,
			cacheCtrl = wgt._cacheCtrl,
			dp = this.dp,
			sp = this.sp,
			tp = this.tp,
			lp = this.lp;
//		syncAttributes(wgt, snapshot, 
//			['_displayGridlines', '_rowFreeze', '_columnFreeze', '_rowHeight', '_columnWidth', '_protect']);
		var d = snapshot.getDataPanelSize(),
			s = snapshot.getScrollPanelPos();
		
		dp.reset(d.width, d.height);
		sp.reset(s.scrollTop, s.scrollLeft);
		lp._updateTopPos(snapshot.getLeftPanelPos());
		tp._updateLeftPos(snapshot.getTopPanelPos());
	},
	afterParentChanged_: function () { //all attributes set when afterParentChanged_
		var self = this,
			wgt = this._wgt;
		
		this.sheetid = wgt.uuid;
		
		//current server sheet index
		this.serverSheetId = wgt.getSheetId();
		
		var rowHeight = wgt.getRowHeight(),
			colWidth = wgt.getColumnWidth();
	
		this.maxCols = wgt.getMaxColumns();
		this.maxRows = wgt.getMaxRows();
		this.topHeight = wgt.getTopPanelHeight(); //default top panel height 20
		this.leftWidth = wgt.getLeftPanelWidth(); //default left panel width 28
		this.cellPad = wgt.getCellPadding();
		this.rowHeight = wgt.getRowHeight(); //default row height 20
		this.colWidth = wgt.getColumnWidth(); //default column width 80
		
		//initial time parameter
		var initparm = this.initparm = {},
			fs = wgt.getFocusRect();
		fs = fs.split(",");
		initparm.focus = new zss.Pos(zk.parseInt(fs[1]), zk.parseInt(fs[0]));//[row,col]
		
		var sel = wgt.getSelectionRect();
		sel = sel.split(",");
		initparm.selrange = new zss.Range(zk.parseInt(sel[0]), zk.parseInt(sel[1]),zk.parseInt(sel[2]),zk.parseInt(sel[3]));
		
		var hl = wgt.getHighLightRect();
		if (hl) {
			hl = hl.split(",");
			initparm.hlrange = new zss.Range(zk.parseInt(hl[0]), zk.parseInt(hl[1]), zk.parseInt(hl[2]), zk.parseInt(hl[3]));
			
			this.addSSInitLater(function() {
				var range = self.initparm.hlrange;
				self.hlArea.show = true;
				self.moveHighlight(range.left, range.top, range.right, range.bottom);
			});
			
		} else {
			initparm.hlrange = new zss.Range(-1, -1, -1, -1);
		}

		this.custColWidth = new zss.PositionHelper(this.colWidth, newPositionArray(wgt.getCsc()));
		this.custColWidth.ids = new zss.Id(0, 2);
		
		this.custRowHeight = new zss.PositionHelper(this.rowHeight, newPositionArray(wgt.getCsr()));
		this.custRowHeight.ids = new zss.Id(0, 2);
		
		this.mergeMatrix = new zss.MergeMatrix(newMergeMatrixArray(wgt.getMergeRange()), this);
		
		//frozen row & column
		this.frozenRow = wgt.getRowFreeze();
		this.frozenCol = wgt.getColumnFreeze();
		
		var sheet = this,
			cacheCtrl = wgt._cacheCtrl,
			ar = cacheCtrl.getSelectedSheet();
		
		this.appendChild(this.inlineEditor = new zss.Editbox(sheet));
		if (ar) {
			var	rows = ar.rows,
				rect = ar.rect,
				tRow = rect.top,
				lCol = rect.left,
				rCol = rect.right,
				bRow = rect.bottom,
				rowHeadHidden = wgt._rowHeadHidden,
				colHeadHidden = wgt._columnHeadHidden;
			
			//TODO: measure best init size
			bRow = tRow + 20; //load row size
			rCol = lCol + 20; //load column size
			if (bRow > rect.bottom)
				bRow = rect.bottom;
			if (rCol > rect.right)
				rCol = rect.right;
			
			// ZSS-392: every panel use it's owned ActiveRange data
			this.appendChild(this.activeBlock = new zss.MainBlockCtrl(sheet, tRow, lCol, bRow, rCol, ar), true);
			this.appendChild(this.tp = new zss.TopPanel(sheet, rowHeadHidden, lCol, rCol, (ar.topFrozen ? ar.topFrozen : ar)), true);
			this.appendChild(this.lp = new zss.LeftPanel(sheet, colHeadHidden, tRow, bRow, (ar.leftFrozen ? ar.leftFrozen : ar)), true);
			this.appendChild(this.cp = new zss.CornerPanel(sheet, rowHeadHidden, colHeadHidden, lCol, tRow, rCol, bRow, ar), true); // corner needs other two freeze panels' data for header
		}
		
		this.innerClicking = 0;// mouse down counter to check that is focus rellay lost.
	},
	setFlexSize_: function(sz, isFlexMin) {
		var r = this.$supers(zss.SSheetCtrl, 'setFlexSize_', arguments);
		if (!this._initiated) {
			zss.Spreadsheet.initLaterAfterCssReady(this);
		}
		this._resize();
		return r;
	},
	//ZSS-884
	isWatchable_: function (name, p, cache) {
		if ("onSize" == name)
			return !!this.$n();
		else
			return this.$supers(zss.SSheetCtrl, 'isWatchable_', arguments);
	},
	bind_: function (desktop, skipper, after) {
		this.$supers(zss.SSheetCtrl, 'bind_', arguments);
		//ZSS 125: already process wrap on row.bind_
		delete this._wrapRange;
		
		zss.SSheetCtrl._initInnerComp(this, this._wgt._autoFilter ? this._wgt._autoFilter.range.top : null);
		this.listen({onContentsChanged: this, onRowHeightChanged: this});
		
		var n = this.comp = this.$n();
		n.ctrl = this;
	},
	unbind_: function () { 
		this.unlisten({onContentsChanged: this, onRowHeightChanged: this});
		this.animateHighlight(false);
		this.invalid = true;

		if(this.comp) this.comp.ctrl = null;
		this.comp = this.busycmp = this.maskcmp = this.spcmp = this.topcmp = 
		this.leftcmp = this.sinfocmp = this.infocmp = this.focusmarkcmp =
		this.selareacmp = this.selchgcmp = this.hlcmp = this.wpcmp = null;
		
		if (this.dragging) {
			this.dragging.cleanup();
			this.dragging = null;
		}
		
		this.sp.cleanup();
		this.dp.cleanup();
		
		this.sinfo.cleanup();
		this.info.cleanup();
		this.focusMark.cleanup();
		this.selArea.cleanup();
		this.selChgArea.cleanup();
		this.hlArea.cleanup();
		this.sp = this.dp = this.tp = this.lp = this.cp = this.sinfo = this.info = 
		this.inlineEditor = this.focusMark = this.selArea = this.selChgArea = this.hlArea = null;
		
		this.custTHSize = this.custLHSize = this._initLaterQ =
		this._lastmdelm = this._lastmdstr = null;
		
		this.$supers(zss.SSheetCtrl, 'unbind_', arguments);
	},
	//ZSS-944
	/**
	 * Sets the rotate 90deg column
	 * 
	 * @param int row the row index
	 * @param int col the column index
	 * @param boolean run indicate whether to process rotate now or not
	 */
	triggerRotateColumn_: function (row, col, run) {
		var r = this._rotateRange;
		if (!r)
			r = this._rotateRange = {}; //tRow, bRow, and col attributes
		var rCol = r.col;
		rCol ? r.col = Math.max(rCol, col) : r.col = col;
		if (row) {
			var	tRow = r.tRow,
				bRow = r.bRow;
			tRow ? r.tRow = Math.min(tRow, row) : r.tRow = row;
			bRow ? r.bRow = Math.max(bRow, row) : r.bRow = row;
		}
		if (run) {
			this.fireProcessRotate_();
		}
	},
	//ZSS-944
	/**
	 * Fire process cell 90deg rotate event
	 */
	fireProcessRotate_: function () {
		var r = this._rotateRange;
		if (r != undefined) {
			this.fire('onProcessRotate', {col: r.col, tRow: r.tRow, bRow: r.bRow});
			delete this._rotateRange;
		}
	},
	/**
	 * Sets the overflow column, columns before need to process overflow
	 * 
	 * @param int row the row index
	 * @param int col the column index
	 * @param boolean run indicate whether to process overflow now or not
	 */
	triggerOverflowColumn_: function (row, col, run) {
		var r = this._overflowRange;
		if (!r)
			r = this._overflowRange = {}; //tRow, bRow, and col attributes
		var rCol = r.col;
		rCol ? r.col = Math.max(rCol, col) : r.col = col;
		if (row) {
			var	tRow = r.tRow,
				bRow = r.bRow;
			tRow ? r.tRow = Math.min(tRow, row) : r.tRow = row;
			bRow ? r.bRow = Math.max(bRow, row) : r.bRow = row;
		}
		if (run) {
			this.fireProcessOverflow_();
		}
	},
	triggerWrap: function (row, run) {
		var r = this._wrapRange = this._wrapRange || {};
		typeof r.tRow == 'undefined' ? r.tRow = row : r.tRow = Math.min(r.tRow, row);
		typeof r.bRow == 'undefined' ? r.bRow = row : r.bRow = Math.max(r.bRow, row);
		if (run) {
			this.fireProcessWrap_();
		}
	},
	/**
	 * Fire process cell overflow event
	 */
	fireProcessOverflow_: function () {
		var r = this._overflowRange;
		if (r != undefined) {
			this.fire('onProcessOverflow', {col: r.col, tRow: r.tRow, bRow: r.bRow});
			delete this._overflowRange;
		}
	},
	fireProcessWrap_: function () {
		if (this._wgt.isSheetCSSReady()){
			var r = this._wrapRange;
			if (r != undefined) {
				this.fire('onProcessWrap', {tRow: r.tRow, bRow: r.bRow});
				delete this._wrapRange;
			}
		}else{
			var self = this; 
			setTimeout(function(){
				self.fireProcessWrap_();
				},25);
		}
	},
	fireProcessAutoHeight_: function() {
		// not implement in OSE
	},
	//TODO: change to fire 'onSelectedSheet' evt
	fireProtectSheet: function (protect) {
		this.fire('onProtectSheet', {protect: protect});
	},
	fireDisplayGridlines: function (show) {
		this.fire('onDisplayGridlines', {show: show});
	},
	triggerSelection: function (tRow, lCol, bRow, rCol) {
		var r = this._selectionRange;
		if (!r) {
			r = this._selectionRange = {};//tRow, lCol, bRow, rCol
		}
		
		var top = r.tRow,
			left = r.lCol,
			btm = r.bRow,
			right = r.rCol;
		top ? r.tRow = Math.min(tRow, top) : r.tRow = tRow;
		left ? r.lCol = Math.min(lCol, left) : r.lCol = lCol;
		btm ? r.bRow = Math.max(bRow, btm) : r.bRow = bRow;
		right ? r.rCol = Math.max(rCol, right) : r.rCol = rCol;
	},
	onContentsChanged: function (evt) {
		this.fireProcessOverflow_();
		this.fireProcessAutoHeight_();
		
		var r = this._selectionRange;
		if (r) {
			this.deferFireCellSelection(r.lCol, r.tRow, r.rCol, r.bRow);
			this._selectionRange = null;
		}
	},
	onRowHeightChanged: function () {
		var h = this.hlArea;
		if (h.show) {
			h.relocate();
		}
	},
	_addEditorFocus : function(id, name){
		var x = this.focusmarkcmp,
			div = x.cloneNode(true);
		
		div.id = div.id + '_' + id;
		div.style.borderWidth = "3px";
		x.parentNode.appendChild(div);
		if(!this.editorFocusMark)
			this.editorFocusMark = new Object();
		this.editorFocusMark[id] = new zss.FocusMarkCtrl(this, div, new zss.Pos(0, 0));

		//ZSS-1043
		if (this.tp) {
			this.tp.addEditorFocus(id, name);
		}
		if (this.lp) {
			this.lp.addEditorFocus(id, name);
		}
		if (this.cp) {
			this.cp.addEditorFocus(id, name);
		}
	},
	removeEditorFocus : function(id){
		if (!this.editorFocusMark)
			return;
		var ctrl = this.editorFocusMark[id];
		if (ctrl) {
			ctrl.comp.parentNode.removeChild(ctrl.comp);
			ctrl.cleanup();
		}
		this.editorFocusMark[id] = null;

		//ZSS-1043
		if (this.tp) {
			this.tp.removeEditorFocus(id);
		}
		if (this.lp) {
			this.lp.removeEditorFocus(id);
		}
		if (this.cp) {
			this.cp.removeEditorFocus(id);
		}
	},
	moveEditorFocus : function(id, name, color, row, col){
		if(!this.editorFocusMark || !this.editorFocusMark[id]){
			this._addEditorFocus(id, name);
		}
		this.editorFocusMark[id].relocate(row, col);
		this.editorFocusMark[id].showMark(color, name); //new color/oldcolor with label
		
		//ZSS-1043
		if (this.tp) {
			this.tp.moveEditorFocus(id, name, color, row, col);
		}
		if (this.lp) {
			this.lp.moveEditorFocus(id, name, color, row, col);
		}
		if (this.cp) {
			this.cp.moveEditorFocus(id, name, color, row, col);
		}
	},
	_resize: function () {
		if (this.invalid) return;

		this._fixSize();
		if (!this.activeBlock.loadForVisible()) //bug#303:avoid hide to visible and the mask is still there
			this.showMask(false);
	},
	/**
	 * Returns whether is dragging or not
	 * @return boolean
	 */
	isDragging: function () {
		return this.dragging ? true : false;
	},
	/**
	 * Returns whether is stop dragging or not
	 * @return boolean
	 */
	stopDragging: function () {
		if (this.dragging) {
			this.dragging.cleanup();
			this.dragging = null;
		}
	},
	/**
	 * Sets dragging status
	 * @param boolean dragging
	 */
	setDragging: function (dragging) {
//		this.stopDragging(); //ZSS-1048: Should call stopDragging() by caller
		this.dragging = dragging;
	},
	/**
	 * Returns whether is in asynchronous state or not
	 * @return boolean
	 */
	isAsync: function(){
		return (this.state&1 == 1);
	},
	/**
	 * Add init function to queue
	 * @param fn
	 * @param arg0
	 * @param arg1
	 * @param arg2
	 * @param arg3
	 */
	addSSInitLater: function (fn, arg0, arg1, arg2, arg3) {
		this._initLaterQ.push([fn, arg0, arg1, arg2, arg3]);
	},
	/**
	 * Insert init function to the queue
	 * @param fn
	 * @param arg0
	 * @param arg1
	 * @param arg2
	 * @param arg3
	 */
	insertSSInitLater: function(fn, arg0, arg1, arg2, arg3){
		this._initLaterQ.unshift([fn,arg0,arg1,arg2,arg3]);
		this._initLaterQ.urgent ++;
	},
	_doSSInitLater: function () {
		if(this.invalid) return;
		var local = this,
			queu = local._initLaterQ;

		if (queu.length == 0) return;
		var urgent = queu.urgent,
			parm,
			count = 0;
		while ((parm = queu.shift())) {
			parm[0](parm[1], parm[2], parm[3], parm[4]);//fn, arg0,arg1,arg2
			if(count > urgent &&  count >= 25 ){//break a while.
				setTimeout(function(){
					local._doSSInitLater();
				}, 1);
				break;
			}
			count++;
		}
		queu.urgent = 0;
	},
	_cmdCellUpdate: function (shtId, result) {
		var type = result.type,
			row = result.r, // be careful r does not always mean "row" in certain update type.
			col = result.c, // for example, in type udcell, r means "right" and no c attribute. 
			value = result.val,
			server = result.server; //use editValue from server
		switch(type){
		case "udtext" :
			this._updateText(result);
			break;
		case "udcell":
			var wgt = this._wgt,
				data = result,
				cCtl = this._wgt._cacheCtrl,
				cacheSheet = cCtl.getSheetBy(shtId),
				selSheet = cCtl.getSelectedSheet(),
				ls = this.getLastSelection();
			//ZSS-1181
			if (!selSheet && !cacheSheet) {
				cCtl.setSelectedSheet(data);
				this.update_(data, true); // update cell DOM and update cached src (ZSS-1181)
				wgt._triggerContentsChanged = true;
				this.sendSyncblock(true);
			} else if (cacheSheet) {
				cacheSheet.update(data); // update cell model 
				if (cacheSheet.id == selSheet.id) {//update current sheet
					// ZSS-392: update every panel separately 
					this.update_(data); // update cell DOM
					wgt._triggerContentsChanged = true;
				}
			}
			if (ls) {
				// ZSS-579: fire onCellUpdate to notify toolbar button to change status
				this.fire('onCellUpdate', ls);
			}
			break;
		case "startedit":
			var editType = result.et,
				dp = this.dp;
			//ZSS 171
			this._skipInsertCellRef = true;
			if ('inlineEditing' == editType) {
				if (!dp._moveFocus(row, col, true, true)) {
					//TODO, if cell not initial, i should skip or put to delay batch? 
					break;
				}
			}
			//ZSS 171
			this._skipInsertCellRef = false;
			dp._startEditing(value, server, editType);
			break;
		case "stopedit":
			this.dp._stopEditing();
			break;
		case "canceledit":
			//ZSS-1164
			var cell = this.getCell(row, col);
			if (cell) cell._setText(cell.text);
			
			this.dp.cancelEditing(result.et);
			break;
		case "retryedit":
			//ZSS-1164
			var cell = this.getCell(row, col);
			if (cell) cell._setText(cell.text);
			
			this.dp.retryEditing(value, row, col);
			break;
		}
	},
	_cmdBlockUpdate: function (type, dir, tRow, lCol, bRow, rCol) {
		switch (type) {
		case 'neighbor': //move to a neighbor block
			this.activeBlock.loadForVisible();
			if (zk.ie && zk.ie < 11) {
				//TODO: test if set display none could speedup or not when switch cache  
				//ie have some display error(cell overlap) when scroll up(neighbor north)
				//same issue when scroll right
				var dp = this.dp.comp,
					l = this.lp.comp;
				jq(dp).css('display', 'none');//for speed up
				jq(l).css('display', 'none');//for speed up
				
				zk(dp).redoCSS();
				zk(l).redoCSS();
				
				jq(dp).css('display', '');
				jq(l).css('display', '');
			}
			break;
		case 'jump'://jump to another bolck, not a neighbor
			var oldBlock = this.activeBlock,
				wgt = this._wgt,
				data = wgt._cacheCtrl.getSelectedSheet(),
				vrange = new zss.Range(lCol, tRow, rCol, bRow);
			oldBlock.replaceWidget(this.activeBlock = new zss.MainBlockCtrl(this, tRow, lCol, bRow, rCol, data)); // rebuild cell DOM from cache 
			this.dp._fixSize(this.activeBlock);
			this.activeBlock.loadForVisible(vrange); //20160203,henrichen: jump, so visible change accordingly
			break;
		case 'error': //fetch cell with exception
			break;
		}
		this.showMask(false);
		
		//bug 1951423 IE : row is broken when scroll down, st time to do ss initiallater
		var self = this;
		setTimeout(function(){
			self._doSSInitLater();//after creating cell need to invoke init later
		}, 0);
	},
	_cmdInsertRC: function (result) {

		// ZSS-404: should update freeze size in spreadsheet widget
		if('colfreeze' in result) {
			this._wgt.setColumnFreeze(result.colfreeze);
		}
		if('rowfreeze' in result) {
			this._wgt.setRowFreeze(result.rowfreeze);
		}
		
		if (result.type == "column") {
			var col = result.col;
			var size = result.size;
			var headers = result.hs;
			var ar = this._wgt._cacheCtrl.getSelectedSheet();
			ar.insertNewColumn(col, size, headers);	// update cache
			this._insertNewColumn(col, size, toHeaderTitleArray(headers.hs));	// update DOM
			this._removeColumn(this.maxCols, size); // ZSS-450: remove excess columns (DOM) 

			//update positionHelper
			this.custColWidth.shiftMeta(col, size);
			
			// adjust data panel size;
			this.dp.updateWidth(this.colWidth * size);
			
			//update maxCol
			this.maxCols = result.maxcol;

			// fix freeze panels' sizes
			var fzc = this.frozenCol = result.colfreeze;
			if (fzc > -1) {
				this.lp._fixSize();
				this.cp._fixSize();
			}
			
			var block = this.activeBlock;
			if (col < block.range.left)// insert before current block, then jump
				block.reloadBlock("east");
			else
				this.triggerOverflowColumn_(null, col);
			
		} else if (result.type == "row") {	//jump to another bolck, not a neighbor
			var row = result.row;
			var size = result.size;
			var headers = result.hs;
			var ar = this._wgt._cacheCtrl.getSelectedSheet();
			ar.insertNewRow(row, size, headers);	// update cache
			this._insertNewRow(row, size, toHeaderTitleArray(headers.hs)); // update DOM
			this._removeRow(this.maxRows, size); // ZSS-450: remove excess rows (DOM) 
			
			//update positionHelper
			this.custRowHeight.shiftMeta(row, size);
			
			// adjust datapanel size;
			this.dp.updateHeight(this.rowHeight * size);
			
			//update maxRow
			this.maxRows = result.maxrow;

			// fix freeze panels' sizes
			var fzr = this.frozenRow = result.rowfreeze;;
			if (fzr > -1) {
				this.tp._fixSize();
				this.cp._fixSize();
			}
			
			var block = this.activeBlock;
			if (row < block.range.top)// insert before current block, then jump
				block.reloadBlock("south");
		}
		
		this.dp._fixSize(this.activeBlock);
		this._fixSize();
		this.sendSyncblock();
		
		var sel = this.getLastSelection();
		if (sel)
			this.moveCellSelection(sel.left, sel.top, sel.right, sel.bottom);
		
		var self = this;
		setTimeout(function () {
			var h = self.hlArea;
			if (h.show) {
				h.relocate();
			}
			self._doSSInitLater();//after creating cell need to invoke init later
		},0);
	},
	_cmdRemoveRC: function (result, shfitsize) {

		// ZSS-404: should update freeze size in spreadsheet widget
		if('colfreeze' in result) {
			this._wgt.setColumnFreeze(result.colfreeze);
		}
		if('rowfreeze' in result) {
			this._wgt.setRowFreeze(result.rowfreeze);
		}
		
		var lfv = true;
		if (result.type == "column") {
			var col = result.col,
				size = result.size,
				headers = result.hs,
				ar = this._wgt._cacheCtrl.getSelectedSheet();
			ar.removeColumns(col, size, headers);
			this._removeColumn(col, size, toHeaderTitleArray(headers.hs));
			
			// adjust datapanel size;
			var dp = this.dp,
				w = this.custColWidth.getStartPixel(col);
			w = this.custColWidth.getStartPixel(col + size) - w;
			dp.updateWidth(-w);
			
			//update positionHelper
			if(shfitsize) this.custColWidth.unshiftMeta(col,size);
			
			//update maxCol
			this.maxCols = result.maxcol;

			//fix frozenCol size
			this.frozenCol = result.colfreeze;
			this.lp._fixSize();
			this.cp._fixSize();
			
			var block = this.activeBlock;
			if (col < block.range.left) {// insert before current block, then jump
				block.reloadBlock("east");
				lfv = false;
			} else
				this.triggerOverflowColumn_(null, col);// no need to invoke 
			
			this._syncColFocusAndSelection(col);
		} else if (result.type == "row") {//jump to another bolck, not a neighbor
			var row = result.row,
				size = result.size,
				headers = result.hs,
				ar = this._wgt._cacheCtrl.getSelectedSheet();
			ar.removeRows(row, size, headers);
			this._removeRow(row, size, toHeaderTitleArray(headers.hs));
			
			// adjust datapanel size;
			var dp = this.dp,
				h = this.custRowHeight.getStartPixel(row);
			h = this.custRowHeight.getStartPixel(row + size) - h;
			dp.updateHeight(-h);
			
			//update positionHelper
			if(shfitsize) this.custRowHeight.unshiftMeta(row,size);
			
			//update maxRow
			this.maxRows = result.maxrow;

			//fix frozen size
			this.frozenRow = result.rowfreeze;
			this.tp._fixSize();
			this.cp._fixSize();
			
			var block = this.activeBlock;
			if (row < block.range.top) {// insert before current block, then jump
				block.reloadBlock("south");
				lfv = false;
			}
			this._syncRowFocusAndSelection(row);
		}
		
		dp._fixSize(this.activeBlock);
		this._fixSize();		
		this.sendSyncblock();
		
		if(lfv) this.activeBlock.loadForVisible();
		
		var pos = this.getLastFocus(),
			update;
		if (pos.row >= this.maxRows) {
			pos.row = this.maxRows - 1;
			update = true;
		}
		if (pos.column >= this.maxCols) {
			pos.column = this.maxCols - 1;
			update = true;
		}
		
		if(update) dp.moveFocus(pos.row, pos.column, true, true);
		
		var self = this;
		setTimeout(function () {
			var h = self.hlArea;
			if (h.show) {
				h.relocate();
			}
			self._doSSInitLater();//after creating cell need to invoke init later
		}, 0);
	},
	_cmdMaxcolumn: function (maxcols) { // ZSS-242, modify range update function
		if(maxcols == this.maxCols) { // early return
			return;
		}

		var r, c, fpos, spos;
		var delta = maxcols - this.maxCols;
		var isIncreased = delta > 0;
		
		// update data panel's width
		var w = this.custColWidth.getStartPixel(this.maxCols);
		w = this.custColWidth.getStartPixel(maxcols) - w;
		var dp = this.dp;
		dp.updateWidth(w);
		
		// fix all panel's size
		this.maxCols = maxcols; //update max columns first
		dp._fixSize(this.activeBlock);
		this._fixSize(); // this will fix every panel's size
		
		if(isIncreased) { // increase columns
			this.activeBlock.loadForVisible();
		} else { // reduce columns
			
			// update focus and selection
			fpos = this.getLastFocus(); // {row, column}
			if(fpos && (fpos.column > maxcols - 1)) {
				this.moveCellFocus(fpos.row, maxcols - 1);	// this will send AU
			}
			spos = this.getLastSelection(); // {left, top, right, bottom}
			if(spos && (spos.right > maxcols - 1)) { // intersected or out of bound, make selection to focus
				this.moveCellSelection(maxcols - 1, fpos.row, maxcols - 1, fpos.row, true);
				// reload and send AU
				spos = this.getLastSelection();
				if (this.selType) { //ZSS-1100: fire only if not change sheet(selType would be undefined when chagne sheet)
					this._sendOnCellSelection(this.selType, spos.left, spos.top, spos.right, spos.bottom);
				}
			}
			
			// prune block, cache will auto-pruned by scrolling
			this._removeColumn(maxcols, -delta);
		}		
	},
	_cmdMaxrow: function (maxrows) { 	// ZSS-242, modify range update function
		if(maxrows == this.maxRows) { // early return
			return;
		}

		var r, c, fpos, spos;
		var delta = maxrows - this.maxRows;
		var isIncreased = delta > 0;
		
		// update data panel's height
		var h = this.custRowHeight.getStartPixel(this.maxRows);
		h = this.custRowHeight.getStartPixel(maxrows) - h;
		var dp = this.dp;
		dp.updateHeight(h);
		
		// fix all panel's size
		this.maxRows = maxrows; //update max rows first
		dp._fixSize(this.activeBlock);
		this._fixSize(); // this will fix every panel's size
		
		if(isIncreased) { // increase rows
			this.activeBlock.loadForVisible();
		} else { // reduce rows
			
			// update focus and selection
			fpos = this.getLastFocus();
			if(fpos && (fpos.row > maxrows - 1)) { // {row, column}
				this.moveCellFocus(maxrows - 1, fpos.column);	// this will send AU
			}
			spos = this.getLastSelection(); // {left, top, right, bottom}
			if(spos && (spos.bottom > maxrows - 1)) { // intersected or out of bound, make selection to focus
				this.moveCellSelection(fpos.column, maxrows - 1, fpos.column, maxrows - 1, true);
				// reload and send AU
				spos = this.getLastSelection();
				if (this.selType) {//ZSS-1100: fire only if not change sheet(selType would be undefined when chagne sheet)
					this._sendOnCellSelection(this.selType, spos.left, spos.top, spos.right, spos.bottom);
				}
			}
			
			// prune block, cache will auto-pruned by scrolling
			this._removeRow(maxrows, -delta);
		}
	},
	_cmdMerge: function (result){
		var type = result.type;
		if (type == "remove")
			this._removeMergeRange(result);
		else if (type == "add")
			this._addMergeRange(result);
		else if (type == "sync") //ZSS-1168
			this._syncMergeRange(result);
	},
	_cmdSelection: function (result) {
		var type = result.type,
			left = result.left,
			top = result.top,
			right = result.right,
			bottom = result.bottom;
		if (type == "move")
			this._doCellSelection(left, top, right, bottom);
	},
	_doCellSelection: function(left, top, right, bottom) {
		this.moveCellSelection(left, top, right, bottom, true);
		var ls = this.getLastSelection();//because of merge, selection might be change, get from last
		if (ls.left != left || ls.right != right || ls.top != top || ls.bottom != bottom) {
			this.selType = zss.SEL.CELL;
			this._sendOnCellSelection(this.selType, ls.left, ls.top, ls.right, ls.bottom);
		}
	},
	_cmdCellFocus: function (result) {
		var type = result.type,
			row = result.row,
			column = result.column;
		if (type == "move") {
			this.moveCellFocus(row, column);
			var pos = this.getLastFocus();
			if (pos.row != row || pos.column != column) //update server to new focus position
				this._sendOnCellFocus(pos.row, pos.column);
		}
	},
	_cmdRetriveFocus: function (result) {
		var type = result.type,
			row = result.row,
			column = result.column;
		if (type == "moveto") {
			//sheet.dp.selectCell(row,column,true);
			this.dp.moveFocus(row, column, true, true, true);
		} else if (type == "retrive") {
			this.dp._gainFocus(true, true);
		}
	},
	_cmdSize: function (result) {
		var type = result.type;
		if (type == "column")
			this._setColumnWidth(result.column, result.width, false, true, result.hidden, result.id, true);
		else if(type=="row")
			this._setRowHeight(result.row, result.height, false, true, result.hidden, result.id, result.custom);
	},
	_cmdHighlight: function (result) {
		var type = result.type;
		if (type == "hide") {
			this.hideHighlight(true);
		} else if(type == "show") {
			this.moveHighlight(result.left, result.top, result.right, result.bottom);
		}
	},
	_cmdGridlines: function (show) {
		this.setDisplayGridlines(show);
	},
	_shiftMouseSelection: function(evt, row, col, selType) {
		if (zkS.isEvtKey(evt, "s") && _isLeftMouseEvt(evt)) {
			var fpos = this.getLastFocus(),
				frow = fpos.row,
				fcol = fpos.column,
				left = col < fcol ? col : fcol,
				right = col < fcol ? fcol : col,
				top = row < frow ? row :  frow,
				bottom = row < frow ? frow : row;
			
			this.moveCellSelection(left, top, right, bottom, true);
			var ls = this.getLastSelection();
			this.selType = selType;
			this._sendOnCellSelection(selType, ls.left, ls.top, ls.right, ls.bottom);
			return true;
		}
		return false;
	},
	_doMousedown: function (evt) {
		//ZSS-1225
		this._wgt._checkContext(); 
		
		this.innerClicking++;
		var sheet = this;
		setTimeout(function() {
			if (sheet.innerClicking > 0) sheet.innerClicking--;
		}, 0);

		var elm = evt.domTarget;
		if (zkS.parentByZSType(elm, "SMask"))
			return;

		if (this.state == zss.SSheetCtrl.NOFOCUS) {
			this._nfdown = true;//down on no foucs
			this.dp._gainFocus(true);
			return;
		} else
			this._nfdown = false;
		if (!_isEvtButton(evt, "lr"))
			return;
		
		this._lastmdelm = elm;//last mouse down on element
		this._lastmdstr = "";//last mouse down str;
		
		var cmp, row, col, mx, my;
		if ((cmp = zkS.parentByZSType(elm, "SCell"))) {
			var cmpofs = zk(cmp).revisedOffset();
			mx = evt.pageX;
			my = evt.pageY;
			
			var cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false);//calculate if over the width
			
			row = cellpos[0];
			col = cellpos[1];
			var cell = this.getCell(row, col);
			if (cell != null && cell.merr) {
				row = cell.mert;
				col = cell.merl;
			}
			cell = this.getCell(row, col);
			if (!cell || !cell.isSelectable())
				return;	

			if (this._shiftMouseSelection(evt, row, col, zss.SEL.CELL))
				return;			
			sheet.dp.moveFocus(row, col, false, true, false, true);
			this._lastmdstr = "c";

			var ls = this.getLastSelection();//cause of merge, focus might be change, get form last
			this.selType = zss.SEL.CELL;
			this.stopDragging(); //ZSS-1048: should stop old dragging first then set new dragging
			this.setDragging(new zss.SelDrag(sheet, this.selType, ls.top, ls.left,
					_isLeftMouseEvt(evt) ? "l" : "r", ls.right));
			
			//start hyperlink follow up
			if(_isLeftMouseEvt(evt) && this.selArea) {
				this.selArea._startHyperlink(elm);
				
				//ZSS-1048: prevent from dragging anchor in firefox
				if(zk.ff && elm.tagName.toLowerCase() == 'a')
					evt.stop();
			}
			
		} else if ((cmp = zkS.parentByZSType(elm, "SRow"))) { //click down on vertical merged cell
			var cmpofs = zk(cmp).revisedOffset();
			mx = evt.pageX;
			my = evt.pageY;
			
			var cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false);//calculate if over the width
			
			row = cellpos[0];
			col = cellpos[1];
			var cell = this.getCell(row, col);
			if (cell && cell.merr) {
				row = cell.mert;
				col = cell.merl;
				elm = cell.comp;
				this._lastmdelm = elm;
			}
			cell = this.getCell(row, col);
			if (!cell || !cell.isSelectable())
				return;	

			if (this._shiftMouseSelection(evt, row, col, zss.SEL.CELL))
				return;			
			sheet.dp.moveFocus(row, col, false, true, false, true);
			this._lastmdstr = "c";

			var ls = this.getLastSelection();//cause of merge, focus might be change, get from last
			this.selType = zss.SEL.CELL;
			this.stopDragging(); //ZSS-1048: should stop old dragging first then set new dragging
			this.setDragging(new zss.SelDrag(sheet, this.selType, ls.top, ls.left,
					_isLeftMouseEvt(evt) ? "l" : "r", ls.right));
			
			//start hyperlink follow up
			if(_isLeftMouseEvt(evt) && this.selArea)
				this.selArea._startHyperlink(elm);
		} else if ((cmp = zkS.parentByZSType(elm, "SSelDot", 1)) != null) {
			//modify selection
			if(_isLeftMouseEvt(evt)) {//TODO support right mouse down
				if (!this.selType)
					this.selType = zss.SEL.CELL;
				this.stopDragging(); //ZSS-1048: should stop old dragging first then set new dragging
				this.setDragging(new zss.SelChgDrag(sheet, this.selType, zss.SELDRAG.RESIZE));
			}
		} else if ((cmp = zkS.parentByZSType(elm, ["SSelInner", "SFocus", "SHighlight"], 1)) != null) {
			//Mouse down on Selection / Focus Block
			mx = evt.pageX;
			my = evt.pageY;
			
			var cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false);
			row = cellpos[0];
			col = cellpos[1];
			var cell = this.getCell(row, col);
			if (cell != null && cell.merr) {
				row = cell.mert;
				col = cell.merl;
			}
			if (this._shiftMouseSelection(evt, row, col, zss.SEL.CELL))
				return;			
			this._lastmdstr = "c";

			//Check whether click on AutoFilter button if a left mouse down
			var firebtndown = false,
				btn = this.getBtn ? this.getBtn(row, col) : null;
			if (_isLeftMouseEvt(evt) && btn) {
				var rx = cellpos[2], 
					ry = cellpos[3],
					right = btn.imgleft + btn.imgwidth,
					bottom = btn.imgtop + btn.imgheight;
				firebtndown = (rx >= btn.imgleft && rx < right && ry >= btn.imgtop && ry < bottom); //click on AutoFilter button
			}
			if (firebtndown)
				this._doBtndown(evt, btn.btntype, btn.$n(), btn);
			else if (_isLeftMouseEvt(evt) || cmp.getAttribute('zs.t') == "SHighlight") {
				sheet.dp.moveFocus(row, col, false, true, false, true);
				var ls = this.getLastSelection();//cause of merge, focus might be change, get form last
				this.selType = zss.SEL.CELL;
				this.stopDragging(); //ZSS-1048: should stop old dragging first then set new dragging
				this.setDragging(new zss.SelDrag(sheet, this.selType, ls.top, ls.left,
						_isLeftMouseEvt(evt) ? "l" : "r", ls.right));
				
				//start hyperlink follow up
				if (this.selArea)
					this.selArea._startHyperlink();
			}
		} else if ((cmp = zkS.parentByZSType(elm, ["SSelect"], 1)) != null) {
			mx = evt.pageX;
			my = evt.pageY;
			var cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false);
			row = cellpos[0];
			col = cellpos[1];
			var cell = this.getCell(row, col);
			if (cell != null && cell.merr) {
				row = cell.mert;
				col = cell.merl;
			}
			if (this._shiftMouseSelection(evt, row, col, zss.SEL.CELL))
				return;			
			this._lastmdstr = "c";
			
			if(_isLeftMouseEvt(evt)){//TODO support right mouse down
				range = sheet.selArea.lastRange;
				
				//adjust row,col to selection range
				if (row > range.bottom)
					row = range.bottom;
				else if (row < range.top)
					row = range.top;

				if (col > range.right)
					col = range.right;
				else if(col < range.left)
					col = range.left;
			
				if (!this.selType)
					this.selType = zss.SEL.CELL;
				this.stopDragging(); //ZSS-1048: should stop old dragging first then set new dragging
				this.setDragging(new zss.SelChgDrag(sheet, this.selType, zss.SELDRAG.MOVE, row, col));
				
				//start hyperlink follow up
				if (this.selArea)
					this.selArea._startHyperlink();
			}
		} else if ((cmp = zkS.parentByZSType(elm, "SLheader")) != null 
			|| (cmp = zkS.parentByZSType(elm, "STheader")) != null) {
			var type = (cmp.getAttribute('zs.t') == "SLheader") ? zss.Header.VER : zss.Header.HOR,
				row, col, onsel,	//process select row or column
				ls = this.selArea.lastRange,
				header = evt.target,
				wgt = this._wgt;
			this._lastmdstr = "h";
			if (type == zss.Header.HOR) {
				row = -1;
				col = header.index;

				if (!this.isHeaderSelectable(col, type))
					return;

				if(col >= ls.left && col <= ls.right &&
					ls.top == 0 && ls.bottom == this.maxRows - 1) {
					onsel = true;
				}
			} else {
				row = header.index;
				col = -1;

				if (!this.isHeaderSelectable(row, type))
					return;

				if(row >= ls.top && row <= ls.bottom &&
					ls.left == 0 && ls.right == this.maxCols - 1) {
					onsel = true;
				}
			}
			if (_isLeftMouseEvt(evt) || !onsel) {
				var range = zss.SSheetCtrl._getVisibleRange(this),
					seltype;
				if (row == -1) {//column
					if (zkS.isEvtKey(evt, "s") && _isLeftMouseEvt(evt)) {
						var fpos = this.getLastFocus(),
							fcol = fpos.column;
						sheet.moveColumnSelection(col, fcol);
						var ls = this.getLastSelection();
						this.selType = zss.SEL.COL;
						this._sendOnCellSelection(this.selType, ls.left, ls.top, ls.right, ls.bottom);
						return;
					}
					var fzr = sheet.frozenRow;
					sheet.dp.moveFocus((fzr > -1 ? 0 : range.top), col, true, true, false, true);
					//sheet.dp.selectCell((fzr > -1 ? 0 : range.top), col, true);//force move to first visible cell or 0 if frozenRow
					sheet.moveColumnSelection(col);
					seltype = zss.SEL.COL;
				} else {
					if (zkS.isEvtKey(evt, "s") && _isLeftMouseEvt(evt)) {
						var fpos = this.getLastFocus(),
							frow = fpos.row;
						sheet.moveRowSelection(row, frow);
						var ls = this.getLastSelection();
						this.selType = zss.SEL.ROW;
						this._sendOnCellSelection(this.selType, ls.left, ls.top, ls.right, ls.bottom);
						return;
					}
					var fzc = sheet.frozenCol;
					sheet.dp.moveFocus(row, (fzc > -1 ? 0 : range.left), true, true, false, true);
					//sheet.dp.selectCell(row, (fzc > -1 ? 0 : range.left),true);//force move to first visible cell
					sheet.moveRowSelection(row);
					seltype = zss.SEL.ROW;
				}
				sheet.selType = seltype;
				this.stopDragging(); //ZSS-1048: should stop old dragging first then set new dragging
				this.setDragging(new zss.SelDrag(sheet, seltype, row, col, _isLeftMouseEvt(evt) ? "l" : "r"));
			}
		} else if ((cmp = zkS.parentByZSType(elm, "SCorner", 1)) != null) {
			var ls = this.getLastSelection(),
				left = 0,
				top = 0,
				right = this.maxCols - 1,
				bottom = this.maxRows - 1;
			
			if (left != ls.left || top != ls.top || right != ls.right || bottom != ls.bottom) {
				this.moveCellSelection(left, top, right, bottom);
				this.selType = zss.SEL.ALL;
				this.stopDragging(); //ZSS-1048: should stop old dragging first then set new dragging
				this.setDragging(new zss.SelDrag(sheet, this.selType, 0, 0, _isLeftMouseEvt(evt) ? "l" : "r"));
			}
		}
		this._lastmdstr = this._lastmdstr + "_" + row + "_" + col;
	},
	_doMouseup: function (evt) {
		if (this.isAsync())//wait async event, skip mouse click;
			return;
		//bug#1974069, leftkey & has last mouse down element 
		//ZSS233,348 add SHyperlink and remove the fix of zss-30 
		if (_isLeftMouseEvt(evt) && this._lastmdelm && zkS.parentByZSType(this._lastmdelm, ["SCell", "SHighlight", "SSelInner", "SHyperlink"], 1) != null) {
			this._doMouseclick(evt, "lc", this._lastmdelm);
		}
		this._lastmdelm = null;
	},
	_doMouseleftclick: function (evt) {
		if(this.isAsync())//wait async event, skip mouse click;
			return;

		this._doMouseclick(evt, "lc");
		evt.stop();
	},
	_doMouserightclick : function (evt) {
		if (this.isAsync())//wait async event, skip mouse click;
			return;
		var dataPanel = this.dp;
		// ZSS-681: focus textarea before open stylepanel
		if (typeof dataPanel.selectFocustagId == "number") {
			window.clearTimeout(dataPanel.selectFocustagId);
			delete dataPanel.selectFocustagId;
			dataPanel.selectFocustag();
		}
		this._doMouseclick(evt, "rc");
		evt.stop();//always stop right (context) click.
	},
	_doMousedblclick: function (evt) {
		if (this.isAsync())//wait async event, skip mouse click;
			return;
		this._doMouseclick(evt, "dbc");
		evt.stop();
	},
	getStyleMenupopup: function () {
		var p = this._styleMenupopup;
		if (!p) {
			var wgt = this._wgt;
			p = this._styleMenupopup = new zss.MenupopupFactory(wgt).style();
			p.setDisabled(wgt.getActionDisabled());
			this.appendChild(p);
		}
		return p;
	},
	getRowHeaderMenupopup: function () {
		var p = this._rowHeaderMenupopup;
		if (!p) {
			var wgt = this._wgt;
			p = this._rowHeaderMenupopup = new zss.MenupopupFactory(wgt).rowHeader();
			p.setDisabled(wgt.getActionDisabled());
			p._zssType = "row"; //ZSS-717
		}
		return p;
	},
	showRowHeaderMenu: function (pageX, pageY) {
		var show = this._wgt.isShowContextMenu();
		if (show) {
			var menu = this.getRowHeaderMenupopup();
			this.openStyleMenupopup(pageX, pageY, menu);
		}
	},
	getColumnHeaderMenupopup: function () {
		var p = this._columnHeaderMenupopup;
		if (!p) {
			var wgt = this._wgt;
			p = this._columnHeaderMenupopup = new zss.MenupopupFactory(this._wgt).columnHeader();
			p.setDisabled(wgt.getActionDisabled());
			p._zssType = "col"; //ZSS-717
		}
		return p;
	},
	showColumnHeaderMenu: function (pageX, pageY) {
		var show = this._wgt.isShowContextMenu();
		if (show) {
			var menu = this.getColumnHeaderMenupopup();
			this.openStyleMenupopup(pageX, pageY, menu);
		}
	},
	getCellMenupopup: function () {
		var p = this._cellMenupopup;
		if (!p) {
			var wgt = this._wgt;
			p = this._cellMenupopup = new zss.MenupopupFactory(wgt).cell();
			p.setDisabled(wgt.getActionDisabled());
			p._zssType = "cell"; //ZSS-717
		}
		return p;
	},
	showCellContextMenu: function (pageX, pageY) {
		var show = this._wgt.isShowContextMenu();
		if (show) {
			var menu = this.getCellMenupopup();
			menu.updateItemState.call(menu, {sheet: this, pageX: pageX, pageY: pageY});
			this.openStyleMenupopup(pageX, pageY, menu);
		}
	},
	setActionDisabled: function (actions) {
		var show = this._wgt.isShowContextMenu();
		if (show && actions) {
			var cellPopup = this.getCellMenupopup();
			if (cellPopup) {
				cellPopup.setDisabled(actions);
			}
			var rowPopup = this.getRowHeaderMenupopup();
			if (rowPopup) {
				rowPopup.setDisabled(actions);
			}
			var colPopup = this.getColumnHeaderMenupopup();
			if (colPopup) {
				colPopup.setDisabled(actions);
			}
			var stylePopup = this.getStyleMenupopup();
			if (stylePopup) {
				stylePopup.setDisabled(actions);
			}
		}
	},
	openStyleMenupopup: function (x, y, refPop) {
		x += 5;
		y -= 85;
		y = y < 0 ? 0 : y;
		
		var p = this.getStyleMenupopup(),
			wgt = this._wgt;
		var fn = function() {
			p.getMenuContainer().appendChild(refPop);

			// 20140509, RaymondChao: set style container visibility to hidden
			// so that menu container's position will be located at the pointer
			if (wgt.isProtect() && !wgt.allowFormatCells) {
				jq(p.getStyleContainer()).css('visibility', 'hidden');
			} else {
				jq(p.getStyleContainer()).css('visibility', 'visible');
			}

			// make menu visible before style menu showing
			// for calculating correct height
			jq(refPop.$n()).css('display', 'block');
			p.open(null, [x, y]);
			
			refPop.setVisible(true);
		}
		
		if(zk.ie < 11) {
			// ZSS-654: popup's close() has 50ms delay if using IE < 11 in Popup.js afterCloseAnima_()
			setTimeout(fn, 50);
		} else {
			fn();
		}
	},
	runAfterMouseClick: function (fn) {
		var fns = this._afterMouseClick;
		if (!fns) {
			fns = this._afterMouseClick = [];
		}
		fns.push(fn);
	},
	doAfterMouseClick: function () {
		var fns = this._afterMouseClick;
		if (fns) {
			var fn;
			while (fn = fns.shift()) {
				fn();
			}
			this._afterMouseClick = null;
		}
	},
	/**
	 * @param zk.Event, mouse event
	 * @param string type "lc" for left click, "rc" for right click, "dbc" for double click, "af" for autofilter
	 */
	_doMouseclick: function (evt, type, element) {
		if (this._nfdown) {
			if (this.selArea) 
				this.selArea._stopHyperlink();
			return; // don't care click if it was fired when nofocus mouse down
		}
		var sheet = this,
			wgt = sheet._wgt,
			elm = (element) ? element : evt.domTarget,
			cmp,
			mx = my = 0,//mouse offset, against body 
			shx = shy = 0,//mouse offset against sheet
			row, 
			col,
			md1 = zkS._getMouseData(evt, this.comp),
			mdstr = "";
		
		//ZSS-630 mark to hold focus
		this.innerClicking++;
		setTimeout(function() {
			if (sheet.innerClicking > 0) sheet.innerClicking--;
		}, 0);
		
		//Click on Cell
		if ((cmp = zkS.parentByZSType(elm, "SCell", 0)) != null) {
			var cellcmp = cmp,
				sheetofs = zk(sheet.comp).revisedOffset(),
			//TODO there is a bug in opera, when a cell is overflow, zk.revisedOffset can get correct component offset 
				cmpofs = zk(cellcmp).revisedOffset();
			
			mx = evt.pageX;
			my = evt.pageY;
			shx = Math.round(mx - sheetofs[0]);
			shy = Math.round(my - sheetofs[1]);
			
			var x = mx - cmpofs[0],
				cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false);
			row = cellpos[0];
			col = cellpos[1];
			var cell = this.getCell(row, col);
			if (cell != null && cell.merr) {
				row = cell.mert;
				col = cell.merl;
			}
			
			mdstr = "c_" + row + "_" + col;

			if (this._lastmdstr == mdstr) {
				if (type == 'rc') {
					this.showCellContextMenu(mx, my);
				}
				wgt.fireCellEvt(type, shx, shy, md1[2], row, col, mx, my);
			}
				
			if (type == 'lc' && this.selArea) {
				if (cell!=null && cell.merr) {
					var anchorA;
					// go to real merged cell
					cell = sheet.getCell(cell.mert,cell.merl);
					if(cell && (anchorA = jq(cell).find('a')) && anchorA.length > 0) {
						// detect overlap between cursor and anchor
						if(zkS.isOverlapByPoint(anchorA, mx, my))
							elm = anchorA[0];
					}
				}
				this.selArea._setHyperlinkElment(elm);
				this.selArea._tryAndEndHyperlink(row, col, evt);
			}
		} else if ((cmp = zkS.parentByZSType(elm, "SRow", 0)) != null) { //when click on vertical merged cell 
			var cellcmp = cmp, //row
				sheetofs = zk(sheet.comp).revisedOffset(),
			//TODO there is a bug in opera, when a cell is overflow, zk.revisedOffset can get correct component offset 
				cmpofs = zk(cellcmp).revisedOffset();
			
			mx = evt.pageX;
			my = evt.pageY;
			shx = Math.round(mx - sheetofs[0]);
			shy = Math.round(my - sheetofs[1]);
			
			var x = mx - cmpofs[0],
				cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false);
			row = cellpos[0];
			col = cellpos[1];
			var cell = this.getCell(row, col);
			if (cell != null && cell.merr) {
				row = cell.mert;
				col = cell.merl;
				elm = cell.comp;
			}
			mdstr = "c_" + row + "_" + col;

			if (this._lastmdstr == mdstr)
				wgt.fireCellEvt(type, shx, shy, md1[2], row, col, mx, my);

			if (type == 'lc' && this.selArea) {
				this.selArea._setHyperlinkElment(elm);
				this.selArea._tryAndEndHyperlink(row, col, evt);
			}
		} else if((cmp = zkS.parentByZSType(elm, "SSelDot", 1)) != null) {
		//TODO
		} else if((cmp = zkS.parentByZSType(elm, [(zk.ie8 && zk.ie < 11) ? "SSelInner" : "SSelect", "SFocus", "SHighlight"], 1)) != null ) {
			//Mouse click on Selection / Focus Block
			var sheetofs = zk(sheet.comp).revisedOffset();
			mx = evt.pageX;
			my = evt.pageY;
			shx = Math.round(mx - sheetofs[0]);
			shy = Math.round(my - sheetofs[1]);
			var cellpos = zss.SSheetCtrl._calCellPos(sheet, mx, my, false),
				cx = cellpos[4]; //x relative to cell 
			row = cellpos[0];
			col = cellpos[1];
			var cell = this.getCell(row, col);
			if (cell != null && cell.merr) {
				row = cell.mert;
				col = cell.merl;
			}
			
			//try hyperlink, ZSS-21: Right click on hyperlink should not jump to the link
			if (type == 'lc' && this.selArea) {
				this.selArea._tryAndEndHyperlink(row, col, evt);
			}
			mdstr = "c_" + row + "_" + col;			
			if (this._lastmdstr == mdstr) {
				if (type == 'rc') {
					this.showCellContextMenu(mx, my);
				} else if (type == "dbc") {
					sheet._enterEditing(null);
				}
				wgt.fireCellEvt(type, shx, shy, md1[2], row, col, mx, my);
			}
		} else if ((cmp = zkS.parentByZSType(elm, "STheader",1)) != null ||
			(cmp = zkS.parentByZSType(elm, "SLheader",1)) != null) {
			//Click on header
			var headercmp = cmp,
				sheetofs = zk(sheet.comp).revisedOffset();
			
			mx = evt.pageX;
			my = evt.pageY;
			shx = Math.round(mx - sheetofs[0]);
			shy = Math.round(my - sheetofs[1]);
			
			if (headercmp.ctrl.type == zss.Header.HOR) {
				row = -1;
				col = headercmp.ctrl.index;
			} else {
				row = headercmp.ctrl.index;
				col = -1;
			}
			mdstr = "h_" + row + "_" + col;
			if (this._lastmdstr == mdstr) {
				
				// #ZSS-292: only allow right click to pop-up context menu on row and column header
				if (type === 'rc') {
					if (headercmp.ctrl.type == 'V') {
						this.showRowHeaderMenu(mx, my);
					} else {
						this.showColumnHeaderMenu(mx, my);
					}
					// don't use this coding style !!!
					//	this['show' + (headercmp.ctrl.type == 'V' ? 'Row' : 'Column') + 'HeaderMenu'](mx, my);
				}
				
				wgt.fireHeaderEvt(type, shx, shy, md1[2], row, col, mx, my);
			}
		}
		this.doAfterMouseClick();
	},
	_sendOnCellFocus: function (row, col) {
		var wgt = this._wgt;
		wgt.fire('onCellFocus', {sheetId: this.serverSheetId, row: row, col : col});
	},
	_sendOnCellSelection: function (type, left, top, right, bottom) {
		this._wgt.fire('onCellSelection',
				{sheetId: this.serverSheetId, type: type, left: left, top: top, right: right, bottom: bottom});
	},
	_sendOnCellSelectionUpdate: function (type, action, left, top, right, bottom, orgleft, orgtop, orgright, orgbottom) {
		this._wgt.fire('onCellSelectionUpdate',
				{sheetId: this.serverSheetId, type:type, action: action, left: left,top: top, right: right, bottom: bottom, orgileft: orgleft, orgitop: orgtop, orgiright: orgright, orgibottom: orgbottom});
	},
	_sendOnCellHyperlink: function (row, col, href, type, evt) {
		var wgt = this._wgt,
			data = zk.copy(evt.data, {sheetId: this.serverSheetId, row: row, col: col, href: href, type: type});
		//ZSS-807: link to document(i.e. type == 2) must go thru server
		wgt.fire('onCellHyperlink', data, type == 2 || wgt.isListen('onCellHyperlink') ? {toServer: true} : null);
	},
	//ZSS-1116: sync text height calculated in client to server (see Cell.js)
	_sendOnTextHeight: function (row, col, height) {
		var wgt = this._wgt;
		wgt.fire('onZSSTextHeight', {sheetId: this.serverSheetId, row: row, col : col, height: height}, {toServer: true});
	},
	//ZSS-1171: sync text width calculated in client to server
	_sendOnTextWidth: function (row, col, width) {
		var wgt = this._wgt;
		wgt.fire('onZSSTextWidth', {sheetId: this.serverSheetId, row: row, col : col, width: width}, {toServer: true});
	},
	_timeoutId: null,
	_fireOnOpenAndEdit: function (time) { //open Editbox and start editing
		clearTimeout(this._timeoutId);
		this._timeoutId = setTimeout(this.proxy(this._onOpenAndEdit), time >= 0 ? time : 100);
	},
	_onOpenAndEdit: function () {
		this.dp._startEditing(); //open client side edit box to catch the user input
	},
	_doKeypress: function (evt) {
		if (this._skipress) //wait async event, skip
			return;
		var charcode = evt.which,
			c = asciiChar(charcode == 0 && evt.keyCode == 9 ? keyCode : charcode);
		//ascii, not editing, not special key
		if (c != null && !(evt.altKey || evt.ctrlKey) && this.state != zss.SSheetCtrl.EDITING) {
			if (this.state == zss.SSheetCtrl.START_EDIT) //startEditing but not get response from server yet
				this._clienttxt += c; //this._clienttxt is cleared in DataPanel#_startEditing()
			else if (this.state == zss.SSheetCtrl.FOCUSED) {
				if (this.dp.startEditing(evt, c)) //fire to server so user can override the result
					this._clienttxt = c;
			}
			//bug #117: Barcode Scanner data incomplete
			this._fireOnOpenAndEdit();
			evt.stop();
		}
	},
	//ZSS-1165: To enter IME editing mode
	//@since 3.8.3
	_enterIMEEditing: function (evt) {
		if (this.dp.startEditing(evt, undefined, undefined, undefined, true)) { //evt, val, type, pos, noServer
			this.dp._openEditbox("");
		}
	},
	_enterEditing: function(evt) {
		var p = this.getLastFocus();
		this.dp.startEditing(evt, this.getCell(p.row, p.column).edit);
		this.dp._openEditbox();
	},
	_doKeydown: function(evt) {
		this._skipress = false;
		//wait async event, skip
		//handle spreadsheet common keydown event
		if (this.isAsync()) return;
		
		//ctrl-paste: avoid multi-paste same clipboard content to focus textarea
		if (this._wgt._ctrlPasteDown)
			evt.stop();
		var keycode = evt.keyCode,
			ctrl;
		switch (keycode) {
		case 33: //PgUp
			this.dp.movePageup(evt);
			evt.stop();
			break;
		case 34: //PgDn
			this.dp.movePagedown(evt);
			evt.stop();
			break;
		case 35: //End
			if (this.isAllowKeyNavigation()) {
				this.dp.moveEnd(evt);
				//evt.stop(); //ZSS-181
			}
			break;
		case 36: //Home
			if (this.isAllowKeyNavigation()) {
				this.dp.moveHome(evt);
				//evt.stop(); //ZSS-181
			}
			break;
		case 37: //Left
			if (this.isAllowKeyNavigation()) {
				this.dp.moveLeft(evt);
				//evt.stop(); //ZSS-181
			}
			break;
		case 38: //Up
			if (this.isAllowKeyNavigation()) {
				this.dp.moveUp(evt);
				//evt.stop(); //ZSS-181
			}
			break;
		case 9://tab;
			if (this.state == zss.SSheetCtrl.EDITING){
				if (evt.altKey || evt.ctrlKey)
					break;
				this.dp.stopEditing(evt.shiftKey ? "moveleft" : "moveright");//invoke move right after stopEdit
				evt.stop();
				break;
			}
			if (evt.shiftKey) {
				this.dp.moveLeft();
				evt.stop();
			} else if (!(evt.altKey || evt.ctrlKey)) {
				this.dp.moveRight();
				evt.stop();
			}
			break;
		case 39: //Right
			var info = this.editingFormulaInfo;
			if (this.isAllowKeyNavigation()) {
				this.dp.moveRight(evt);
				//evt.stop(); //ZSS-181
			}
			break;
		case 40: //Down
			if (this.isAllowKeyNavigation()) {
				this.dp.moveDown(evt);
				//evt.stop(); //ZSS-181
			}
			break;
		case 229: //ZSS-378 Chinese Input keyCode is always 229 in chrome/IE(8-10) (no spec.)
			// ZSS-737: other browsers listen composition event to catch IME input.
			if (zk.ie && zk.ie < 10 && this.state == zss.SSheetCtrl.FOCUSED) { //enter editing mode only when focused
				//ZSS-1165
				this._enterIMEEditing(evt);
			}
			break;
		case 113: //F2
			if(this.state == zss.SSheetCtrl.FOCUSED)
				this._enterEditing(evt);
			//ZSS-1274 Support F2 to toggle arrow keys's function when editing formula
			else if (this.state == zss.SSheetCtrl.EDITING)
				this.enableKeyNavigation = !this.enableKeyNavigation;
			evt.stop();
			break;
		case 13://Enter
			if (this.state == zss.SSheetCtrl.EDITING){
				if(evt.altKey || evt.ctrlKey){
					this.dp.getEditor().newLine();
					evt.stop();
					break;
				}
				this.dp.stopEditing("movedown");//invoke move down after stopEdit
				evt.stop();
			} else if (this.state == zss.SSheetCtrl.FOCUSED) {
				if (!this._wgt._copysrc) {
					this.dp.moveDown(evt);
					evt.stop();
				}
			}
			break;
		case 27://ESC
			if (this.state == zss.SSheetCtrl.EDITING) {
				this.dp.cancelEditing();
				evt.stop();
			} else if(this.state == zss.SSheetCtrl.FOCUSED) {
				//TODO should i send onCancel here?
			}
			break;
		}
		//in my notebook,some keycode ex : LEFT(37) and RIGHT(39) will fire keypress after keydown,
		//it confuse with the ascii value "%' and ''', so add this to do some controll in key press
		if (!isAsciiCharkey(keycode)) {
			this._skipress = true;
		}
	},
	isAllowKeyNavigation: function () {
		var info = this.editingFormulaInfo;
		if ((info && !info.moveCell) || this.state == zss.SSheetCtrl.FOCUSED || this.enableKeyNavigation) {
			return true;
		}
		return false;
	},
	//feature #161: Support copy&paste from clipboard to a cell
	pasteToSheet: function () {
		var wgt = this._wgt,
			sl = this,
			//ZSS-169
			fn = function () {
				if (!wgt._doPasteFromServer) {//do paste from client when server doesn't do it
					var focustag = sl.dp.getInputNode(),
						value = jq(focustag).val(),
						pos = sl.dp._speedCopy(value);
					
					//Note. _speedCopy will fire edit cmd to server, set selection after response
					if (pos)
						wgt._onResponseCallback.push(function () {
							sl._doCellSelection(pos.left, pos.top, pos.right, pos.bottom);
						});
				}
				if (sl.isPasteFromClipboard) {
					sl.isPasteFromClipboard = null;
				}
			};
		if (wgt._sendAu) {//flag that indicate ZK send Au request. (cannot use zAu.processing(), it may be null since ZK use timeout to send request) 
			wgt._onResponseCallback.push(fn); 
		} else {
			fn();
		}
	},
	/**
	 * resize Sheet
	 * @param {String} w width string
	 * @param {String} h height string
	 */
	resizeTo: function(w , h) {
		//don't use style-class, use style, because style of sheet is the colsest style. 
		var sheetcmp = this.comp;
		if (w)
			jq(sheetcmp).css('width', w);
		if (h)
			jq(sheetcmp).css('height', h);
		
		var self = this;
		setTimeout(function(){
			self._resize();
		}, 0);
	},
	/**fix sp, tp and lp size*/
	_fixSize: function () {
		var sheetcmp = this.comp,
			spcmp = this.sp.comp,
			$n = zk(sheetcmp),
			w = $n.offsetWidth(),
			h = $n.offsetHeight();
		if (h <= 0)
			//if user doesn't set the height of style sheet set height on it's parent, 
			//then we will get a zero height, so , i assign a default height here
			h = 100;
		var barHeight = zkS._hasScrollBar(spcmp) ? zss.Spreadsheet.scrollWidth : 0,
			barWidth = zkS._hasScrollBar(spcmp, true) ? zss.Spreadsheet.scrollWidth : 0,
			zkdp = zk(this.dp.comp), //bug #61: Fronzen row/column does not comply with Spreadsheet's maxrows/maxcolumn
			rw = Math.min(zkdp.offsetWidth() - this.leftWidth, w - this.leftWidth- barWidth),
			rh = Math.min(zkdp.offsetHeight() - this.topHeight, h - this.topHeight - barHeight);
		
		this.tp._updateWidth(rw);
		this.lp._updateHeight(rh);
		this.sp._doScrolling();
	},
	/**
	 * Returns last focus position
	 * @return zss.Pos
	 */
	getLastFocus: function () {
		if (!this.focusMark)
			return null;
		return new zss.Pos(this.focusMark.row, this.focusMark.column);
	},
	/**
	 * Returns last selection range
	 * @return zss.Range
	 */
	getLastSelection: function () {
		if (!this.selArea)
			return null;
		var range = this.selArea.lastRange;
		return !range ? null : new zss.Range(range.left, range.top, range.right, range.bottom);
	},
	/**
	 * Sets column selection
	 * @param int from
	 * @param int to
	 */
	moveColumnSelection: function (from, to) {
		if (!to && to != 0)
			to = from;

		var t = from;
		if (from > to) {
			from = to;
			to = t;
		}
		this.moveCellSelection(from, 0, to, this.maxRows - 1);
	},
	/**
	 * Sets row selection
	 * @param int from 
	 * @param int to
	 */
	moveRowSelection: function (from, to) {
		if(!to && to!=0){
			to = from;
		}
		var t = from;
		if (from > to) {
			from = to;
			to = t;
		}
		this.moveCellSelection(0, from, this.maxCols - 1, to);
	},
	/**
	 * set column width
	 * @param {Object, int} col column index or header of column component
	 * @param {Object} width the new width
	 */
	setColumnWidth: function (col, width) {
		this._setColumnWidth(col, width, true, true);
	},
	_setColumnsWidth: function (left, right, width, fireevent, loadvis, hidden, metaid) {
		for(var col=left; col<=right; ++col)
			this._setColumnWidth(col, width, fireevent, loadvis, hidden, metaid);
	},
	_setColumnWidth: function (col, width, fireevent, loadvis, hidden, metaid) {
		var wgt = this._wgt,
			sheetid = this.sheetid,
			custColWidth = this.custColWidth,
			custRowHeight = this.custRowHeight,
			oldw = custColWidth.getSize(col);
		if (width < 0)
			width = 0;

		//update customized width
		var meta = custColWidth.getMeta(col),
			zsw;
		if (hidden === undefined) {
			hidden = (width == 0);
		}
		if (hidden)
			width = oldw;
		
		//adjust cell width, check also:_updateCustomDefaultStyle
		var cp = this.cellPad,
			cellwidth,
			celltextwidth = width - 2 * cp;
		
		//bug 1989680
		var fixpadding = false;
		if (celltextwidth < 0) {
			fixpadding = true;
			celltextwidth = width;
		}
		cellwidth = width;
		
		var name = wgt.getSelectorPrefix(),
			cssId = wgt.getSheetCSSId(),
			createbefor = ".zs_header";
		if(zk.opera) //opera bug, it cannot insert rul to special position
			createbefor = true;

		if (!meta) {
			//append style class to column header and cell
			zsw = zkS.t(metaid) ? metaid : custColWidth.ids.next();
			custColWidth.setCustomizedSize(col, width, zsw, hidden);
			this._appendZSW(col, zsw);
			this._wgt._cacheCtrl.getSelectedSheet().updateColumnWidthId(col, zsw);
		} else {
			zsw = zkS.t(metaid) ? metaid : meta[2];
			custColWidth.setCustomizedSize(col, width, zsw, hidden);
		}

		if (width <= 0 || hidden)
			zcss.setRule(name + " .zsw" + zsw, "display", "none", createbefor, cssId);
		else {
			zcss.setRule(name + " .zsw" + zsw, ["display", "width"], ["", cellwidth + "px"], createbefor, cssId);
			zcss.setRule(name + " .zswi" + zsw, "width", celltextwidth + "px", createbefor, cssId);
			//bug 1989680
			if (fixpadding)
				zcss.setRule(name + " .zsw" + zsw, "padding", "0px", createbefor, cssId);
			else
				zcss.setRule(name + " .zsw" + zsw, "padding", "", createbefor, cssId);
		}

		//set merged cell width;
		var ranges = this.mergeMatrix.getRangesByColumn(col),
			size = ranges.length,
			range;
		
		for (var i = 0; i < size; i++) {
			range = ranges[i];
			var w = custColWidth.getStartPixel(range.right + 1);
			w -= custColWidth.getStartPixel(range.left);
			
			//ZSS-1115: see test case 1115-insert-merge.zul; 
			// hidden row and horizontal merge; should still hide the cell
			var h = custRowHeight.getStartPixel(range.bottom + 1);
			h -= custRowHeight.getStartPixel(range.top);

			celltextwidth = w - 2 * cp;
			fixpadding = false;
			if (celltextwidth < 0) {
				fixpadding = true;
				celltextwidth = w;
			}
			cellwidth = w;
			if (w <= 0 || h <= 0) //ZSS-1115: hidden row + horizontal merge 
				zcss.setRule(name+" .zsmerge"+range.id,"display","none",true, cssId);
			else {
				// ZSS-330, ZSS-382: when column was hidden, the left-top cell of merge is also hidden by column style.  
				// But, the left-top cell must display, its position and size should be adjusted automatically
				zcss.setRule(name+" .zsmerge"+range.id,"display","inline-block",true, cssId);
				zcss.setRule(name+" .zsmerge"+range.id,"width", jq.px0(cellwidth), true, cssId);
				zcss.setRule(name+" .zsmerge"+range.id+" .zscelltxt","width", jq.px0(celltextwidth), true, cssId);
				if (fixpadding)
					zcss.setRule(name+" .zsmerge"+range.id,"padding", "0px",true, cssId);
				else
					zcss.setRule(name+" .zsmerge"+range.id,"padding", "", true, cssId);
			}
		}
		
		//adjust header
		var tp = this.tp, 
			header = tp ? tp.getHeader(col) : null;
		if (header)
			header.setColumnHeader(hidden);
		
		if (col < this.maxCols) {
			//adjust datapanel size;
			var dp = this.dp;
		
			//process text overflow when resize column
			this.triggerOverflowColumn_(null, col + 1, true);
			
			//ZSS-944: process 90deg rotate when resize column
			this.triggerRotateColumn_(null, col, true);
			
			if (this.frozenCol >= col) {
				this.lp._fixSize();
				this.cp._fixSize();
			}

			//update datapanel padding
			// ZSS-324: column/row header must be update their size after data panel updated
			if(!this._deferUS) { // _deferUS, a flag for defer ctrl.
				this._deferUS = true;
				var that = this;
				setTimeout(function(){
					delete that._deferUS;
					dp._fixSize(that.activeBlock);
					that._fixSize();
				}, 20); // before loadForVisible()
			}

			this._wgt.syncWidgetPos(-1, col);
		}

		//sync focus and selection area
		this._syncColFocusAndSelection(col);

		if (fireevent) {
			this._wgt.fire('onHeaderUpdate', 
					{sheetId: this.serverSheetId, type: "top", action: "resize", index: col, size: width, id: zsw, hidden: hidden, custom:true},
					{toServer: true, sendAhead: true}, 25);//ZSS-180
		}
		//ZSS-180
		if(col < this.maxCols && loadvis) {
			// ZSS-324: this is a heavy duty, so just call once when batch updating
			if (!this._deferL4V) { //_deferL4V, a flag for defer ctrl.
				this._deferL4V = true;
				var that = this;
				setTimeout(function() {
					delete that._deferL4V;
					that.activeBlock.loadForVisible(); // data panel update here
					that._fixSize(); // column/row header must be update their size after data panel updated
				}, 25);
			}
		}
	},
	_syncColFocusAndSelection: function(left) {
		var focPos = this.getLastFocus(),
			fCol = focPos.column,
			ls = this.getLastSelection(),
			selL = ls.left,
			selR = ls.right;
		if (left <= fCol)
			this.moveCellFocus(focPos.row, fCol);
		if (left <= selR)
			this.moveCellSelection(selL, ls.top, selR, ls.bottom);
	},
	_syncRowFocusAndSelection: function(top) {
		var focPos = this.getLastFocus(),
			fRow = focPos.row,
			ls = this.getLastSelection(),
			selT = ls.top,
			selB = ls.bottom;
		if (top <= fRow)
			this.moveCellFocus(fRow, focPos.column);
		if (top <= selB)
			this.moveCellSelection(ls.left, selT, ls.right, selB);
	},
	_appendZSW: function(col, zsw) {
		this.activeBlock.appendZSW(col, zsw);
		this.cp.appendZSW(col, zsw);
		this.tp.appendZSW(col, zsw);
		this.lp.appendZSW(col, zsw);
	},
	_appendZSH: function(row, zsh) {
		this.activeBlock.appendZSH(row, zsh);
		this.cp.appendZSH(row, zsh);
		this.tp.appendZSH(row, zsh);
		this.lp.appendZSH(row, zsh);
	},
	/**
	 * set row height
	 * @param {Object} row row index or header of row component
	 * @param {Object} height new height of row
	 */
	setRowHeight: function(row, height) {
		this._setRowHeight(row, height, true, true, false, null, true);
	},
	_setRowsHeight: function(top, bottom, height, fireevent, loadvis, hidden, metaid, isCustom) {
		for(var row=top; row<=bottom; ++row)
			this._setRowHeight(row, height, fireevent, loadvis, hidden, metaid, isCustom);
	},
	_setRowHeight: function(row, height, fireevent, loadvis, hidden, metaid, isCustom) {
		var wgt = this._wgt,
			sheetid = this.sheetid,
			custColWidth = this.custColWidth,
			custRowHeight = this.custRowHeight,
			oldh = custRowHeight.getSize(row);
		height = height <= 0 ? 0 : height;

		var name = "#" + sheetid,
			meta = custRowHeight.getMeta(row),
			zsh;
		if (hidden === undefined) {
			hidden = (height == 0);
		} 
		if (hidden)
			height = oldh;
			
		var cellheight;// = zk.revisedSize(colcmp,height,true);
		
		if((zk.ie && zk.ie < 11) || zk.safari || zk.opera)
			//1989680
			cellheight = height > 0 ? height : 0;
		else
			cellheight = height;

		if (!meta) {
			//append style class to column header and cell
			zsh = zkS.t(metaid) ? metaid : custRowHeight.ids.next();
			custRowHeight.setCustomizedSize(row, height, zsh, hidden, isCustom);
			this._appendZSH(row, zsh);
			this._wgt._cacheCtrl.getSelectedSheet().updateRowHeightId(row, zsh);
		} else {
			zsh = zkS.t(metaid) ? metaid : meta[2];
			custRowHeight.setCustomizedSize(row, height, zsh, hidden, isCustom);
		}
		
		var name = wgt.getSelectorPrefix(),
			cssId = wgt.getSheetCSSId(),
			createbefor = ".zs_header";
		if (zk.opera)//opera bug, it cannot insert rul to special position
			createbefor = true;

		if (height <= 0 || hidden) {
			// ZSS-330, ZSS-382: using "height: 0" and don't use "display: none", latter one cause merge cell to chaos
			// ZSS-500: re-overwrite overflow to hidden when row hidden 
			zcss.setRule(name + " .zsh" + zsh, "height", "0px", createbefor, cssId);
			zcss.setRule(name + " .zshi" + zsh, ["height", "border-bottom-width", "overflow"], ["0px", "0px", "hidden"], createbefor, cssId);//both zscell and zscelltxt
			zcss.setRule(name + " .zslh" + zsh, ["height", "line-height", "border-bottom-width"], ["0px", "0px", "0px"], createbefor, cssId); // header has 1px border.
			zcss.setRule(name + " .zshr" + zsh, ["max-height"], ["0px"], createbefor, cssId); // real in cell
		} else {
			zcss.setRule(name + " .zsh" + zsh, "height", height + "px", createbefor, cssId);
			zcss.setRule(name + " .zshi" + zsh, ["height", "border-bottom-width", "overflow"], [cellheight + "px", "1px", ""], createbefor, cssId);//both zscell and zscelltxt
			zcss.setRule(name + " .zslh" + zsh, ["height", "line-height", "border-bottom-width"], [height + "px", height + "px", "1px"], createbefor, cssId);
			zcss.setRule(name + " .zshr" + zsh, ["max-height"], [height + "px"], createbefor, cssId); // real in cell
		}
		
		//set merged cell height;
		var ranges = this.mergeMatrix.getRangesByRow(row),
			size = ranges.length,
			range;
		
		for (var i = 0; i < size; i++) {
			range = ranges[i];
			var h = custRowHeight.getStartPixel(range.bottom + 1);
			h -= custRowHeight.getStartPixel(range.top);

			//ZSS-1115: see test case 1115-insert-merge.zul; hidden column
			// and vertical merge; should still hide the cell
			var w = custColWidth.getStartPixel(range.right + 1);
			w -= custColWidth.getStartPixel(range.left);

			celltextheight = h;
			cellheight = (zk.ie && zk.ie < 11) || zk.safari || zk.opera ? celltextheight : h;

			if (h <= 0 || w <= 0) { //ZSS-1115: @see test ase 1115-insert-merge.zul; must check w, too. 
				zcss.setRule(name+" .zsmerge"+range.id,"display","none",true, cssId);
			} else {
				// ZSS-330, ZSS-382: when row was hidden, the left-top cell of merge is also hidden by row style.  
				// But, the left-top cell must display, its position and size should be adjusted automatically
				zcss.setRule(name+" .zsmerge"+range.id,"display","inline-block",true, cssId);
				zcss.setRule(name+" .zsmerge"+range.id,"height", jq.px0(cellheight), true, cssId);
				zcss.setRule(name+" .zsmerge"+range.id+" .zscelltxt","height", jq.px0(celltextheight),true, cssId);
				zcss.setRule(name+" .zsmerge"+range.id,"border-bottom-width","1px",true, cssId); // re-apply bottom border for grid line; Or grid line will be missed if row was hidden  
			}
		}
		
		//adjust header
		var lp = this.lp,
			header = lp ? lp.getHeader(row) : null;
		if (header)
			header.setRowHeader(hidden);
		
		if (row < this.maxRows) {
			//adjust datapanel size;
			var dp = this.dp;
		
			var fzr = this.frozenRow;
			if (fzr >= row) {
				this.tp._fixSize();
				this.cp._fixSize();
			}

			// ZSS-324: column/row header must be update their size after data panel updated
			if(!this._deferUS) { // _deferUS, a flag for defer ctrl.
				this._deferUS = true;
				var that = this;
				setTimeout(function(){
					delete that._deferUS;
					dp._fixSize(that.activeBlock);
					that._fixSize();
				}, 20); // before loadForVisible()
			}
			
			this._wgt.syncWidgetPos(row, -1);
		}
		//sync focus and selection area
		this._syncRowFocusAndSelection(row);
		this.fire('onRowHeightChanged', {row: row});

		if (fireevent) {
			this._wgt.fire('onHeaderUpdate', 
					{sheetId: this.serverSheetId, type: "left", action: "resize", index: row, size: height, id: zsh, hidden: hidden, custom:isCustom},
					{toServer: true, sendAhead: true}, 25);//ZSS-180
		}
		//ZSS-180
		if (row < this.maxRows && loadvis) {
			// ZSS-324: this is a heavy duty, so just call once when batch updating
			if (!this._deferL4V) {
				this._deferL4V = true; //_deferL4V, a flag for defer ctrl.
				var that = this;
				setTimeout(function() {
					delete that._deferL4V;
					that.activeBlock.loadForVisible(); // data panel update here
					that._fixSize(); // column/row header must be update their size after data panel updated
				}, 25);
			}
		}
	},
	_updateText: function (result) {
		var cell = this.activeBlock.getCell(result.r, result.c);
		if (cell)//update if cell exist 
			cell.setText(result.val, true);
	},
	/**
	 * Update cells
	 */
	update_: function (data, updateSrc) { //ZSS-1181
		var cb = this.cp.block;
		var tb = this.tp.block;
		var lb = this.lp.block;
		var d;

		// ZSS-392: update cells separately (data panel and freeze panels)
		this.activeBlock.update_(data.t, data.l, data.b, data.r, updateSrc); //ZSS-1181
		if (cb && data.cornerFrozen) {
			d = data.cornerFrozen;
			cb.update_(d.t, d.l, d.b, d.r, updateSrc); //ZSS-1181
		}
		if (tb && data.topFrozen) {
			d = data.topFrozen;
			tb.update_(d.t, d.l, d.b, d.r, updateSrc); //ZSS-1181
		}
		if (lb && data.leftFrozen) {
			d = data.leftFrozen;
			lb.update_(d.t, d.l, d.b, d.r, updateSrc); //ZSS-1181
		}
		
		/* ZSS-169: prepare client side paste src when user set selection by drag cells 
		//feature #26: Support copy/paste value to local Excel		
		var ls = this.getLastSelection();
		if (tRow >= ls.top && bRow <= ls.bottom && lCol >= ls.left && rCol <= ls.right) {
			this._prepareCopy(debug);
		}
		*/
	},
	_updateHeaderSelectionCss: function (range, remove) {
		var top = range.top,
			bottom = range.bottom,
			left = range.left,
			right = range.right;

		//hor
		this.tp.updateSelectionCSS(left, right, remove);
		this.lp.updateSelectionCSS(top, bottom, remove);
		if (this.cp.tp)
			this.cp.tp.updateSelectionCSS(left, right, remove);	
		if (this.cp.lp)
			this.cp.lp.updateSelectionCSS(top, bottom, remove);
	},
	/**
	 * Sets whether display the gridlines for this sheet.
	 */
	setDisplayGridlines: function (show) {
		var wgt = this._wgt,
			bc = show ? '':'#FFFFFF';
		zcss.setRule(wgt.getSelectorPrefix() + ' .zscell', ['border-bottom-color', 'border-right-color'],[bc, bc], true, wgt.getSheetCSSId());
		this.fireDisplayGridlines(show);
	},
	deferFireCellSelection: function (left, top, right, bottom) {
		var id = this._fireCellSelectionId,
			self = this,
			skipInsertCellRef = this._skipInsertCellRef;
		if (id) {
			clearTimeout(id);
		}
		this._fireCellSelectionId = setTimeout(function () {
			//ZSS 171
			// 20140612, RaymondChao: it should skip insert cell reference when updating cell from server, so it needs to keep
			// the flag when defer fire cell selection
			self.fire('onCellSelection', {left: left, top: top, right: right, bottom: bottom, skipInsertCellRef: skipInsertCellRef});
		}, 50);
	},
	/**
	 * Sets the cell's selection area and display it
	 * 
	 * @param int left column start index
	 * @param int top row start index
	 * @param int right column end index
	 * @param int bottom row end index
	 * @param boolean snap whether snap to merge cell border
	 * @param boolean not trigger DOM Element focus event
	 */
	moveCellSelection: function (left, top, right, bottom, snap, noTrigger) {
		var lastRange = this.selArea.lastRange;
		if (lastRange)
			this._updateHeaderSelectionCss(lastRange, true);

		var show = !(this.state == zss.SSheetCtrl.NOFOCUS);
		if (snap) {
			var maxr = right,
				minl = left;
	
			//Selection shall snap to merge area
			for (var r = bottom; r >= top; --r) {
				var cellR = this.getCell(r, maxr);
				if (cellR && cellR.merr > maxr) maxr = cellR.merr;
				var cellL = this.getCell(r, minl);
				if (cellL && cellL.merl < minl) minl = cellL.merl;
			}
			right = maxr;
			left = minl;
			
			var maxb = bottom,
				mint = top;
			for (var c = maxr; c >= minl; --c) {
				var cellB = this.getCell(maxb, c);
				if (cellB && cellB.merb > maxb) maxb = cellB.merb;
				var cellT = this.getCell(mint, c);
				if (cellT && cellT.mert < mint) mint = cellT.mert;
			}
			bottom = maxb;
			top = mint;
		} else {
			var cell = this.getCell(top, left);
			//only show merged selection when selecing on same row
			if (top == bottom && cell) {
				if (cell.merr > right)
					right = cell.merr;
				if (cell.merb > bottom)
					bottom = cell.merb;
			}
		}

		if (!this.isRangeSelectable(left, top, right, bottom))
			return;

		var selRange = new zss.Range(left, top, right, bottom);
		this.state == zss.SSheetCtrl.START_EDIT ? 
				this.fire('onCellSelection', {left: left, top: top, right: right, bottom: bottom}) : this.deferFireCellSelection(left, top, right, bottom);
		this.selArea.relocate(selRange);
		
		if (show) {
			this._updateHeaderSelectionCss(selRange,false);
			this.selArea.showArea();
		}
		
		if (this.tp.selArea) {
			this.tp.selArea.relocate(selRange);
			if(show) this.tp.selArea.showArea();
		}
		if (this.lp.selArea) {
			this.lp.selArea.relocate(selRange);
			if(show) this.lp.selArea.showArea();
		}
		if (this.cp.selArea) {
			this.cp.selArea.relocate(selRange);
			if(show) this.cp.selArea.showArea();
		}

		if (!noTrigger)
			this._prepareCopy(); //feature #26: Support copy/paste value to local Excel
	},
	/**
	 * Check if the range is selectable
	 */
	isRangeSelectable: function (left, top, right, bottom) {
		var wgt = this._wgt;
		if (!wgt.isProtect() || wgt.allowSelectLockedCells)
			return true;

		if (!wgt.allowSelectUnlockedCells)
			return false;

		for (var i = top; i <= bottom; i++)
			for (var j = left; j <= right; j++) {
			if (this.isCellLocked(i, j))
				return false;
		}
		return true;
	},
	/**
	 * Returns whether the header is selectable
	 * @param int index header index
	 * @param string type header type
	 */
	isHeaderSelectable: function (index, type) {
		var wgt = this._wgt;

		if (!wgt.isProtect() || wgt.allowSelectLockedCells)
			return true;

		if (!wgt.allowSelectUnlockedCells)
			return false;

		if (!wgt.unlockInfo)
			return false;

		if (type == zss.Header.HOR) {
			if (groupContains(wgt.unlockInfo.chs, index)) {
				return true;
			}
		} else {
			var rhs = wgt.unlockInfo.rhs;
			for (var prop in rhs) {
				if (rhs[prop] == index)
					return true;
			}
		}
		return false;
	},
	/** 
	 * Returns whether the cell is locked
	 * @param int row row index
	 * @param int col column index
	 * <p>Please note that it only works when sheet is protected and
	 *    is only allowed to select unlocked cells.</p>
	 */
	isCellLocked: function (row, col) {
		var unlockInfo = this._wgt.unlockInfo;

		if (!unlockInfo)
			return true;

		for (var prop in unlockInfo.cs) {
			if (unlockInfo.cs[prop].i == row) {
				if (groupContains(unlockInfo.cs[prop].data, col)) {
					return false;
				}
				if (groupContains(unlockInfo.cs[prop].lockData, col)) {
					return true;
				}
			}
		}

		if (groupContains(unlockInfo.chs, col))
			return false;

		for (var prop in unlockInfo.rhs) {
			if (unlockInfo.rhs[prop] == row) {
				return false;
			}
		}

		return true;
	},
	//feature #26: Support copy/paste value to local Excel
	_prepareCopy: function () {
		var range =  this._wgt._cacheCtrl.getSelectedSheet(),
			ls = this.getLastSelection(),
			top = ls.top,
			btm = Math.min(ls.bottom, ls.top + zss.clientCopy.maxRowCount - 1), // ZSS-331: limited cells for copying at once. refer to globalDef.js
			left = ls.left,
			right = Math.min(ls.right, ls.left + zss.clientCopy.maxColumnCount - 1), // ZSS-331: limited cells for copying at once. refer to globalDef.js
			result = '';
		if (range) {
			var rows = range.rows;
			for(var r = top; r <= btm; ++r) {
				var row = rows[r];
				for(var c = left; c <= right; ++c) {
					var val = '';
					if (row) {
						var cell = row.cells[c];
						if (cell) {
							val = cell.formatText;
						}
					}
					result += val;
					if (c < right)
						result+='\t';
					
				}
				result += '\n';
			}
		} else {
			for(var r = top; r <= btm; ++r) {
				for(var c = left; c <= right; ++c) {
					var cell = this.getCell(r, c),
						val = !cell ? null : cell.getPureText();
					if (val != null)
						result+=val;
					if (c < right)
						result+='\t';
				}
				result+='\n';
			}
		}
		if (this.state != zss.SSheetCtrl.FOCUSED)
			return;
		
		//ZSS-903
		var inputNode = this.dp.getInputNode(); 
		jq(inputNode).val(result);
		
		this.dp.deferSelectFocustag();
	},
	/**
	 * Hides cell's selection area 
	 */
	hideCellSelection: function () {
		this.selArea.hideArea();
		if (this.tp.selArea)
			this.tp.selArea.hideArea();

		if (this.lp.selArea)
			this.lp.selArea.hideArea();

		if (this.cp.selArea)
			this.cp.selArea.hideArea();

		var lastRange = this.selArea.lastRange;
		if (lastRange)
			this._updateHeaderSelectionCss(lastRange, true);
	},
	showCellSelection: function () {
		this.selArea.showArea();
		if (this.tp.selArea)
			this.tp.selArea.showArea();

		if (this.lp.selArea)
			this.lp.selArea.showArea();

		if (this.cp.selArea)
			this.cp.selArea.showArea();

		var lastRange = this.selArea.lastRange;
		if (lastRange)
			this._updateHeaderSelectionCss(lastRange, true);
	},
	/**
	 * Sets the cell's selection change area and display it
	 * 
	 * @param int left column start index
	 * @param int top row start index
	 * @param int right column end index
	 * @param int bottom row end index
	 */
	moveSelectionChange : function (left, top, right, bottom) {	
		var selRange = new zss.Range(left, top, right, bottom);
		this.selChgArea.relocate(selRange);
		this.selChgArea.showArea();

		if (this.tp.selChgArea) {
			this.tp.selChgArea.relocate(selRange);
			this.tp.selChgArea.showArea();
		}
		if (this.lp.selChgArea) {
			this.lp.selChgArea.relocate(selRange);
			this.lp.selChgArea.showArea();
		}
		if (this.cp.selChgArea) {
			this.cp.selChgArea.relocate(selRange);
			this.cp.selChgArea.showArea();
		}
	},
	/**
	 * Hides cell's selection change area
	 */
	hideSelectionChange: function () {
		this.selChgArea.hideArea();
		if (this.tp.selChgArea)
			this.tp.selChgArea.hideArea();

		if (this.lp.selChgArea)
			this.lp.selChgArea.hideArea();

		if (this.cp.selChgArea)
			this.cp.selChgArea.hideArea();
	},
	/**
	 * Sets cell's focus mark
	 * @param int row row index
	 * @param int col column index
	 * @param boolean noEvt indicate whether shall fire onFocused or not
	 */
	moveCellFocus: function (row, col, noEvt) {
		var show = !(this.state == zss.SSheetCtrl.NOFOCUS),
			cell = this.getCell(row, col);
		if (cell && cell.merl < col) {//check if a merged cell
			col = cell.merl;
			row = cell.mert;
		}
		this.focusMark.relocate(row, col);
		if (!noEvt) {
			this.fire('onFocused', {row: row, col: col});
		}
		if (show)
			this.focusMark.showMark();
		if (this.tp.focusMark) {
			this.tp.focusMark.relocate(row, col);
			if(show) this.tp.focusMark.showMark();
		}
		if (this.lp.focusMark) {
			this.lp.focusMark.relocate(row, col);
			if(show) this.lp.focusMark.showMark();
		}
		if (this.cp.focusMark) {
			this.cp.focusMark.relocate(row,col);
			if(show) this.cp.focusMark.showMark();
		}
	},
	/**
	 * Hides cell's focus mark 
	 */
	hideCellFocus: function () {
		this.focusMark.hideMark();
		if (this.tp.focusMark)
			this.tp.focusMark.hideMark();
		
		if (this.lp.focusMark)
			this.lp.focusMark.hideMark();

		if (this.cp.focusMark)
			this.cp.focusMark.hideMark();
	},
	_realRight: function(top, bottom, right) {
		var minl = right;
		for (var r = bottom; r >= top; --r) {
			var cellL = this.getCell(r, minl);
			if (cellL && cellL.merl < minl) minl = cellL.merl;
		}
		return minl;
	},
	_realBottom: function(left, right, bottom) {
		var mint = bottom;
		for (var c = right; c >= left; --c) {
			var cellT = this.getCell(mint, c);
			if (cellT && cellT.mert < mint) mint = cellT.mert;
		}
		return mint;
	},
	_realLeft: function(top, bottom, left) {
		var maxr = left;
		for (var r = bottom; r >= top; --r) {
			var cellR = this.getCell(r, maxr);
			if (cellR && cellR.merr > maxr) maxr = cellR.merr;
		}
		return maxr;
	},
	_realTop: function(left, right, top) {
		var maxb = top;
		for (var c = right; c >= left; --c) {
			var cellB = this.getCell(maxb, c);
			if (cellB && cellB.merb > maxb) maxb = cellB.merb;
		}
		return maxb;
	},
	/**
	 * Move selection position
	 * @param int key  
	 */
	shiftSelection: function (key) {
		var ls = this.getLastSelection(),
			pos = this.getLastFocus(),
			row = pos.row,
			col = pos.column,
			left = ls.left,
			top = ls.top,
			right = ls.right,
			bottom = ls.bottom,
			update = false,
			custRowHeight = this.custRowHeight,
			custColWidth = this.custColWidth, 
			seltype = this.selType ? this.selType : zss.SEL.CELL;
		
		switch (key) {
		case 'up':
			bottom = this._realBottom(left, right, bottom);
			if (row < bottom) {
				var newbottom = custRowHeight.getDecUnhidden(bottom - 1, 0);
				if (newbottom >= 0)
					bottom = newbottom;
			} else {
				var newtop = custRowHeight.getDecUnhidden(top - 1, 0);
				if (newtop >= 0)
					top = newtop;
			}
			break;
		case 'down':
			top = this._realTop(left, right, top);
			if (row > top) {
				var newtop = custRowHeight.getIncUnhidden(top + 1, this.maxRows - 1);
				if (newtop >= 0)
					top = newtop;
			} else {
				var newbottom = custRowHeight.getIncUnhidden(bottom + 1, this.maxRows - 1);
				if (newbottom >= 0)
					bottom = newbottom;
			}
			break;
		case 'left':
			right = this._realRight(top, bottom, right);
			if (col < right) {
				var newright = custColWidth.getDecUnhidden(right - 1, 0);
				if (newright >= 0)
					right = newright;
			} else {
				var newleft = custColWidth.getDecUnhidden(left - 1, 0);
				if (newleft >= 0)
					left = newleft;
			}
			break;
		case 'right':
			left = this._realLeft(top, bottom, left);
			if (col > left) {
				var newleft = custColWidth.getIncUnhidden(left + 1, this.maxCols - 1);
				if (newleft >= 0)
					left = newleft;
			} else {
				var newright = custColWidth.getIncUnhidden(right + 1, this.maxCols - 1);
				if (newright >= 0)
					right = newright;
			}
			break;
		case 'home':
			right = col;
			left = custColWidth.getIncUnhidden(0, right);
			if (seltype == zss.SEL.ALL)
				seltype = zss.SEL.COL;
			else if (seltype == zss.SEL.ROW)
				seltype = zss.SEL.CELL;
			break;
		case 'end':
			left = col;
			right = custColWidth.getDecUnhidden(this.maxCols - 1, left);
			if (left == 0) {
				if (seltype == zss.SEL.COL)
					seltype = zss.SEL.ALL;
				else if (seltype == zss.SEL.CELL)
					seltype = zss.SEL.ROW;
			}
			break;
		case 'pgup':
			if (row < bottom) {
				var newbottom = bottom - this.pageKeySize;
				if (newbottom < 0)
					newbottom = 0;
				var xbottom = newbottom > 0 ? 
						custRowHeight.getDecUnhidden(newbottom, 0) : //search backward
						custRowHeight.getIncUnhidden(newbottom, bottom); //search forward
				if (xbottom < 0) //fail on search backward
					xbottom = custRowHeight.getIncUnhidden(newbottom, bottom); //search forward

				bottom = xbottom;
				if (bottom < row) {
					top = bottom;
					bottom = row;
				}
			} else {
				var newtop = top - this.pageKeySize;
				if (newtop < 0)
					newtop = 0;
				var xtop = newtop > 0 ? 
						custRowHeight.getDecUnhidden(newtop, 0) : //search backward
						custRowHeight.getIncUnhidden(newtop, top); //search forward
				if (xtop < 0) //fail on search backward
					xtop = custRowHeight.getIncUnhidden(newtop, top); //search forward

				top = xtop;
			}
			break;
		case 'pgdn':
			if (row > top) {
				var newtop = top + this.pageKeySize;
				if (newtop > this.maxRows - 1)
					newtop = this.maxRows - 1;
				var xtop = newtop < this.maxRows - 1 ? 
						custRowHeight.getIncUnhidden(newtop, this.maxRows - 1): //search downward
						custRowHeight.getDecUnhidden(newtop, top); //search upward
				if (xtop < 0) //fail on search downward
					xtop = custRowHeight.getDecUnhidden(newtop, top); //search upward

				top = xtop;
				if (top > row) {
					bottom = top;
					top = row;
				}
			} else {
				var newbottom = bottom + this.pageKeySize;
				if (newbottom > this.maxRows - 1)
					newbottom = this.maxRows - 1;
				var xbottom = newbottom < this.maxRows - 1 ? 
						custRowHeight.getIncUnhidden(newbottom, this.maxRows - 1): //search downward
						custRowHeight.getDecUnhidden(newbottom, bottom); //search upward
				if (xbottom < 0) //fail on search downward
					xbottom = custRowHeight.getDecUnhidden(newbottom, bottom); //search upward

				bottom = xbottom;
			}
			break;
			
		default:
			this.selType = seltype;
			return;
		}
		
		if (left < 0) left = 0;
		if (right >= this.maxCols) right = this.maxCols-1;
		if (top < 0) top = 0;
		if (bottom >= this.maxRows) bottom = this.maxRows-1;
		
		
		//TODO , check cell merge
		
		// ZSS-475: auto scroll
		var destRow = (bottom > row) ? bottom : top; // compare selection bottom with focus row to know current row  
		var destCol = (right > col) ? right : left;
		this.sp.scrollToVisible(destRow, destCol);
		this.activeBlock.loadCell(destRow, destCol, 5); // just load one cell, it'll load a whole rectangle block. see DataPanel.moveFocus() 
		
		if (left != ls.left || top != ls.top || right != ls.right || bottom != ls.bottom) {
			this.moveCellSelection(left, top, right, bottom, true);
			var newls = this.getLastSelection();
			if (newls.left != ls.left || newls.top != ls.top ||
				newls.right != ls.right || newls.bottom != ls.bottom) {
				this.selType = seltype;
				this._sendOnCellSelection(seltype, newls.left, newls.top, newls.right, newls.bottom);
			}
		}
	},
	/**
	 * Sets the highlight area
	 * @param int left
	 * @param int top
	 * @param int right
	 * @param int bottom
	 */
	moveHighlight: function (left, top, right, bottom) {
		
		//1995691 Highlight doesn't showup after invalidate
		var show = this.hlArea.show;
		
		if (left < 0 || top < 0 || right < 0 || bottom < 0) {
			this.hideHighlight();
			return;
		}
		var hlRange = new zss.Range(left, top, right, bottom);
		this.hlArea.relocate(hlRange);
		
		this.hlArea.show = true;
		this.hlArea.showArea();

		if (this.tp.hlArea) {
			this.tp.hlArea.relocate(hlRange);
			if (show) 
				this.tp.hlArea.showArea();
		}
		if (this.lp.hlArea) {
			this.lp.hlArea.relocate(hlRange);
			if (show) 
				this.lp.hlArea.showArea();
		}
		if (this.cp.hlArea) {
			this.cp.hlArea.relocate(hlRange);
			if (show) 
				this.cp.hlArea.showArea();
		}
	},
	getLastHighlight: function () {
		var range = this.hlArea.lastRange;
		return !range ? null : new zss.Range(range.left, range.top, range.right, range.bottom);
	},
	isHighlightVisible: function () {
		return this.hlArea.isVisible();
	},
	/**
	 * Hides the highlight area
	 */
	hideHighlight: function(clear){
		if (clear) {
			this.hlArea.lastRange = new zss.Range(-1, -1, -1, -1);
		}
		this.hlArea.hideArea();
		if (this.tp.hlArea)
			this.tp.hlArea.hideArea();

		if (this.lp.hlArea)
			this.lp.hlArea.hideArea();

		if (this.cp.hlArea)
			this.cp.hlArea.hideArea();
	},
	/**
	 * Animate highlight area
	 * @param boolean start
	 */
	animateHighlight: function (start) {
		this.hlArea.doAnimation(start);
		if (this.tp.hlArea) {
			this.tp.hlArea.doAnimation(start);
		}

		if (this.lp.hlArea) {
			this.lp.hlArea.doAnimation(start);
		}

		if (this.cp.hlArea) {
			this.cp.hlArea.doAnimation(start);
		}
	},
	/**
	 * Display info
	 */
	showInfo: function (text, autohide) {
		this.info.setInfoText(text);
		this.info.showInfo(autohide);
	},
	/**
	 * Hides info
	 */
	hideInfo: function () {
		this.info.hideInfo();
	},
	/**
	 * Display mark
	 */
	showMask: function (show, txt) {
		jq(this.maskcmp).css('visibility', show ? 'visible' : 'hidden');
		if (txt)
			jq(this._wgt.$n('masktxt')).text(txt);
	},
	/**
	 * Returns focused cell
	 * @return zss.Cell
	 */
	getFocusedCell: function () {
		var pos = this.getLastFocus();
		return this.getCell(pos.row, pos.column);
	},
	/**
	 * Returns the cell
	 * @param int row row index
	 * @param int col column index
	 * @return zss.Cell
	 */
	getCell: function (row, col) {
		var fzr = this.frozenRow,
			fzc = this.frozenCol,
			cell = null;
		
		// get cell from one of 4 areas according to the gived location 
		if (row <= fzr && col <= fzc) { //corner
			var cp = this.cp;
			cell = cp && cp.block ? cp.block.getCell(row, col) : null
		} else if(fzr >= 0 && row <= fzr) { // ZSS-420: it should be index not number
			var tp = this.tp;
			cell = tp && tp.block ? tp.block.getCell(row, col) : null; //top panel
		} else if(fzc >= 0 && col <= fzc)  { // ZSS-420: it should be index not number
			var lp = this.lp;
			cell = lp && lp.block ? lp.block.getCell(row, col) : null; //left panel.
		} else {
			cell = this.activeBlock.getCell(row, col); //data panel
		} 
		return cell;
	},
	/**
	 * Returns rows of the specified row index (could be collections of rows in corner panel and top panel; or in left panel and data panel)
	 * @param int row row index
	 * @param int col column index (affect whether get row in left freeze panel)
	 * @return zss.Row[]
	 */
	getRow: function (row, col) {
		var fzr = this.frozenRow,
			fzc = this.frozenCol,
			rowobj = [];
		
		if (row <= fzr) {
			if (col <= fzc)
				rowobj.push(this.cp.block.getRow(row)); //corner
			rowobj.push(this.tp.block.getRow(row)); //top panel
		} else {
			if(col <= fzc) 
				rowobj.push(this.lp.block.getRow(row)); //left panel
			rowobj.push(this.activeBlock.getRow(row)); //data panel
		}
		return rowobj;
	},
	/**
	 * Sets block sync event to server
	 */
	sendSyncblock: function (now) {
		var spcmp = this.sp.comp,
			dp = this.dp,
			brange = this.activeBlock.range,
			cachesheet = this._wgt._cacheCtrl.getSelectedSheet();
		if (!cachesheet) return; //ZSS-1181: sometimes it can be null; see Spreadsheet.java#notifyVisibleRangeChange()
		var rect = this._wgt._cacheCtrl.getSelectedSheet().rect;

		this._wgt.fire('onZSSSyncBlock', {
			sheetId: this.sheetid,
			dpWidth: -1, //dp.width,
			dpHeight: -1, //dp.height,
			viewWidth: -1, //spcmp.clientWidth,
			viewHeight: -1, //spcmp.clientHeight,
			blockLeft: brange.left,
			blockTop: brange.top,
			blockRight: brange.right,
			blockBottom: brange.bottom,
			fetchLeft: -1,
			fetchTop: -1,
			fetchWidth: -1,
			fetchHeight: -1,
			rangeLeft: rect.left,
			rangeTop: rect.top,
			rangeRight: rect.right,
			rangeBottom: rect.bottom
		}, now ? {toServer: true} : null, (now ? 25 : -1));
		
		//ZSS-1134: This is patchy; IE9 sometimes wrongly set spcmp.scrollLeft
		//	to zero. We enforcelly reset it back.
		if (zk.ie && zk.ie == 9) {
			this.sp._resetIE9ScrollPosition();
		}
	},
	//ZSS-1267: close the "Rendering" message
	closeRenderingMessage: function (time) {
		if (this.renderingTimer) {
			clearTimeout(this.renderingTimer);
			delete this.renderingTimer;
		}
		// put in timer to allow browser to rendering cells first
		// and then close this rendering message
		var sht = this;
		this.renderingTimer = setTimeout(function(){
			if (sht.renderingWin) {
				delete sht.renderingWin;
				jq(sht.renderingcmp).css('display', 'none');
			}
		}, time ? time : 0);
	},
	//ZSS-1267: see Spreadsheet.js#doBlockUpdate() and MainBlockCtrl.js#_sendOnCellFetch()
	startRenderingMessage: function () {
		if (this.renderingTimer) {
			clearTimeout(this.renderingTimer);
			delete this.renderingTimer;
		}
//		if (!this.renderingWin) {
			this.renderingWin = true;
			var $rn = jq(this.renderingcmp);
			$rn.css('display', 'block');
			var sheetcmp = this.comp,
				rw = this.renderingcmp.offsetWidth,
				rh = this.renderingcmp.offsetHeight,
				ch = this.cpcmp.offsetHeight,
				cw = this.cpcmp.offsetWidth,
				w = sheetcmp.offsetWidth,
				h = sheetcmp.offsetHeight,
				l = (w + cw - rw) / 2,
				t = (h + ch - rh) / 2;
			$rn.css('left', ''+l+'px');
			$rn.css('top', ''+t+'px');
			this.closeRenderingMessage(10000); // will clear the 'rendering' message after 10 seconds no matter what
//		}
	},
	_insertNewColumn: function (col, size, extnm) {
		this.activeBlock.insertNewColumn(col,size);
		var fzc = this.frozenCol;
		if(col <= fzc){
			this.lp.insertNewColumn(col, size);
			this.cp.insertNewColumn(col, size, extnm);
		}
		this.tp.insertNewColumn(col, size, extnm);	
	},
	_insertNewRow: function (row, size, extnm) {
		this.activeBlock.insertNewRow(row, size);
		var fzr = this.frozenRow;
		if (row <= fzr) {
			this.tp.insertNewRow(row, size);
			this.cp.insertNewRow(row, size, extnm);
		}
		this.lp.insertNewRow(row, size, extnm);
			
	},
	_removeColumn: function (col, size, extnm) {
		this.activeBlock.removeColumn(col, size);
		var fzc = this.frozenCol;
		if (col <= fzc) {
			this.lp.removeColumn(col, size);
			this.cp.removeColumn(col, size, extnm);
		}
		this.tp.removeColumn(col, size, extnm);
	},
	_removeRow: function (row, size, extnm) {
		this.activeBlock.removeRow(row, size);
		var fzr = this.frozenRow;
		if (row <= fzr) {
			this.tp.removeRow(row, size);
			this.cp.removeRow(row, size, extnm);
		}
		this.lp.removeRow(row, size, extnm);
	},
	//ZSS-1168
	_syncMergeRange: function (results) {
		var lastFocus = this.getLastFocus();
		
		var fn = this._removeMergeRangeX,
			rects = results.rects;
		
		this.mergeMatrix.removeAllMergeRange(this, fn);

		
		for (var i = 0, len = rects.length; i < len; ++i) {
			var result = rects[i];
			this._addMergeRangeX(result);
		}
		
		if (!(this.state == zss.SSheetCtrl.NOFOCUS) && lastFocus) {
			var left = lastFocus.column,
				top = lastFocus.row;
			//ZSS-930
			this.moveCellSelection(left, top, left, top, false, true);
			this.moveCellFocus(top, left);
		}
	},
	//ZSS-1168
	_removeMergeRange: function (result) {
		var id = result.id;
		this.mergeMatrix.removeMergeRange(id);
		this._removeMergeRangeX(result);
	},
	//ZSS-1168
	_removeMergeRangeX: function (result) {
		var id = result.id,
			left = result.left,
			top = result.top,
			right = result.right,
			bottom = result.bottom,
			sheetid = this.sheetid,
			cssid = sheetid + "-sheet" + ((zk.opera) ? "-opera" : ""),//opera bug, it cannot insert rul to special position
			name = "#" + sheetid,
			cBlock = this.cp.block,
			tBlock = this.tp.block,
			lBlock = this.lp.block;
		zcss.removeRule(name + " .zsmerge" + id, cssid);
		zcss.removeRule(name + " .zsmerge" + id + " .zscelltxt", cssid);
		
		this.activeBlock.removeMergeRange(id, left, top, right, bottom);

		if(cBlock)
			cBlock.removeMergeRange(id, left, top, right, bottom);
		if(tBlock)
			tBlock.removeMergeRange(id, left, top, right, bottom);
		if(lBlock)
			lBlock.removeMergeRange(id, left, top, right, bottom);
	},
	//ZSS-1168
	_addMergeRange: function (result) {
		this._addMergeRangeX(result);
		
		//ZSS-861: move focus only if current state is not NOFOCUS
		if (!(this.state == zss.SSheetCtrl.NOFOCUS)) {
			var left = result.left,
				top = result.top;
			//ZSS-930
			this.moveCellSelection(left, top, left, top, false, true);
			this.moveCellFocus(top, left);
		}
	},
	//ZSS-1168
	_addMergeRangeX: function (result) {
		var id = result.id,
			left = result.left,
			top = result.top,
			right = result.right,
			bottom = result.bottom,
			width = result.width,
			height = result.height,
			cp = this.cellPad,
			celltextwidth = width - 2 * cp,
			cellwidth = width,
			celltextheight = height,
			cellheight = height,
			wgt = this._wgt,
			cssId = wgt.getSheetCSSId(),
			name = wgt.getSelectorPrefix(),
			cBlock = this.cp.block,
			tBlock = this.tp.block,
			lBlock = this.lp.block;
		
		//ZSS-1168
		if (width <= 0 || height <= 0) { //total hidden
			zcss.setRule(name + " .zsmerge" + id, "display", "none", true, cssId);
			zcss.setRule(name + " .zsmerge" + id + " .zscelltxt", "display", "none", true, cssId);
		} else {
			zcss.setRule(name + " .zsmerge" + id, 
					["width", "height", "display", "border-bottom-width"], 
					[cellwidth + "px", cellheight + "px", "inline-block", "1px"], true, cssId);
			
			zcss.setRule(name + " .zsmerge" + id + " .zscelltxt", 
					["width", "height"],
					[celltextwidth + "px", celltextheight + "px"], true, cssId);
		}
		
		this.mergeMatrix.addMergeRange(id, left, top, right, bottom);	
		this.activeBlock.addMergeRange(id, left, top, right, bottom);
		
		if(cBlock)
			cBlock.addMergeRange(id, left, top, right, bottom);
		if(tBlock)
			tBlock.addMergeRange(id, left, top, right, bottom);
		if(lBlock)
			lBlock.addMergeRange(id, left, top, right, bottom);
	},
	afterKeyDown_: function (wevt) {
		var wgt = this._wgt; 
		wevt.target = wgt; //mimic as keydown directly sent to wgt
		return wgt.afterKeyDown_(wevt, true);
	},
	redraw: function (out) {
		var wgt = this._wgt,
			uuid = this.uuid,
			activeBlock = this.activeBlock,
			topPanel = this.tp,
			leftPanel = this.lp,
			cornerPanel = this.cp,
			hidecolhead = wgt.isColumnHeadHidden(),
			hiderowhead = wgt.isRowHeadHidden();
		out.push('<div ' + this.domAttrs_() + '><textarea id="', uuid, '-fo" class="zsfocus"></textarea>',
				'<div id="', uuid, '-mask" class="zssmask" zs.t="SMask"><div class="zssmask2"><div id="', uuid, '-masktxt" class="zssmasktxt" align="center"></div></div></div>',
				'<div id="', uuid, '-rendering" class="zsrendering"><span class="zsrendering-icon"></span>  Rendering...</div>',
				'<div id="', uuid, '-sp" class="zsscroll" zs.t="SScrollpanel">',
				'<div id="', uuid, '-dp" class="zsdata" zs.t="SDatapanel">',
				'<div id="', uuid, '-datapad" class="zsdatapad"></div>');

		if (activeBlock)
			activeBlock.redraw(out);
		
		out.push(
				'<div id="', uuid, '-select" class="zsselect" zs.t="SSelect"><div id="', uuid, '-selecti" class="zsselecti" zs.t="SSelInner"></div><div class="zsseldot" zs.t="SSelDot"></div></div>',
				'<div id="', uuid, '-selchg" class="zsselchg" zs.t="SSelChg"><div id="', uuid, '-selchgi" class="zsselchgi"></div></div>',
				'<div id="', uuid, '-focmark" class="zsfocmark" zs.t="SFocus"><div id="', uuid, '-focmarki" class="zsfocmarki"></div></div>',
				'<div id="', uuid, '-highlight" class="zshighlight" zs.t="SHighlight"><div id="', uuid, '-highlighti" class="zshighlighti" zs.t="SHlInner"></div></div>',
				'</div><div id="', uuid, '-wp" class="zswidgetpanel" zs.t="SWidgetpanel"></div><div id="', uuid, '-pp" class="zspopuppanel"></div></div>');
		
		if (topPanel)
			topPanel.redraw(out);
		
		if (leftPanel)
			leftPanel.redraw(out);
		
		out.push(this.inlineEditor.redrawHTML_() + '<span id="', uuid, '-sinfo" class="zsscrollinfo"><span class="zsscrollinfoinner"></span></span>',
				'<span id="', uuid, '-info" class="zsinfo"><span class="zsinfoinner"></span></span>');
		
		if (cornerPanel)
			cornerPanel.redraw(out);
		
	    out.push('</div>');
	},
	//ZSS-1164
	fire: function (evtnm, data, opts, timeout) {
		if ("onStopEditing" == evtnm && data != undefined) {
			this._updateCellDomText(data.row, data.col, data.value);
		}
		return this.$supers(zss.SSheetCtrl, 'fire', arguments);
	},
	//ZSS-1164
	_updateCellDomText: function (row, col, txt) {
		// check each blocks
		if (this._updateBlockCellDomText(this.cp.block, row, col, txt))
			return;
		if (this._updateBlockCellDomText(this.tp.block, row, col, txt))
			return;
		if (this._updateBlockCellDomText(this.lp.block, row, col, txt))
			return;
		this._updateBlockCellDomText(this.activeBlock, row, col, txt);
	},
	//ZSS-1164
	_updateBlockCellDomText: function (block, row, col, txt) {
		if (block) {
			var rng = block.range,
				l = rng.left,
				t = rng.top,
				r = rng.right,
				b = rng.bottom;
			
			if (l <= col && col <= r && t <= row && row <= b) {
				var cell = block.getCell(row, col);
				if (cell && cell.edit != txt) { //ZSS-1197
					cell.getTextNode().innerHTML = txt;
				}
				return true;
			}
		}
		return false;
	},
	//ZSS-1214
	// Returns whether the cell specified is a number in percent form
	isPercentCell: function (row, col) {
		var cellData = this.getCell(row, col);
		if (cellData != null) {
			// a number and text ends with "%"
			if (cellData.cellType == 0 && cellData.text.endsWith("%")) {
				return true;
			}
		}
		return false;
	}
}, {
	NOFOCUS: 0,
	FOCUSED: 2,
	START_EDIT: 5, //2*2 + 1; //async state is odd
	EDITING: 6, //3*2 ,
	STOP_EDIT: 9, //4*2 + 1;//async state is odd
	_initInnerComp: function (sheet, row) {
		sheet.maskcmp = sheet.$n('mask');
		sheet.busycmp = sheet.$n('busy');
		sheet.spcmp = sheet.$n('sp');//scroll panel comp
		sheet.topcmp = sheet.$n('top');//top panel comp
		sheet.leftcmp = sheet.$n('left');//left panel comp
		sheet.wpcmp = sheet.$n('wp');//widget panel comp
		sheet.sinfocmp = sheet.$n('sinfo');
		sheet.infocmp = sheet.$n('info');
		sheet.renderingcmp = sheet.$n('rendering'); //ZSS-1267
		sheet.cpcmp = sheet.cp.$n(); //ZSS-1267

		sheet.dp = new zss.DataPanel(sheet);
		sheet.sp = new zss.ScrollPanel(sheet); //ScrollPanel depends DataPanel
		
		var dppadcmp = sheet.$n('datapad');
		
		var next = sheet.$n('select');
		if (next.getAttribute('zs.t') == "SSelect") {
			sheet.selareacmp = next;
			sheet.selchgcmp = sheet.$n('selchg');
			sheet.focusmarkcmp = sheet.$n('focmark');
			sheet.hlcmp = sheet.$n('highlight');
			sheet.editorcmp = sheet.$n('eb');
			
			sheet.focusMark = new zss.FocusMarkCtrl(sheet, sheet.focusmarkcmp, sheet.initparm.focus.clone());
			sheet.selArea = new zss.SelAreaCtrl(sheet, sheet.selareacmp, sheet.initparm.selrange.clone());
			sheet.selChgArea = new zss.SelChgCtrl(sheet, sheet.selchgcmp);
			sheet.hlArea = new zss.Highlight(sheet, sheet.hlcmp,sheet.initparm.hlrange.clone(), "inner");
			//sheet.inlineEditor = new zss.Editbox(sheet);
		} else {
			//error
			//zk.log('error to parse component');
		}
		
		
		//initial scroll info
		sheet.sinfo = new zss.ScrollInfo(sheet, sheet.sinfocmp);
		sheet.info = new zss.Info(sheet, sheet.infocmp);
	},
	_getVisibleRange: function (sheet) {
		//ZSS-1134: This is patchy; IE9 sometimes wrongly set spcmp.scrollLeft 
		//   to zero. We enforcly set it back
		if (zk.ie && zk.ie == 9) {
			sheet.sp._resetIE9ScrollPosition();
		}
		
		var //scrollSize = zss.Spreadsheet.scrollWidth, 
			sp = sheet.sp,
			spcmp = sp.comp,
			scrollLeft = spcmp.scrollLeft,
			scrollTop = spcmp.scrollTop,
			custColWidth = sheet.custColWidth,
			custRowHeight = sheet.custRowHeight,
			frozenColWidth = custColWidth.getStartPixel(sheet.frozenCol + 1),
			frozenRowHeight = custRowHeight.getStartPixel(sheet.frozenRow + 1),
			viewWidth = spcmp.clientWidth -  sheet.leftWidth,
			viewHeight = spcmp.clientHeight - sheet.topHeight,	
			// ZSS-664: ignore frozen columns and rows
			left = custColWidth.getCellIndex(scrollLeft + frozenColWidth)[0],
			top = custRowHeight.getCellIndex(scrollTop + frozenRowHeight)[0],
			right = custColWidth.getCellIndex(scrollLeft + viewWidth)[0],
			bottom = custRowHeight.getCellIndex(scrollTop + viewHeight)[0];

		// ZSS-324: the left and top must not be out of range too 
		if (left > sheet.maxCols - 1) left = sheet.maxCols - 1;
		if (top > sheet.maxRows - 1) top = sheet.maxRows - 1; 
		if (right > sheet.maxCols - 1) right = sheet.maxCols - 1;
		if (bottom > sheet.maxRows - 1) bottom = sheet.maxRows - 1; 

		return new zss.Range(left, top, right, bottom);
	},
	/**
	 * get cell position(row,col) according to given client position (x,y) of browser and current UI display
	 * @param zss.SSheetCtrl
	 * @param int x page offset
	 * @param int y page offset
	 * @param boolean ignorefrezon don't care if over a frezon panel
	 * @param boolean firstHidden whether pick previous hidden column instead 
	 */
	_calCellPos: function (sheet, x, y, ignorefrezon, firstHidden) { // ZSS-1266
		var row = col = -1,
			dpofs = zk(sheet.dp.comp).revisedOffset(),
			custColWidth = sheet.custColWidth,
			custRowHeight = sheet.custRowHeight,
			rx = x,
			ry = y,
			fzr = sheet.frozenRow,
			fzc = sheet.frozenCol;
		
		if (!ignorefrezon && (fzr > -1 || fzc > -1)) {
			var sheetofs = zk(sheet.comp).revisedOffset(),
				fx = fy = -1;
			if (fzc > -1)
				fx = custColWidth.getStartPixel(fzc + 1);
			if (fzr > -1)
				fy = custRowHeight.getStartPixel(fzr + 1);

			rx = x - sheetofs[0] - sheet.leftWidth;
			ry = y - sheetofs[1] - sheet.topHeight;
			if (rx > fx && ry > fy) {
				rx = x - dpofs[0] - sheet.leftWidth;
				ry = y - dpofs[1] - sheet.topHeight;
			} else if (ry > fy)
				ry = y - dpofs[1] - sheet.topHeight;
			else if(rx > fx)
				rx = x - dpofs[0] - sheet.leftWidth;

		} else {
			rx = x - dpofs[0] - sheet.leftWidth;
			ry = y - dpofs[1] - sheet.topHeight;
		}
		
		var xcol = custColWidth.getCellIndex(rx, firstHidden), // ZSS-1266
			xrow = custRowHeight.getCellIndex(ry);
		return [xrow[0], xcol[0], rx, ry, xcol[1], xrow[1]];
	}
});
})();

/*
ss.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		January 10, 2008 4:58:31 PM , Created by Dennis Chen
}}IS_NOTE

Copyright (C) 2008 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/


/* common method */
zkS = {};

/**
 * a util method to check if(val || val==0), in many case of attribute, 
 * i want if scentance pass even val=0
 */
zkS.t = function (val) {
	return val || val === 0;
};

zkS._delayInit = false;/*should i init header and cell by dealy bath*/
zkS._delayQ = [];//delay and batch invoke queue
zkS._delayBatchSize = 50;
zkS._delaySched = false;
zkS.addDelayBatch = function(fn, front, arg0, arg1){
	if (front) {
		zkS._delayQ.unshift([fn, arg0, arg1]);
	} else {
		zkS._delayQ.push([fn, arg0, arg1]);
	}
	if (!zkS._delaySched) {
		zkS._delaySched = true;
		setTimeout(zkS._doDelayBatch, 250);
	}
};


zkS._doDelayBatch = function () {
	zkS._delaySched = false;	
	var size = zkS._delayQ.length;
	size = zkS._delayBatchSize > size ? size : zkS._delayBatchSize;
	var batch;

	for (var i = 0; i < size; i++) {
		batch = zkS._delayQ.shift();
		batch[0].call(this,batch[1], batch[2]);
	}
	batch = null;
	if (zkS._delayQ.length > 0 && !zkS._delaySched) {
		zkS._delaySched = true;
		setTimeout(zkS._doDelayBatch, 100);
	}
};


/* method that handle round-trip (a method needs be call after client -> server -> client )function*/
zkS._callbacks = {};
zkS._cbtoken = 0;
/**
 * 
 * @param {Object} fn
 * @param {Object} arg0
 * @param {Object} arg1
 * @return a round-trip token
 */
zkS.addCallback = function(fn, arg0, arg1){
	var token = (zkS._cbtoken++) + '';
	zkS._callbacks[token] = [fn, arg0, arg1];
	if(zkS._cbtoken > 9999) zkS._cbtoken = 0;
	return  token;
};
zkS.removeCallback = function (token) {
	var r = zkS._callbacks[token];
	if (r)
		delete zkS._callbacks[token];
};
zkS.doCallback = function (token) {
	var r = zkS._callbacks[token];
	if (r) {
		delete zkS._callbacks[token];
		r[0].call(this, r[1], r[2]);
	}
};

zkS.parentByZSType = function(el, type, pathlen) {
	if (el) {
		if (!(type instanceof Array))
			type = [type];
		var i = 0,
			size = type.length, 
			n = el;
		for(; !!n; n = n.parentNode) {
			if (!n.attributes) 
				continue;
			j = size;
			while (j--) {
				if (n.getAttribute('zs.t') == type[j])
					return n;
			}
			if (pathlen && i++ > pathlen)
				break;
		}
	}
	return null;
};

zkS.copyParm = function (src, dest, parms) {
	var i = parms.length;
	while(i--)
		dest[parms[i]] = src[parms[i]];	
};

/** Returns the data for onClick. */
zkS._getMouseData = function (evt, target) {
	var extra = "";
	if (evt.altKey) extra += "a";
	if (evt.ctrlKey) extra += "c";
	if (evt.shiftKey) extra += "s";
	
	var ofs = zk(target).cmOffset(target),
		x = evt.pageX - ofs[0],
		y = evt.pageY - ofs[1];

	return [x, y, extra];
};


zkS.isEvtKey = function (evt, flag) {
	if (evt && ((flag.indexOf("a") != -1 && evt.altKey) || 
		(flag.indexOf("c") != -1 && evt.ctrlKey) ||
		(flag.indexOf("s") !=- 1 && evt.shiftKey) )) return true;
	return false;
};


/**
 * check to see if cmp has scroll bar
 * @param {Object} cmp component to check
 * @param {Object} vert false to check horizontal, true for vertical
 * @return true or false.
 */
zkS._hasScrollBar = function (cmp, vert) {
	var off,
		client;
	if(vert){
		off = cmp.offsetWidth;
		client = cmp.clientWidth;
	}else{
		off = cmp.offsetHeight;
		client = cmp.clientHeight;  
	}
	return (off - client) > 3 ? true : false;
};

zkS._enterChar = String.fromCharCode(13);

/**
 * check if point(x, y) is overlap to element
 * @param element a dom element
 * @param x x of upper left corner
 * @param y y of upper left corner
 * @returns true or false
 */
zkS.isOverlapByPoint = function(element, x, y) {
	var zkElement = zk(element),
		offset = zkElement.revisedOffset(),
		x1 = offset[0],
		y1 = offset[1],
		x2 = x1 + zkElement.offsetWidth(),
		y2 = y1 + zkElement.offsetHeight();
	return x >= x1 && x <= x2 && y >= y1 && y <= y2;
}

//ZSS-1214
zkS._ZERO = '0'.charAt(0);
zkS._NINE = '9'.charAt(0);
// Returns whether the character provided is a single digit
zkS.isSingleDigit = function(val) {
	if (val === undefined || val.length != 1) {
		return false;
	}
	var char = val.charAt(0);
	return zkS._ZERO <= char && char <= zkS._NINE;
}


/* Util.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Mon Apr 23, 2007 17:29:18 AM , Created by sam
}}IS_NOTE

Copyright (C) 2007 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * Static functions for backward compatible
 */
zss.Util = zk.$extends(zk.Object, {}, {
	_vpts: {},
	$parent: function (n) {
		var p = zss.Util._vpts[n.id];
		return p ? p : n.parentNode;
	}
});
/*
zcss.js

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		January 10, 2008 4:58:31 PM , Created by Dennis Chen
}}IS_NOTE

Copyright (C) 2008 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
	This program is distributed under GPL Version 2.0 in the hope that
	it will be useful, but WITHOUT ANY WARRANTY.
}}IS_RIGHT
*/

/**
 * Css Utility namespace
 */
zcss = {
	p2saReg : /(-[a-z])/gi
};

zcss.nonNegativeAttr = ["width", "height"];

/**
 * get StyleSheet object by id
 * @param {String} id
 * @return {Object} StyleSheet object
 */
zcss.getSSheet = function (id) {
	var node = document.getElementById(id);
	if(node && node.type == "text/css"){
		return zcss._getElementSheet(node);
	}
	return null;
};


/**
 * Find the rule in the StyleSheet by selector and id.
 * if id is specified, then searh the rule in the StyleSheet only, 
 * if not find the last rule.
 * @param {String} selector selector text
 * @param {String} id style sheet id, null-able
 * @return {Object} Style Sheet Rule
 */
zcss.findRule = function (selector, id) {
	var ss;
	if (id) {
		ss = zcss.getSSheet(id);
		if(!ss) return null;
		ss = [ss];
	} else {
		ss = document.styleSheets;	
	}
	
	for (var i = ss.length - 1; i >= 0; i--) {
		var r = zcss._findRuleInStyleSheet(selector, ss[i]); //ZSS-1152
		if (r) {
			return r;
		}
	}
	return null;
};

//ZSS-1152
zcss._findRuleInStyleSheet = function (selector, ss) {
	var r = zcss._matchRule(selector, ss);
	if (r) {
		return r;
	}
	
	// ZSS-1152: search into imports
	var imports = ss.imports;
	if (imports) {
		for (var j = imports.length; --j >=0;) {
			r = zcss._findRuleInStyleSheet(selector, imports[j]); // recursive
			if (r) {
				return r;
			}
		}
	}
	return null;
};

//ZSS-1152
zcss._matchRule = function (selector, ss) {
	var rules = zcss._getSSRules(ss);
	if (rules) {
		for (var j = rules.length - 1; j >= 0; j--) {
			var r = rules[j];
			if(selector.toLowerCase() == r.selectorText.toLowerCase()) {
				return r;
			}
		}
	}
	return null;
};


zcss._findRuleIndex = function (sheetobj, selector) {
	
	//TODO , should i cache index, and when should clear??
	var rules = zcss._getSSRules(sheetobj);
	if(!rules) return -1;
	for(var j=rules.length-1;j>=0;j--){
		var r = rules[j];
		if(selector.toLowerCase() == r.selectorText.toLowerCase()){
			return j; 
		}
	}
	return -1;
};


/**
 * Add new rule to the StyleSheet
 * If id is specified, then add the rule to the StyleSheet,
 * If not, then add the rule to the last StyleSheet 
 * 
 * @param {String,Array} selector the selector text
 * @param {String} props the properties(general css attribute format , e.g. font-size:20px;border 1px solid;), might null
 * @param {String} id the style element id, null-able
 * @param {String} before insert before the selector text, this param work with style element id only 
 * @return the new rule/rules depends on selector type. if the StyleSheet of id doesn't exist then return null;
 */
zcss.addRule = function (selector, props, id, before) {
	var sheetobj;
	if (id) {
		sheetobj = zcss.getSSheet(id);
		if(!sheetobj) return null;
	} else {
		sheetobj = document.styleSheets;
		sheetobj = sheetobj[sheetobj.length - 1];//get last
	}
	//insert to last
	var rules = zcss._getSSRules(sheetobj);
	if(!rules) return null; 
	var index;
	
	if (sheetobj && before && typeof before == "string") {
		index = zcss._findRuleIndex(sheetobj , before);
		if (index < 0)
			index = rules.length;

	} else
		index  = rules.length;
	
	if (!(selector instanceof Array)) {
		var rule = zcss._insertRule2Sheet(sheetobj, selector, (props ? props : ""), index);
		return rule;
	} else {
		var rules = [],
			size = selector.length;
		for (var i = 0; i < size; i++) {
			rules[i] = zcss._insertRule2Sheet(sheetobj, selector[i], (props ? props : ""), index);
			index++;
		}
		return rules;
	}
	
	//in sfa, we must retain the rules to get correct collection
	//so I add all must do this, since it is more stable when in other borwsers
	//rules = zcss._getSSRules(sheetobj)
};


/**
 * Set the style to the rule by following condition
 * If id specified, update rule  only in the StyleSheet with this id.
 * If id doesn't specified, search the last rule in all StyleSheet.
 * 
 * If create is ture, the create new one at the last StyleSheet or specified StyleSheet if no rule is found.
 * If create is false, the just update the rule when rule is found. 
 * @param {String,Array} selector the selector text
 * @param {String,Array} prop the style name, it colud be a array
 * @param {String,Array} value the style value, ic could be a array with same size as prop
 * @param {boolean,String} create create new one if rule not found, if the type is string (a selector) 
 * then I will try to insert new rule berfore this selector, null-able
 * @param {String} id the stylesheet, null-able
 * @return true if success, otherwise false, if selector is array the retrun the last result of selector.
 */
zcss.setRule = function (selector, prop, value, create, id) {
	//zssd("set CSS RULE:"+selector+",prop:"+prop+"value:"+value,"1227");
	if (!(selector instanceof Array))
		selector = [selector];

	var result = false;
	for (var i = 0; i < selector.length; i++) {
		var rule = zcss.findRule(selector[i], id);
		if (!rule && create)
			rule = zcss.addRule(selector[i], "", id, create);

		if (rule) {
			if (prop instanceof Array) {
				for (var j = 0; j < prop.length; j++) {
					zcss._setRuleProperty(rule, prop[j], value[j]);
				}
			} else {
				zcss._setRuleProperty(rule, prop, value);
			}
			result = true;
		} else {
			result = false;
		}
	}
	return result;
};

/**
 * 
 * @param {String,Array} selector 
 * @param {String} id StyleSheet id, id must not null
 */
zcss.removeRule = function (selector, id) {
	if(!id) return;
	var sheetobj = zcss.getSSheet(id);
	if (!sheetobj) return;
	
	if (!(selector instanceof Array))
		selector = [selector];

	zcss._removeRulesFromSheet(sheetobj,selector);
};


//** private method
/**
 * Transfer css property value to style attribute value. i.e : font-size to fontSize
 */
zcss._porp2attr = function (prop) {
	return prop.$camel();//a prototype inplementation.
};

//** browser dependence method.
/**
 * get Rules for a stylesheet
 */
zcss._getSSRules = function (){
	if ((zk.ie && zk.ie < 11) || zk.safari) {
		return function(styleSheet) {
			return styleSheet.rules;
		};
	} else {
		return function(styleSheet){
			try {
				return styleSheet.cssRules;
			} catch (e) {//avoid cssRules Access to restricted URI denied" code: "1012
				return null;
			}
		};
	}
}();
/**
 * get stylesheet object from a element
 */
zcss._getElementSheet = function () {
	if (zk.ie && zk.ie < 11) {
		return function(element){
			return element.styleSheet;
		};
	} else {
		return function(element){
			return element.sheet;
		};
	}
}();

/**
 * insert rule to sheet, return the inserted rule
 */
zcss._insertRule2Sheet = function () {
	if (zk.ie && zk.ie < 11) {
		return function(sheetobj, selector, style, index) {
			sheetobj.addRule(selector, "{"+style+"}", index);
			return sheetobj.rules[index];
		};
	}
	if (zk.opera) {
		return function(sheetobj, selector, style, index) {
			//Opera bug, it cannot inert rule with index, it always insert it at the end;
			var len = sheetobj.cssRules.length;
			sheetobj.insertRule(selector+" {"+style+"}",index);
			return sheetobj.cssRules[index];
		};
	} else {
		return function(sheetobj, selector, style, index) {
			sheetobj.insertRule(selector + "{" + style + "}", index);
			return sheetobj.cssRules[index];
		};
	}
}();

/**
 * insert rule to sheet, return the inserted rule
 */
zcss._removeRulesFromSheet = function () {
	if (zk.ie && zk.ie < 11) {
		return function(sheetobj, selectors) {
			//sheetobj.removeRule(selector);
			var rules = zcss._getSSRules(sheetobj);
			if (!rules) return;
			for (var i = rules.length - 1; i >= 0; i--) {
				for (var j = selectors.length - 1; j >= 0; j--) {
					if (selectors[j] == rules[i].selectorText) {
						sheetobj.removeRule(i);
						break;
					}
				}
			}
		};
	} else {
		return function(sheetobj, selectors) {
			var rules = zcss._getSSRules(sheetobj);
			if (!rules) return;
			for (var i = rules.length - 1; i >= 0; i--) {
				for(var j = selectors.length - 1; j >= 0; j--) {
					if (selectors[j] == rules[i].selectorText){
						sheetobj.deleteRule(i);
						break;
					}
				}
			}
		};
	}
}();

/**
 * set rule property
 */
zcss._setRuleProperty = function (){
	if (zk.ie && zk.ie < 11) {
		return function (rule, prop, value) {
			prop = zcss._porp2attr(prop);
			rule.style[prop]=value;
		};
	} else {
		return function (rule, prop, value) {
			rule.style.setProperty(prop, value, "");
		};
	}
}();

zcss._setStyleProperty = function(){
	if (zk.ie && zk.ie < 11) {
		return function (style, prop, value, comp) {
			if (zcss.nonNegativeAttr.$contains(prop) && typeof value == "string" && value.indexOf("-") == 0) {
				value = "0" + zcss._trimPrefixNumber(value);
			}
			prop = zcss._porp2attr(prop);
			style[prop] = value;
		};
	} else {
		return function (style, prop, value, comp) {
			if (zcss.nonNegativeAttr.$contains(prop) &&  typeof value == "string" && value.indexOf("-") == 0) {
				value = "0" + zcss._trimPrefixNumber(value);
			}
			style.setProperty(prop, value, "");
		};
	}
}();

zcss._trimPrefixNumber = function (str) {
	var regexp = /[^-+0-9]/,
		index = str.search(regexp);
	if (index > 0) {
		return str.substr(index, str.length);
	}
	return str;
};

zcss.setStyle = function (cmp, prop, value) {
	if (prop instanceof Array) {
		for(var j = 0; j < prop.length; j++) {
			zcss._setStyleProperty(cmp.style, prop[j], value[j], cmp);
		}
	} else {
		zcss._setStyleProperty(cmp.style, prop, value, cmp);
	}
};

zcss.copyStyle = function (src, target, styles, clear) {
	var size = styles.length,
		st,
		nm;
	for (var i = 0; i < size; i++) {
		nm = zcss._porp2attr(styles[i]);
		st = src.style[nm];
		if (st) {
			target.style[nm] = st;
		} else if(clear) {
			target.style[nm] = "";
		}
	}	
};

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zss',1);zk.load('zss',function(){if(zk._p=zkpi('zssex'))try{
/*
 CLEditor WYSIWYG HTML Editor v1.4.5
 http://premiumsoftware.net/CLEditor
 requires jQuery v1.4.2 or later

 Copyright 2010, Chris Landowski, Premium Software, LLC
 Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(F){F.cleditor={defaultOptions:{width:"auto",height:250,controls:"bold italic underline strikethrough subscript superscript | font size style | color highlight removeformat | bullets numbering | outdent indent | alignleft center alignright justify | undo redo | rule image link unlink | cut copy paste pastetext | print source",colors:"FFF FCC FC9 FF9 FFC 9F9 9FF CFF CCF FCF CCC F66 F96 FF6 FF3 6F9 3FF 6FF 99F F9F BBB F00 F90 FC6 FF0 3F3 6CC 3CF 66C C6C 999 C00 F60 FC3 FC0 3C0 0CC 36F 63F C3C 666 900 C60 C93 990 090 399 33F 60C 939 333 600 930 963 660 060 366 009 339 636 000 300 630 633 330 030 033 006 309 303",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Narrow,Garamond,Georgia,Impact,Sans Serif,Serif,Tahoma,Trebuchet MS,Verdana",sizes:"1,2,3,4,5,6,7",styles:[["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6","<h6>"]],useCSS:true,docType:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',docCSSFile:"",bodyStyle:"margin:4px; font:10pt Arial,Verdana; cursor:text"},buttons:{init:"bold,,|italic,,|underline,,|strikethrough,,|subscript,,|superscript,,|font,,fontname,|size,Font Size,fontsize,|style,,formatblock,|color,Font Color,forecolor,|highlight,Text Highlight Color,hilitecolor,color|removeformat,Remove Formatting,|bullets,,insertunorderedlist|numbering,,insertorderedlist|outdent,,|indent,,|alignleft,Align Text Left,justifyleft|center,,justifycenter|alignright,Align Text Right,justifyright|justify,,justifyfull|undo,,|redo,,|rule,Insert Horizontal Rule,inserthorizontalrule|image,Insert Image,insertimage,url|link,Insert Hyperlink,createlink,url|unlink,Remove Hyperlink,|cut,,|copy,,|paste,,|pastetext,Paste as Text,inserthtml,|print,,|source,Show Source"},imagesPath:function(){return w()}};F.fn.cleditor=function(am){var al=F([]);this.each(function(an,ao){if(ao.tagName.toUpperCase()==="TEXTAREA"){var ap=F.data(ao,d);if(!ap){ap=new cleditor(ao,am)}al=al.add(ap)}});return al};var q="backgroundColor",g="blurred",af="button",ae="buttonName",D="change",d="cleditor",V="click",C="disabled",G="<div>",M="focused",z="transparent",R="unselectable",b="cleditorMain",x="cleditorToolbar",ag="cleditorGroup",Q="cleditorButton",ah="cleditorDisabled",O="cleditorDivider",K="cleditorPopup",aj="cleditorList",aa="cleditorColor",c="cleditorPrompt",ac="cleditorMsg",X=navigator.userAgent.toLowerCase(),L=/msie/.test(X),u=/msie\s6/.test(X),H=/(trident)(?:.*rv:([\w.]+))?/.test(X),l=/webkit/.test(X),o=/iPhone|iPad|iPod/i.test(X),i={},E,y=F.cleditor.buttons;F.each(y.init.split("|"),function(al,ao){var am=ao.split(","),an=am[0];y[an]={stripIndex:al,name:an,title:am[1]===""?an.charAt(0).toUpperCase()+an.substr(1):am[1],command:am[2]===""?an:am[2],popupName:am[3]===""?an:am[3]}});delete y.init;cleditor=function(aq,an){var ap=this;ap.options=an=F.extend({},F.cleditor.defaultOptions,an);var al=ap.$area=F(aq).css({border:"none",margin:0,padding:0}).hide().data(d,ap).blur(function(){S(ap,true)});var ar=ap.$main=F(G).addClass(b).width(an.width).height(an.height);var am=ap.$toolbar=F(G).addClass(x).appendTo(ar);var ao=F(G).addClass(ag).appendTo(am);var at=0;F.each(an.controls.split(" "),function(av,au){if(au===""){return true}if(au==="|"){var ax=F(G).addClass(O).appendTo(ao);ao.width(at+1);at=0;ao=F(G).addClass(ag).appendTo(am)}else{var ay=y[au];var aw=F(G).data(ae,ay.name).addClass(Q).attr("title",ay.title).bind(V,F.proxy(f,ap)).appendTo(ao).hover(ad,h);at+=24;ao.width(at+1);var az={};if(ay.css){az=ay.css}else{if(ay.image){az.backgroundImage=I(ay.image)}}if(ay.stripIndex){az.backgroundPosition=ay.stripIndex*-24}aw.css(az);if(L){aw.attr(R,"on")}if(ay.popupName){s(ay.popupName,an,ay.popupClass,ay.popupContent,ay.popupHover)}}});ar.insertBefore(al).append(al);if(!E){F(document).click(function(av){var au=F(av.target);if(!au.add(au.parents()).is("."+c)){ak()}});E=true}if(/auto|%/.test(""+an.width+an.height)){F(window).bind("resize.cleditor",function(){ai(ap)})}ai(ap)};var A=cleditor.prototype,J=[["clear",N],["disable",k],["execCommand",a],["focus",W],["hidePopups",ak],["sourceMode",j,true],["refresh",ai],["select",Y],["selectedHTML",p,true],["selectedText",T,true],["showMessage",B],["updateFrame",S],["updateTextArea",P]];F.each(J,function(al,am){A[am[0]]=function(){var aq=this,ap=[aq];for(var ao=0;ao<arguments.length;ao++){ap.push(arguments[ao])}var an=am[1].apply(aq,ap);if(am[2]){return an}return aq}});A.blurred=function(al){var am=F(this);return al?am.bind(g,al):am.trigger(g)};A.change=function e(al){var am=F(this);return al?am.bind(D,al):am.trigger(D)};A.focused=function(al){var am=F(this);return al?am.bind(M,al):am.trigger(M)};function f(aq){var ap=this,at=aq.target,au=F.data(at,ae),ao=y[au],ar=ao.popupName,am=i[ar];if(ap.disabled||F(at).attr(C)===C){return}var an={editor:ap,button:at,buttonName:au,popup:am,popupName:ar,command:ao.command,useCSS:ap.options.useCSS};if(ao.buttonClick&&ao.buttonClick(aq,an)===false){return false}if(au==="source"){if(j(ap)){delete ap.range;ap.$area.hide();ap.$frame.show();at.title=ao.title}else{ap.$frame.hide();ap.$area.show();at.title="Show Rich Text"}}else{if(!j(ap)){if(ar){var al=F(am);if(ar==="url"){if(au==="link"&&T(ap)===""){B(ap,"A selection is required when inserting a link.",at);return false}al.children(":button").unbind(V).bind(V,function(){var aw=al.find(":text"),av=F.trim(aw.val());if(av!==""){a(ap,an.command,av,null,an.button)}aw.val("http://");ak();W(ap)})}else{if(ar==="pastetext"){al.children(":button").unbind(V).bind(V,function(){var aw=al.find("textarea"),av=aw.val().replace(/\n/g,"<br />");if(av!==""){a(ap,an.command,av,null,an.button)}aw.val("");ak();W(ap)})}}if(au==="color"){ak();ap.wgt.openColorPopup();return false}if(at!==F.data(am,af)){n(ap,am,at);return false}return}else{if(au==="print"){ap.$frame[0].contentWindow.print()}else{if(!a(ap,an.command,an.value,an.useCSS,at)){return false}}}}}W(ap)}function ad(am){var al=F(am.target).closest("div");al.css(q,al.data(ae)?"#FFF":"#FFC")}function h(al){F(al.target).closest("div").css(q,"transparent")}function Z(ar){var ap=this,al=ar.data.popup,at=ar.target;if(al===i.msg||F(al).hasClass(c)){return}var av=F.data(al,af),aw=F.data(av,ae),ao=y[aw],am=ao.command,au,aq=ap.options.useCSS;if(aw==="font"){au=at.style.fontFamily.replace(/"/g,"")}else{if(aw==="size"){if(at.tagName.toUpperCase()==="DIV"){at=at.children[0]}au=at.innerHTML}else{if(aw==="style"){au="<"+at.tagName+">"}else{if(aw==="color"){au=U(at.style.backgroundColor)}else{if(aw==="highlight"){au=U(at.style.backgroundColor);if(L){am="backcolor"}else{aq=true}}}}}}var an={editor:ap,button:av,buttonName:aw,popup:al,popupName:ao.popupName,command:am,value:au,useCSS:aq};if(ao.popupClick&&ao.popupClick(ar,an)===false){return}if(an.command&&!a(ap,an.command,an.value,an.useCSS,av)){return false}ak();W(ap)}function t(ao){var am=1,al=0;for(var an=0;an<ao.length;++an){am=(am+ao.charCodeAt(an))%65521;al=(al+am)%65521}return(al<<16)|am}function N(al){al.$area.val("");S(al)}function s(ap,an,ao,am,aq){if(i[ap]){return i[ap]}var ar=F(G).hide().addClass(K).appendTo("body");if(am){ar.html(am)}else{if(ap==="color"){var al=an.colors.split(" ");if(al.length<10){ar.width("auto")}F.each(al,function(at,au){F(G).appendTo(ar).css(q,"#"+au)});ao=aa}else{if(ap==="font"){F.each(an.fonts.split(","),function(at,au){F(G).appendTo(ar).css("fontFamily",au).html(au)})}else{if(ap==="size"){F.each(an.sizes.split(","),function(at,au){F(G).appendTo(ar).html("<font>"+au+"</font>")})}else{if(ap==="style"){F.each(an.styles,function(at,au){F(G).appendTo(ar).html(au[1]+au[0]+au[1].replace("<","</"))})}else{if(ap==="url"){ar.html('<label>Enter URL:<br /><input type="text" value="http://" style="width:200px" /></label><br /><input type="button" value="Submit" />');ao=c}else{if(ap==="pastetext"){ar.html('<label>Paste your content here:<br /><textarea rows="3" style="width:200px"></textarea></label><br /><input type="button" value="Submit" />');ao=c}}}}}}}if(!ao&&!am){ao=aj}ar.addClass(ao);if(L){ar.attr(R,"on").find("div,font,p,h1,h2,h3,h4,h5,h6").attr(R,"on")}if(ar.hasClass(aj)||aq===true){ar.children().hover(ad,h)}i[ap]=ar[0];return ar[0]}function k(am,al){if(al){am.$area.attr(C,C);am.disabled=true}else{am.$area.removeAttr(C);delete am.disabled}try{if(L){am.doc.body.contentEditable=!al}else{am.doc.designMode=!al?"on":"off"}}catch(an){}r(am)}function a(aq,an,at,ar,ao){ab(aq);if(!L){if(ar===undefined||ar===null){ar=aq.options.useCSS}aq.doc.execCommand("styleWithCSS",0,ar.toString())}var al=an.toLowerCase()==="inserthtml";if(L&&al){m(aq).pasteHTML(at)}else{if(H&&al){var au=v(aq),ap=au.getRangeAt(0);ap.deleteContents();ap.insertNode(ap.createContextualFragment(at));au.removeAllRanges();au.addRange(ap)}else{var av=true,aw;try{av=aq.doc.execCommand(an,0,at||null)}catch(am){aw=am.message;av=false}if(!av){if("cutcopypaste".indexOf(an)>-1){B(aq,"For security reasons, your browser does not support the "+an+" command. Try using the keyboard shortcut or context menu instead.",ao)}else{B(aq,(aw?aw:"Error executing the "+an+" command."),ao)}}}}F(aq.doc).find("font").each(function(){var az=F("<span></span>").html(this.innerHTML),aA=az[0];if(this.hasAttribute("size")){az.css("font-size",at+"pt")}if(this.hasAttribute("face")){az.css("font-family",this.getAttribute("face"))}if(this.hasAttribute("color")){az.css("color",this.getAttribute("color"))}F(this).replaceWith(az);var ay=v(aq),ax=m(aq);if(L){ax.moveToElementText(aA);ax.select()}else{ax.selectNode(aA);ay.removeAllRanges();ay.addRange(ax)}});r(aq);P(aq,true);return av}function W(al){setTimeout(function(){if(j(al)){al.$area.focus()}else{al.$frame[0].contentWindow.focus()}r(al)},0)}function m(al){if(L){return v(al).createRange()}return v(al).getRangeAt(0)}function v(al){if(L){return al.doc.selection}return al.$frame[0].contentWindow.getSelection()}function U(am){var al=/rgba?\((\d+), (\d+), (\d+)/.exec(am);if(al){am=(al[1]<<16|al[2]<<8|al[3]).toString(16);while(am.length<6){am="0"+am}return"#"+am}var an=am.split("");if(am.length===4){return"#"+an[1]+an[1]+an[2]+an[2]+an[3]+an[3]}return am}function ak(){F.each(i,function(al,am){F(am).hide().unbind(V).removeData(af)})}function w(){var al=F("link[href*=cleditor]").attr("href");return al.replace(/^(.*\/)[^\/]+$/,"$1")+"images/"}function I(al){return"url("+w()+al+")"}function ai(an){var ap=an.$main,am=an.options;if(an.$frame){an.$frame.remove()}var ao=an.$frame=F('<iframe frameborder="0" src="javascript:true;" />').hide().appendTo(ap);var al=ao[0].contentWindow,aq=an.doc=al.document,ar=F(aq);aq.open();aq.write(am.docType+"<html>"+((am.docCSSFile==="")?"":'<head><link rel="stylesheet" type="text/css" href="'+am.docCSSFile+'" /></head>')+'<body style="'+am.bodyStyle+'"></body></html>');aq.close();if(L||H){ar.click(function(){W(an)})}S(an);if(L||H){ar.bind("beforedeactivate beforeactivate selectionchange keypress keyup",function(at){if(at.type==="beforedeactivate"){an.inactive=true}else{if(at.type==="beforeactivate"){if(!an.inactive&&an.range&&an.range.length>1){an.range.shift()}delete an.inactive}else{if(!an.inactive){if(!an.range){an.range=[]}an.range.unshift(m(an));while(an.range.length>2){an.range.pop()}}}}});ao.focus(function(){ab(an);F(an).triggerHandler(M)});ao.blur(function(){F(an).triggerHandler(g)})}else{F(ao[0].contentWindow).focus(function(){F(an).triggerHandler(M)}).blur(function(){F(an).triggerHandler(g)})}ar.click(ak).keydown(function(at){if(L&&v(an).type=="Control"&&at.keyCode==8){v(an).clear();at.preventDefault()}}).bind("keyup mouseup",function(){r(an);P(an,true)});if(o){an.$area.show()}else{ao.show()}F(function(){var au=an.$toolbar,av=au.children("div:last"),aw=ap.width();var at=av.offset().top+av.outerHeight()-au.offset().top+1;au.height(at);at=(/%/.test(""+am.height)?ap.height():parseInt(am.height,10))-at;ao.width(aw).height(at);an.$area.width(aw).height(u?at-2:at);k(an,an.disabled);r(an)})}function r(al){if(!o&&l&&!al.focused){al.$frame[0].contentWindow.focus();window.focus();al.focused=true}var am=al.doc;if(L){am=m(al)}var an=j(al);F.each(al.$toolbar.find("."+Q),function(ao,au){var ap=F(au),ar=F.cleditor.buttons[F.data(au,ae)],aw=ar.command,aq=true;if(al.disabled){aq=false}else{if(ar.getEnabled){var av={editor:al,button:au,buttonName:ar.name,popup:i[ar.popupName],popupName:ar.popupName,command:ar.command,useCSS:al.options.useCSS};aq=ar.getEnabled(av);if(aq===undefined){aq=true}}else{if(((an||o)&&ar.name!=="source")||(L&&(aw==="undo"||aw==="redo"))){aq=false}else{if(aw&&aw!=="print"){if(L&&aw==="hilitecolor"){aw="backcolor"}if((!L&&!H)||aw!=="inserthtml"){try{aq=am.queryCommandEnabled(aw)}catch(at){aq=false}}}}}}if(aq){ap.removeClass(ah);ap.removeAttr(C)}else{ap.addClass(ah);ap.attr(C,C)}})}function ab(al){if(al.range){if(L){al.range[0].select()}else{if(H){v(al).addRange(al.range[0])}}}}function Y(al){setTimeout(function(){if(j(al)){al.$area.select()}else{a(al,"selectall")}},0)}function p(ao){ab(ao);var al=m(ao);if(L){return al.htmlText}var an=F("<layer>")[0];an.appendChild(al.cloneContents());var am=an.innerHTML;an=null;return am}function T(al){ab(al);if(L){return m(al).text}return v(al).toString()}function B(an,ao,am){var al=s("msg",an.options,ac);al.innerHTML=ao;n(an,al,am)}function n(at,an,ar){var aq,ap,au,al=F(an);if(ar){var am=F(ar);aq=am.offset();ap=--aq.left;au=aq.top+am.height()}else{var ao=at.$toolbar;aq=ao.offset();ap=Math.floor((ao.width()-al.width())/2)+aq.left;au=aq.top+ao.height()-2}ak();al.css({left:ap,top:au}).show();if(ar){F.data(an,af,ar);al.bind(V,{popup:an},F.proxy(Z,at))}setTimeout(function(){al.find(":text,textarea").eq(0).focus().select()},100)}function j(al){return al.$area.is(":visible")}function S(ap,al){if(!ap.doc){return}var aq=ap.$area.val(),am=ap.options,at=am.updateFrame,ar=F(ap.doc.body);if(at){var ao=t(aq);if(al&&ap.areaChecksum===ao){return}ap.areaChecksum=ao}var an=at?at(aq):aq;an=an.replace(/<(?=\/?script)/ig,"&lt;");if(am.updateTextArea){ap.frameChecksum=t(an)}if(an!==ar.html()){ar.html(an);F(ap).triggerHandler(D)}}function P(aq,al){var ao=F(aq.doc.body).html(),an=aq.options,at=an.updateTextArea,am=aq.$area;if(at){var ap=t(ao);if(al&&aq.frameChecksum===ap){return}aq.frameChecksum=ap}var ar=at?at(ao):ao;if(an.updateFrame){aq.areaChecksum=t(ar)}if(ar!==am.val()){am.val(ar);F(aq).triggerHandler(D)}}})(jQuery);
zssex.Ghost=zk.$extends(zk.Widget,{ghost:true,domClass_:function(a){return"zssexghost"},getPosition:zk.$void});
zkreg('zssex.Ghost');
zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),' style="display:none">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.p.Ghost,zk._m);
(function(){function g(m,o,r){var t=m.control,p=m.opts.type=t._dragType,l=t._focusBorderSize,n=r.domTarget,q=jq(m.node),j=q.width()-l*2+2,s=q.height()-l*2+2,i=jq('<div id="zk_ddghost"></div>').attr("style",q.attr("style")).addClass("zswidget zswidget-drag z-drag-ghost").width(j+"px").height(s+"px");m._orgcursor=document.body.style.cursor;document.body.style.cursor=p=="resize"?"crosshair":"move";if("move"==p){i.appendTo(t._sheet.comp);var k=zk(m.node).revisedOffset();m.opts.innerOffset=[r.pageX-k[0]+l,r.pageY-k[1]+l];document.body.style.cursor="move"}else{var h=t._panel;if(h=="top"){i.appendTo(t._sheet.tp.$n("topwp"))}else{if(h=="left"){i.appendTo(t._sheet.lp.$n("leftwp"))}else{if(h=="corner"){i.appendTo(t._sheet.cp.$n("cornerwp"))}else{i.appendTo(t._sheet.sp.comp)}}}document.body.style.cursor="crosshair"}jq(t.getDragNode()).addClass("z-dragged");return i[0]}function b(m,l,i){var k=i-m[0],h=l.offsetLeft+l.clientHeight-20;if(k>h){k=h}var j=l.offsetLeft+l.clientWidth-k;return[k,j]}function e(m,j,i){var h=i-m[1],l=j.offsetTop+j.clientHeight-20;if(h>l){h=l}var k=j.offsetTop+j.clientHeight-h;return[h,k]}function d(k,j,h){var i=20;return Math.max(i,h-k[1])}function c(k,j,i){var h=20;return Math.max(h,i-k[0])}function f(I,C,z){var q=I.control,F=q.getDragNode(),D=I.node,k=q._dragType,B=q._dragDir,u=q._focusBorderSize,v=I.opts;if("resize"==k&&B){var o=I.control._sheet,r=o.sp.comp,A=q._focus;if("N"==B){var E=zk(r).revisedOffset(),H=zk(F).revisedOffset(),h=r.scrollTop,i=e(E,F,z.pageY+h),w=i[0],m=i[1];jq(D).height(m+"px");v.x1=H[0]+u;v.x2=v.x1+F.clientWidth-(u*2);v.y1=w+E[1]-h;v.y2=v.y1+m-u;return[D.offsetLeft,w]}else{if("NE"==B){var E=zk(r).revisedOffset(),H=zk(F).revisedOffset(),l=D.offsetLeft,h=r.scrollTop,i=e(E,F,z.pageY+h),w=i[0],m=i[1],t=c(zk(D).revisedOffset(),F,z.pageX);jq(D).height(m+"px").width(t+"px");v.x1=H[0]+u;v.x2=v.x1+t-4;v.y1=w+E[1]-h;v.y2=v.y1+m-u;return[l,w]}else{if("E"==B){var E=zk(D).revisedOffset(),H=zk(F).revisedOffset(),l=D.offsetLeft,w=D.offsetTop,t=c(E,F,z.pageX);jq(D).width(t+"px");v.x1=H[0]+u;v.y1=H[1]+u;v.x2=v.x1+t-4;v.y2=v.y1+F.clientHeight-(u*2);return[l,w]}else{if("SE"==B){var E=zk(D).revisedOffset(),H=zk(F).revisedOffset(),l=D.offsetLeft,w=D.offsetTop,t=c(E,F,z.pageX),m=d(E,F,z.pageY);jq(D).width(t+"px").height(m+"px");v.x1=H[0]+u;v.y1=H[1]+u;v.x2=v.x1+t-4;v.y2=v.y1+m-4;return[l,w]}else{if("S"==B){var E=zk(D).revisedOffset(),H=zk(F).revisedOffset(),l=D.offsetLeft,w=D.offsetTop,m=d(E,F,z.pageY);jq(D).height(m+"px");v.x1=H[0]+u;v.y1=H[1]+u;v.x2=v.x1+F.clientWidth-(u*2);v.y2=v.y1+m-4;return[l,w]}else{if("SW"==B){var E=zk(r).revisedOffset(),H=zk(F).revisedOffset(),m=d(zk(D).revisedOffset(),F,z.pageY),G=r.scrollLeft,L=b(E,F,z.pageX+G),l=L[0],t=L[1];jq(D).width(t+"px").height(m+"px");v.x1=l+E[0]-G;v.y1=H[1]+u;v.x2=v.x1+t-4;v.y2=v.y1+m-4;return[l,F.offsetTop]}else{if("W"==B){var E=zk(r).revisedOffset(),H=zk(F).revisedOffset(),G=r.scrollLeft,L=b(E,F,z.pageX+G),w=F.offsetTop,l=L[0],t=L[1];jq(D).width(t+"px");v.x1=l+E[0]-G;v.y1=H[1]+u;v.x2=v.x1+t-4;v.y2=v.y1+F.clientHeight-(u*2);return[l,w]}else{if("NW"==B){var E=zk(r).revisedOffset(),H=zk(F).revisedOffset(),G=r.scrollLeft,L=b(E,F,z.pageX+G),h=r.scrollTop,i=e(E,F,z.pageY+h),w=i[0],m=i[1],l=L[0],t=L[1];jq(D).width(t+"px").height(m+"px");v.x1=l+E[0]-G;v.y1=w+E[1]-h;v.x2=v.x1+t-4;v.y2=v.y1+m-u;return[l,w]}}}}}}}}}else{var j=I.opts.innerOffset,j=!j?[0,0]:j,o=I.control._sheet,E=zk(o.comp).revisedOffset(),K=o.leftWidth,J=o.topHeight,s=Math.max(z.pageX-E[0]-j[0],K),p=Math.max(z.pageY-E[1]-j[1],J);v.x1=s;v.x2=v.x1+F.clientWidth-(u*2)+1;v.y1=p;v.y2=v.y1+F.clientHeight-(u*2)+1;return[s,p]}}function a(A,x){var s=A.control,w=A.opts,o=A.control._sheet,y=zk(o.dp.comp).revisedOffset(),m=s._dragType;if("resize"!=m){w.x1+=y[0];w.x2+=y[0];w.y1+=y[1];w.y2+=y[1]}var v=s._panel,F=o.sheetid,G=o.leftWidth,i=o.topHeight,r=A.node.firstChild,n=o.custColWidth,p=o.custRowHeight,E=zss.SSheetCtrl._calCellPos(o,w.x1,w.y1,m=="resize"&&v=="default"),C=zss.SSheetCtrl._calCellPos(o,w.x2,w.y2,m=="resize"&&v=="default"),j=n.getStartPixel(E[1]),q=p.getStartPixel(E[0]),h=n.getStartPixel(C[1]),D=p.getStartPixel(C[0]),l=w.x1-y[0]-G-j,u=w.y1-y[1]-i-q,z=C[1]==E[1],B=C[0]==E[0],k=z?l+(w.x2-w.x1):w.x2-y[0]-G-h,t=B?u+(w.y2-w.y1):w.y2-y[1]-i-D;s._sheet._wgt.fireWidgetUpdatEvt(s.getType(),A.opts.type,A.control.getId(),Math.round(l),Math.round(u),Math.round(k),Math.round(t),E[1],E[0],C[1],C[0]);A.control._dragging=false;zcss.removeRule("#"+F+" .zswidget-focus",F+"-sheet")}zssex.Widget=zk.$extends(zul.Widget,{_leftPos:null,_topPos:null,_dragging:false,_delaySetDragMove:null,_dragType:null,_dragDir:null,_focus:false,_focusBorderSize:6,$define:{col:function(){this.adjustLocation()},row:function(){this.adjustLocation()},left:function(){this.adjustLocation()},top:function(){this.adjustLocation()},visible:function(h){var i=this.$n();if(i){jq(i).css("visibility",h?"visible":"hidden")}},sizable:_zkf=function(){this.updateDraggable_()},movable:_zkf,id:null,type:null,panel:null},insertChildHTML_:function(j,h,i){if(h){jq(h).before(j.redrawHTML_())}else{jq(this.$n("real")).append(j.redrawHTML_())}j.bind(i)},adjustLocation:function(s){var i=this.$n(),p=this._sheet;if(!i||!p){return}var j=this.getCol(),t=this.getRow(),q=p.custColWidth,u=p.custRowHeight,m=q.getSize(j),h=u.getSize(t),k=this._leftPos=p.leftWidth+q.getStartPixel(j)+(this.getLeft()>m?m:this.getLeft()),r=this._topPos=p.topHeight+u.getStartPixel(t)+(this.getTop()>h?h:this.getTop()),o=this._focus,l=this._focusBorderSize;jq(i).css({left:o?jq.px(k-l):jq.px(k),top:o?jq.px(r-l):jq.px(r)});if(s){jq(i).css("visibility","visible")}},_cloneAttrs:function(h){if(h._id==this._id){h._sheet=this._sheet;h._leftPos=this._leftPos;h._topPos=this._topPos}},redrawWidgetTo:function(i){if(!i){return}this._sheet=i;var h=this._panel;var j;if(h=="top"){j=i.tp.$n("topwp")}else{if(h=="left"){j=i.lp.$n("leftwp")}else{if(h=="corner"){j=i.cp.$n("cornerwp")}else{j=i.$n("wp")}}}jq(j).append(this.$n());this.clearCache();this.adjustLocation(true);this.updateDraggable_()},updateDraggable_:function(){this.setDraggable(this.isSizable()||this.isMovable())},getDragOptions_:function(h){h.ghosting=g;h.constraint=f;h.endeffect=a;return h},ignoreDrag_:function(j){var h=this._sheet;var i=!this._dragType||(h.state==zss.SSheetCtrl.NOFOCUS&&!this._focus)||!this.isEditable();if(!i&&!this._focus){this._gainFocus()}this._dragging=!i;return i},doBlur_:function(h){jq(this.$n()).removeClass("zswidget-focus").css({left:jq.px(this._leftPos),top:jq.px(this._topPos)});this._updateListenFocus(false)},_onSheetFocus:function(h){var i=h.data;if(i){if(i.ctrl!=this){this.doBlur_()}}else{this.doBlur_()}},doMouseMove_:function(p){if(!this.isEditable()){return}if(!this._dragging){var C=p.domTarget,t=this.$n(),D=this._sheet.sheetid,o=D+"-sheet",z="#"+D;if((C==t||C==this.$n("cave"))&&this.isSizable()){this._dragType="resize";var u=zk(t).revisedOffset(),q=this._focusBorderSize,l=p.pageX-u[0],j=p.pageY-u[1],m=t.clientWidth,v=t.clientHeight,r=q,A=m-q,k=q,i=v-q,s;if(l<=r&&j<=k){s="NW"}else{if(l<=r&&j<=i){s="W"}else{if(l<=r&&j>i){s="SW"}else{if(l<=A&&j<=k){s="N"}else{if(l>A&&j<=k){s="NE"}else{if(l>A&&j<=i){s="E"}else{if(l<=A&&j>i){s="S"}else{if(this._dragDir!="ES"){s="SE"}}}}}}}}if(s!=this._dragDir){this._dragDir=s;zcss.setRule(z+" .zswidget-focus","cursor",s.toLowerCase()+"-resize",true,o)}this._delaySetDragMove=jq.now()}else{if(jq.isAncestor(this.$n("real"),C)){this._dragDir=null;var B=this._delaySetDragMove;if(!B||(B&&(jq.now()-B)>500)){this._delaySetDragMove=null;if(this._dragType!="move"){this._dragType="move";zcss.setRule(z+" .zswidget-focus","cursor","move",null,o)}}}}}},doMouseDown_:function(h){if(!this.isEditable()){return}if(jq.isAncestor(this.$n("real"),h.domTarget)){this._delaySetDragMove=null}if(!this._focus){var i=this._sheet,j=i.state;if(j==zss.SSheetCtrl.EDITING){i.dp.stopEditing()}else{if(j==zss.SSheetCtrl.NOFOCUS){i.dp.gainFocus();return}}this._gainFocus()}},doMouseUp_:function(h){this._dragging=false},isEditable:function(){var h=this._sheet._wgt;return !h.isProtect()||h.objectEditable},_gainFocus:function(){var i=this._sheet,j=jq(this.$n()),h=this._focusBorderSize,l=this._leftPos-h,k=this._topPos-h;j.addClass("zswidget-focus");if(l>0){j.css({left:jq.px(l)})}if(k>0){j.css({top:jq.px(k)})}i.fire("onFocused",{ctrl:this});this._updateListenFocus(true)},afterKeyDown_:function(h){var i=h.data;i.wgt=true;i.wgtType=this._type;i.wgtId=this._id;i.sheetId=this._sheet._wgt.getSheetId();this.$supers("afterKeyDown_",arguments)},_updateListenFocus:function(h){var i=this._focus;if(i!=h){this._sheet[i?"unlisten":"listen"]({onFocused:this.proxy(this._onSheetFocus)});this._focus=h;this.$n("fo")[h?"focus":"blur"]()}},bind_:function(){this.$supers("bind_",arguments)},unbind_:function(){this._updateListenFocus(false);this.$supers("unbind_",arguments)},domClass_:function(h){return"zswidget"}})})();
zkreg('zssex.Widget');
zk._m={};
zk._m['default']=function(b){var c=this.uuid;b.push("<div",this.domAttrs_(),'><a id="',this.uuid,'-fo" href="javascript:" class="zswidget-ifocus"></a><div id="',c,'-cave" class="zswidget-cave"><div id="',c,'-real" class="zswidget-real">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></div></div>")};
;zkmld(zk._p.p.Widget,zk._m);
zssex.Btn=zk.$extends(zul.wgt.Div,{$init:function(g,a,e,h,i,f,j,b){this.$supers(zssex.Btn,"$init",[]);this.sheet=g;this.loffset=b?g.custColWidth.getStartPixel(b):0;this.row=a;this.col=e;this.field=f;this.btntype=j;this.uuid=zk.Widget.nextUuid();var d='<div id="'+this.uuid+'" zs.t="SBtn" class="zsbtn '+i+'"></div>';this._zclass="zsbtn";this._sclass=i;jq(h).append(d);this.replaceHTML(d);this.relocate(a,e)},cleanup:function(){var a=this.$n();this.unbind();if(a){jq(a).remove()}},doTooltipOver_:function(){},doTooltipOut_:function(){},doClick_:function(a){},doMouseDown_:function(a){if((a.which)&&(a.which==1)){this.sheet._doBtndown(a,this.btntype,a.domTarget,this)}},doMouseUp_:function(a){this.sheet._doMouseup(a)},doRightClick_:function(a){this.sheet._doMouserightclick(a)},doDoubleClick_:function(a){this.sheet._doMousedblclick(a)},doKeyDown_:function(a){this.sheet.doKeyDown_(a)},afterKeyDown_:function(a){this.sheet._wgt.afterKeyDown_(a)},doKeyPress_:function(a){this.sheet._doKeypress(a)},relocate:function(p,b){var j=this.sheet;this.row=p;this.col=b;var a=b;var m=j.getCell(p,b);if(m&&m.merr&&m.merr>a){a=m.merr}var g=j.custColWidth,q=j.custRowHeight,d=g.getStartPixel(b),o=q.getStartPixel(p),k=g.getStartPixel(a+1)-d,e=q.getStartPixel(p+1)-o,c=17,n=17,f=c,i=n;if(k<c){c=k;i=k}if(e<n){n=e;f=e}if(i<n){n=i}if(f<c){c=f}this.relocate_(d-this.loffset+k-(this.btntype=="af"?c:-1),o+e-n,c,n)},relocate_:function(b,c,a,d){this.imgwidth=a;this.imgheight=d;this.imgleft=b-1;this.imgtop=c-2;jq(this.$n()).css({width:jq.px0(a),height:jq.px0(d),left:jq.px(this.imgleft)});if(zk.ie6_){jq(this.$n()).css({top:jq.px(this.imgtop)})}}});
zkreg('zssex.Btn');
(function(){function j(u,x,v){var p=u.getCell(x,v),E=v,D=v,B=x,H=x;if(p){if(p.merl&&p.merl<E){E=p.merl}if(p.merr&&p.merr>D){D=p.merr}if(p.mert&&p.mert<B){B=p.mert}if(p.merb&&p.merb>H){H=p.merb}}var o=u.topHeight;var I=u.leftWidth;var q=u.custColWidth;var y=u.custRowHeight;var s=q.getStartPixel(E);var C=y.getStartPixel(B);var G=q.getStartPixel(D+1)-1;var z=y.getStartPixel(H+1)-1;if(B>u.frozenRow){C-=u.spcmp.scrollTop}if(H>u.frozenRow){z-=u.spcmp.scrollTop}if(E>u.frozenCol){s-=u.spcmp.scrollLeft}if(D>u.frozenCol){G-=u.spcmp.scrollLeft}var A=G-s+1;var F=z-C+1;return{top:C+o,left:s+I,bottom:z+o,right:G+I,width:A,height:F}}zssex.Popup=zk.$extends(zk.Widget,{$o:zk.$void,$init:function(o){this.$supers(zssex.Popup,"$init",[]);this.sheet=o},open:function(){},close:function(){this.setVisible(false)}});zssex.CellPopup=zk.$extends(zssex.Popup,{widgetName:"CellPopup",isOpen:function(){return this.$n()&&this.isVisible()},open:function(q,w){if(!this.isOpen()){var v=this.$n();if(!v){this.createPopup_()}var t=this.relocate(q,w);this.setVisible(true);var s=this.sheet.spcmp.offsetHeight,o=t.top,p=t.height,u=this._node.offsetHeight;if((o+p+u)>s){jq(this.$n()).css({top:jq.px(t.top-u)})}}},relocate:function(q,o){var p=j(this.sheet,q,o);jq(this.$n()).css({left:jq.px(p.left),top:jq.px(p.bottom),width:jq.px(p.width)});return p},createPopup_:function(){jq(this.sheet.$n()).append(this.redrawHTML_());this.clearCache();this.bind_()},redrawHTML_:function(){return this.prologHTML_()+this.contentHTML_()+this.epilogHTML_()},contentHTML_:function(){return""},prologHTML_:function(){return"<div "+this.domAttrs_()+">"},epilogHTML_:function(){return"</div>"},listenSheetFocused_:function(o){var p=!!this._listenSheetFocused;if(p!=o){this.sheet[o?"listen":"unlisten"]({onFocused:this.proxy(this.onSheetFocused)});this._listenSheetFocused=o}},onSheetFocused:function(o){},listenSheetBlur_:function(o){var p=!!this._listenSheetBlur;if(p!=o){this.sheet._wgt[o?"listen":"unlisten"]({onBlur:this.proxy(this.onSheetBlur)});this._listenSheetBlur=o}},onSheetBlur:function(o){},getZclass:function(){return"zscellpopup"}});zssex.ValidationPromptPopup=zk.$extends(zssex.CellPopup,{widgetName:"ValidationPromptPopup",$init:function(o,q,p){this.$supers(zssex.ValidationPopup,"$init",arguments);this._pos={};this._title=q;this._text=p},unbind_:function(){delete this._pos;this._title=this._text=null;this.listenSheetFocused_(false);this.$supers(zssex.ValidationPromptPopup,"unbind_",arguments)},open:function(p,q){if(!this.isOpen()){this.$supers(zssex.ValidationPromptPopup,"open",arguments);if(zk.ie6_||zk.ie7_||zk.opera){jq(this.$n()).addClass("zsdvp-popup")}var o=this;setTimeout(function(){o.listenSheetFocused_(true)})}},close:function(){var o=this;setTimeout(function(){o.listenSheetFocused_(false)});this.$supers(zssex.ValidationPromptPopup,"close",arguments)},relocate:function(x,p){var w=245,q=3,r=6,u=jq(this.$n());var t=this.sheet,o=j(this.sheet,x,p),v=this._pos;v.row=x;v.col=p;u.css({left:jq.px(o.right+q),top:jq.px(o.bottom+r)});if(!zk.ie6_&&!zk.ie7_){var s=zk.parseInt(u.width());if(s>w){u.width(jq.px(w))}}return o},onSheetFocused:function(o){var t=o.data,r=this._pos,q=t.col,s=t.row;if(r.row!=s||r.col!=q){this.close()}},contentHTML_:function(){var o=this.uuid,q=this._title,p=this._text;return'<div id="'+o+'-cave" class="zsdvp-popup-cave"><div id="'+o+'-title" class="zsdvp-title">'+(q?q:"")+'</div><div id="'+o+'-text" class="zsdvp-text">'+(p?p:"")+"</div></div>"}});function h(p){if(p.tagName.toLowerCase()=="a"){return p}var o=p.firstChild;return o&&o.tagName.toLowerCase()=="a"?o:null}function l(r,o,p){var q=p.state;p.state=zss.SSheetCtrl.FOCUSED;p.moveCellFocus(r,o,true);p.moveCellSelection(o,r,o,r,false,true);p.state=q}zssex.ValidationPopup=zk.$extends(zssex.CellPopup,{widgetName:"ValidationPopup",$init:function(o){this.$supers(zssex.ValidationPopup,"$init",arguments);this._pos={};this._validationList=[]},bind_:function(){this.$supers(zssex.ValidationPopup,"bind_",arguments);var o=this._validationList.length,p=this.$n();if(p){if(o>=8){jq(p).css({overflow:"auto",height:"155px"})}else{jq(p).css({overflow:"hidden",height:""})}}},unbind_:function(){delete this._pos;delete this._validationList;this.listenSheetBlur_(false);this.listenSheetFocused_(false);this.$supers(zssex.ValidationPopup,"unbind_",arguments)},_markSelectedItem:function(u,o){var q=this.sheet,s=q.getCell(u,o).getPureText(),r=this.$n("cave").firstChild;if(r){for(;r;r=r.nextSibling){var v=jq(r.firstChild),p=v.text();jq(r)[s==p?"addClass":"removeClass"]("zsdv-item-over")}}},open:function(o,p){if(this.isOpen()){this.close()}else{this.$supers(zssex.ValidationPopup,"open",arguments);this._markSelectedItem(o,p);this.listenSheetBlur_(true);this.listenSheetFocused_(true)}},close:function(){var o=this;setTimeout(function(){o.listenSheetBlur_(false);o.listenSheetFocused_(false);o.sheet.dp.gainFocus(false)});this.$supers(zssex.ValidationPopup,"close",arguments)},onSheetFocused:function(o){this.close()},relocate:function(u,o){var p=this.sheet,t=j(this.sheet,u,o),r=17,q=t.width+r,s=t.right+r-q,v=this._pos;v.row=u;v.col=o;jq(this.$n()).css({left:jq.px(s),top:jq.px(t.bottom),width:jq.px(q)});return t},setValidationList:function(r){var o=this._validationList,q=r.length,p=q;o.splice(0,o.length);while(p--){o[p]=r[p]}var s=this.$n();if(s){if(q>=8){jq(s).css({overflow:"auto",height:"155px"})}else{jq(s).css({overflow:"hidden",height:""})}}},contentHTML_:function(){var r=this.uuid,q='<ul id="'+r+'-cave" class="zsdv-popup-cave">',s=this._validationList,p=s.length;for(var o=0;o<p;o++){q+='<li class="zsdv-item"><a href="javascript:" class="zsdv-item-text">'+s[o]+"</a></li>"}q+='</ul><a id="'+r+'-fo" href="javascript:"></a>';return q},_editCell:function(t,o,s){var p=this.sheet,r=p.getCell(t,o).getPureText();if(r!=s){var q=p.state;if(p.state!=zss.SSheetCtrl.START_EDIT){p.state=zss.SSheetCtrl.START_EDIT;p._wgt.fire("onStartEditing",{token:"",sheetId:p.serverSheetId,row:t,col:o,clienttxt:s,type:"inlineEditing"},null,25)}p.state=q;p._wgt.fire("onStopEditing",{token:"",sheetId:p.serverSheetId,row:t,col:o,value:s,type:"inlineEditing"},{toServer:true},25)}},onSheetBlur:function(){if(this.isOpen()){var o=jq(this.$n()).find(".zsdv-item-over"),q=this._pos;row=q.row,col=q.col;if(o.length){jq(o[0].firstChild).focus()}else{jq(this.$n("fo")).focus()}l(q.row,q.col,this.sheet)}},doMouseOver_:_zkf=function(o){var p=h(o.domTarget);if(p){var q=jq(this.$n()).find(".zsdv-item-over");if(q.length){q.removeClass("zsdv-item-over")}jq(p.parentNode).addClass("zsdv-item-over")}},doMouseMove_:_zkf,doKeyPress_:function(o){},doMouseDown_:function(o){var r=h(o.domTarget);if(r){var q=this._pos;this._editCell(q.row,q.col,jq(r).text());this.close()}},doKeyDown_:function(r){var q=r.keyCode,t=document.activeElement==this.$n("fo"),v=null,s=null;switch(q){case 38:case 40:if(t){s=this.$n("cave").firstChild}else{v=jq(this.$n()).find(".zsdv-item-over");if(v.length){s=q==38?v[0].previousSibling:v[0].nextSibling}}if(s){jq(s).addClass("zsdv-item-over");jq(s.firstChild).focus()}if(s&&v){v.removeClass("zsdv-item-over")}break;case 13:var o=jq(this.$n()).find(".zsdv-item-over");if(o.length){var u=this._pos;this._editCell(u.row,u.col,jq(o[0]).text())}this.close();break;case 27:this.close();break}r.stop()}});function m(p){var o=jq(p);return o.hasClass("zsafp-item")?o[0]:o.hasClass("zsafp-item-checkbox")||(zk.ie6_&&o.hasClass("zsafp-item-text"))?o[0].parentNode:null}function i(r){if(r==null){return}var q=r.parentNode,o=q.firstChild;for(;o;o=o.nextSibling){if(o!=r){jq(o).removeClass("zsafp-item-over")}}jq(r).addClass("zsafp-item-over")}function n(q){var p=jq(q);var o=jq(q.parentNode);return p.hasClass("zsafp-ccitem")?p[0]:o.hasClass("zsafp-ccitem")?o[0]:null}function a(q){var p=jq(q);var o=jq(q.parentNode);return p.hasClass("zsafp-fcitem")?p[0]:o.hasClass("zsafp-fcitem")?o[0]:null}function g(q){var p=jq(q);var o=jq(q.parentNode);return p.hasClass("zsafp-color")?p[0]:o.hasClass("zsafp-color")?o[0]:null}function c(p){var o=jq(p);if(o!=null){jq(o).css("display","inline-block")}}function f(p){var o=jq(p);if(o!=null){jq(o).css("display","none")}}function b(q){var p=jq(q);var o=jq(q.parentNode);return p.hasClass("zsafp-vitem")?p[0]:o.hasClass("zsafp-vitem")?o[0]:null}function e(q){var p=jq(q);var o=jq(q.parentNode);return p.hasClass("zsafp-value")?p[0]:o.hasClass("zsafp-value")?o[0]:null}function k(q){var p=jq(q);var o=jq(q.parentNode);return p.hasClass("zsafp-clear")&&!p.hasClass("zsafp-clear-disabled")?p[0]:o.hasClass("zsafp-clear")&&!o.hasClass("zsafp-clear-disabled")?o[0]:null}function d(q){var p=jq(q);var o=jq(q.parentNode);return p.hasClass("zsafp-vitem-inp")?p[0]:o.hasClass("zsafp-vitem-inp")?o[0]:null}zssex.AutoFilterPopup=zk.$extends(zssex.CellPopup,{$init:function(p,o){this.$supers(zssex.AutoFilterPopup,"$init",arguments);this._pos={};this._field=o.field;this._rangeAddr=o.range;this._blank=o.blank;this._select=o.select;this._initItems(o.items,o.select,o.blank);this.setVisible(false);this._ccitems=o.ccitems;this._fcitems=o.fcitems;this._colorpat=o.colorpat;this._colorfg=o.colorfg;this._colorbg=o.colorbg;this._type=o.type;this._vitems=o.vitems;this._vitem=o.vitem;this._pitems=o.pitems;this._pitem=o.pitem;this._dynaf=o.dynaf;this._avgVal=o.avgVal;this._isAbove=o.isAbove;this._filterVal=o.filterVal;this._isTop=o.isTop;this._isPercent=o.isPercent;this._countVal=o.countVal;this._colName=o.colName},_initItems:function(p,o,t){var s=this._items=[{v:zssex.AutoFilterPopup.SELECT_ALL,s:o}],r=p.length;for(var q=0;q<r;q++){s.push(p[q])}if(t!=undefined){s.push({v:zssex.AutoFilterPopup.BLANK,s:t})}},unbind_:function(){delete this._pos;delete this._items;delete this._$is;this.listenSheetFocused_(false);var o=this.$n("inp");this.domUnlisten_(o,"onKeyDown",this._onFilterKeyDown);this.domUnlisten_(o,"onKeyUp",this._onFilterKeyUp);this.$supers(zssex.AutoFilterPopup,"unbind_",arguments)},open:function(q,t){if(this.isOpen()){this.close()}else{this.$supers(zssex.AutoFilterPopup,"open",arguments);var p=this.$n("inp"),o=this._select,s=jq(this._$items()[0]);p.focus();this.sheet.state=zss.SSheetCtrl.NOFOCUS;this.domListen_(p,"onKeyDown",this._onFilterKeyDown);this.domListen_(p,"onKeyUp",this._onFilterKeyUp);if("all"==o){s.addClass("zsafp-item-seld")}else{if("mix"==o){s.removeClass("zsafp-item-seld").addClass("zsafp-item-seld-mix")}}this.listenSheetFocused_(true)}},_$ccitems:function(){if(!this._$ccis){this._$ccis=jq(this.$n("ccitems")).children()}return this._$ccis},_$fcitems:function(){if(!this._$fcis){this._$fcis=jq(this.$n("fcitems")).children()}return this._$fcis},_$vitems:function(){if(!this._$vis){this._$vis=jq(this.$n("vitems")).children()}return this._$vis},_$pitems:function(){if(!this._$pis){this._$pis=jq(this.$n("pitems")).children()}return this._$pis},_$items:function(){if(!this._$is){this._$is=jq(this.$n("items")).children()}return this._$is},_onFilterKeyDown:function(o){this._prevFilterVal=o.domTarget.value},_onFilterKeyUp:function(w){var r=w.domTarget.value.toLowerCase(),u=this._prevFilterVal.length>r.length,p=this._$items(),t=true,s=false,q=this._items,v=this;v._filtered=r.length>0;p.each(function(x,z){var y=jq(z);if(x==0){if(v._filtered){y.addClass("zsafp-item-hide");q[0].h=true}else{y.removeClass("zsafp-item-hide");delete q[0].h}}else{if(u){if(y.hasClass("zsafp-item-hide")){if(y.text().toLowerCase().indexOf(r)>=0){y.removeClass("zsafp-item-hide");delete q[x].h}}if(!q[x].h){if(v._filtered||q[x].s){y.addClass("zsafp-item-seld");s=true}else{y.removeClass("zsafp-item-seld");t=false}}}else{if(y.text().toLowerCase().indexOf(r)<0){y.addClass("zsafp-item-hide");q[x].h=true;t=false}else{if(v._filtered||q[x].s){y.addClass("zsafp-item-seld");s=true}else{y.removeClass("zsafp-item-seld")}}}}});var o=jq(this.$n("okBtn"));if(t){q[0].s="all";o.removeClass("zsafp-btn-disd")}else{if(s){q[0].s="mix";o.removeClass("zsafp-btn-disd")}else{q[0].s="none";o.addClass("zsafp-btn-disd")}}f(this.$n("colordlg"));f(this.$n("valuedlg"));f(this.$n("perioddlg"))},close:function(){var o=this;setTimeout(function(){o.listenSheetFocused_(false);o.sheet.dp.gainFocus(false)});this.$supers(zssex.AutoFilterPopup,"close",arguments);this.detach();delete this._filtered},contentHTML_:function(){var u=this.uuid,A=this._items,z=A.length,I=this._colorpat,r=this._type,B=this._vitem,x='<div class="zsafp-popup-cave">';var t=(this._ccitems&&this._ccitems.length>1),p=(this._fcitems&&this._fcitems.length>1),s=t||p;var F=s||B||this._select!="all";x+='<div class="zsafp-itemsdlg">';x+='<div class="zsafp-clear '+(F?"":" zsafp-clear-disabled")+'"><div class="'+(F?"zsafp-clear-seld ":" ")+'zsafp-clear-icon"></div>Clear Filter From "'+this._colName+'"</div>';x+='<div class="zsafp-color '+(s?"":" zsafp-color-disabled")+'"><div class="'+(I?"zsafp-color-seld ":" ")+'zsafp-color-checkbox"></div>Filter by Color<div class="zsafp-color-more"></div></div>';x+='<div class="zsafp-value"><div class="'+(B?"zsafp-value-seld ":" ")+'zsafp-value-checkbox"></div>'+(r==1?"Date":r==2?"Number":"Text")+' Filters<div class="zsafp-value-more"></div></div>';x+='<div class="zsafp-search"><div class="zsafp-search-cnt"><input id="'+u+'-inp" class="zsafp-search-inp" type="text" autocomplete="off" tabindex="0"></input><div class="zsafp-search-icon"></div></div></div>';x+='<div id="'+u+'-items" class="zsafp-items">';for(var E=0;E<z;E++){var G=A[E];var y=!G.s||G.s=="none"?"":G.s=="mix"?" zsafp-item-seld-mix":" zsafp-item-seld";x+='<div class="zsafp-item'+y+'"><div class="zsafp-item-checkbox"></div>';if(zk.ie6_){x+='<div class="zsafp-item-text">'+G.v+"</div></div>"}else{x+=(G.v+"</div>")}}x+="</div>";x+='<div id="'+u+'-btns" class="zsafp-btns"><div id="'+u+'-okBtn" class="zsafp-btn zsafp-ok-btn"></div><div id="'+u+'-cancelBtn" class="zsafp-btn zsafp-cancel-btn"></div></div>';x+="</div>";if(s){x+='<div id="'+u+'-colordlg" class="zsafp-colordlg">';if(t){x+='<div class="zsafp-colordlg-title">Filter by Cell Color</div><div id="'+u+'-ccitems" class="zsafp-ccitems">';var D=this._ccitems?this._ccitems.length:0;for(var E=0;E<D;++E){var o=this._ccitems[E];x+='<div class="zsafp-ccitem'+(o.s?" zsafp-ccitem-seld":"")+'"><div class="zsafp-ccitem-checkbox"></div>';x+='<div class="zsafp-ccitem-fill"'+(o.bk?' style="'+o.bk+'">':">")+o.t+"</div></div>"}x+="</div>"}if(p){x+='<div class="zsafp-colordlg-title">Filter by Font Color</div><div id="'+u+'-fcitems" class="zsafp-fcitems">';var q=this._fcitems?this._fcitems.length:0;for(var E=0;E<q;++E){var w=this._fcitems[E];x+='<div class="zsafp-fcitem'+(w.s?" zsafp-fcitem-seld":"")+'"><div class="zsafp-fcitem-checkbox"></div>';x+='<div class="zsafp-fcitem-fill"'+(w.bk?' style="'+w.bk+'">':">")+w.t+"</div></div>"}x+="</div>"}x+="</div>"}x+='<div id="'+u+'-valuedlg" class="zsafp-valuedlg">';x+='<div id="'+u+'-vitems" class="zsafp-vitems">';var v=this._vitems?this._vitems.length:0;for(var E=0;E<v;++E){var B=this._vitems[E];if(B.op=="allDatesInPeriod"){x+='<div class="zsafp-vitem zsafp-vitem-inp'+(B.b?" zsafp-vitem-border":"")+(B.s?" zsafp-vitem-seld":"")+'"><div class="zsafp-vitem-checkbox"></div>'+(B.t+'<div class="zsafp-vitem-inp-more"></div></div>')}else{x+='<div class="zsafp-vitem'+(B.b?" zsafp-vitem-border":"")+(B.s?" zsafp-vitem-seld":"")+'"><div class="zsafp-vitem-checkbox"></div>'+(B.t+"</div>")}}x+="</div>";x+="</div>";x+='<div id="'+u+'-perioddlg" class="zsafp-perioddlg zsafp-vitem-inp">';x+='<div id="'+u+'-pitems" class="zsafp-vitems zsafp-vitem-inp">';var C=this._pitems?this._pitems.length:0;for(var E=0;E<C;++E){var H=this._pitems[E];x+='<div class="zsafp-vitem zsafp-vitem-inp'+(H.b?" zsafp-vitem-border":"")+(H.s?" zsafp-vitem-seld":"")+'"><div class="zsafp-vitem-checkbox"></div>'+(H.t+"</div>")}x+="</div>";x+="</div>";x+="</div>";return x},onSheetFocused:function(o){this.close()},relocate:function(u,o){var q=jq(this.$n());if((zk.ie6_||zk.ie7_)&&!q.width()){q.addClass("zsafp-popup")}var p=this.sheet,r=p.leftWidth,t=j(this.sheet,u,o),s=Math.max(r,t.right-zk.parseInt(q.width()));jq(this.$n()).css({left:jq.px(s),top:jq.px(t.bottom),border:"none","box-shadow":"none",background:"transparent",overflow:"visible"});return t},doMouseOver_:function(p){var s=m(p.domTarget);if(s!=null){i(s);f(this.$n("colordlg"));f(this.$n("valuedlg"));f(this.$n("perioddlg"));return}var q=g(p.domTarget);if(q!=null){f(this.$n("valuedlg"));f(this.$n("perioddlg"));c(this.$n("colordlg"))}var o=e(p.domTarget);if(o!=null){f(this.$n("colordlg"));c(this.$n("valuedlg"))}var r=d(p.domTarget);if(r!=null){c(this.$n("perioddlg"))}else{f(this.$n("perioddlg"))}},doMouseMove_:function(o){},_selectNone:function(){var q=this._items,p=this._$items(),r=q.length;while(r--){var u=q[r],t=u.s,s=jq(p[r]);if(r==0){u.s="none";var o=jq(this.$n("okBtn"));if("mix"==t){s.removeClass("zsafp-item-seld-mix");o.addClass("zsafp-btn-disd")}else{if("all"==t){s.removeClass("zsafp-item-seld");o.addClass("zsafp-btn-disd")}}}else{u.s=false;if(t){s.removeClass("zsafp-item-seld")}}}},_selectAll:function(){var p=this._items,o=this._$items(),q=p.length;while(q--){var t=p[q],s=t.s,r=jq(o[q]);if(q==0){t.s="all";if("mix"==s){r.removeClass("zsafp-item-seld-mix").addClass("zsafp-item-seld")}else{if("none"==s){r.addClass("zsafp-item-seld");jq(this.$n("okBtn")).removeClass("zsafp-btn-disd")}}}else{t.s=true;if(!s){r.addClass("zsafp-item-seld")}}}},_isSelectAll:function(){return"all"==this._items[0].s||this._clearFilter},_isSelectNone:function(){return"none"==this._items[0].s},_updateSelectAllItem:function(){var p=this._items,q=p.length,s=true,o=false,u=this._items[0].s;while(q--){var t=p[q];if(q==0){var r=jq(this._$items()[0]);if(s){r.addClass("zsafp-item-seld");t.s="all"}else{if(o){r.addClass("zsafp-item-seld-mix");t.s="mix"}else{t.s="none";jq(this.$n("okBtn")).addClass("zsafp-btn-disd")}}if(u!=t.s){if("all"==u){r.removeClass("zsafp-item-seld")}else{if("mix"==u){r.removeClass("zsafp-item-seld-mix")}else{jq(this.$n("okBtn")).removeClass("zsafp-btn-disd")}}}}else{if((this._filtered&&!t.h)||(!this._filtered&&t.s)){o=true}else{s=false}}}},_showTop10Filter:function(){this.sheet._wgt.fireSheetAction("top10Filter",{op:(this._vitem0==null?null:this._vitem0.op),field:this._field})},_showCustomFilters:function(){this.sheet._wgt.fireSheetAction("customFilters",{op:(this._vitem0==null?null:this._vitem0.op),field:this._field})},_clickVItem:function(o){this._clickVItem0(this._vitems,this._$vitems()[0],o);if(this._vitem0==null){this._clickVItem0(this._pitems,this._$pitems()[0],o)}},_clickVItem0:function(o,s,r){var q=o.length,p=0;this._vitem0=null;for(;s;s=s.nextSibling,p++){if(s==r){this._vitem0=o[p];break}}},_clickClear:function(){this._ccitem=null;this._fcitem=null;this._vitem0=null;this._clearFilter=true},_clickCCItem:function(s){var o=this._ccitems,q=o.length,p=0,r=this._$ccitems()[0];this._ccitem=null;for(;r;r=r.nextSibling,p++){if(r==s){this._ccitem=o[p];break}}},_clickFCItem:function(s){var o=this._fcitems,q=o.length,p=0,r=this._$fcitems()[0];this._fcitem=null;for(;r;r=r.nextSibling,p++){if(r==s){this._fcitem=o[p];break}}},_clickItem:function(v){var o=this._items,t=o.length,p=0,s=false,u=this._$items()[0];for(;u;u=u.nextSibling,p++){if(u==v){var r=o[p];if(p==0){var q=r.s;if("all"==q){this._selectNone()}else{if("mix"==q||"none"==q){this._selectAll()}}}else{s=true;jq(v)[r.s?"removeClass":"addClass"]("zsafp-item-seld");r.s=!r.s}break}}if(s){this._updateSelectAllItem()}},_isButton:function(q){var o=this.$n("okBtn"),p=this.$n("cancelBtn");if(zUtl.isAncestor(o,q)){return"ok"}else{if(zUtl.isAncestor(p,q)){return"cancel"}}},doMouseDown_:function(x){var s=x.domTarget,p=this._isButton(s);if(p){if("ok"==p){if(!this._isSelectNone()){this._applyFilter();this.close()}}else{if("cancel"==p){this.close()}}return}var t=k(s);if(t){this._clickClear();this._applyFilter();this.close();return}var u=n(s);if(u){this._clickCCItem(u);this._applyFilter();this.close();return}var v=a(s);if(v){this._clickFCItem(v);this._applyFilter();this.close();return}var q=b(s);if(q){this._clickVItem(q);var w=(this._vitem0.op=="aboveAverage"||this._vitem0.op=="belowAverage"||this._vitem0.op=="tomorrow"||this._vitem0.op=="today"||this._vitem0.op=="yesterday"||this._vitem0.op=="nextWeek"||this._vitem0.op=="thisWeek"||this._vitem0.op=="lastWeek"||this._vitem0.op=="nextMonth"||this._vitem0.op=="thisMonth"||this._vitem0.op=="lastMonth"||this._vitem0.op=="nextQuarter"||this._vitem0.op=="thisQuarter"||this._vitem0.op=="lastQuarter"||this._vitem0.op=="nextYear"||this._vitem0.op=="thisYear"||this._vitem0.op=="lastYear"||this._vitem0.op=="yearToDate"||this._vitem0.op=="Q1"||this._vitem0.op=="Q2"||this._vitem0.op=="Q3"||this._vitem0.op=="Q4"||this._vitem0.op=="M1"||this._vitem0.op=="M2"||this._vitem0.op=="M3"||this._vitem0.op=="M4"||this._vitem0.op=="M5"||this._vitem0.op=="M6"||this._vitem0.op=="M7"||this._vitem0.op=="M8"||this._vitem0.op=="M9"||this._vitem0.op=="M10"||this._vitem0.op=="M11"||this._vitem0.op=="M12");if(w){this._applyFilter()}else{if(this._vitem0.op=="top10"){this._showTop10Filter()}else{this._showCustomFilters()}}this.close();return}var o=m(s),r=this.$n("inp");if(o){this._clickItem(o)}setTimeout(function(){r.focus()},0)},doKeyPress_:function(o){},_getCriteria:function(){var p=[],o=this._items,r=o.length,t=r-1,u=this._blank;for(var q=1;q<r;q++){var s=o[q];if(q==t&&u!=undefined){if((this._filtered&&!s.h)||(!this._filtered&&s.s)){p.push("=")}}else{if((this._filtered&&!s.h)||(!this._filtered&&s.s)){p.push(s.v)}}}return p},_applyFilter:function(){var p={type:"apply",field:this._field,range:this._rangeAddr};if(this._ccitem){p.op="cellColor";p.all=false;var o=[];o.push(this._ccitem.pat);if(this._ccitem.pat=="SOLID"){o.push(this._ccitem.bg);o.push(this._ccitem.fg)}else{o.push(this._ccitem.fg);o.push(this._ccitem.bg)}p.criteria=o}else{if(this._fcitem){p.op="fontColor";p.all=false;var o=[];o.push(this._fcitem.pat);o.push(this._fcitem.fg);o.push(this._fcitem.bg);p.criteria=o}else{if(this._vitem0){p.op=this._vitem0.op;p.all=false}else{p.op="values";p.all=this._isSelectAll();if(!p.all){p.criteria=this._getCriteria()}}}}this.sheet._wgt.fire("onZSSFilter",p,{toServer:true})},_prevVisibleItem:function(p){for(var o=p.previousSibling;o;o=o.previousSibling){if(o&&o.className.indexOf("zsafp-item-hide")<0){return o}}},_nextVisibleItem:function(p){for(var o=p.nextSibling;o;o=o.nextSibling){if(o&&o.className.indexOf("zsafp-item-hide")<0){return o}}},_firstVisibleItem:function(){for(var o=this._$items()[0];o;o=o.nextSibling){if(o&&o.className.indexOf("zsafp-item-hide")<0){return o}}},doKeyDown_:function(p){var o=p.keyCode;switch(o){case 38:case 40:var q=this.$n("items"),r=jq(q).children(".zsafp-item-over")[0];if(r){var s=(o==38)?this._prevVisibleItem(r):this._nextVisibleItem(r);if(s){jq(s).addClass("zsafp-item-over");jq(r).removeClass("zsafp-item-over")}}else{jq(this._firstVisibleItem()).addClass("zsafp-item-over")}break;case 13:if(!this._isSelectNone()){this._applyFilter();this.close()}break;case 27:this.close()}}},{SELECT_ALL:"(Select All)",BLANK:"(Blanks)"})})();
zkreg('zssex.Popup');
(function(){zssex.Richtextbox=zk.$extends(zul.wgt.Div,{_content:"",_init:function(){this.editor=jq(this.$n()).cleditor({width:550,height:200,controls:"bold italic underline strikethrough subscript superscript font size color",fonts:"Arial, Arial Black, Comic Sans MS, Courier New, Georgia, Impact,Lucida Console, Lucida Sans Unicode, Palatino Linotype, Tahoma,Times New Roman, Trebuchet MS, Verdana, MS Sans Serif, MS Serif",sizes:"8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72",docType:"<!DOCTYPE html>",useCSS:false,bodyStyle:"margin:8px; font-size:11pt; font-family:Calibri; cursor:text"})[0];this._colorNode=$(".cleditorButton[title='Font Color']")[0];this._colorPopup=new zss.ColorPopup(this._colorNode);var b=this._colorPopup;b.adjustPosition_=function(){if(this._ref){zk(this.$n("pp")).position(this._ref,this._getPosition())}};this.parent.appendChild(this._colorPopup);if(b){b.listen({onChange:this.proxy(this.onChange)})}this.editor.wgt=this;var a=this.editor;jq(this.$n()).val(this._content);a.updateFrame();a.blurred(function(c){this.wgt.fire("onChange",{value:this.doc.body.innerHTML})});a.focus()},_deferInit:function(){if(this._initId){clearTimeout(this._initId);delete this._initId}var a=this;if(this.$n()){this._init()}else{this._initId=setTimeout(function(){a._deferInit()},50)}},adjustPosition_:function(){if(this._ref){zk(this.$n("pp")).position(this._ref,this._getPosition())}},setContent:function(a){if(this._content===a){return}this._content=a},openColorPopup:function(){var a=this._colorPopup;if(a){a.open(null,null,"after_start")}},bind_:function(){this.$supers(zul.wgt.Div,"bind_",arguments);var a=this;setTimeout(function(){a._init()},100)},unbind_:function(){if(this._colorPopup){this._colorPopup.unlisten({onChange:this.proxy(this.onChange)})}this.$supers(zul.wgt.Div,"unbind_",arguments)},onChange:function(a){var c=a.data.color,b=this.editor;if(b){b.execCommand("forecolor",c,false,this._colorNode);this.fire("onChange",{value:b.doc.body.innerHTML})}}})})();
zkreg('zssex.Richtextbox');
zk._m={};
zk._m['default']=function(a){a.push("<textarea",this.domAttrs_(),"></textarea>")};
;zkmld(zk._p.p.Richtextbox,zk._m);
(function(){var e={},b={},a={},d={},c={};zk.override(zss.Spreadsheet.prototype,e,{setTableFilters:function(g){var i=this.sheetCtrl;if(i){for(var h in g){var f=g[h];this._prepareAutoFilter(i,this._tableFilters?this._tableFilters[h]:null,f)}}this._tableFilters=g},_prepareAutoFilter:function(n,p,q){var g=p?p.range.top:-1,h=p?p.range.left:-1,i=p?p.range.right:-1;if(p){var r=g>=0?n.getRow(g,h):null;if(r){for(var l=0,m=r.length;l<m;++l){var o=r[l];if(o){o.cleanFilterBtns(h,i)}else{break}}}}if(q){var f=q.range.top,k=q.range.left,r=n.getRow(f,k);if(r){for(var l=0,m=r.length;l<m;++l){var o=r[l];if(o){o.prepareFilterBtns_(q)}else{break}}}}},setATableFilter:function(f){var h=jq.evalJSON(f);var j=this.sheetCtrl;if(j){for(var i in h){var g=h[i];this._prepareAutoFilter(j,this._tableFilters?this._tableFilters[i]:null,g);if(g){this._tableFilters[i]=g}else{delete this._tableFilters[i]}}}},setAutoFilter:function(f){var g=this.sheetCtrl;if(g){this._prepareAutoFilter(g,this._autoFilter,f)}this._autoFilter=f},getAutoFilter:function(){return this._autoFilter},getTableFilters:function(){return this._tableFilters},setAutoFilterPopup:function(f){var g=this.sheetCtrl;if(g){g.openAutoFilterPopup_(f)}},setDataValidations:function(l){var i=this.sheetCtrl;if(i){this._clearDataValidations();var k=l?{}:null;var f=(l?l.length:0);for(var g=0;g<f;++g){var h=l[g];this._setDataValidation(h,h.id);k[h.id]=h}this._dataValidations=k;this._dvs=l;var n=i.dp,m=i.getLastFocus();if(n&&m){n.showValidateBtn_(m.row,m.column)}}},_setDataValidation:function(f,g){if(f.showPrompt){this.sheetCtrl.addValidationPromptPopup_(g,f.promptTitle,f.promptText)}var p=f.lists,l=(p?p.length:0);for(var h=0;h<l;++h){var o=p[h],i=o?o.rangeList:null,n=(i?i.length:0);for(var k=0;k<n;++k){var m=i[k];this._setValidateBtns(g,h,m)}if(o.validationList){this.sheetCtrl.addValidatePopup_(g,h,o.validationList)}}},_setValidateBtns:function(g,i,n){var k=n.left,f=n.right,u=n.top,s=n.bottom,p=this.sheetCtrl;for(var w=u;w<=s;++w){var v=p.getRow(w,h);if(v){for(var m=0,o=v.length;m<o;++m){var q=v[m];if(q){for(var h=k;h<=f;++h){q.prepareDataValidation_(g,i,h)}}else{break}}}}},getDataValidations:function(){return this._dvs},_clearDataValidations:function(){var f=this.sheetCtrl,g=this._dataValidations;if(f&&g){for(var h in g){this._clearDataValidation(g[h],h)}this._dataValidations=null;this._dvs=null}},_clearDataValidation:function(f,g){if(f.showPrompt){this.sheetCtrl.clearValidationPromptPopup_(g)}var p=f.lists,l=(p?p.length:0);for(var h=0;h<l;++h){var o=p[h],i=o?o.rangeList:null,n=(i?i.length:0);for(var k=0;k<n;++k){var m=i[k];this._clearValidateBtns(m)}if(o.validationList){this.sheetCtrl.clearValidatePopup_(g,h)}}},_clearValidateBtns:function(k){var h=k.left,f=k.right,q=k.top,p=k.bottom,n=this.sheetCtrl;for(var s=q;s<=p;++s){var u=n.getRow(s,g);if(u){for(var i=0,m=u.length;i<m;++i){var o=u[i];if(o){for(var g=h;g<=f;++g){o.cleanvbtns(g)}}else{break}}}}}});zk.override(zss.DataPanel.prototype,c,{moveFocus:function(k,g,f,h,j,i){c.moveFocus.apply(this,arguments);this.showValidateBtn_(k,g)},_gainFocus:function(f,h,g){c._gainFocus.apply(this,arguments);var i=this.sheet.getLastFocus();if(i){this.showValidateBtn_(i.row,i.column)}},showValidateBtn_:function(o,h){var m=this.sheet;m.cleanValidateBtns_();var p=m.getRow(o,h);if(p){for(var k=0,l=p.length;k<l;++k){var n=p[k];if(n){var f=n.getDataValidation_(h);if(f){if(f.showButton){var i=n.showValidateBtn_(h);if(i){m.addValidateBtn_(i)}}var g=m.getValidationPromptPopup_(f.id);if(g){g.open(o,h)}}}}}}});zk.override(zss.Row.prototype,b,{$init:function(f,i,h,g){b.$init.apply(this,arguments);this.btns={};this.vbtns={}},_prepareValidateBtns:function(){var v=this.sheet._wgt._dataValidations;if(v){for(var g in v){var h=v[g];if(h){var x=h.lists,q=(x?x.length:0);for(var m=0;m<q;++m){var u=x[m],o=u?u.rangeList:null,j=(o?o.length:0);for(var p=0;p<j;++p){var s=o[p],z=this.r,y=s.top,w=s.bottom,n=s.left,f=s.right;if(z>=y&&z<=w){for(var k=n;k<=f;k++){this.prepareDataValidation_(g,m,k)}}}}}}}},_prepareAllFilterBtns:function(){var g=this.sheet._wgt._autoFilter;this._prepareAutoFilterBtns(g);var f=this.sheet._wgt._tableFilters;for(var h in f){this._prepareAutoFilterBtns(f[h])}},_prepareAutoFilterBtns:function(f){if(f){var g=f.range.top;if(g==this.r){this.prepareFilterBtns_(f)}}},bind_:function(){b.bind_.apply(this,arguments);this._prepareValidateBtns();this._prepareAllFilterBtns()},unbind_:function(){b.unbind_.apply(this,arguments);this.cleanbtns();this.cleanvbtns()},cleanbtns:function(){if(this.btns){for(var g in this.btns){var f=this.btns[g];if(!f){break}f.cleanup()}this.btns={}}},cleanFilterBtns:function(i,h){if(this.btns){for(var j=i;j<=h;++j){var g="c"+j,f=this.btns[g];if(!f){continue}f.cleanup();delete this.btns[g]}}},cleanvbtns:function(f){if(this.vbtns){if(f){delete this.vbtns["c"+f]}else{this.vbtns={}}}},getBtnAt:function(f){return this.btns["c"+f]},prepareFilterBtns_:function(x){var l=this.r,r=this.$n();if(!x){return}this.cleanFilterBtns(x.range.left,x.range.right);var m=x.range,g=m.left,B=m.right,w=x.filterColumns,u=this.cells.length;if(u<=0){return}var t=this.cells[0].c,h=this.cells[u-1].c,j=Math.max(g,t),z=Math.min(B,h),y=0,v=w&&w.length>0?w[y]:null,o=null,C=null,A=null,i=null,n=null,p=true,f=null,s=null;for(var k=j;k<=z;++k){if(v&&v.col==k){f=v.field;var q=(g+f-1)==k;o=q?v.filter:s?s.filter:null;C=q?v.colorpat:s?s.colorpat:null;A=q?v.f1:s?s.f1:null;i=q?v.dynaf:s?s.dynaf:null;n=q?(v.filterVal!=undefined):s?(s.filterVal!=undefined):null;p=v.on;if(p){s=null}else{if(!s){s=v}}if(++y<w.length){v=w[y]}}else{p=true;if(s){f=s.field;o=s.filter;C=s.colorpat;A=s.f1;i=s.dynaf;n=s.filterVal!=undefined;s=null}else{o=null;C=null;A=null;i=null;n=null;f=k-g+1}}if(p){this.btns["c"+k]=new zssex.Btn(this.sheet,l,k,r,(o&&o.length>0)||C||A||i||n?"zsfilter":"zsdropdown",f,"af",t)}}},prepareDataValidation_:function(g,i,f){var h={};this.vbtns["c"+f]=h;h.dvj=g;h.listj=i},getDataValidation_:function(f){var g=this.vbtns["c"+f];if(g==null){return null}var h=this.sheet._wgt._dataValidations;if(h){return h[g.dvj]}},showValidateBtn_:function(f){var g=this.vbtns["c"+f];if(g==null){return null}var h=this.cells[0].c;return new zssex.Btn(this.sheet,this.r,f,this.$n(),"zsdropdown",g,"dv",h)}});zk.override(zss.CellBlockCtrl.prototype,a,{getBtn:function(j,h){var g=this.getFilterByRowCol(j,h),f=g?g.range:null,i=f?this.rows[j-this.range.top]:null;return i?i.getBtnAt(h):null},getFilterByRowCol:function(k,h){var g=this.sheet._wgt._autoFilter;if(this._isValidFilter(g,k,h)){return g}var f=this.sheet._wgt._tableFilters;for(var i in f){var j=f[i];if(this._isValidFilter(j,k,h)){return j}}return null},_isValidFilter:function(h,i,g){if(!h){return null}var f=h.range;if(i!=f.top||g<f.left||g>f.right){return null}return h}});zk.override(zss.SSheetCtrl.prototype,d,{_doBtndown:function(v,i,h,o){var j=this;if(j.state==zss.SSheetCtrl.NOFOCUS){j.dp.gainFocus();return}var p=j._wgt,n=(h)?h:v.domTarget,t,u=my=0,s=shy=0,m,k,l=zkS._getMouseData(v,this.comp),A="";if((t=zkS.parentByZSType(n,"SBtn",0))!=null){var w=t,B=zk(j.comp).revisedOffset(),z=zk(w).revisedOffset();u=v.pageX;my=v.pageY;s=Math.round(u-B[0]);shy=Math.round(my-B[1]);var q=u-z[0],r=zss.SSheetCtrl._calCellPos(j,u,my,false,i=="dv");m=r[0];k=r[1];A="c_"+m+"_"+k;if("dv"==i){k-=1;var g=j.getCell(m,k);if(g){if(g.merl&&g.merl<k){k=g.merl}if(g.mert&&g.mert<m){m=g.mert}}var y=o.field,f=this.getValidatePopup_(y.dvj,y.listj);if(f){f.open(m,k)}}p.fireCellEvt(i,s,shy,l[2],m,k,u,my,o.field)}},_syncAutoFilterBtns:function(g,i,f){if(g){if(i<0){i=g.range.top}if(i!=g.range.top){return}if(f<0){f=g.range.left}var h=g.range.right;for(var j=f;j<=h;++j){btn=this.getBtn(i,j);if(btn){btn.relocate(i,j)}}}},_syncAllFilterBtns:function(k,h){var g=this._wgt._autoFilter;this._syncAutoFilterBtns(g,k,h);var f=this._wgt._tableFilters;for(var i in f){var j=f[i];this._syncAutoFilterBtns(j,k,h)}},getBtn:function(j,g){var i=this.frozenRow,f=this.frozenCol,h=null;if(j<=i&&g<=f){h=this.cp.block.getBtn(j,g)}else{if(j<=i){h=this.tp.block.getBtn(j,g)}else{if(g<=f){h=this.lp.block.getBtn(j,g)}else{h=this.activeBlock.getBtn(j,g)}}}return h},_setRowHeight:function(k,f,j,g,i,h){d._setRowHeight.apply(this,arguments);this._syncAllFilterBtns(k,-1)},_setColumnWidth:function(g,i,k,f,j,h){d._setColumnWidth.apply(this,arguments);this._syncAllFilterBtns(-1,g)},addValidateBtn_:function(f){if(!this._vbtns){this._vbtns=[]}if(f){this._vbtns.push(f)}},cleanValidateBtns_:function(){if(this._vbtns){for(var h=0,f=this._vbtns.length;h<f;++h){var g=this._vbtns[h];g.cleanup()}this._vbtns=[]}},_index:function(f,g){return f+"_"+g},getValidatePopup_:function(f,g){if(!this._vpops){return null}return this._vpops[this._index(f,g)]},addValidatePopup_:function(g,i,h){if(!this._vpops){this._vpops={}}if(h){var f=new zssex.ValidationPopup(this);this.appendChild(f,true);f.setValidationList(h);this._vpops[this._index(g,i)]=f}},clearValidatePopup_:function(h,i){if(!this._vpops){return}var g=this._index(h,i);var f=this._vpops[g];if(f){this.removeChild(f)}delete this._vpops[g]},getValidationPromptPopup_:function(f){if(!this._vppops){return null}return this._vppops[f]},addValidationPromptPopup_:function(g,i,h){if(!this._vppops){this._vppops={}}if(i||h){var f=new zssex.ValidationPromptPopup(this,i,h);this.appendChild(f,true);this._vppops[g]=f}},clearValidationPromptPopup_:function(g){if(!this._vppops){return}var f=this._vppops[g];if(f){this.removeChild(f)}delete this._vppops[g]},openAutoFilterPopup_:function(f){var h=this._autoFilterPopup;if(h){h.detach()}var g=this._autoFilterPopup=new zssex.AutoFilterPopup(this,f);this.appendChild(g,true);g.open(f.row,f.col)}})})();
(function(){var d=0;var g=1;var c=2;var f=3;var a=4;var b=5;var e={};zk.override(zss.Cell.prototype,e,{_processOverflow:function(){var l=this.rotate==90||this.rotate==-90;if(l){return}var h=this.c;var j=this.rborder;var r=jq(this.$n());var t=this.$n("cave");var q=jq(t);var v=this.getTextNode();var p=jq(v);if(zk.ie6_||zk.ie7_){q.css("width","")}else{p.css("width","")}var n=this.sheet;var m=n.custColWidth;var i=m.getSize(h);var o=(this._txtwd==undefined||this._txtwd<0);var s=o?v.scrollWidth:this._txtwd;var k=n.cellPad;if(o){this._txtwd=s;n._sendOnTextWidth(this.r,h,s)}if(s<=m.getSize(this.c)-k){r.removeClass("zscell-overflow");r.removeClass("zscell-overflow-b");return}var u=this.nextSibling;while(u&&u.cellType===f&&i<s){i+=m.getSize(u.c);u=u.nextSibling}i-=k;r.removeClass(j?"zscell-overflow":"zscell-overflow-b").addClass(j?"zscell-overflow-b":"zscell-overflow");if(zk.ie6_||zk.ie7_){q.css("width",jq.px0(i))}else{p.css("width",jq.px0(i))}}})})();
(function(){var a={};zk.override(zss.Cell.prototype,a,{_colWidth:function(){var g=this.sheet,f=g.custColWidth,d=g.cellPad,b=0,h=this.merid?this.merl:this.c,e=this.merid?this.merr:h;for(var c=h;c<=e;++c){b+=f.getSize(c)}return b-2*d},_textWidth:function(){if(!this._txtwd){var b=this.getTextNode(),d=jq(b),c=jq("<span>"+d.html()+"</span>");c.css("font-size",d.css("font-size")).css("font-family",d.css("font-family")).hide();c.prependTo("body");this._txtwd=c.width();c.remove()}return this._txtwd},_processRotate:function(){var c=this.rotate;if(c!=90&&c!=-90){return}var p=this.$n("cave"),m=jq(p),o=this.$n("real"),q=this.getTextNode(),j="1.6em",l=this.fontSize,n,k,b,e;var i,g;if(zk.ie){n=Math.round(l*4/3);k=Math.round(l*2/3);b=Math.round(l*4*0.8/3);e=Math.round(l*4*1.6/3);if(zk.ie<10&&(c==-90||c==90)){i=this._textWidth();g=this._colWidth();if(i>g){o.style.width=""+i+"px"}}}m.css("text-align","");if(c==-90){var d="";switch(this.valign){case"t":if(zk.ie){if(zk.ie<10){i=i||this._textWidth();g=g||this._colWidth();var h=i<g?Math.floor(g/2)-k:Math.floor(i/2)-k;d="rotate(90deg) translate("+h+"px"}else{var h=-n;d="rotate(90deg) translate("+h+"px"}}else{d="rotate(90deg) translate(-1em"}break;case"c":i=i||this._textWidth();if(zk.ie){if(zk.ie<10){g=g||this._colWidth();var h=i<g?Math.floor((g-i)/2):0;d="rotate(90deg) translate("+h+"px"}else{var h=Math.floor(i/2)+k;d="rotate(90deg) translate(-"+h+"px"}}else{d="rotate(90deg) translate(calc(-"+Math.floor(i/2)+"px - 0.5em)"}break;case"b":i=i||this._textWidth();if(zk.ie&&zk.ie<10){g=g||this._colWidth();var h=i<g?k+Math.floor(g/2)-i:k-Math.floor(i/2);d="rotate(90deg) translate("+h+"px"}else{d="rotate(90deg) translate(-"+i+"px"}break}switch(this.halign){case"l":if(zk.ie&&zk.ie<10){i=i||this._textWidth();g=g||this._colWidth();var f=(i<g?Math.floor(g/2):Math.floor(i/2))-k;d+=","+f+"px)"}else{d+=",0px)"}break;case"c":g=g||this._colWidth();if(zk.ie){if(zk.ie<10){i=i||this._textWidth();var f=i<g?0:Math.floor((i-g)/2);d+=","+f+"px)"}else{var f=b-Math.floor(g/2);d+=","+f+"px)"}}else{d+=",calc("+j+" / 2 - "+Math.floor(g/2)+"px))"}break;case"r":g=g||this._colWidth();if(zk.ie){if(zk.ie<10){i=i||this._textWidth();var f=(i<g?-Math.floor(g/2):Math.floor(i/2)-g)+b;d+=","+f+"px)"}else{var f=e-g;d+=","+f+"px)"}}else{d+=",calc("+j+" - "+g+"px))"}break}o.style["transform-origin"]="left bottom 0";o.style[zk.ie&&zk.ie<10?"-ms-transform":"transform"]=d}else{if(c==90){var d="";switch(this.valign){case"b":if(zk.ie){if(zk.ie<10){i=i||this._textWidth();g=g||this._colWidth();var h=i<g?Math.floor(g/2)-k:Math.floor(i/2)-k;d="rotate(-90deg) translate("+h+"px"}else{var h=-n;d="rotate(-90deg) translate("+h+"px"}}else{d="rotate(-90deg) translate(-1em"}break;case"c":i=i||this._textWidth();if(zk.ie){if(zk.ie<10){g=g||this._colWidth();var h=i<g?Math.floor((g-i)/2):0;d="rotate(-90deg) translate("+h+"px"}else{var h=-Math.floor(i/2)-k;d="rotate(-90deg) translate("+h+"px"}}else{d="rotate(-90deg) translate(calc(-"+Math.floor(i/2)+"px - 0.5em)"}break;case"t":i=i||this._textWidth();if(zk.ie&&zk.ie<10){g=g||this._colWidth();var h=i<g?k+Math.floor(g/2)-i:k-Math.floor(i/2);d="rotate(-90deg) translate("+h+"px"}else{d="rotate(-90deg) translate(-"+i+"px"}break}switch(this.halign){case"l":if(zk.ie&&zk.ie<10){i=i||this._textWidth();g=g||this._colWidth();var f=(i<g?-Math.floor(g/2):-Math.floor(i/2))+k;d+=","+f+"px)"}else{d+=",0px)"}break;case"c":g=g||this._colWidth();if(zk.ie){if(zk.ie<10){i=i||this._textWidth();var f=i<g?0:-Math.floor((i-g)/2);d+=","+f+"px)"}else{var f=Math.floor(g/2)-b;d+=","+f+"px)"}}else{d+=",calc("+Math.floor(g/2)+"px - "+j+" / 2))"}break;case"r":g=g||this._colWidth();if(zk.ie){if(zk.ie<10){i=i||this._textWidth();var f=(i<g?Math.floor(g/2):g-Math.floor(i/2))-b;d+=","+f+"px)"}else{var f=g-e;d+=","+f+"px)"}}else{d+=",calc("+g+"px - "+j+"))"}break}o.style["transform-origin"]="left top 0";o.style[zk.ie&&zk.ie<10?"-ms-transform":"transform"]=d}}}})})();
(function(){var b={},a={},c={};zk.override(zss.Cell.prototype,b,{_getTextHeight0:function(){var e=jq(this.$n()),f=this.rotate,g=this.getTextNode();if(g){if(!g.textContent||g.textContent.trim().length==0){return 0}}var h=jq(g.cloneNode(true)).css({position:"absolute",left:"-10000px",top:"-10000px",height:"","max-height":"999999px",width:g.offsetWidth}).appendTo(this.cave),d=(f==90||f==-90)?this._textWidth():h.height();if(zk.ie&&zk.ie<10&&d>=10000){d-=10000}h.remove();return d},_saveNoneDefaultHeightCell:function(){var d=this.sheet.custRowHeight,e=this.r;if(!d.isDefaultSize(e)&&!d.isCustomSize(e)){this.parent.addAutoHeightCell(this)}}});zk.override(zss.Row.prototype,a,{$init:function(d){a.$init.apply(this,arguments);this.autoHeightCells=[]},updateRowAutoHeight:function(){if(this.sheet.custRowHeight.isCustomSize(this.r)){return}var f=this.sheet.custRowHeight.getDefaultSize(),e=this.autoHeightCells;if(e.length>0){var d=this._largestAutoHeight||-1;if(d==-1){var h=e.length;while(h--){if(e[h]){f=Math.max(f,e[h].getTextHeight())}}this._largestAutoHeight=f}else{f=Math.max(f,d)}}if(jq(this.$n()).height()==f){return}var g=false;this.sheet._setRowHeight(this.r,f,true,false,false,this.zsh,g)},updateAutoHeightDirty:function(d,f){var e=this._largestAutoHeight||this.sheet.custRowHeight.getDefaultSize();if(f>e){this._largestAutoHeight=f}else{if(d==e){this._largestAutoHeight=-1}}},processCellAutoHeight:function(d){if(!this.sheet.custRowHeight.isCustomSize(this.r)){this.addAutoHeightCell(d);this.sheet.triggerAutoHeight(this.r)}},addAutoHeightCell:function(d){var e=this.autoHeightCells;if(!e.$contains(d)){e.push(d)}},removeAutoHeightCell:function(d){var e=this.autoHeightCells;if(e.$contains(d)){e.$remove(d)}}});zk.override(zss.SSheetCtrl.prototype,c,{fireProcessAutoHeight_:function(){if(this._wgt.isSheetCSSReady()){var d=this._autoHeightRange,g=this.activeBlock,f=g.range;if(d!=undefined){var m=this.custRowHeight,j=Math.max(d.tRow,f.top),e=Math.min(d.bRow,f.bottom);for(var h=j;h<=e;h++){if(!m.isHidden.apply(m,[h])){var l=g.getRow(h);l.updateRowAutoHeight.apply(l)}}delete this._autoHeightRange}}else{var k=this;setTimeout(function(){k.fireProcessAutoHeight_()},25)}},triggerAutoHeight:function(e){var d=this._autoHeightRange=this._autoHeightRange||{};typeof d.tRow=="undefined"?d.tRow=e:d.tRow=Math.min(d.tRow,e);typeof d.bRow=="undefined"?d.bRow=e:d.bRow=Math.max(d.bRow,e)},})})();
(function(){var c={},a={},b={};zk.override(zss.SSheetCtrl.prototype,c,{doMouseOver_:function(i){c.doMouseOver_.apply(this,arguments);var e=i.target,k=jq(i.domTarget);if(k.hasClass("zsselecti")||k.hasClass("zshighlight")||k.hasClass("zshighlighti")){var h=i.pageX,f=i.pageY,j=zss.SSheetCtrl._calCellPos(this,h,f,false),l=j[0],d=j[1],g=this.getCell(l,d);if(g!=null&&g.merr){g=this.getCell(g.mert,g.merl)}if(g){this._showCellComment(g)}}},doCellMouseOver:function(d){if(c.doCellMouseOver){c.doCellMouseOver.apply(this,arguments)}var e=d.target;if(e.widgetName==="Cell"){this._showCellComment(e)}},_showCellComment:function(f){if(this._hoverCell!==f){var e=this.commentWindow,d=this.getStyleMenupopup();this._hovercell=f;if(!(d&&d.isOpen())&&f.comment){jq(e.$n("cave")).html(f.comment.t);e.open(f,null,"end_before",{dodgeRef:true})}else{if(e.isOpen()){e.close()}}}},bind_:function(f,e,d){c.bind_.apply(this,arguments);this.appendChild(this.commentWindow=new zul.wgt.Popup({sclass:"zscellcomment-popup"}))},unbind_:function(){this.commentWindow=null;c.unbind_.apply(this,arguments)}});zk.override(zss.Cell.prototype,a,{doMouseOver_:function(d){this.sheet.doCellMouseOver(d);a.doMouseOver_.apply(this,arguments)},update_:function(){a.update_.apply(this,arguments);var e=this.r,g=this.c,f=this.src.getRow(e).getCell(g),d=f.comment;if(d!=this.comment){this.comment=d;jq(this.$n("comment"))[d?"removeClass":"addClass"]("zscellcomment-hidden")}},getCommentHtml:function(d){return'<div id="'+this.uuid+'-comment" class="zscellcomment '+(d?"":"zscellcomment-hidden")+'"></div>'}});zk.override(zss.Row.prototype,b,{doMouseOver_:function(f){var g=this.sheet,k=f.pageX,i=f.pageY,e=zss.SSheetCtrl._calCellPos(g,k,i),j=e[0],h=e[1],d=g.getCell(j,h);if(d!=null&&d.merr){d=g.getCell(d.mert,d.merl)}if(d){this.sheet._showCellComment(d)}b.doMouseOver_.apply(this,arguments)},})})();

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zssex',1);zk.load('zul,zul.db',function(){if(zk._p=zkpi('zkmax.inp'))try{
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(e,a,b){e instanceof String&&(e=String(e));for(var c=e.length,d=0;d<c;d++){var f=e[d];if(a.call(b,f,d,e))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,a,b){e!=Array.prototype&&e!=Object.prototype&&(e[a]=b.value)};
$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(e,a,b,c){if(a){b=$jscomp.global;e=e.split(".");for(c=0;c<e.length-1;c++){var d=e[c];d in b||(b[d]={});b=b[d]}e=e[e.length-1];c=b[e];a=a(c);a!=c&&null!=a&&$jscomp.defineProperty(b,e,{configurable:!0,writable:!0,value:a})}};
$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");$jscomp.checkStringArgs=function(e,a,b){if(null==e)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return e+""};
$jscomp.polyfill("String.prototype.startsWith",function(e){return e?e:function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var d=c.length,f=a.length;b=Math.max(0,Math.min(b|0,c.length));for(var e=0;e<f&&b<d;)if(c[b++]!=a[e++])return!1;return e>=f}},"es6","es3");
(function(){function e(a){a._startOnSearching||(a._startOnSearching=setTimeout(function(){a.$n("inp")&&a._fireOnSearching(a.$n("inp").value);a._startOnSearching=null},a._getSearchingInterval()))}zkmax.inp.Chosenbox=zk.$extends(zul.Widget,{$init:function(){this.$supers("$init",arguments);this._selItems=[];this._separatorCode=[];this._ppMaxHeight=350},$define:{items:function(a){this._renderByServer||this.setListContent()},tabindex:function(a){var b=this.$n("inp");b&&(null==a?b.removeAttribute("tabindex"):
b.tabIndex=a)},selectedIndex:function(a){var b;this._renderByServer||(this._clearSelection(),(b=this.$n("sel"))&&0<=a&&(b=jq(b).children(),a<b.length&&this._doSelect(b[a])));-1==a&&this._fixEmptyMessage(!0)},renderByServer:function(a){a&&this.$n()&&this._clearListContent()},disabled:function(a){var b=this.$n("inp");b&&(b.disabled=a?"disabled":"");if(b=this.$n())jq(b)[a?"addClass":"removeClass"](this.$s("disabled"))},name:function(a){var b=this.$n("inp");b&&(b.name=a)},emptyMessage:null,noResultsText:null,
createMessage:null,separator:function(a){var b=this._separatorCode;b.length=0;-1!=a.indexOf(",")&&b.push(44);-1!=a.indexOf(".")&&b.push(46);-1!=a.indexOf("/")&&b.push(47);-1!=a.indexOf(";")&&b.push(59);-1!=a.indexOf("'")&&b.push(39);-1!=a.indexOf("[")&&b.push(91);-1!=a.indexOf("]")&&b.push(93);-1!=a.indexOf("\\")&&b.push(92);-1!=a.indexOf("-")&&b.push(45);-1!=a.indexOf("=")&&b.push(61)},creatable:null,open:null,inplace:function(a){this.desktop&&(a?this._renderInplace():this._toggleInplace(!1))}},
setListContent:function(a){var b,c;if(b=this.$n("sel")){if(c=jq(this.$n("sel")).find("."+this.$s("option-hover"))[0])var d=c.id.replace("-opt","");var f=new zk.Buffer;this._renderItems(f,a);this._clearListContent();b.innerHTML=f.join("");d&&(c=this._getOptionById(d))&&this._hliteOpt(c,!0);this._startFixDisplay({hliteFirst:!0,fromServer:!0})}},_clearListContent:function(){this.$n()&&(this.$n("sel").innerHTML="",this.$n("empty").style.display="none")},_renderItems:function(a,b){b=$eval(b?b:this._items)||
[];for(var c=0,d=b.length;c<d;c++)a.push('<div id="',b[c].id,'-opt" class="',this.$s("option"),'">',b[c].content,"</div>")},setChgSel:function(a){if(!a||!a.$equals(this._selItems)){this._clearSelection();var b;if(b=this.$n("sel")){jq(b).children();a=$eval(a);for(var c,d=0;d<a.length;d++)b=a[d],(c=this._getOptionById(b.id))?this._doSelect(c):this._selectItemDirectly(b)}else this._chgSel=a;this._fixEmptyMessage(!0)}},bind_:function(){this.$supers(zkmax.inp.Chosenbox,"bind_",arguments);this.$n();var a=
this.$n("inp"),b=this._chgSel||this._selItems;this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_").domListen_(this.$n("inplace"),"onClick","_doInplaceClick");zWatch.listen({onFloatUp:this,onSize:this,onScroll:this});b&&(this._selItems&&this._selItems.length&&(this._selItems=[]),this.setChgSel(b),this._chgSel=null);this._fixEmptyMessage(!0);this._open&&!this.isDisabled()&&this.setOpen(!0);this._inplace&&this._renderInplace()},unbind_:function(){var a=this.$n("inp");this.domUnlisten_(this.$n("inplace"),
"onClick","_doInplaceClick").domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_");zWatch.unlisten({onFloatUp:this,onSize:this,onScroll:this});this.setOpen(!1);this._ppMaxHeight=this.fixDisplay=this._separatorCode=this._startOnSearching=this._chgSel=this.fixInputWidth=null;this.$supers(zkmax.inp.Chosenbox,"unbind_",arguments)},onSize:function(){this._fixInputWidth();this._fixWidth(this.$n());this._open&&this._updatePopupPosition()},_fixWidth:function(a){this._width&&(a.style.width=
this._width);var b=this.$n("pp");b.style.width=zk(b).revisedWidth(a.offsetWidth)+"px"},doBlur_:function(a){jq(this.$n()).removeClass(this.$s("focus"));var b=this;setTimeout(function(){b.desktop&&zk.currentFocus!=b&&b._fixEmptyMessage(!0)},200);return this.$supers("doBlur_",arguments)},doFocus_:function(a){if(!this.isDisabled()){jq(this.$n()).addClass(this.$s("focus"));var b=this.$n("inp");b&&b.value==this._emptyMessage&&(b.value="")}return this.$supers("doFocus_",arguments)},doMouseOver_:function(a){a=
a.domTarget;jq(a).hasClass(this.$s("option"))&&this._hliteOpt(a,!0)},doMouseOut_:function(a){a=a.domTarget;jq(a).hasClass(this.$s("option-hover"))&&this._hliteOpt(a,!1)},_doInplaceClick:function(a){this._toggleInplace(!1);this.setOpen(!0,{sendOnOpen:!0})},_hliteOpt:function(a,b){var c=this.$s("option-hover");b?((b=jq(this.$n("pp")).find("."+c)[0])&&jq(b).removeClass(c),jq(a).addClass(c)):jq(a).removeClass(c)},_doArrowDown:function(a,b){if("up"==a)this._moveOptionFocus("prev");else if("down"==a)this._moveOptionFocus("next");
else{var c=this.$n("inp");c=zk(c).getSelectionRange();var d=jq(this.$n()).find("."+this.$s("item-focus"))[0];0==c[0]&&0==c[1]&&("left"==a?this._moveLabelFocus(d,"prev"):"right"==a&&(d&&b.stop(),this._moveLabelFocus(d,"next")))}},_moveOptionFocus:function(a){var b=this.$n("sel");var c=this.$n("pp"),d=jq(c),f=d.find("."+this.$s("option-hover"))[0];a="next"==a;f||(f=d.find("."+this.$s("option:hover"))[0],this._hliteOpt(f,!0));if(a&&!this._open)this.setOpen(!0,{sendOnOpen:!0});else{d=d.find("."+this.$s("empty-creatable"))[0];
var e=b.firstChild,h=b.lastChild;if(this._creatable&&d){if(f){b=f==d?h:f==e?d:f.previousSibling;var g=f==d?e:f==h?d:f.nextSibling;g=a?g:b}else g=a?d:h;if(g)for(;g&&"none"==g.style.display;)b=g==e?d:g.previousSibling,g=g==h?d:g.nextSibling,g=a?g:b}else if(g=f?a?f.nextSibling:f.previousSibling:a?b.firstChild:a?null:b.lastChild)for(;g&&"none"==g.style.display;)g=a?g.nextSibling:g.previousSibling;g?(this._hliteOpt(g,!0),zk(g).scrollIntoView(c),this._currentTop=c.scrollTop):f&&(this._hliteOpt(f,!1),zk(f).scrollIntoView(c),
this._currentTop=c.scrollTop)}},_moveLabelFocus:function(a,b){var c=this.$s("item-focus");b="next"==b;if(a){jq(a).removeClass(c);var d=b?a.nextSibling:a.previousSibling;b||d?b&&d==this.$n("inp")&&(d=null):d=a}else b||(d=this.$n("inp").previousSibling);d&&jq(d).addClass(c)},_deleteLabel:function(a,b){var c=this.$n("inp"),d=zk(c).getSelectionRange();if(0==d[0]&&0==d[1]){var f=this.$s("item-focus");(d=jq(this.$n()).find("."+f)[0])?(this._moveLabelFocus(d,d.previousSibling&&"backspace"==a?"prev":"next"),
this._doDeselect(d,{sendOnSelect:!0}),b.stop(),this._startFixDisplay()):(d=c.previousSibling)&&"backspace"==a&&jq(d).addClass(f)}},_removeLabelFocus:function(){var a=this.$s("item-focus"),b=jq(this.$n()).find("."+a)[0];b&&jq(b).removeClass(a)},_doEnterPressed:function(){var a,b;(a=this.fixDisplay)&&clearTimeout(a);this._fixDisplay({enterKey:!0});if(this._open)if((b=this.$n("empty"))&&jq(b).hasClass(this.$s("empty-creatable"))&&jq(b).hasClass(this.$s("option-hover")))this._fireOnSearch(this.$n("inp").value),
this._open&&this.setOpen(!1,{sendOnOpen:!0});else if(a=jq(this.$n("sel")))if((b=a.find("."+this.$s("option-hover"))[0])||(b=a.find("."+this.$s("option:hover"))[0]))a.children(),this._doSelect(b,{sendOnSelect:!0}),this._open&&this.setOpen(!1,{sendOnOpen:!0})},doClick_:function(a){if(!this.isDisabled()){var b=jq(a.domTarget),c=this.$n("inp"),d=!1,f=this.getZclass(),e=this.$s("input"),h=this.$s("item"),g=this.$s("option"),l=this.$s("option-hover"),k=!1,m=!1;this._removeLabelFocus();c.value==this._emptyMessage&&
(c.value="");if(!b.hasClass(e)&&!b.hasClass(f)){do{if(b.hasClass(this.$s("empty-creatable"))){this._fireOnSearch(this.$n("inp").value);this._open&&this.setOpen(!1,{sendOnOpen:!0});return}if(b.hasClass(g)){this._doSelect(b[0],{sendOnSelect:!0});k=d=!0;break}else if(b.hasClass(l)){this._fireOnSearch(c.value);k=m=!0;break}else if(b.hasClass(h)){b.addClass(this.$s("item-focus"));b=b.attr("id").replace("-sel","");this.fire("onItemClick",{itemUuid:b});break}b=b.parent()}while(!b.is("body")&&!b.hasClass("z-page"))
}this._open||k?this._open&&k&&(m?this.setOpen(!1,{sendOnOpen:!0}):this.setOpen(!1,{sendOnOpen:!0,fixEmptyMessage:!0})):this.setOpen(!0,{sendOnOpen:!0});c.focus();d&&a.stop();this.$supers("doClick_",arguments)}},_doSelect:function(a,b){this._hliteOpt(a,!1);var c=a.id.replace("-opt","");if(null==this._getItemById(c,!0)){var d=this._getItemById(c);null==d&&(d={id:c,content:a.innerHTML});this._createLabel(d);a.style.display="none";this._selItems.push(d);this._fixEmptyMessage(!0);b&&b.sendOnSelect&&(this._renderByServer?
this.selectSubModel(c):this.fireOnSelect())}},doSelect_:function(a){a.domTarget==this.$n()&&a.stop({revoke:!0});this.$super("doSelect_",arguments)},_selectItemDirectly:function(a){-1==this._selItems.indexOf(a)&&(this._createLabel(a),this._selItems.push(a),this._fixEmptyMessage(!0))},_doDeselect:function(a,b){for(var c=a.id.replace("-sel",""),d=this._getOptionById(c),f=this._selItems,e=-1,h=0,g=f.length;h<g;h++)f[h].id==c&&(e=h);f.splice(e,1);this._open&&this.setOpen(!1,{sendOnOpen:!0});d&&(d.style.display=
"block");jq(a).remove();this._updatePopupPosition();b&&b.sendOnSelect&&(this._renderByServer?this.deselectSubModel(c):this.fireOnSelect());this._startFixDisplay()},_getItemById:function(a,b){var c=null;if(b=b?this._selItems:this._items)for(var d=0,f=b.length;d<f;d++)b[d].id==a&&(c=b[d]);return c},_getOptionById:function(a){var b=jq(this.$n("sel")).children(),c;a+="-opt";for(var d=0;d<b.length;d++){if((c=b[d])&&c.id==a)return c;if(!c)return null}},_createLabel:function(a){var b=document.createElement("span"),
c=document.createElement("div"),d=document.createElement("div"),f=document.createElement("i"),e=this,h=this.$s("item");b.className=this._inplace?h+" "+this.$s("hide"):h;b.id=a.id+"-sel";c.innerHTML=a.content;c.className=this.$s("item-content");d.className=this.$s("button")+" "+this.$s("delete");f.className=this.$s("icon")+" z-icon-times";b.appendChild(c);b.appendChild(d);d.appendChild(f);jq(d).bind("click",function(){e.isDisabled()||(e.$n("inp").focus(),e._doDeselect(b,{sendOnSelect:!0}))});this.$n().insertBefore(b,
this.$n("inp"))},_clearSelection:function(a){var b=this.$n(),c=this.$n("inp");if(b)var d=b.firstChild;for(;d&&d!=c;)b=d,d=d.nextSibling,this._doDeselect(b,a);this._selItems.length=0},fireOnSelect:function(){for(var a=jq(this.$n("sel")).children(),b=-1,c=this._selItems,d=[],f=0;f<a.length;f++)if("none"==a[f].style.display){b=f;break}for(f=0;f<c.length;f++)d.push(c[f].id);this.fire("onSelect",{selectedUuids:d,min:b})},selectSubModel:function(a){data={itemUuid:a,select:!0};this.fire("onSelectSubModel",
data,{toServer:this.isListen("onSelect")})},deselectSubModel:function(a){data={itemUuid:a,select:!1};this.fire("onSelectSubModel",data,{toServer:this.isListen("onSelect")})},_fireOnSearch:function(a){this.fire("onSearch",{text:a})},_fireOnSearching:function(a){if(a||this._prevSearchingValue)this.fire("onSearching",{text:a}),this._prevSearchingValue=a},onFloatUp:function(a){a.origin!=this&&(this._open&&this.setOpen(!1,{sendOnOpen:!0,fixEmptyMessage:!0}),this._removeLabelFocus())},doKeyDown_:function(a){var b=
a.keyCode;switch(b){case 8:this._deleteLabel("backspace",a);break;case 9:break;case 13:break;case 27:break;case 37:this._doArrowDown("left",a);break;case 38:this._doArrowDown("up");break;case 39:this._doArrowDown("right",a);break;case 40:this._doArrowDown("down");break;case 46:this._deleteLabel("del",a);break;default:this._updateInput(a),this._open||this.setOpen(!0,{sendOnOpen:!0})}39!=b&&46!=b&&8!=b&&37!=b&&this._removeLabelFocus()},doKeyPress_:function(a){(this._keyPressedIsSeparator=this._isSeparator(a.which||
a.charCode||a.keyCode||0))&&a.stop()},doKeyUp_:function(a){a=a.keyCode;var b={hliteFirst:!0};switch(a){case 13:this._doEnterPressed();break;case 27:this._open&&this.setOpen(!1,{sendOnOpen:!0});this._fixEmptyMessage();break;default:if(this._keyPressedIsSeparator)this._doEnterPressed();else{this._fixInputWidth();if(38==a||40==a)b=null;this._renderByServer||this._startFixDisplay(b)}}37<=a&&40>=a||13==a||9==a||e(this);this._keyPressedIsSeparator=!1},focus_:function(a){zk.ie11_&&!a&&(a=0);zk(this.getInputNode()).focus(a);
return!0},_isSeparator:function(a){var b=this._separator,c=this._separatorCode;return c&&-1!=c.indexOf(a)||48<=a&&122>=a&&b&&-1!=b.toUpperCase().indexOf(String.fromCharCode(a))},_updateInput:function(a){var b=this;this.fixInputWidth||(this.fixInputWidth=setTimeout(function(){b.$n()&&b._fixInputWidth()},100))},setOpen:function(a,b){this.isDisabled()||(this._open=a);if(this.$n("pp")){var c=this.$n("pp");a?this.open(this.$n(),c,b):this.close(c,b)}},open:function(a,b,c){var d=b.style;this._fixsz(b);zk(b).makeVParent();
this.setFloating_(!0,{node:b});var f=this.setTopmost();var e=jq(a).offset();d.left=e.left+"px";d.top=e.top+jq(a).outerHeight()+"px";d.zIndex=0<f?f:1;zk(b).slideDown(this,{duration:100});this._startFixDisplay({hliteFirst:!0});c&&c.sendOnOpen&&this.fire("onOpen",{open:!0})},close:function(a,b){zk(a).undoVParent();this.setFloating_(!1);a.style.display="none";b&&(b.sendOnOpen&&this.fire("onOpen",{open:!1}),b.fixEmptyMessage&&this._fixEmptyMessage());this._renderByServer&&this._clearListContent();this._inplace&&
this._renderInplace()},_fixsz:function(a){var b=a.style,c=this._ppMaxHeight;b.height="auto";b.left="-10000px";b.display="block";b.visibility="hidden";jq(a).height()>c&&(b.height=c+"px");b.display="none";b.visibility="visible"},_fixInputWidth:function(){var a=this.$n(),b=this.$n("inp"),c=this.$n("txcnt"),d=jq(a).height(),f=parseInt(this._width)-10;c.innerHTML=b.value;c=jq(c).width()+30;b.style.width=c>f?f+"px":c+"px";jq(a).height()!=d&&this._updatePopupPosition(a,this.$n("pp"));this.fixInputWidth&&
clearTimeout(this.fixInputWidth);this.fixInputWidth=null},_startFixDisplay:function(a){if(a&&a.fromServer)this._fixDisplay(a);else{var b=this,c;(c=this.fixDisplay)&&clearTimeout(c);this.fixDisplay=setTimeout(function(){b.$n()&&(b._fixDisplay(a),b._currentTop&&(b.$n("pp").scrollTop=b._currentTop))},200)}},_fixDisplay:function(a){if(this._open){var b=a&&a.fromServer;if(!this._renderByServer||b){var c=this.$n("inp").value;jq(this.$n("sel")).find("."+this.$s("option-hover"));b=this._fixSelDisplay(a&&
a.hliteFirst,c,b);c=c?c.trim():"";this._fixEmptyDisplay({showExistance:!0},c,b._found,b._exist,a&&(a.hliteFirst||a.enterKey))}else this._fixEmptyDisplay({showBlank:!this.$n("sel").firstChild})}},_fixSelDisplay:function(a,b,c){var d=this.$n("pp"),f=jq(d),e=this._ppMaxHeight;d=d.style;var h=jq(this.$n("sel")).children(),g=!1,l=!1,k;var m=(b=b?b.trim():"")&&b==this._emptyMessage||""==b;var n=0;for(k=h[n];n<h.length;n++,k=h[n]){var p=null!=this._getItemById(k.id.replace("-opt",""),!0);if(c||!p)!p&&(m||
this._renderByServer||b&&k.innerHTML.toLowerCase().startsWith(b.toLowerCase()))?(g||(g=!0,a&&this._hliteOpt(k,!0)),k.style.display="block"):(this._hliteOpt(k,!1),k.style.display="none");!l&&b&&k.innerHTML.toLowerCase()==b.toLowerCase()&&(l=!0)}d.height="auto";f.height()>e&&(d.height=e+"px");return{_found:g,_exist:l}},_fixEmptyDisplay:function(a,b,c,d,f){var e=this.$s("empty-creatable"),h=this.$s("option"),g=this.$n("empty");a&&(a.showBlank||a.showExistance&&this._renderByServer&&!b)?(g.innerHTML=
"&nbsp;",g.style.display="block"):a&&a.showExistance&&(this._creatable&&!d&&b?(a=this._createMessage,c=document.createElement("i"),c.className=this.$s("icon")+" "+this.$s("create")+" z-icon-plus-square",a=a?zUtl.encodeXML(a.replace(/\{0\}/g,b)).replace(/\n/g,"<br />"):"&nbsp;",b=document.createElement("span"),b.innerHTML=a,g.innerHTML="",g.appendChild(b),g.insertBefore(c,b),jq(g).addClass(e),jq(g).addClass(h),g.style.display="block",f&&this._hliteOpt(g,!0)):c?(g.style.display="none",jq(g).removeClass(e),
jq(g).removeClass(h)):(f=(f=this._noResultsText)?zUtl.encodeXML(f.replace(/\{0\}/g,b)).replace(/\n/g,"<br />"):"&nbsp;",g.innerHTML=f,jq(g).removeClass(e),jq(g).removeClass(h),g.style.display="block"))},_updatePopupPosition:function(){var a=this.$n(),b=this.$n("pp"),c=jq(a).offset();b.style.left=c.left+"px";b.style.top=c.top+jq(a).outerHeight()+"px"},_fixEmptyMessage:function(a){var b;this._open&&!a||!(b=this.$n("inp"))||(b.value=0==this._selItems.length?zUtl.encodeXML(this.getEmptyMessage()):"",
this._fixInputWidth(),this._open&&this._startFixDisplay())},_renderInplace:function(){var a=this.$n("inplace"),b=this._selItems,c=[];this._toggleInplace(!0);for(var d=0;d<b.length;d++)c.push(b[d].content);jq(a).text(c.join(", "))},_toggleInplace:function(a){var b=this.$s("hide");jq(this.$n("inp"))[a?"addClass":"removeClass"](b);jq("."+this.$s("item"))[a?"addClass":"removeClass"](b);jq(this.$n("inplace"))[a?"removeClass":"addClass"](b)},domClass_:function(a){var b=this.$supers("domClass_",arguments),
c=this.isDisabled()?this.$s("disabled"):"";return b+(b&&c?" ":"")+c},_getSearchingInterval:function(){return 350},onScroll:function(a){this._open&&a&&((a=this.$n())&&zk(a).isRealScrollIntoView(!0)?zk(this.$n("pp")).position(a,"after_start"):this.setOpen(!1,{sendOnOpen:!0}))},getInputNode:function(){return this.$n("inp")||this.$n()}})})();

zkreg('zkmax.inp.Chosenbox');
zk._m={};
zk._m['default']=chosenbox$mold$=function(a){var b=this.uuid,c=this.getEmptyMessage(),d=this.getTabindex(),e=this.getName();a.push("<i",this.domAttrs_({tabindex:1}),">",'<input id="',b,'-inp" class="',this.$s("input"),'"');this.isDisabled()&&a.push(' disabled="disabled"');c&&a.push(' value="',zUtl.encodeXML(c),'"');void 0!=d&&a.push(' tabindex="',d,'"');e&&a.push(' name="',zUtl.encodeXML(e),'"');a.push("></input>",'<div id="',b,'-txcnt" class="',this.$s("textcontent"),'"></div>','<div id="',b,'-pp" class="',this.$s("popup"),
" ",this.$s("shadow")," ",this.$s("popup-hidden"),'">','<div id="',b,'-empty" class="',this.$s("empty"),'"></div>','<div id="',b,'-sel" class="',this.$s("select"),'">');this._renderByServer||this._renderItems(a);a.push('</div></div><span id="',b,'-inplace" class="',this.$s("inplace")," ",this.$s("hide"),'"/></i>')};

;zkmld(zk._p.p.Chosenbox,zk._m);
/*
 MIT
 @author Alexandre Demode (Alex-D)
         Twitter : @AlexandreDemode
         Website : alex-d.fr
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,h,k){f!=Array.prototype&&f!=Object.prototype&&(f[h]=k.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(f){var h=0;return $jscomp.iteratorPrototype(function(){return h<f.length?{done:!1,value:f[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};$jscomp.iteratorFromArray=function(f,h){$jscomp.initSymbolIterator();f instanceof String&&(f+="");var k=0,e={next:function(){if(k<f.length){var m=k++;return{value:h(m,f[m]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill=function(f,h,k,e){if(h){k=$jscomp.global;f=f.split(".");for(e=0;e<f.length-1;e++){var m=f[e];m in k||(k[m]={});k=k[m]}f=f[f.length-1];e=k[f];h=h(e);h!=e&&null!=h&&$jscomp.defineProperty(k,f,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Array.prototype.keys",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6","es3");
$jscomp.findInternal=function(f,h,k){f instanceof String&&(f=String(f));for(var e=f.length,m=0;m<e;m++){var a=f[m];if(h.call(k,a,m,f))return{i:m,v:a}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(f){return f?f:function(f,k){return $jscomp.findInternal(this,f,k).v}},"es6","es3");
jq.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Stroke",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",
justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target"}},plugins:{},svgPath:null,hideButtonTexts:null};
(function(f,h,k,e){e.fn.trumbowyg=function(a,b){if(a===Object(a)||!a)return this.each(function(){e(this).data("trumbowyg")||e(this).data("trumbowyg",new m(this,a))});if(1===this.length)try{var c=e(this).data("trumbowyg");switch(a){case "execCmd":return c.execCmd(b.cmd,b.param,b.forceCss);case "openModal":return c.openModal(b.title,b.content);case "closeModal":return c.closeModal();case "openModalInsert":return c.openModalInsert(b.title,b.fields,b.callback);case "saveRange":return c.saveRange();case "getRange":return c.range;
case "getRangeText":return c.getRangeText();case "restoreRange":return c.restoreRange();case "enable":return c.toggleDisable(!1);case "disable":return c.toggleDisable(!0);case "destroy":return c.destroy();case "empty":return c.empty();case "html":return c.html(b)}}catch(d){}return!1};var m=function(a,b){var c=this;c.doc=a.ownerDocument||k;c.$ta=e(a);c.$c=e(a);b=b||{};c.lang=null!=b.lang||null!=e.trumbowyg.langs[b.lang]?e.extend(!0,{},e.trumbowyg.langs.en,e.trumbowyg.langs[b.lang]):e.trumbowyg.langs.en;
c.hideButtonTexts=null!=e.trumbowyg.hideButtonTexts?e.trumbowyg.hideButtonTexts:b.hideButtonTexts;var d=null!=e.trumbowyg.svgPath?e.trumbowyg.svgPath:b.svgPath;c.hasSvg=!1!==d;c.svgPath=c.doc.querySelector("base")?h.location.href.split("#")[0]:"";if(0===e("#z-tbeditor-icons",c.doc).length&&!1!==d){if(null==d)try{throw Error();}catch(p){var n=p.stack.split("\n"),g;for(g in n)if(n[g].match(/http[s]?:\/\//)){d=n[Number(g)].match(/((http[s]?:\/\/.+\/)([^\/]+\.js))(\?.*)?:/)[1].split("/");d.pop();d=d.join("/")+
"/ui/icons.svg";break}}var l=c.doc.createElement("div");l.id="z-tbeditor-icons";c.doc.body.insertBefore(l,c.doc.body.childNodes[0]);e.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:d,data:null,beforeSend:null,complete:null,success:function(a){l.innerHTML=(new XMLSerializer).serializeToString(a.documentElement)}})}d=c.lang.header;n=function(){return(h.chrome||h.Intl&&Intl.v8BreakIterator)&&"CSS"in h};c.btnsDef={viewHTML:{fn:"toggle"},
undo:{isSupported:n,key:"Z"},redo:{isSupported:n,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:d+" 1"},h2:{fn:"formatBlock",title:d+" 2"},h3:{fn:"formatBlock",title:d+" 3"},h4:{fn:"formatBlock",title:d+" 4"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},
insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:"p blockquote h1 h2 h3 h4".split(" "),ico:"p"},link:{dropdown:["createLink",
"unlink"]}};c.o=e.extend(!0,{},{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,prefix:"trumbowyg-",semantic:!0,resetCss:!1,removeformatPasted:!1,tagsToRemove:[],btnsGrps:{design:["bold","italic","underline","strikethrough"],semantic:["strong","em","del"],justify:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"]},btns:[["viewHTML"],["undo","redo"],["formatting"],"btnGrp-semantic",["superscript","subscript"],["link"],["insertImage"],"btnGrp-justify",
"btnGrp-lists",["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],imgDblClickHandler:function(){var a=e(this),b=a.attr("src");0===b.indexOf("data:image")&&(b="(Base64)");c.openModalInsert(c.lang.insertImage,{url:{label:"URL",value:b,required:!0},alt:{label:c.lang.description,value:a.attr("alt")}},function(b){"(Base64)"!==b.src&&a.attr({src:b.src});
a.attr({alt:b.alt});return!0});return!1},plugins:{}},b);c.disabled=c.o.disabled||"TEXTAREA"===a.nodeName&&a.disabled;b.btns?c.o.btns=b.btns:c.o.semantic||(c.o.btns[4]="btnGrp-design");e.each(c.o.btnsDef,function(a,b){c.addBtnDef(a,b)});c.eventNamespace="trumbowyg-event";c.keys=[];c.tagToButton={};c.tagHandlers=[];c.pasteHandlers=[].concat(c.o.pasteHandlers);c.isIE=-1!==f.userAgent.indexOf("MSIE")||-1!==f.appVersion.indexOf("Trident/");c.init()};m.prototype={init:function(){var a=this;a.height=a.$ta.height();
a.initPlugins();try{a.doc.execCommand("enableObjectResizing",!1,!1),a.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(b){}a.buildEditor();a.buildBtnPane();a.fixedBtnPaneEvents();a.buildOverlay();setTimeout(function(){a.disabled&&a.toggleDisable(!0);a.$c.trigger("tbwinit")})},addBtnDef:function(a,b){this.btnsDef[a]=b},buildEditor:function(){var a=this,b=a.o.prefix,c="";a.$box=e("<div/>",{class:b+"box "+b+"editor-visible "+b+a.o.lang+" trumbowyg"});a.isTextarea=a.$ta.is("textarea");a.isTextarea?
(c=a.$ta.val(),a.$ed=e("<div/>"),a.$box.insertAfter(a.$ta).append(a.$ed,a.$ta)):(a.$ed=a.$ta,c=a.$ed.html(),a.$ta=e("<textarea/>",{name:a.$ta.attr("id"),height:a.height}).val(c),a.$box.insertAfter(a.$ed).append(a.$ta,a.$ed),a.syncCode());a.$ta.addClass(b+"textarea").attr("tabindex",-1);a.$ed.addClass(b+"editor").attr({contenteditable:!0,dir:a.lang._dir||"ltr"}).html(c);a.o.tabindex&&a.$ed.attr("tabindex",a.o.tabindex);a.$c.is("[placeholder]")&&a.$ed.attr("placeholder",a.$c.attr("placeholder"));a.o.resetCss&&
a.$ed.addClass(b+"reset-css");a.o.autogrow||a.$ta.add(a.$ed).css({height:a.height});a.semanticCode();var d=!1,f=!1,g;c=a.isIE?"keyup":"input";a.$ed.on("dblclick","img",a.o.imgDblClickHandler).on("keydown",function(b){if(b.ctrlKey){d=!0;b=a.keys[String.fromCharCode(b.which).toUpperCase()];try{return a.execCmd(b.fn,b.param),!1}catch(p){}}}).on("compositionstart compositionupdate",function(){f=!0}).on(c+" compositionend",function(b){if("compositionend"===b.type)f=!1;else if(f)return;var c=b.which;37<=
c&&40>=c||(!b.ctrlKey||89!==c&&90!==c?d||17===c?"undefined"===typeof b.which&&a.semanticCode(!1,!1,!0):(a.semanticCode(!1,13===c),a.$c.trigger("tbwchange")):a.$c.trigger("tbwchange"),setTimeout(function(){d=!1},200))}).on("mouseup keydown keyup",function(){clearTimeout(g);g=setTimeout(function(){a.updateButtonPaneStatus()},50)}).on("focus blur",function(c){a.$c.trigger("tbw"+c.type);"blur"===c.type&&e("."+b+"active-button",a.$btnPane).removeClass(b+"active-button "+b+"active")}).on("cut",function(){setTimeout(function(){a.semanticCode(!1,
!0);a.$c.trigger("tbwchange")},0)}).on("paste",function(b){if(a.o.removeformatPasted){b.preventDefault();try{var c=h.clipboardData.getData("Text");try{a.doc.selection.createRange().pasteHTML(c)}catch(t){a.doc.getSelection().getRangeAt(0).insertNode(a.doc.createTextNode(c))}}catch(t){a.execCmd("insertText",(b.originalEvent||b).clipboardData.getData("text/plain"))}}e.each(a.pasteHandlers,function(a,c){c(b)});setTimeout(function(){a.semanticCode(!1,!0);a.$c.trigger("tbwpaste",b)},0)});a.$ta.on("keyup paste",
function(){a.$c.trigger("tbwchange")});a.$box.on("keydown",function(c){if(27===c.which&&1===e("."+b+"modal-box",a.$box).length)return a.closeModal(),!1})},buildBtnPane:function(){var a=this,b=a.o.prefix,c=a.$btnPane=e("<div/>",{class:b+"button-pane"});e.each(a.o.btns,function(d,f){try{var g=f.split("btnGrp-");null!=g[1]&&(f=a.o.btnsGrps[g[1]])}catch(p){}e.isArray(f)||(f=[f]);var n=e("<div/>",{class:b+"button-group "+(0<=f.indexOf("fullscreen")?b+"right":"")});e.each(f,function(b,c){try{var d;a.isSupportedBtn(c)&&
(d=a.buildBtn(c));n.append(d)}catch(r){}});c.append(n)});a.$box.prepend(c)},buildBtn:function(a){var b=this,c=b.o.prefix,d=b.btnsDef[a],f=d.dropdown,g=null!=d.hasIcon?d.hasIcon:!0,l=b.lang[a]||a;g=e("<button/>",{type:"button",class:c+a+"-button "+(d.class||"")+(g?"":" "+c+"textual-button"),html:b.hasSvg&&g?'<svg><use xlink:href="'+b.svgPath+"#"+c+(d.ico||a).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':b.hideButtonTexts?"":d.text||d.title||b.lang[a]||a,title:(d.title||d.text||l)+(d.key?" (Ctrl + "+
d.key+")":""),tabindex:-1,mousedown:function(){f&&!e("."+a+"-"+c+"dropdown",b.$box).is(":hidden")||e("body",b.doc).trigger("mousedown");if(b.$btnPane.hasClass(c+"disable")&&!e(this).hasClass(c+"active")&&!e(this).hasClass(c+"not-disable"))return!1;b.execCmd((f?"dropdown":!1)||d.fn||a,d.param||a,d.forceCss||!1);return!1}});if(f){g.addClass(c+"open-dropdown");l=c+"dropdown";var p=e("<div/>",{class:l+"-"+a+" "+l+" "+c+"fixed-top","data-dropdown":a});e.each(f,function(a,c){b.btnsDef[c]&&b.isSupportedBtn(c)&&
p.append(b.buildSubBtn(c))});b.$box.append(p.hide())}else d.key&&(b.keys[d.key]={fn:d.fn||a,param:d.param||a});f||(b.tagToButton[(d.tag||a).toLowerCase()]=a);return g},buildSubBtn:function(a){var b=this,c=b.o.prefix,d=b.btnsDef[a],f=null!=d.hasIcon?d.hasIcon:!0;d.key&&(b.keys[d.key]={fn:d.fn||a,param:d.param||a});b.tagToButton[(d.tag||a).toLowerCase()]=a;return e("<button/>",{type:"button",class:c+a+"-dropdown-button"+(d.ico?" "+c+d.ico+"-button":""),html:b.hasSvg&&f?'<svg><use xlink:href="'+b.svgPath+
"#"+c+(d.ico||a).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(d.text||d.title||b.lang[a]||a):d.text||d.title||b.lang[a]||a,title:d.key?" (Ctrl + "+d.key+")":null,style:d.style||null,mousedown:function(){e("body",b.doc).trigger("mousedown");b.execCmd(d.fn||a,d.param||a,d.forceCss||!1);return!1}})},isSupportedBtn:function(a){try{return this.btnsDef[a].isSupported()}catch(b){}return!0},buildOverlay:function(){return this.$overlay=e("<div/>",{class:this.o.prefix+"overlay"}).css({top:this.$btnPane.outerHeight(),
height:this.$ed.outerHeight()+1+"px"}).appendTo(this.$box)},showOverlay:function(){e(h).trigger("scroll");this.$overlay.fadeIn(200);this.$box.addClass(this.o.prefix+"box-blur")},hideOverlay:function(){this.$overlay.fadeOut(50);this.$box.removeClass(this.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var a=this,b=a.o.fixedFullWidth,c=a.$box;a.o.fixedBtnPane&&(a.isFixed=!1,e(h).on("scroll."+a.eventNamespace+" resize."+a.eventNamespace,function(){if(c){a.syncCode();var d=e(h).scrollTop(),f=c.offset().top+
1,g=a.$btnPane,l=g.outerHeight()-2;0<d-f&&0>d-f-a.height?(a.isFixed||(a.isFixed=!0,g.css({position:"fixed",top:0,left:b?"0":"auto",zIndex:7}),e([a.$ta,a.$ed]).css({marginTop:g.height()})),g.css({width:b?"100%":c.width()-1+"px"}),e("."+a.o.prefix+"fixed-top",c).css({position:b?"fixed":"absolute",top:b?l:l+(d-f)+"px",zIndex:15})):a.isFixed&&(a.isFixed=!1,g.removeAttr("style"),e([a.$ta,a.$ed]).css({marginTop:0}),e("."+a.o.prefix+"fixed-top",c).css({position:"absolute",top:l}))}}))},toggleDisable:function(a){var b=
this.o.prefix;(this.disabled=a)?this.$ta.attr("disabled",!0):this.$ta.removeAttr("disabled");this.$box.toggleClass(b+"disabled",a);this.$ed.attr("contenteditable",!a)},destroy:function(){var a=this.o.prefix,b=this.height;this.isTextarea?this.$box.after(this.$ta.css({height:b}).val(this.html()).removeClass(a+"textarea").show()):this.$box.after(this.$ed.css({height:b}).removeClass(a+"editor").removeAttr("contenteditable").html(this.html()).show());this.$ed.off("dblclick","img");this.destroyPlugins();
this.$box.remove();this.$c.removeData("trumbowyg");e("body").removeClass(a+"body-fullscreen");this.$c.trigger("tbwclose");e(h).off("scroll."+this.eventNamespace+" resize."+this.eventNamespace)},empty:function(){this.$ta.val("");this.syncCode(!0)},toggle:function(){var a=this,b=a.o.prefix;a.semanticCode(!1,!0);setTimeout(function(){a.doc.activeElement.blur();a.$box.toggleClass(b+"editor-hidden "+b+"editor-visible");a.$btnPane.toggleClass(b+"disable");e("."+b+"viewHTML-button",a.$btnPane).toggleClass(b+
"active");a.$box.hasClass(b+"editor-visible")?a.$ta.attr("tabindex",-1):a.$ta.removeAttr("tabindex")},0)},dropdown:function(a){var b=this,c=b.doc,d=b.o.prefix,f=e("[data-dropdown="+a+"]",b.$box);a=e("."+d+a+"-button",b.$btnPane);var g=f.is(":hidden");e("body",c).trigger("mousedown");g&&(g=a.offset().left,a.addClass(d+"active"),f.css({position:"absolute",top:a.offset().top-b.$btnPane.offset().top+a.outerHeight(),left:b.o.fixedFullWidth&&b.isFixed?g+"px":g-b.$btnPane.offset().left+"px"}).show(),e(h).trigger("scroll"),
e("body",c).on("mousedown."+b.eventNamespace,function(a){f.is(a.target)||(e("."+d+"dropdown",c).hide(),e("."+d+"active",c).removeClass(d+"active"),e("body",c).off("mousedown."+b.eventNamespace))}))},html:function(a){return null!=a?(this.$ta.val(a),this.syncCode(!0),this):this.$ta.val()},syncTextarea:function(){this.$ta.val(0<this.$ed.text().trim().length||0<this.$ed.find("hr,img,embed,iframe,input").length?this.$ed.html():"")},syncCode:function(a){!a&&this.$ed.is(":visible")?this.syncTextarea():(a=
"<div>"+this.$ta.val()+"</div>",a=e(this.o.tagsToRemove.join(","),a).remove().end().html(),this.$ed.html(a));this.o.autogrow&&(this.height=this.$ed.height(),this.height!==this.$ta.css("height")&&(this.$ta.css({height:this.height}),this.$c.trigger("tbwresize")))},semanticCode:function(a,b,c){var d=this;d.saveRange();d.syncCode(a);if(d.o.semantic){d.semanticTag("b","strong");d.semanticTag("i","em");if(b){var f=d.o.inlineElementsSelector,g=":not("+f+")";d.$ed.contents().filter(function(){return 3===
this.nodeType&&0<this.nodeValue.trim().length}).wrap("<span data-tbw/>");var l=function(a){if(0!==a.length){a=a.nextUntil(g).addBack().wrapAll("<p/>").parent();var b=a.nextAll(f).first();a.next("br").remove();l(b)}};l(d.$ed.children(f).first());d.semanticTag("div","p",!0);d.$ed.find("p").filter(function(){return d.range&&this===d.range.startContainer?!1:0===e(this).text().trim().length&&0===e(this).children().not("br,span").length}).contents().unwrap();e("[data-tbw]",d.$ed).contents().unwrap();d.$ed.find("p:empty").remove()}c||
d.restoreRange();d.syncTextarea()}},semanticTag:function(a,b,c){e(a,this.$ed).each(function(){var a=e(this);a.wrap("<"+b+"/>");c&&e.each(a.prop("attributes"),function(){a.parent().attr(this.name,this.value)});a.contents().unwrap()})},createLink:function(){for(var a=this,b=a.doc.getSelection(),c=b.focusNode,d,f,g;0>["A","DIV"].indexOf(c.nodeName);)c=c.parentNode;if(c&&"A"===c.nodeName){g=e(c);d=g.attr("href");f=g.attr("title");g=g.attr("target");var l=a.doc.createRange();l.selectNode(c);b.removeAllRanges();
b.addRange(l)}a.saveRange();a.openModalInsert(a.lang.createLink,{url:{label:"URL",required:!0,value:d},title:{label:a.lang.title,value:f},text:{label:a.lang.text,value:a.getRangeText()},target:{label:a.lang.target,value:g}},function(b){var c=e(['<a href="',b.url,'">',b.text,"</a>"].join(""));0<b.title.length&&c.attr("title",b.title);0<b.target.length&&c.attr("target",b.target);a.range.deleteContents();a.range.insertNode(c[0]);return!0})},unlink:function(){var a=this.doc.getSelection(),b=a.focusNode;
if(a.isCollapsed){for(;0>["A","DIV"].indexOf(b.nodeName);)b=b.parentNode;if(b&&"A"===b.nodeName){var c=this.doc.createRange();c.selectNode(b);a.removeAllRanges();a.addRange(c)}}this.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var a=this;a.saveRange();a.openModalInsert(a.lang.insertImage,{url:{label:"URL",required:!0},alt:{label:a.lang.description,value:a.getRangeText()}},function(b){a.execCmd("insertImage",b.url);e('img[src="'+b.url+'"]:not([alt])',a.$box).attr("alt",b.alt);return!0})},
fullscreen:function(){var a=this.o.prefix,b=a+"fullscreen";this.$box.toggleClass(b);b=this.$box.hasClass(b);e("body").toggleClass(a+"body-fullscreen",b);e(h).trigger("scroll");this.$c.trigger("tbw"+(b?"open":"close")+"fullscreen")},execCmd:function(a,b,c,d){d=!!d||"";"dropdown"!==a&&this.$ed.focus();try{this.doc.execCommand("styleWithCSS",!1,c||!1)}catch(n){}try{this[a+d](b)}catch(n){try{a(b)}catch(g){"insertHorizontalRule"===a?b=void 0:"formatBlock"===a&&this.isIE&&(b="<"+b+">"),this.doc.execCommand(a,
!1,b),this.syncCode(),this.semanticCode(!1,!0)}"dropdown"!==a&&(this.updateButtonPaneStatus(),this.$c.trigger("tbwchange"))}},openModal:function(a,b){var c=this.o.prefix;if(0<e("."+c+"modal-box",this.$box).length)return!1;this.saveRange();this.showOverlay();this.$btnPane.addClass(c+"disable");var d=e("<div/>",{class:c+"modal "+c+"fixed-top"}).css({top:this.$btnPane.height()}).appendTo(this.$box);this.$overlay.one("click",function(){d.trigger("tbwcancel");return!1});b=e("<form/>",{action:"",html:b}).on("submit",
function(){d.trigger("tbwconfirm");return!1}).on("reset",function(){d.trigger("tbwcancel");return!1});b=e("<div/>",{class:c+"modal-box",html:b}).css({top:"-"+this.$btnPane.outerHeight()+"px",opacity:0}).appendTo(d).animate({top:0,opacity:1},100);e("<span/>",{text:a,class:c+"modal-title"}).prependTo(b);d.height(b.outerHeight()+10);e("input:first",b).focus();this.buildModalBtn("submit",b);this.buildModalBtn("reset",b);e(h).trigger("scroll");return d},buildModalBtn:function(a,b){var c=this.o.prefix;
return e("<button/>",{class:c+"modal-button "+c+"modal-"+a,type:a,text:this.lang[a]||a}).appendTo(e("form",b))},closeModal:function(){var a=this,b=a.o.prefix;a.$btnPane.removeClass(b+"disable");a.$overlay.off();var c=e("."+b+"modal-box",a.$box);c.animate({top:"-"+c.height()},100,function(){c.parent().remove();a.hideOverlay()});a.restoreRange()},openModalInsert:function(a,b,c){var d=this,f=d.o.prefix,g=d.lang,l="";e.each(b,function(a,b){var c=b.label,d=b.name||a,e=b.attributes||{},h=Object.keys(e).map(function(a){return a+
'="'+e[a]+'"'}).join(" ");l+='<label><input type="'+(b.type||"text")+'" name="'+d+'" value="'+(b.value||"").replace(/"/g,"&quot;")+'"'+h+'><span class="'+f+'input-infos"><span>'+(c?g[c]?g[c]:c:g[a]?g[a]:a)+"</span></span></label>"});return d.openModal(a,l).on("tbwconfirm",function(){var a=e("form",e(this)),f=!0,g={};e.each(b,function(b,c){var h=e('input[name="'+b+'"]',a);"checkbox"===h.attr("type").toLowerCase()?g[b]=h.is(":checked"):g[b]=e.trim(h.val());c.required&&""===g[b]?(f=!1,d.addErrorOnModalField(h,
d.lang.required)):c.pattern&&!c.pattern.test(g[b])&&(f=!1,d.addErrorOnModalField(h,c.patternError))});f&&(d.restoreRange(),c(g,b)&&(d.syncCode(),d.$c.trigger("tbwchange"),d.closeModal(),e(this).off("tbwconfirm")))}).one("tbwcancel",function(){e(this).off("tbwconfirm");d.closeModal()})},addErrorOnModalField:function(a,b){var c=this.o.prefix,d=a.parent();a.on("change keyup",function(){d.removeClass(c+"input-error")});d.addClass(c+"input-error").find("input+span").append(e("<span/>",{class:c+"msg-error",
text:b}))},saveRange:function(){var a=this.doc.getSelection();this.range=null;if(a.rangeCount){a=this.range=a.getRangeAt(0);var b=this.doc.createRange();b.selectNodeContents(this.$ed[0]);b.setEnd(a.startContainer,a.startOffset);b=(b+"").length;this.metaRange={start:b,end:b+(a+"").length}}},restoreRange:function(){var a=this.metaRange,b=this.range,c=this.doc.getSelection(),d;if(b){if(a&&a.start!==a.end){var e=0,f=[this.$ed[0]],h,k=!1,m=!1;for(d=this.doc.createRange();!m&&(h=f.pop());)if(3===h.nodeType){var q=
e+h.length;!k&&a.start>=e&&a.start<=q&&(d.setStart(h,a.start-e),k=!0);k&&a.end>=e&&a.end<=q&&(d.setEnd(h,a.end-e),m=!0);e=q}else{q=h.childNodes;for(var r=q.length;0<r;)--r,f.push(q[r])}}c.removeAllRanges();c.addRange(d||b)}},getRangeText:function(){return this.range+""},updateButtonPaneStatus:function(){var a=this,b=a.o.prefix,c=a.getTagsRecursive(a.doc.getSelection().focusNode),d=b+"active-button "+b+"active";e("."+b+"active-button",a.$btnPane).removeClass(d);e.each(c,function(c,f){c=a.tagToButton[f.toLowerCase()];
f=e("."+b+c+"-button",a.$btnPane);if(0<f.length)f.addClass(d);else try{f=e("."+b+"dropdown ."+b+c+"-dropdown-button",a.$box);var g=f.parent().data("dropdown");e("."+b+g+"-button",a.$box).addClass(d)}catch(p){}})},getTagsRecursive:function(a,b){var c=this;b=b||(a&&a.tagName?[a.tagName]:[]);if(a&&a.parentNode)a=a.parentNode;else return b;var d=a.tagName;if("DIV"===d)return b;"P"===d&&""!==a.style.textAlign&&b.push(a.style.textAlign);e.each(c.tagHandlers,function(d,e){b=b.concat(e(a,c))});b.push(d);
return c.getTagsRecursive(a,b)},initPlugins:function(){var a=this;a.loadedPlugins=[];e.each(e.trumbowyg.plugins,function(b,c){if(!c.shouldInit||c.shouldInit(a))c.init(a),c.tagHandler&&a.tagHandlers.push(c.tagHandler),a.loadedPlugins.push(c)})},destroyPlugins:function(){e.each(this.loadedPlugins,function(a,b){b.destroy&&b.destroy()})}}})(navigator,window,document,jq);

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,e){if(c){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];d in b||(b[d]={});b=b[d]}a=a[a.length-1];e=b[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===b&&(b=c.length);b=Math.max(0,Math.min(b|0,c.length));for(var d=a.length;0<d&&0<b;)if(c[--b]!=a[--d])return!1;return 0>=d}},"es6","es3");$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var e=a.length,d=0;d<e;d++){var f=a[d];if(c.call(b,f,d,a))return{i:d,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
zkmax.inp.Tbeditor=zk.$extends(zul.Widget,{$define:{value:function(){this.desktop&&this._editor&&(this._value?this._editor.trumbowyg("html",this._value):this._editor.trumbowyg("empty"))},width:function(a){a&&this.desktop&&this._setSize(a,"width")},height:function(a){a&&this.desktop&&this._setSize(a,"height")},config:null},bind_:function(){this.$supers(zkmax.inp.Tbeditor,"bind_",arguments);this._jqCnt=jq(this.$n("cnt"));var a=this;this._preprocessConfig();jq.trumbowyg.svgPath=zk.ajaxURI("/web/js/zkmax/inp/ext/icons.svg",
{desktop:this.desktop,au:!0});this._editor=this._jqCnt.trumbowyg(this._config).on("tbwfocus",function(c){a.proxy(a.doFocus_)(jq.Event.zk(c,a))}).on("tbwblur",a.proxy(a._onBlur)).on("tbwchange",a.proxy(a._onChange));zWatch.listen({onSize:this})},unbind_:function(){this._editor.trumbowyg("destroy");zWatch.unlisten({onSize:this});this.$supers(zkmax.inp.Tbeditor,"unbind_",arguments)},_preprocessConfig:function(){this._config=this._config||{};this._config.prefix=this._config.prefix||"z-tbeditor-"},_setSize:function(a,
c){if(a=this._getValue(a))"height"==c?(a=this._calcEditorHeight(a.endsWith("%")?jq(this.$n()).outerHeight():a),this._assignMinHeight(a)):jq(this.$n()).width(a)},_getValue:function(a){return a?a.endsWith("%")?zk.ie?jq.px0(jq(this.$n()).width()):a:jq.px0(zk.parseInt(a)):null},setFlexSize_:function(a,c){this.$supers("setFlexSize_",arguments);if(a.height){var b=this._calcEditorHeight(a.height);this._assignMinHeight(b)}},_calcEditorHeight:function(a){var c=jq(this.$n()),b=c.children().eq(0);return b?zk.parseInt(a)-
zk.parseInt(b.css("marginTop"))-zk.parseInt(b.css("marginBottom"))-2*zk.parseInt(b.css("border"))-c.find("ul").outerHeight():null},onSize:function(){this.$supers("onSize",arguments);this.getVflex()||this._setSize(this.getHeight(),"height");this.getHflex()||this._setSize(this.getWidth(),"width")},_onBlur:function(a){this._value=this._editor.trumbowyg("html");this.fire("onChange",{value:this._value})},_onChange:function(a){a=this._value;var c=this._editor.trumbowyg("html");a!=c&&(this._value=c,this.fire("onChanging",
{value:this._value}))},_assignMinHeight:function(a){this._jqCnt.css({minHeight:a});this._jqCnt.siblings("textarea").css({minHeight:a});this._jqCnt.parent().css({minHeight:a})}});

zkreg('zkmax.inp.Tbeditor');
zk._m={};
zk._m['default']=tbeditor$mold$=function(a){a.push("<div",this.domAttrs_(),"><div id=",this.uuid,"-cnt>");a.push(this._value);a.push("</div></div>")};

;zkmld(zk._p.p.Tbeditor,zk._m);
(function(){var p=/\'/g;zkmax.inp.Timepicker=zk.$extends(zul.inp.FormatWidget,{_format:"HH:mm",_buttonVisible:!0,_interval:3600,_timezoneAbbr:"",_timezone:"",$init:function(){this.$supers("$init",arguments);this.$class._fixDefaultT(this);this._max=this._min=null;this._calendar=new zk.fmt.Calendar},$define:{timezoneAbbr:null,timezone:function(a){this.$class._fixDefaultT(this,a);this._value&&this._value.tz(a)},min:_zkf=function(a){this.desktop&&(this._redrawFlag=!0)},max:_zkf,interval:_zkf},setFormat:function(a){a=
a?a.replace(p,""):a;this.$supers("setFormat",arguments)},coerceToString_:function(a){return a?this._calendar.formatDate(a,this._format):""},coerceFromString_:function(a){if(!a)return null;var b=this.getTimezone();b=this._value?Dates.newInstance(this._value.getTime(),b):zUtl.today(this._format,b);a=this._optCache[a];if(!a)return null;a=a.date;b.setHours(a.getHours());b.setMinutes(a.getMinutes());b.setSeconds(a.getSeconds());return b},onFloatUp:function(a){this.isOpen()&&(zUtl.isAncestor(this,a.origin)||
this.close(!0))},onSize:function(){var a=this.getInputNode();a&&this._value&&!a.value&&(a.value=this.coerceToString_(this._value));zul.inp.RoundUtl.onSize(this,this.$n("btn"))},onResponse:function(){this._redrawFlag&&(this._redrawFlag=!1,this._renderOptions())},onHide:zul.inp.Textbox.onHide,validate:zul.inp.Intbox.validate,bind_:function(){this.$supers(zkmax.inp.Timepicker,"bind_",arguments);this.domListen_(this.$n("btn"),"onClick","_doBtnClick");this._inplace&&this.domListen_(this.$n("btn"),"onMouseDown",
"_doBtnMouseDown");zWatch.listen({onSize:this,onFloatUp:this,onResponse:this});this._renderOptions();if(!zk.css3)jq.onzsync(this)},unbind_:function(){zWatch.unlisten({onSize:this,onFloatUp:this,onResponse:this});this.domUnlisten_(this.$n("btn"),"onClick","_doBtnClick");this._inplace&&this.domUnlisten_(this.$n("btn"),"onMouseDown","_doBtnMouseDown");zk.css3||jq.unzsync(this);this.$supers(zkmax.inp.Timepicker,"unbind_",arguments)},_doBtnClick:function(a){this._disabled||(this._inplaceIgnore=!1,this.isOpen()?
this.close():this.open({focus:zul.inp.InputCtrl.isPreservedFocus(this)}))},_doBtnMouseDown:function(a){this._inplaceIgnore=!0},doClick_:function(a){if(!this.isDisabled()){var b=jq(a.domTarget);if(b.hasClass(this.$s("option"))&&this.isOpen()){var c=this.getInputNode();b=b.text();c.value=b;this.fire("onChange",{value:this.coerceFromString_(b)},{toServer:!0});this.close()}this.$supers("doClick_",arguments)}},doKeyDown_:function(a){this._doKeyDown(a);a.stopped||this.$supers("doKeyDown_",arguments)},_doKeyDown:function(a){var b=
a.keyCode,c=this.isOpen();9==b||zk.webkit&&0==b?c&&this.close():(38!=b&&40!=b||!c||(this._shiftSelection(38==b),a.stop()),!c||13!=b&&27!=b||(13==b?this.enterPressed_(a):this.escPressed_(a)))},close:function(){var a=this.$n("pp");a&&zk(a).isVisible()&&(this._inplace&&(this._inplaceIgnore=!1,this.focus_()),this._shadow&&(this._shadow.destroy(),this._shadow=null),a.style.display="none",a.className=this.$s("popup"),zk(a).undoVParent(),this.setFloating_(!1),jq(a).removeClass(this.$s("open")),this._syncOptionSelected(),
this._selectionShifted&&this.fire("onChange",{value:this.coerceFromString_(this._sel.text())},{toServer:!0}))},isOpen:function(){return zk(this.$n("pp")).isVisible()},setValue:function(a,b){var c=this.getTimezone();c&&a&&a.tz(c);this.$supers("setValue",arguments)},open:function(a){var b=this.$n(),c=this.$n("pp");if(b&&c){this._inplace&&(this._inplaceIgnore=!0);a&&a.focus&&this.focus();this.setFloating_(!0,{node:c});a=this.setTopmost();var d=this.getZclass();c.className=b.className+" "+c.className;
jq(c).removeClass(d);c.style.width="auto";c.style.display="block";c.style.zIndex=0<a?a:1;zk(c).makeVParent();c.offsetWidth<b.offsetWidth?c.style.width=b.offsetWidth+"px":(a=jq.innerWidth()-20,a<b.offsetWidth&&(a=b.offsetWidth),c.offsetWidth>a&&(c.style.width=a));b=this.getInputNode();zk(c).position(b,"after_start");this._shadow||(this._shadow=new zk.eff.Shadow(c,{left:-4,right:4,top:-2,bottom:3}));this._shadow.sync();jq(c).addClass(this.$s("open"));this._syncOptionSelected();zk(this._sel).scrollIntoView(c)}},
enterPressed_:function(a){this.close();this.updateChange_();a.stop()},escPressed_:function(a){this.close();a.stop()},zsync:function(){this.$supers("zsync",arguments);!zk.css3&&this.isOpen()&&this._shadow&&this._shadow.sync()},getIconClass_:function(){return"z-icon-clock-o"},redrawpp_:function(a){var b=this.uuid;a.push('<div id="',b,'-pp" class="',this.$s("popup")," ",this.getSclass(),'" style="display:none"><ul id="',b,'-cave" class="',this.$s("content"),'" >');a.push("</ul></div>")},_renderOptions:function(){var a=
this._format,b=this._calendar,c=this._min?this._min.getTime():this._defaultMinTime,d=this._max?this._max.getTime():this._defaultMinTime;0>c&&(c=this._getTodayTime(this._min));0>d&&(d=this._getTodayTime(this._max));var e=0<this._interval?1E3*this._interval:36E5;d=Math.abs(d-c)/e;var g=[],h={},k="",l=jq(this.$n("cave"));l.html("");0==d&&(d=864E5/e);for(var f=0;f<d;f++){var m=Dates.newInstance(c+e*f,this.getTimezone()),n=b.formatDate(m,a);h[n]={date:m,index:f};g.push(n)}for(f=0;f<g.length;f++)k+='<li class="'+
this.$s("option")+'">'+g[f]+"</span></li>";l.append(k);this._optCache=h},_getTodayTime:function(a){if(a){var b=Dates.newInstance().tz(this.getTimezone());b.setHours(a.getHours());b.setMinutes(a.getMinutes());b.setSeconds(a.getSeconds());b.setMilliseconds(a.getMilliseconds());return b.getTime()}},_shiftSelection:function(a){var b=this.getInputNode(),c=this._optCache,d=jq(this.$n("cave")).children(),e=this._sel,g=this.$s("option-selected");if(e){var h=e.text();c=c[h].index;c+=a?-1:1;if(0==c||c>=d.length)return;
e.removeClass(g);e=this._sel=d.eq(c);e.addClass(g);zk(e).scrollIntoView(this.$n("pp"))}else e=this._sel=d.eq(0),e.addClass(g);b.value=e.text();this._selectionShifted=!0},_syncOptionSelected:function(){var a=this.getInputNode().value,b=this._optCache[a],c=jq(this.$n("cave")).children();a=this.$s("option-selected");b&&(b=b.index,b<c.length&&(c=c.eq(b),b=this._sel,this._sel=c,b&&b.removeClass(a),c.addClass(a)))}},{_fixDefaultT:function(a,b){b=Dates.newInstance().tz(b);b.setHours(0);b.setMinutes(0);b.setSeconds(0);
b.setMilliseconds(0);a._defaultMinTime=b.getTime()}})})();

zkreg('zkmax.inp.Timepicker');
zk._m={};
zk._m['default']=timepicker$mold$=zul.inp.ComboWidget.$redraw;

;zkmld(zk._p.p.Timepicker,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zkmax.inp',1);zk.load('zul.mesh,zul.menu,zul.sel,zul.grid,zul.inp,zul.db,zul.wgt,zkmax.inp',function(){if(zk._p=zkpi('otr'))try{
otr.AdvGrid=zk.$extends(zul.grid.Grid,{$init:function(){this.$supers("$init",arguments)}});
zkreg('otr.AdvGrid');
zk._m={};
zk._m['default']=function(h){var b=this.uuid,e=this.getZclass(),k=this.getInnerWidth(),l=k=="100%"?' width="100%"':"",c=k!="100%"?"width:"+k:"",a=this.inPagingMold(),d;h.push("<div",this.domAttrs_(),">");if(a&&this.paging){d=this.getPagingPosition();if(d=="top"||d=="both"){h.push('<div id="',b,'-pgit" class="',e,'-pgi-t">');this.paging.redraw(h);h.push("</div>")}}if(this.columns){h.push('<div id="',b,'-head" class="',e,'-header">',"<table",l,zUtl.cellps0,' style="table-layout:fixed;',c,'">');this.domFaker_(h,"-hdfaker",e);for(var m=this.heads,g=0,i=m.length;g<i;){m[g++].redraw(h)}h.push('</table></div><div class="',e,'-header-bg"></div>')}if(this.foot){h.push('<div id="',b,'-foot" class="',e,'-footer">',"<table",l,zUtl.cellps0,' style="table-layout:fixed;',c,'">');if(this.columns){this.domFaker_(h,"-ftfaker",e)}this.foot.redraw(h);h.push("</table></div>")}h.push('<div id="',b,'-body" class="',e,'-body"');var f=this.getHeight();if(f){h.push(' style="height:',f,'"')}h.push("><table",l,zUtl.cellps0,' style="table-layout:fixed;',c,'"');h.push(">");if(this.columns){this.domFaker_(h,"-bdfaker",e)}if(this.rows){if(this.domPad_&&!this.inPagingMold()){this.domPad_(h,"-tpad")}this.rows.redraw(h);if(this.domPad_&&!this.inPagingMold()){this.domPad_(h,"-bpad")}}this.redrawEmpty_(h);h.push("</table></div>");if(this.frozen){h.push('<div id="',b,'-frozen" class="',e,'-frozen">');this.frozen.redraw(h);h.push("</div>")}if(d=="bottom"||d=="both"){h.push('<div id="',b,'-pgib" class="',e,'-pgi-b">');this.paging.redraw(h);h.push("</div>")}h.push("</div>")};
;zkmld(zk._p.p.AdvGrid,zk._m);
(function(){function a(e,d){return zAu.processing()||e._shallIgnore(d)}function c(d){switch(d.data.keyCode){case 33:case 34:case 38:case 40:case 37:case 39:case 32:case 36:case 35:d.stop();return false}return true}function b(e){if(e.desktop&&e._headercm&&e._multiple){var f=zk.Widget.$(e._headercm).getZclass()+"-checked",d=jq(e._headercm);d[e._isAllSelected()?"addClass":"removeClass"](f)}}otr.ListboxFakePaging=zk.$extends(zul.sel.Listbox,{checkedAllGlobal:false,focusListenerPresent:false,setCheckmarkValue:function(d){if(this._headercm&&this._multiple&&this.listhead){this.checkedAllGlobal=d;this._updHeaderCM()}},setFocusListener:function(d){this.focusListenerPresent=d},_updHeaderCM:function(){var d;if(this._headercm&&this._multiple&&(d=this.listhead)&&(d=d.firstChild)){d._checked=this.checkedAllGlobal}if(this._headercm&&this._multiple){var f=this,e;this._nUpdHeaderCM=(e=this._nUpdHeaderCM)>0?e+1:1;setTimeout(function(){b(f)},100)}},_afterCalcSize:function(){this.$supers("_afterCalcSize");if(zk.chrome){var e=this.head?this.head.$n("hdfaker-bar"):null;if(e){var d=this.$n("headtbl");d.style.width=jq.px(zk.parseInt(d.style.width)+zk.parseInt(e.style.width))}}},_isAllSelected:function(){return this.checkedAllGlobal},_doKeyDown:function(q){if(a(this,q)){return true}var t=this._focusItem||this.getSelectedItem(),k=q.data,f=k.shiftKey,e=(k.ctrlKey||k.metaKey);if(f&&!this._multiple){f=false}var o=false,h,s;if(zk.webkit&&typeof k.keyCode=="string"){k.keyCode=zk.parseInt(k.keyCode)}switch(k.keyCode){case 33:case 34:var g=this.paging||this._paginal;if(t&&g){var l=this.getActivePage()+(k.keyCode==33?-1:1);if(l>-1&&l<this.getPageCount()){this.fire("onAcrossPage",{page:l,offset:this.indexOfItem(t),shift:!f||!this._multiple?0:k.keyCode==33?this.getPageSize():-this.getPageSize()})}return}h=this._visibleRows();if(h==0){h=this.getPageSize()||20}if(k.keyCode==33){h=-h}break;case 38:case 40:h=k.keyCode==40?1:-1;break;case 32:if(t){if(this._multiple){this._toggleSelect(t,!t.isSelected(),q)}else{this._select(t,q)}}break;case 36:case 35:h=k.keyCode==35?1:-1;o=true;break;case 37:if(t){this._doLeft(t)}break;case 39:if(t){this._doRight(t)}break}if(h>0||(h<0&&t)){if(t&&f&&!t.isDisabled()){this._toggleSelect(t,true,q)}var j=t?t.$n():null;for(;;){if(!j){var p=this.getBodyWidgetIterator().next();if(p){j=p.$n()}else{return}}else{if(h>0){j=j.nextSibling;if(j&&j.previousSibling&&j.previousSibling.childNodes){j.previousSibling.childNodes.forEach(function(r){r.classList.remove("z-listitem-focus")})}}else{j=j.previousSibling;if(j&&j.nextSibling&&j.nextSibling.childNodes){j.nextSibling.childNodes.forEach(function(r){r.classList.remove("z-listitem-focus")})}}if(j){j.childNodes.forEach(function(r){r.classList.add("z-listitem-focus")})}}if(!j){if(o){break}var m=this.paging||this._paginal,i;if(m){i=m.getActivePage();if(h>0?(i+1<m.getPageCount()):i>0){this.fire("onAcrossPage",{page:i+(h>0?1:0),offset:h>0?0:-1,shift:!this._multiple||!f?0:h>0?-1:1})}}break}var d=zk.Widget.$(j);if(d.$instanceof(zul.sel.Treerow)){d=d.parent}if(!d.isDisabled()){if(f){this._toggleSelect(d,true,q)}if(zk(j).isVisible()){if(!f){s=d}if(!o){if(h>0){--h}else{++h}if(h==0){break}}}}}}if(s){if(e||k.keyCode==38||k.keyCode==40){this._focus(s)}else{this._select(s,q)}this._syncFocus(s);var n=this._scrollbar;if(n){n.scrollToElement(s.$n())}else{zk(s.$n()).scrollIntoView(this.ebody)}}if(this.focusListenerPresent&&(k.keyCode==38||k.keyCode==40)){zAu.send(new zk.Event(this,"onUser",{command:"focusItem",index:this._focusItem?this._focusItem._index:null}))}return c(q)},fireOnSelect:function(e,m){var f=m.domTarget.classList.contains("z-listheader-checkable");if(!f){f=m.domTarget.parentNode.classList.contains("z-listheader-checkable")}if(f){return}var h=[];for(var i=this.getSelectedItems(),g=i.length;g--;){if(i[g].isSelected()){h.push(i[g])}}var l,d=true;if(m){l=m.data;if(this._multiple){d=l.ctrlKey||l.metaKey||l.shiftKey||this._checkmark||m.keyCode==38||m.keyCode==40}}var k=getClickOnCheckmark(m);this.fire("onSelect",zk.copy({items:h,reference:e,clearFirst:!d,selectAll:f,clickOnCheckmark:k},l))},syncSize:function(){if(this.desktop){this.clearCachedSize_();this._calcMinWds();this._fixHeaders();this.onSize()}},replaceWidget:function(d){this.$supers("replaceWidget",arguments);d.checkedAllGlobal=this.checkedAllGlobal},onSize:function(){this.$supers("onSize",arguments);if(this._rows){this._calcHgh()}}})})();function getClickOnCheckmark(i){var c;var e;var d;var g=$(jq(".doc-dialog-content"));if(!g||!g[0]){var f=$(jq(".z-listitem-checkable"));if(!f||!f[0]){return false}d=$(f[0])}else{var a=$(jq(".doc-dialog-content")[0]).find(".z-listitem-checkable");if(!a||!a[0]){return false}d=$(a[0])}c=d.width()+2;e=d.offset().left;var h=i.pageX;var b=h-e;return !(b<0||b>c)}var _Cwgt2={};zk.override(zul.sel.Listitem.prototype,_Cwgt2,{_setSelectedDirectly:function(a){var b=this.$n();if(b){jq(b)[a?"addClass":"removeClass"](this.$s("selected"))}this._selected=a}});
zkreg('otr.ListboxFakePaging');
otr.MaskInput=zk.$extends(zul.inp.Textbox,{_mask:"",_rawval:"",$define:{mask:function(a){if(this.desktop){var c=this.getInputNode();c.mask=a;c.setAttribute("data-inputmask",a);var b="#"+c.id;$(b).inputmask()}}},setValue:function(c,a){var d;if(a){this.clearErrorMessage(this.cst!=null)}else{d=this._validate(c);c=d.value}this._lastChg=this.valueEnter_=this.valueSel_=null;if((!d||!d.error)&&(a||!this._equalValue(this._value,c))){this._rawval=this._value=c;var b=this.getInputNode();if(b){this._defRawVal=this._lastChg=b.value=c=this.coerceToString_(c);$("#"+b.id).val(c)}}},maskTurnOn:function(){var b=this.getInputNode();if(b){var a=$("#"+b.id);if(a.hasClass("maskTurnOff")){a.val(this._rawval);a.inputmask();a.removeClass("maskTurnOff");a.addClass("maskTurnOn")}}},maskTurnOff:function(){var b=this.getInputNode();if(b){var a=$("#"+b.id);if(a.hasClass("maskTurnOn")){this._rawval=b.value;a.inputmask("remove");a.removeClass("maskTurnOn");a.addClass("maskTurnOff")}}},textAttrs_:function(){var a=this.$supers("textAttrs_",arguments);a+=' data-inputmask="'+this._mask+'"';return a},bind_:function(){this.$supers(zul.inp.Textbox,"bind_",arguments);var d=this;var b="#"+this.getInputNode().id;$.extend($.inputmask.defaults,{autoUnmask:true,definitions:{"#":{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",cardinality:1}}});var c=$(b);c.inputmask();if(this._value){c.val(this._value)}var e=this;var a=false;if(c.hasClass("switchableFormatting")){a=otr.MaskInput.switchableFormatingDisabled}else{a=otr.MaskInput.disabled}if(!a){c.addClass("maskTurnOn");c.inputmask()}else{c.addClass("maskTurnOff");c.inputmask("remove")}c.mousedown(function(f){if(f.which==1&&$(b).hasClass("maskTurnOff")){c.inputmask();c.val(e._rawval)}});c.blur(function(f){if($(b).hasClass("maskTurnOff")){e._rawval=c.val();c.inputmask("remove")}e.doBlur_(f)});if(c.hasClass("switchableFormatting")){if(!c.hasClass("dontUsePopupMenu")){this.addPopup_(this)}}},addPopup_:function(c){var a=zk.Widget.$("$mskfmtpopup");if(!a){var b=new zul.menu.Menuitem({checkmark:true,label:"Форматировать все",title:"Форматировать все",listeners:{onClick:function(){if(otr.MaskInput.switchableFormatingDisabled){otr.MaskInput.masksTurnOn()}else{otr.MaskInput.masksTurnOff()}b.setChecked(!otr.MaskInput.switchableFormatingDisabled)}}});b.setChecked(!otr.MaskInput.switchableFormatingDisabled);a=new zul.menu.Menupopup({children:[b]});a.setId("mskfmtpopup")}this.$o().appendChild(a);zk.Widget.$(this).setContext(a)},updateChange_:function(){if(zul.inp.validating){return false}var d=this.getInputNode(),g=d.value;if(!this._reVald&&g==this._defRawVal){return false}var a=this._errmsg,h=this._validate(g);if(!h.error||h.server){var f,e;if(h.rawValue!=null){e={rawValue:h.rawValue}}else{if(!h.error){g=this.coerceToString_(h.value);if(d.value!==g){d.value=g}this._reVald=false;f=a||!this._equalValue(h.value,this._value);if(f){this._value=h.value;this._defRawVal=g}}}if(f||h.server){var b=$("#"+d.id).val()}var c=this._validate(b);this.fire("onChange",this.$class._onChangeData(this,e!=null?e:{value:this.marshall_(c.value)}),c.server?{toServer:true}:null,90)}return true}});otr.MaskInput.disabled=false;otr.MaskInput.switchableFormatingDisabled=false;otr.MaskInput.setDisabled=function(a){otr.MaskInput.disabled=a;otr.MaskInput.switchableFormatingDisabled=a};otr.MaskInput.masksTurnOn=function(){var a=$("input.zkossMaskField");a.each(function(b,c){if($(c).hasClass("switchableFormatting")){zk.Widget.$(c).maskTurnOn()}});otr.MaskInput.switchableFormatingDisabled=false};otr.MaskInput.masksTurnOff=function(){var a=$("input.zkossMaskField");a.each(function(b,c){if($(c).hasClass("switchableFormatting")){zk.Widget.$(c).maskTurnOff()}});otr.MaskInput.switchableFormatingDisabled=true};
zkreg('otr.MaskInput');
otr.AdvDecimalField=zk.$extends(zul.inp.Decimalbox,{_decimalSeparator:",",_maxIntegerDigits:16,_maxFractionDigits:2,$define:{decimalMask:function(){this.rerender()}},doFocus_:function(h){this.$supers("doFocus_",arguments);var e=this.getInputNode();var f=e.value;var a="";for(var d=0,c=f.length;d<c;d++){if(f.charAt(d).match("[\\-,0-9,"+this._decimalSeparator+"]")){a=a+f.charAt(d)}}e.value=a;var b="#"+this.getInputNode().id;var k=this._decimalSeparator;var g=this._maxFractionDigits;var l=this._maxIntegerDigits;$(b).decimalMask("-"+Array(l+1).join("9")+k+Array(g+1).join("9"))},coerceToString_:function(a){if(a!=null&&a._value=="-"){return a._value}return this.$supers("coerceToString_",arguments)}});
zkreg('otr.AdvDecimalField');
otr.AdvTextArea=zk.$extends(zul.inp.Textbox,{_insertEnter:true,_ff_disable:false,_ff_readonly:false,doKeyDown_:function(b){var e=b.keyCode;if(e==13){if(!this._insertEnter){var d=jQuery("input:visible, textarea:visible, button:visible");var c="#"+this.getInputNode().id;var a=d.index(jQuery(c));d.get(a+1).focus();b.stop()}}else{this.$supers("doKeyDown_",arguments)}},doFocus_:function(){this.$supers("doFocus_",arguments);var b=this.$n();var e=jq(b);if(!e.attr("expand")){return}var c=e.parent();this.parentStyleHeight=c.get(0).style.height;this.parentStyleWidth=c.get(0).style.width;c.outerHeight(c.outerHeight());c.outerWidth(c.outerWidth());e.addClass("expanded");e.css({top:c.offset().top+"px",left:c.offset().left+"px"});this.wasWidth=b.offsetWidth;if(!this.wasHeight){this.wasHeight=b.offsetHeight}var a=this.wasHeight>100?this.wasHeight+100:100;if(this.userHeight){a=this.userHeight}var d=this.wasWidth;if(this.userWidth){d=this.userWidth}e.animate({height:a+"px",width:d+"px"},350)},doBlur_:function(){this.$supers("doBlur_",arguments);var a=this.$n();var b=jq(a);if(!b.attr("expand")){return}this.userHeight=a.offsetHeight;this.userWidth=a.offsetWidth;b.animate({height:this.wasHeight+"px",width:this.wasWidth+"px"},500,function(){b.removeClass("expanded");b.css({top:"",left:""});var c=b.parent();c.height(this.parentStyleHeight);c.width(this.parentStyleWidth)})},onScroll_:function(){var a="#"+this.getInputNode().id;if($(a).scrollTop()+$(a).innerHeight()>=$(a).prop("scrollHeight")){zAu.send(new zk.Event(this,"onScrolledToBottom",{},{toServer:true}))}else{var b=$(a).scrollTop()==0?0:Math.round(($(a).scrollTop()+$(a).innerHeight())/$(a).prop("scrollHeight")*100);zAu.send(new zk.Event(this,"onScroll",{percent:b},{toServer:true}))}},bind_:function(){this.$supers("bind_",arguments);var a=this.$n();this.domListen_(a,"onScroll","onScroll_")},doDoubleClick_:function(){this.$supers("doDoubleClick_",arguments);var c=this.$n();var g=jq(c);if(g.attr("expand")){return}var a=g.height();var e=c.scrollHeight;var b=c.clientHeight;if(e>b){if(!g.attr("init_height")){g.attr("init_height",a)}g.height(e);var f=c.scrollHeight;for(var d=e-1;d>a;d--){g.height(d);if(c.scrollHeight>=f){e=d+5;break}f=c.scrollHeight}g.height(c.scrollHeight);setTimeout(function(){g.height(e)},100)}else{if(g.attr("init_height")){g.height(g.attr("init_height"));g.removeAttr("init_height")}}},setDisabled:function(b,a){if(!zk.ff){this.$supers("setDisabled",arguments);return}this._ff_disable=b;return this.$supers("setReadonly",[this._ff_disable||this._ff_readonly,a])},getDisabled:_zkf$=function(){if(!zk.ff){return this.$supers("getDisabled",arguments)}else{return this._ff_disable}},isDisabled:_zkf$,setReadonly:function(b,a){if(!zk.ff){return this.$supers("setReadonly",arguments)}this._ff_readonly=b;return this.$supers("setReadonly",[this._ff_disable||this._ff_readonly,a])},getReadonly:_zkf$=function(){if(!zk.ff){return this.$supers("getReadonly",arguments)}else{return this._ff_readonly}},isReadonly:_zkf$});
zkreg('otr.AdvTextArea');
otr.DraggableDocumentListitem=zk.$extends(zul.sel.Listitem,{getDragMessage_:function(){var d=this.parent,f=d._selItems,b=f.length,c=zul.sel.Listitem,e,a=2;if(!this.isSelected()||!b){return"Перемещение 1 записи"}if(!b||b<=1){return"Перещение 1 выделенной записей"}return"Перещение "+b+" выделенных записей"}});
zkreg('otr.DraggableDocumentListitem');
otr.ListNullChoiceComboBox=zk.$extends(zul.inp.Combobox,{_select:function(b,a){this.$supers("_select",arguments);this.fire("onListNullChoiceSelectItems",{items:b?[b]:[]})}});
zkreg('otr.ListNullChoiceComboBox');
otr.AdvCalendar=zk.$extends(zul.db.Calendar,{_marks:{},getMarks:function(){return this._marks},setMarks:function(a){if(this._marks!=a){this._marks=a;if(this.desktop){}}},_markCal:function(o){var f=this.getZclass(),D=this.getTime(),t=D.getMonth(),l=D.getFullYear();if(this._view=="day"){var A=D.getDate(),n=new Date(l,t,1).getDay()-zk.DOW_1ST,i=new Date(l,t+1,0).getDate(),q=new Date(l,t,0).getDate(),z=zUtl.today();if(n<0){n+=7}for(var x=0,c=-n+1;x<6;++x){var u=this.$n("w"+x);if(u!=null){for(var w=0;w<7;++w,++c){n=c<=0?q+c:c<=i?c:c-i;if(w==0&&c>i){u.style.display="none"}else{if(w==0){u.style.display=""}var g=jq(u.cells[w]),B=c<=0?-1:c<=i?0:1,p=c==A;g[0]._monofs=B;g.css("textDecoration","").removeClass(f+"-seld");if(p){g.addClass(f+"-seld");if(g.hasClass(f+"-over")){g.addClass(f+"-over-seld")}}else{g.removeClass(f+"-seld")}var a=zk.fmt.Date.formatDate(new Date(Date.UTC(l,t+B,n)),"yyyy-MM-dd");g[B?"addClass":"removeClass"]("z-outside");var e=zul.db.Renderer.disabled(this,l,t+B,n,z);g[e?"addClass":"removeClass"](f+"-disd");var r=(this._marks?this._marks[a]:false);g[r?"addClass":"removeClass"](f+"-marked");g.html(zul.db.Renderer.cellHTML(this,l,t+B,n,B)).attr("_dt",n)}}}}}else{var C=this._view=="month",b=C?"m":"y",h=C?t:l%10+1,s;for(var x=0;x<12;++x){if(s=this.$n(b+x)){jq(s)[h==x?"addClass":"removeClass"](f+"-seld")}}}var E;if((E=this.$n("a"))&&(!o||!o.silent)){_doFocus(E,o&&o.timeout)}}});
zkreg('otr.AdvCalendar');
zk.afterLoad("zul.db",function(){var a={};zk.override(zul.db.Datebox.prototype,a,{$init:function(){this.$supers(zul.db.Datebox,"$init",arguments);if(otr&&otr.CalendarInstance&&otr.CalendarInstance.isUseIndustrailCalendar()){this.afterInit(this.initIndustrialPopup)}else{this.afterInit(this.initPopup)}},initIndustrialPopup:function(){this._pop=new otr.IndustrialCalendarPopup();this._pop._marks=null;this._tm=new zul.db.CalendarTime();this.appendChild(this._pop);this.appendChild(this._tm)},initPopup:function(){this._pop=new zul.db.CalendarPop();this._tm=new zul.db.CalendarTime();this.appendChild(this._pop);this.appendChild(this._tm)}})});otr.IndustrialCalendarPopup=otr.IndustrialCalendar=zk.$extends(zul.db.CalendarPop,{that:this,_marks:{},_staticMonthYear:"",getMarks:function(){return this._marks},setMarks:function(a){if(this._marks!=a){this._marks=a;if(this.desktop){}}},getStaticMonthYear:function(){return this._marks},setStaticMonthYear:function(a){if(this._staticMonthYear!=a){this._staticMonthYear=a}},onChange:function(a){var b=this.parent;if(b&&b instanceof zul.db.Datebox){this.$super("onChange",a)}},_markCal:function(a){if(this._marks){this._markCalendar(this._marks)}else{var b=this.getTime();otr.CalendarInstance.loadData(b.getFullYear(),this)}},_loadData:function(a){this._markCalendar(a)},syncShadow:function(){var b=this.parent;if(b&&b instanceof zul.db.Datebox){var a=b.$n("pp");var c=b.getInputNode();if(a){a.style.width="auto";zk(a).position(c,"after_end")}this.$supers("syncShadow",arguments)}},open:function(b){var c=this.parent;if(c&&c instanceof zul.db.Datebox){var a=c.$n("pp");this.$supers("open",arguments)}},_markCalendar:function(x){if(this._staticMonthYear){var l=this._staticMonthYear.substr(0,this._staticMonthYear.indexOf("-"));var t=this._staticMonthYear.substr(this._staticMonthYear.indexOf("-")+1)-1;this._setTime(l,t,null,null);var A=this._node.firstChild;while(A.hasChildNodes()){A.removeChild(A.lastChild)}A.innerHTML=A.innerHTML+'<a class="z-industrialcalendar-title"><span class="z-industrialcalendar-text">'+this.getLocalizedSymbols().FMON[t]+"</span></a>"}var f=this.getZclass(),F=this.getTime(),t=F.getMonth(),l=F.getFullYear();if(this._view=="day"){var C=F.getDate(),n=new Date(l,t,1).getDay()-zk.DOW_1ST,i=new Date(l,t+1,0).getDate(),p=new Date(l,t,0).getDate(),B=zUtl.today();if(n<0){n+=7}for(var z=0,c=-n+1;z<6;++z){var u=this.$n("w"+z);if(u!=null){for(var w=0;w<7;++w,++c){n=c<=0?p+c:c<=i?c:c-i;if(w==0&&c>i){u.style.display="none"}else{if(w==0){u.style.display=""}var g=jq(u.cells[w]),D=c<=0?-1:c<=i?0:1,o=c==C;g[0]._monofs=D;g.css("textDecoration","").removeClass(f+"-seld");if(c==B.getDate()&&t==B.getMonth()&&l==B.getFullYear()){g.addClass(f+"-today")}if(o){g.addClass(f+"-seld");if(g.hasClass(f+"-over")){g.addClass(f+"-over-seld")}}else{g.removeClass(f+"-seld")}var a=zk.fmt.Date.formatDate(new Date(Date.UTC(l,t+D,n)),"yyyy-MM-dd");g[D?"addClass":"removeClass"](f+"-z-outside");var e=zul.db.Renderer.disabled(this,l,t+D,n,B);g[e?"addClass":"removeClass"](f+"-disd");var r=(x?x[a]:false);g[r&&r.search("-holiday")>-1&&!g.hasClass(f+"-weekend")&&!g.hasClass(f+"-z-outside")?"addClass":"removeClass"](f+"-marked");g[r&&r.search("-holiday")>-1&&g.hasClass(f+"-weekend")&&!g.hasClass(f+"-z-outside")?"addClass":"removeClass"](f+"-marked-weekend");g[r&&r.search("-workday")>-1&&g.hasClass(f+"-weekend")&&!g.hasClass(f+"-z-outside")?"addClass":"removeClass"](f+"-marked-moved-weekend");if(r&&r.search("-chosen")>-1&&!g.hasClass(f+"-z-outside")){g.addClass(f+"-chosen")}if(r&&r.search("-notchosen")>-1&&!g.hasClass(f+"-z-outside")){g.removeClass(f+"-chosen")}if(r&&r.search("-workday")>-1&&!g.hasClass(f+"-z-outside")&&g.hasClass(f+"-weekend")){g.removeClass(f+"-weekend")}if(r&&r.search("-waitstore")>-1&&!g.hasClass(f+"-z-outside")){g.addClass(f+"-waitstore")}g.html(zul.db.Renderer.cellHTML(this,l,t+D,n,D)).attr("_dt",n).attr("_my",this._staticMonthYear).data("value",n);if(!g.hasClass(f+"-z-outside")){g.on("click",function(){zAu.send(new zk.Event(zk.Widget.$("$industrialCalendar"),"onUpdateIndustrialDay",{date:this.getAttribute("_my")+"-"+this.getAttribute("_dt")},{toServer:true}))});g.on("contextmenu",function(){zAu.send(new zk.Event(zk.Widget.$("$industrialCalendar"),"onUpdateIndustrialDay_contextmenu",{date:this.getAttribute("_my")+"-"+this.getAttribute("_dt")},{toServer:true}));return false})}else{var q=this.$s("disabled");g.addClass(q)}}}}}}else{var E=this._view=="month",b=E?"m":"y",h=E?t:l%10+1,s;for(var z=0;z<12;++z){if(s=this.$n(b+z)){jq(s)[h==z?"addClass":"removeClass"](f+"-seld")}}}}});
zkreg('otr.IndustrialCalendar');
otr.AdvFileUpload=zk.$extends(zul.Widget,{url:"",multiple:"",maxFileSize:0,maxNumberOfFiles:0,showProgress:"",showFileList:"",totalCount:0,extensionsSet:"",isAllowedList:"true",showDropzone:"true",isScanDocumentDialog:"false",getMultiple:function(){return this.multiple},setMultiple:function(a){if(this.multiple!=a){this.multiple=a;if(a=="false"){if(this.desktop){$("#"+this.id).removeAttr("multiple")}else{$("#"+this.id).attr("multiple","")}}}},getUrl:function(){return this.url},setUrl:function(a){if(this.url!=a){this.url=a}},getMaxFileSize:function(){return this.maxFileSize},setMaxFileSize:function(a){if(this.maxFileSize!=a){this.maxFileSize=a}},getMaxNumberOfFiles:function(){return this.maxNumberOfFiles},setMaxNumberOfFiles:function(a){if(this.maxNumberOfFiles!=a){this.maxNumberOfFiles=a}},getShowProgress:function(){return this.showProgress},setShowProgress:function(a){if(this.showProgress!=a){this.showProgress=a}},getShowFileList:function(){return this.showFileList},setShowFileList:function(a){if(this.showFileList!=a){this.showFileList=a}},getShowDropzone:function(){return this.showDropzone},setShowDropzone:function(a){if(this.showDropzone!=a){this.showDropzone=a}},getIsScanDocumentDialog:function(){return this.isScanDocumentDialog},setIsScanDocumentDialog:function(a){if(this.isScanDocumentDialog!=a){this.isScanDocumentDialog=a}},getTotalCount:function(){return this.totalCount},setTotalCount:function(a){if(this.totalCount!=a){this.totalCount=a}},humanFileSize:function(a){var d=1024;if(a<d){return a+" B"}var b=["kB","MB","GB","TB","PB","EB","ZB","YB"];var c=-1;do{a/=d;++c}while(a>=d);return a.toFixed(1)+" "+b[c]},hideErrors:function(){$("#error").css("display","none").text("")},showErrors:function(a){var b=$("#error").css("display","block").text("");$.each(a,function(d,c){b.append(c+"<br/>")})},define:{},bind_:function(a){try{this.$supers("bind_",arguments);var d=this;var b=this.desktop.id;$("#fileupload").fileupload({dataType:"json",formAcceptCharset:"utf-8",sequentialUploads:true,url:d.url,add:function(i,h){var f=[];if(d.maxFileSize&&d.maxFileSize>0){$.each(h.originalFiles,function(e,j){if(j.size&&j.size>d.maxFileSize){f.push('Слишком большой файл: "'+j.name+'"')}})}if(d.isAllowedList=="true"&&d.extensionsSet&&d.extensionsSet!=""){$.each(h.originalFiles,function(j,l){var m=d.extensionsSet.split(", ");var e=1;for(var k=0;k<m.length;k++){if(l.name.toLowerCase().endsWith(m[k])){e=0;break}}if(e==1){f.push('Вложения данного типа не разрешены. Допустимы расширения: "'+d.extensionsSet+'"')}})}else{if(d.extensionsSet&&d.extensionsSet!=""){$.each(h.originalFiles,function(j,l){var m=d.extensionsSet.split(", ");var e=0;for(var k=0;k<m.length;k++){if(l.name.toLowerCase().endsWith(m[k])){e=1;break}}if(e==1){f.push('Вложения данного типа не разрешены. Запрещенные расширения: "'+d.extensionsSet+'"')}})}}if(d.maxNumberOfFiles&&d.maxNumberOfFiles>0){var g=$("#uploaded-files .button").length;if(d.showFileList!="true"){g=d.totalCount}if(g==1&&d.maxNumberOfFiles==1){zAu.send(new zk.Event(d,"onFilesClear","",{toServer:true}));$("#uploaded-files").empty()}else{if(d.maxNumberOfFiles<=g){f.push("Превышено максимальное количество загружаемых файлов")}}}if(f.length==0){h.submit();d.hideErrors();zAu.send(new zk.Event(d,"onFileAdd",h.originalFiles,{toServer:true}))}else{d.showErrors(f)}},progressall:function(h,g){if(d.showProgress=="true"){var f=parseInt(g.loaded/g.total*100,10);$("#progress .bar").css("width",f+"%")}},});$("#fileupload").fileupload({dropZone:$("#dropzone")});$("#fileupload").bind("fileuploaddone",function(i,h){var f=[];var g=[];$.each(h.result.files,function(k,l){var j=$("#uploaded-files .button").length;if(d.showFileList!="true"){j=d.totalCount}if(!d.maxNumberOfFiles||d.maxNumberOfFiles<=0||j<d.maxNumberOfFiles){var m=$("<tr/>");var e=$("<a/>",{text:"",click:function(){m.remove();d.hideErrors();zAu.send(new zk.Event(d,"onFileDelete",l,{toServer:true}))}});var o=$("<td/>");m.append(o);var n=d.maxNumberOfFiles==1?"Файл: "+l.fileName:l.fileName;o.append($("<span/>").addClass("name").text(n)).append($("<span/>").addClass("sparator").text("|"));o.append($("<span/>").addClass("filesize").text(d.humanFileSize(l.fileSize)));if(l.error){o.append($("<div/>").addClass("error").text(l.error))}else{o.append($("<div/>").addClass("button").append(e))}g.push(l);if(d.showFileList=="true"){$("#uploaded-files").append(m)}}else{f.push("Превышено максимальное количество загружаемых файлов");d.showErrors(f)}});if(d.showProgress=="true"){$("#progress .bar").css("width","0%")}zAu.send(new zk.Event(d,"onFileUpload",g,{toServer:true}))}).bind("fileuploadsubmit",function(g,f){f.formData={dtid:b,compId:d.uuid}})}catch(c){console.log(c)}},getZclass:function(){var a=this._zclass;return a?a:"z-upload"}});
zkreg('otr.AdvFileUpload');
zk._m={};
zk._m['default']=function(a){var c=(this.multiple&&this.multiple=="true")?" multiple":"";var b=this.url.length>0?this.url:"upload";a.push('<form id="fileuploadform" method="POST" enctype="multipart/form-data">');if(this.isScanDocumentDialog=="false"){if(this.showDropzone=="true"){a.push('<div id="dropzone" class="fade well">Поместите файл сюда для загрузки</div>')}a.push('<div class="btnHolder">');if(this.showDropzone=="true"){a.push('<div id="orSpan">или нажмите</div>')}a.push('<div class="fileUpload btn">');a.push("    <span>Загрузить</span>");a.push('<input id="',this.id,'" type="file" name="files[]" ',' class="upload ',this.getZclass(),'" ',c," />");a.push("</div>");a.push("</div>")}a.push('    <div id="error" class="alert alert-danger" style="display:none;"/>');if(this.showProgress=="true"){a.push('<div id="progress" class="progress">');a.push('<div class="bar" style="width: 0%;"></div>');a.push("</div>")}if(this.showFileList=="true"){if(this.maxNumberOfFiles==1){}else{a.push("<b>Файлы:</b>")}a.push('<div class="tableWrapper">');a.push('<table id="uploaded-files" class="table">');a.push("</table>");a.push("</div>")}a.push("</form>")};
;zkmld(zk._p.p.AdvFileUpload,zk._m);
(function(){otr.AdvCheckbox=zk.$extends(zul.wgt.Checkbox,{})})();
zkreg('otr.AdvCheckbox');
(function(){otr.ExCheckbox=zk.$extends(zul.wgt.Checkbox,{})})();
zkreg('otr.ExCheckbox');
otr.DocumentLinkButton=zk.$extends(zul.wgt.Button,{showDocumentLink:function(a){this.fire("onShowDocumentLinkEvent",{guid:a})}});
zkreg('otr.DocumentLinkButton');
zk.load("zul.wgt",function(){var a={};zk.override(zul.wgt.Checkbox.prototype,a,{bind_:function(h){a.bind_.apply(this,arguments);if(this.$class==zul.wgt.Checkbox||this.$class==otr.AdvCheckbox){var g=this.$n("real");if(g){g.style.position="relative";g.style.left="-9000px";var c="advcheckbox-default";if(zk.ie<8){c+=" fixinline"}jq(g).after('<div id="'+this.uuid+'-advcheckbox" class="'+c+'"></div>');var d=this.$n("advcheckbox");if(d){var f=jq(d),e=d.nextSibling,b=jq(e);if(g.checked){jq(d).addClass("advcheckbox-checked")}if(g.disabled){jq(d).addClass("advcheckbox-disabled")}f.mouseover(function(){jq(g).mouseover();if(!f.hasClass("advcheckbox-disabled")){f.addClass("advcheckbox-over")}});f.mouseout(function(){jq(g).mouseout();f.removeClass("advcheckbox-over");f.removeClass("advcheckbox-down")});f.mousedown(function(){jq(g).mousedown();if(!f.hasClass("advcheckbox-disabled")){f.addClass("advcheckbox-down")}});f.mouseup(function(){jq(g).mouseup();f.removeClass("advcheckbox-down")});f.click(function(){if(!f.hasClass("advcheckbox-disabled")){jq(g).click();if(g.checked){f.addClass("advcheckbox-checked")}else{f.removeClass("advcheckbox-checked")}}});b.mouseover(function(){if(!f.hasClass("advcheckbox-disabled")){f.addClass("advcheckbox-over")}});b.mouseout(function(){f.removeClass("advcheckbox-over");f.removeClass("advcheckbox-down")});b.mousedown(function(){if(!f.hasClass("advcheckbox-disabled")){f.addClass("advcheckbox-down")}});b.mouseup(function(){f.removeClass("advcheckbox-down")});b.click(function(){setTimeout(function(){if(g.checked){f.addClass("advcheckbox-checked")}else{f.removeClass("advcheckbox-checked")}},0)})}}}}})});
(function(){otr.AdvRadio=zk.$extends(zul.wgt.Radio,{})})();
zkreg('otr.AdvRadio');
zk.load("zul.wgt",function(){var a={};zk.override(zul.wgt.Radio.prototype,a,{bind_:function(){a.bind_.apply(this,arguments);if(this.$class==zul.wgt.Radio||this.$class==otr.AdvRadio){var f=this.$n("real");if(f){f.style.position="absolute";f.style.left="-9000px";f.style.top="-9000px";var d="advradio-default";jq(f).after('<div id="'+this.uuid+'-advradio" class="'+d+'"></div>');var c=this.$n("advradio");if(c){var g=jq(c),e=c.nextSibling,b=jq(e);if(f.checked){jq(c).addClass("advradio-checked")}if(f.disabled){jq(c).addClass("advradio-disabled")}g.mouseover(function(){jq(f).mouseover();if(!g.hasClass("advradio-disabled")){g.addClass("advradio-over")}});g.mouseout(function(){jq(f).mouseout();g.removeClass("advradio-over");g.removeClass("advradio-down")});g.mousedown(function(){jq(f).mousedown();if(!g.hasClass("advradio-disabled")){g.addClass("advradio-down")}});g.mouseup(function(){jq(f).mouseup();g.removeClass("advradio-down")});g.click(function(){if(!g.hasClass("advradio-disabled")){jq(f).click()}});b.mouseover(function(){if(!g.hasClass("advradio-disabled")){g.addClass("advradio-over")}});b.mouseout(function(){g.removeClass("advradio-over");g.removeClass("advradio-down")});b.mousedown(function(){if(!g.hasClass("advradio-disabled")){g.addClass("advradio-down")}});b.mouseup(function(){g.removeClass("advradio-down")})}}}},setChecked:_zkf=function(e){a.setChecked.apply(this,arguments);var f=this.getRadiogroup();if(f){for(var c=f.getItems(),d=c.length;d--;){var b=c[d].$n("advradio");if(c[d].isChecked()){jq(b).addClass("advradio-checked")}else{jq(b).removeClass("advradio-checked")}}}},getName:function(){try{var b=this.getRadiogroup();return null!=b?b.getName():this.uuid}catch(c){console.log(c);return this.uuid}},setDisabled:function(d){a.setDisabled.apply(this,arguments);var c=this.$n("real");var b=this.$n("advradio");if(c&&b){if(c.disabled){jq(b).addClass("advradio-disabled")}else{jq(b).removeClass("advradio-disabled")}}},setSelected:_zkf})});
otr.Treecol=zk.$extends(zul.sel.Treecol,{},{_aftersizing:function(g,m){var r=g.control,q=r.getMeshWidget(),d=jq.px(g._zszofs),c=q.ehdfaker,h=q.ebdfaker,n=q.eftfaker,p=zk(r.$n()).cellIndex();var o=c.childNodes,b=h.childNodes;var a=[];for(var l=q.head.firstChild,e=0;l;l=l.nextSibling,e++){var k=o[e].style.width,f=l._width,j=k&&k.indexOf("%")<0;if(f){l._width=a[e]=f}else{l._width=a[e]=j?k:jq.px0(l.$n().offsetWidth)}if(!j){o[e].style.width=b[e].style.width=l._width}}if(!r.origWd){r._width=a[p]=d}o[p].style.width=b[p].style.width=d;q.eheadtbl.width="";q.ebodytbl.width="";if(q.efoottbl){q.efoottbl.width=""}delete q._span;delete q._sizedByContent;for(var l=q.head.firstChild;l;l=l.nextSibling){l.setHflex_(null)}r.parent.fire("onColSize",zk.copy({index:p,column:r,width:d,widths:a},m.data),null,0);q.$n()._lastsz=null;if(!zk.webkit){q.eheadtbl.width="100%";q.ebodytbl.width="100%";if(q.efoottbl){q.efoottbl.width="100%"}}zUtl.fireSized(q,-1)}});
zkreg('otr.Treecol');
var _Cwgt2={};zk.override(zul.db.CalendarPop.prototype,_Cwgt2,{syncShadow:function(){var b=this.parent,a=b.$n("pp");var c=b.getInputNode();if(a){a.style.width="auto";zk(a).position(c,"after_end")}_Cwgt2.syncShadow.apply(this,arguments)},open:function(b){var c=this.parent,a=c.$n("pp");_Cwgt2.open.apply(this,arguments)}});
zk.load("zul.box",function(){var a={};zk.override(zul.box.Layout.prototype,a,{onChildAdded_:function(c){try{a.onChildAdded_.apply(this,arguments)}catch(b){}}})});
zAu.cmd0.showPointerPopup=function(j,b,f,g,e,d,i,c,a,k){var h=(otr)?otr.PointerPopupWindow:null;if(h){h.show(b,e,{ref:d,pos:i,off:c,dur:a,type:g,closable:k,title:j,desc:f})}else{jq.alert(b)}};(function(){var b={warning:"z-icon-exclamation-circle",info:"z-icon-info-circle",error:"z-icon-times-circle"};var a={u:"up",d:"down",l:"left",r:"right"};otr.PointerPopupWindow=zk.$extends(zul.wgt.Notification,{$init:function(d,c){this.$supers(zul.wgt.Notification,"$init",arguments);this._title=c.title;this._desc=c.desc;this._msg=d;this._type=c.type;this._ref=c.ref;this._dur=c.dur;this._closable=c.closable},redraw:function(c){var e=this.uuid,d=this.$s("icon");c.push("<div",this.domAttrs_(),">");if(this._ref){c.push('<div id="',e,'-p" class="',this.$s("pointer"),'"></div>')}c.push('<div id="',e,'-cave" class="',this.$s("content"),'">');c.push('<div id="',e,'-title-cave" class="',this.$s("title"),'">');c.push('<div id="',e,'-title-image-cave" class="',this.$s(this._type+"-image"),'">&nbsp;</div>');c.push('<div id="',e,'-title-text-cave" class="',this.$s("title-text"),'">',this._msg,"</div>");c.push("</div>");c.push('<div id="',e,'-msg-cave" class="',this.$s("msg"),'">',this._msg,"</div>");c.push('<div id="',e,'-desc-cave" class="',this.$s("desc"),'">',this._desc,"</div>");c.push("</div>");if(this._closable){c.push('<div id="',e,'-cls" class="',this.$s("close"),'"><i id="',e,'-clsIcon" class="',d,' z-icon-times"></i></div>')}c.push("</div>")}},{show:function(i,c,g){if(!g){g={}}var e=zk.Widget.$(c),f=g.ref,j=g.pos,d=g.dur,h=g.title;desc=g.desc;ntf=new otr.PointerPopupWindow(i,g),off=g.off;if(!j&&!off){j=f?"end_center":"middle_center"}if(!e){e=zk.Desktop.$().firstChild}e.appendChild(ntf);ntf.open(f,off,j);if(d>0){setTimeout(function(){if(ntf.desktop){ntf.close()}},d)}}})})();
zkreg('otr.PointerPopupWindow');
otr.IteratorListbox=zk.$extends(zul.sel.Listbox,{_afterCalcSize:function(){this.$supers("_afterCalcSize",arguments);var b=this._isAllWidths();if(b){var a=this.eheadtbl;if(a&&a.style.width){if(this.paging){this.paging.setWidth(a.style.width)}this.fire("onIteratorSize",{width:a.style.width},{toServer:true})}}}});
zkreg('otr.IteratorListbox');
otr.Actionbar=zk.$extends(zul.wgt.Div,{bind_:function(){this.$supers("bind_",arguments);zk(this.$n()).disableSelection();zWatch.listen({onSize:this,beforeSize:this});this.recalc();this.scrollEvent=false},unbind_:function(){zWatch.unlisten({onSize:this,beforeSize:this});this.$supers("unbind_",arguments)},beforeSize:zk.ie6_?function(){jq(this.$n("body")).css("width","").removeClass("actionbar-body-scroll")}:zk.$void,onSize:function(){if(this.scrollEvent===false){this._addScollEvent();this.scrollEvent=true}this.recalc();var c=jq(this.$n("left"));var a=jq(this.$n("right"));var e=jq(this.$n("body"));var d=this.$n("cave");var b=this.$n().offsetWidth;if(b<this.childWidth){c.addClass("actionbar-left-scroll");a.addClass("actionbar-right-scroll");e.addClass("actionbar-body-scroll").width(jq.px0(b-zk(this.$n("body")).sumStyles("lr",jq.margins)));d.distance=e.width()-this.childWidth}else{c.removeClass("actionbar-left-scroll");a.removeClass("actionbar-right-scroll");e.removeClass("actionbar-body-scroll").width(jq.px0(b));d.style.marginLeft="0px"}},_addScollEvent:function(){var c=this.$n("cave"),b=jq(c),a=function(){b.stop(true)};jq(this.$n("left")).mouseover(function(){b.animate({marginLeft:"0px"},Math.abs(zk.parseInt(b.css("marginLeft"))/80)*400)}).mouseout(a);jq(this.$n("right")).mouseover(function(){b.animate({marginLeft:c.distance+"px"},Math.abs((c.distance-zk.parseInt(b.css("marginLeft")))/80)*400)}).mouseout(a)},recalc:_zkf=function(){if(!this.desktop){return}var a=0,c=this.$n("cave"),b=jq(c);b.children().each(function(){jq(this).children().each(function(){a+=jq(this).width()})});this.childWidth=a},onChildAdded_:_zkf,onChildRemoved_:_zkf,redraw:function(b){var c=this.uuid;b.push("<div",this.domAttrs_(),">",'<div id="',c,'-right"></div>','<div id="',c,'-left"></div>','<div id="',c,'-body" class="',this.getZclass(),'-body">','<div id="',c,'-cave" style="width:100%;">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push('<div class="z-clear"></div></div></div></div>')}});
zkreg('otr.Actionbar');
(function(){var a={};var b="oldValue";var c=function(g,e,d){var f=e.filter(function(h){return !/chf-(.)*/i.test(h)});f=f.concat(d);g.setSclass(f.join(" "))};zk.override(zul.inp.InputWidget.prototype,a,{$init:function(d){var e=this;this.$supers("$init",d);this.setListener("onChange",function(){setTimeout(function(){if(e.get(b)||jq(e).attr(b)){e.markChanged()}},600)});this.setListener("onHistoryView",function(){if(e.get(b)||jq(e).attr(b)){e.markChanged()}})},markChanged:function(){var d=this.get(b)||jq(this).attr(b);var e=this.getValue();var f=this.getSclass()?this.getSclass().split(" "):[];if(d&&d==e){delete f[f.indexOf("chf-addedHighlight")];delete f[f.indexOf("chf-deletedHighlight")];delete f[f.indexOf("chf-changedHighlight")];this.setSclass(f.join(" "))}else{if((!d||d=="null")&&e){c(this,f,"chf-addedHighlight")}else{if((d&&d!="null")&&!e){c(this,f,"chf-deletedHighlight")}else{if(d&&d!="null"&&e&&e!="null"){if(e instanceof Date){e=e.toLocaleDateString();d=new Date(d).toLocaleDateString()}if(d!=e){c(this,f,"chf-changedHighlight")}}}}}}})}());
if(zk.ie10){zk.afterLoad("zul.db",function(){zul.db.DateboxCtrl.isPreservedFocus=function(a){return a.widgetName=="calendar"?true:false}});zk.afterLoad("zul.inp",function(){zul.inp.InputCtrl.isPreservedFocus=function(a){return a.widgetName=="combobox"?false:true}})};
otr.DynamicChosenbox=zk.$extends(zkmax.inp.Chosenbox,{selectSubModel:function(a){zAu.send(new zk.Event(this,"onSelectSubModel",{text:a,select:true},{toServer:true}))},deselectSubModel:function(a){zAu.send(new zk.Event(this,"onSelectSubModel",{text:a,select:false},{toServer:true}))},_doDeselect:function(a,i){var b=jq(a).find("."+this.$s("item-content"))[0].innerHTML,j=this._getItemByValue(b),l=this._selItems,k=l.indexOf(b);if(this._open){this.setOpen(false,{sendOnOpen:true})}l.splice(k,1);if(j){j.style.display="block"}jq(a).remove();this._updatePopupPosition();if(i&&i.sendOnSelect){if(!this._renderByServer){this.fireOnSelect()}else{this.deselectSubModel(b)}}this._startFixDisplay()},_doSelect:function(a,f){this._hliteOpt(a,false);var b=a.innerHTML;if(this._selItems.indexOf(b)==-1){a.style.display="none";this._selItems.push(b);this._fixEmptyMessage(true);if(f&&f.sendOnSelect){if(!this._renderByServer){this.fireOnSelect()}else{this.selectSubModel(b)}}}},_fireOnSearching:function(a){var b={text:a};this.fire("onSearching",b)},_fixSelDisplay:function(s,v,t){var C=this.$n("pp"),a=jq(C),z=this._ppMaxHeight,D=C.style,u=this._selItems,b=jq(this.$n("sel")).children(),r=false,w=false,x,y,B,A;v=v?v.trim():"";B=v&&v==this._emptyMessage||v=="";for(x=0,y=b[x];x<b.length;x++,y=b[x]){A=u.indexOf(y.innerHTML)!=-1;if(t||!A){if(!A&&(B||this._renderByServer||v)){if(!r){r=true;if(s){this._hliteOpt(y,true)}}y.style.display="block"}else{this._hliteOpt(y,false);y.style.display="none"}}if(!w&&v){w=true}}D.height="auto";if(a.height()>z){D.height=z+"px"}return{_found:r,_exist:w}}});
zkreg('otr.DynamicChosenbox');
otr.AdvAuxhead=zk.$extends(zul.mesh.Auxhead,{});
zkreg('otr.AdvAuxhead');
otr.AdvAuxheader=zk.$extends(zul.mesh.Auxheader,{$define:{fromIdx:null,toIdx:null},domAttrs_:function(){var a=this.$supers("domAttrs_",arguments);return a+' fromIdx="'+this._fromIdx+'" toIdx="'+this._toIdx+'"'}},{_aftersizing:function(A,t){var l=A.control,b=l.getMeshWidget(),k=jq.px(A._zszofs),s=b.ehdfaker,p=b.ebdfaker,f=b.eftfaker,a=l.getFromIdx(),C=l.getToIdx(),j;if(C&&C>=0){j=l.getToIdx()}else{j=zk(l.$n()).cellIndex()}var B=s.childNodes,d=p.childNodes,r=f?f.childNodes:null;var m=[];for(var q=b.head.firstChild,y=0;q;q=q.nextSibling,y++){var h=B[y].style.width,c=q._origWd,g=h&&h.indexOf("%")<0;if(c){if(g&&zk.parseFloat(h)>1){c=h}q._width=m[y]=c}else{m[y]=g?h:jq.px0(q.$n().offsetWidth);if(q.isVisible()){q._width=m[y]}}if(!g){B[y].style.width=d[y].style.width=m[y];if(r){r[y].style.width=m[y]}}var x=zk.parseInt(m[y]);if(q._hflexWidth){q.setHflex_(null);q._hflexWidth=undefined}if(b._minWd){b._minWd.wds[y]=x}}var e=0;for(var y=a;y<C;y++){var u=B[y],z=zk.Widget.$(u),v=z&&z.isVisible();if(v){e+=zk.parseInt(m[y])}}if(e>0){var o=zk.parseInt(k);o-=e;k=jq.px(o)}if(!l.origWd){l._width=m[j]=k}B[j].style.width=d[j].style.width=k;if(r){r[j].style.width=k}b.eheadtbl.width="";b.ebodytbl.width="";if(b.efoottbl){b.efoottbl.width=""}delete b._span;delete b._sizedByContent;for(var q=b.head.firstChild;q;q=q.nextSibling){q.setHflex_(null)}l.parent.fire("onColSize",zk.copy({index:j,column:l,width:k,widths:m},t.data),null,0);b.$n()._lastsz=null;if(!zk.webkit){b.eheadtbl.width="100%";b.ebodytbl.width="100%";if(b.efoottbl){b.efoottbl.width="100%"}}zUtl.fireSized(b,-1)}});
zkreg('otr.AdvAuxheader');
zk.load("zul.inp",function(){var c={};function a(d,f,e){d.removeClass();d.addClass(f);if(e){d.addClass(e)}}var b;zk.override(zul.inp.Combobox.prototype,c,{open:function(e){var g="#"+this.uuid+"-pp";a(jq(g),this.$s("popup"),this.getSclass());c.open.apply(this,arguments);if(zk.ie10){jq(g).focus()}var d=this.uuid+"-pp";var f=this.uuid+"-btn";b=function(l){if(l.srcElement==null||$(l.srcElement).length<1){return}var i=$(l.srcElement)[0].id;var h=document.getElementById(i);var k=document.getElementById(d);var j=document.getElementById(f).firstElementChild;if(k!=null&&j!=null&&!k.contains(h)){$(j).click();document.removeEventListener("wheel",b,false);b=null}};document.addEventListener("wheel",b,false)},doBlur_:function(d){this.$supers("doBlur_",arguments);if(zk.currentFocus==null){this.close()}if(b!=null){document.removeEventListener("wheel",b,false);b=null}}})});
zk.load("zul.wgt",function(){var a={};zk.override(zul.wgt.Groupbox.prototype,a,{_redrawCave:function(c,e){c.push('<div id="',this.uuid,'-cave"',this._contentAttrs(),">");for(var b=this.firstChild,d=this.caption;b;b=b.nextSibling){if(b!=d){b.redraw(c)}}c.push("</div>")},fixCollapsedWidth:function(){if(this.isOpen()){return}var d=this.$n("cave");if(d){var b=jq(d).width();if(b==0){b=jq(d.parentNode).width()}else{b=jq(d).outerWidth()}b=jq.px(b);jq(this)[0].style.minWidth=b;var c=jq(this)[0].parentNode;if(c){c.style.minWidth=b}}}})});
zk.load("zul.db",function(){var a={};zk.override(zul.db.Datebox.prototype,a,{_markError:function(f,e,d){this._errmsg=f;if(this.desktop){jq(this.getInputNode()).addClass(this.$s("invalid"));var b=this._cst,c;if(b!="[c"){if(b&&(c=b.showCustomError)){c=c.call(b,this,f)}}if(!d){this.fire("onError",{value:e,message:f})}}},coerceFromString_:function(i,f){var b=a._unformater,j=this.getTimeZone();if(b&&jq.isFunction(b)){var e=b(i);if(e){this._shortcut=i;return e}}if(i){var c=this._value?Dates.newInstance(this._value):null,g=this.getFormat(),h=new zk.fmt.Calendar().parseDate(i,f||g,!this._lenient,c,this._localizedSymbols,j);if(!h){return{error:zk.fmt.Text.format(msgzul.DATE_REQUIRED+(this.localizedFormat.replace(_quotePattern,"")))}}if(!g.match(/[HkKh]/)){h=new zk.fmt.Calendar().escapeDSTConflict(h,j)}return h}return null},onChange:function(i){var e=this.getTime(),k=this.parent,c=k.getTimeFormat(),f=k.getValue(),h=k.isReadonly(),g=k.getTimeZone(),b=new zk.fmt.Calendar();if(c){var j=k._tm,d=j.getValue();if(c.match(/[HK]/i)){e.setHours(d.getHours())}if(c.match(/[m]/)){e.setMinutes(d.getMinutes())}if(c.match(/[s]/)){e.setSeconds(d.getSeconds())}if(c.match(/[S]/)){e.setMilliseconds(d.getMilliseconds())}if(!c.match(/[HkKh]/)){e=b.escapeDSTConflict(e,g)}}else{if(f){e=Dates.newInstance([e.getFullYear(),e.getMonth(),e.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()],g);if(!this.getFormat().match(/[HkKh]/)){e=b.escapeDSTConflict(e,g)}}}if(!i.data.shiftView){k.getInputNode().value=k.coerceToString_(e)}if(this._view=="day"&&i.data.shallClose!==false){this.close();i.data.value=e;if(!this.$class._equalDate(e,f)){k._value=e;k.updateChange_()}}i.stop()}})});
msgzul.OUT_OF_RANGE="Не вписывается в диапазон ";
zk.load("zul.inp",function(){var a={};zk.override(zul.inp.Bandpopup.prototype,a,{fixPopupHeight:function(){var j=this.$n(),e=j.offsetTop,c=j.children,h=j.offsetParent.offsetTop,f=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,g=0;for(var d=0;d<c.length;d++){g+=$(c[d]).height()}var b=h+e+g-f;if(b<0){b=0}this.setHeight(jq.px0(g-b))}})});

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('otr',1);zk.load('zul,zul.box',function(){if(zk._p=zkpi('zkmax.layout'))try{
zkmax.layout.Tablelayout=zk.$extends(zul.Widget,{_columns:1,$define:{columns:function(){this.rerender()}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this.rerender()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);this.childReplacing_||this.rerender()}});

zkreg('zkmax.layout.Tablelayout');
zk._m={};
zk._m['default']=tablelayout$mold$=function(d){this.getZclass();var a=0,c=0,h=this.getColumns(),b={};d.push("<table",this.domAttrs_(),">");for(var e=this.firstChild;e;e=e.nextSibling){(0==c||b[a]&&b[a]==c)&&d.push("<tr>");e.redraw(d);var k=e.getRowspan();var g=e.getColspan();if(1<k)for(var f=a+1;f<a+k;f++)b[f]=b[f]?b[f]+g:g;c+g>=h?(a++,c=b[a]?b[a]:0,d.push("</tr>")):c+=g}0!=c&&(!b[a]||b[a]!=c)&&c<h&&d.push("</tr>");d.push("</table>")};

;zkmld(zk._p.p.Tablelayout,zk._m);
zkmax.layout.Tablechildren=zk.$extends(zul.Widget,{_colspan:1,_rowspan:1,$define:{colspan:_zkf=function(){this.parent&&this.parent.rerender()},rowspan:_zkf},deferRedrawHTML_:function(a){a.push("<td",this.domAttrs_({domClass:1}),' class="z-renderdefer"></td>')}});

zkreg('zkmax.layout.Tablechildren');
zk._m={};
zk._m['default']=tablechildren$mold$=function(b){b.push("<td",this.domAttrs_()+" ");var a;1!=(a=this.getRowspan())&&b.push(' rowspan="',a,'"');1!=(a=this.getColspan())&&b.push(' colspan="',a,'"');b.push(">");for(a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</td>")};

;zkmld(zk._p.p.Tablechildren,zk._m);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,d){a instanceof String&&(a=String(a));for(var c=a.length,e=0;e<c;e++){var f=a[e];if(b.call(d,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,d,c){if(b){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in d||(d[e]={});d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");
zkmax.layout.Portallayout=zk.$extends(zul.Widget,{_maximizedMode:"column",_orient:"vertical",$init:function(){this.$supers("$init",arguments);this.drags={}},$define:{maximizedMode:null,orient:_zkf},bind_:function(){this.$supers(zkmax.layout.Portallayout,"bind_",arguments);zWatch.listen({onSize:this});for(var a=this.firstChild;a;a=a.nextSibling)if(!a._renderdefer)for(var b=a.firstChild;b;b=b.nextSibling)b._renderdefer||this._initDrag(b)},unbind_:function(){zWatch.unlisten({onSize:this});for(var a=
this.firstChild;a;a=a.nextSibling)for(var b=a.firstChild;b;b=b.nextSibling)this._cleanupDrag(b);this.$supers(zkmax.layout.Portallayout,"unbind_",arguments)},_initDrag:function(a){if("false"!=a._draggable){var b=a.$n();if(!this.drags[b.id]){var d=a.$n("cap");if(d){var c=this.$class;this.drags[b.id]=new zk.Draggable(a,b,{handle:d,zIndex:99999,stackup:!0,starteffect:zul.wnd.Panel._startmove,ghosting:c._ghostMove,ignoredrag:c._ignoreMove,endeffect:c._endMove,change:c._changeMove});jq(d).addClass(a.$s("header-move"));
zk(d).disableSelection()}}}},_cleanupDrag:function(a){var b;a&&this.drags[b=a.uuid]&&(this.drags[b].destroy(),delete this.drags[b],a=a.$n("cap"))&&(a.style.cursor="")},getPanel:function(a,b){if(0>a||0>b||this.nChildren<=a)return null;a=this.getChildAt(a);return a.nChildren<=b?null:a.getChildAt(b)},setPanel:function(a,b,d){if(0>b||0>d||null==a||this.nChildren<=b)return!1;b=this.getChildAt(b);return b.nChildren>=d?b.appendChild(a):b.insertBefore(a,b.getChildAt(d))},getPosition:function(a){var b=[-1,
-1],d=a.parent;if(null==a||null==d)return b;for(var c=0;c<d.nChildren;c++)a==d.getChildAt(c)&&(b[1]=c);for(c=0;c<this.nChildren;c++)d==this.getChildAt(c)&&(b[0]=c);return b},_renderChild:function(a){if(this.desktop){for(a=a.firstChild;a;a=a.nextSibling)a.$n()&&this._initDrag(a);this.render()}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this._renderChild(a)},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(this.desktop){for(var b=a.firstChild;b;b=b.nextSibling)this._cleanupDrag(b);
this.childReplacing_||this.render()}},onChildRenderDefer_:function(a){a._renderdefer=-1;this._renderChild(a)},render:_zkf=function(){var a=this.$n();if(zk(a).isRealVisible()){for(var b=this.isVertical(),d=b?a.offsetWidth:a.offsetHeight,c=jq(a).find(">div:first")[0];c;c=jq(c).next("div:first")[0]){var e=zk.Widget.$(c.id);e.desktop&&(e=e._oriSize)&&0<e.indexOf("px")&&(d-=b?c.offsetWidth:c.offsetHeight)}d=Math.max(0,d);for(c=jq(a).find(">div:first")[0];c;c=jq(c).next("div:first")[0])e=zk.Widget.$(c.id),
e.desktop&&(e=e._oriSize)&&0<e.indexOf("%")&&(c.style[b?"width":"height"]=jq.px0(Math.floor(zk.parseInt(e)/100*d)-1))}},onSize:_zkf,domClass_:function(a){var b=this.$supers("domClass_",arguments);a&&a.zclass||(b+=" "+this.$s(this.getOrient()));return b},isVertical:function(){return"vertical"==this.getOrient()},setWidth:function(){this.$supers("setWidth",arguments);this.onSize()}},{_getColWidths:function(a){for(var b=a.nChildren,d=[],c=a.isVertical()?function(a){return zk(a).revisedOffset()[0]}:function(a){return zk(a).revisedOffset()[1]},
e=0;e<b;e++){var f=a.getChildAt(e).$n();jq(f).is(":visible")?d.push(c(f)):d.push(-1)}return d},_getColHeights:function(a){for(var b=a.nChildren,d=[],c=a.parent.isVertical()?function(a){return zk(a).revisedOffset()[1]+a.offsetHeight/2}:function(a){return zk(a).revisedOffset()[0]+a.offsetWidth/2},e=0;e<b;e++){var f=a.getChildAt(e).$n();jq(f).is(":visible")?d.push(c(f)):d.push(-1)}return d},_changeMove:function(a,b,d){d=a.control;var c=d.parent.parent;d=jq("#"+d.uuid+"-proxy")[0];a=a._widths;var e=a.length,
f=c.isVertical(),g=f?b[0]:b[1];for(b=f?b[1]:b[0];0<=--e&&!(-1!=a[e]&&a[e]<=g););0>e&&(e=0);a=c.getChildAt(e);var h;c=c.$class._getColHeights(a);e=0;for(g=c.length;e<g&&!(-1!=c[e]&&c[e]>b);)e++;(h=a.getChildAt(e))?e<g?jq(d).insertBefore(h.$n()):jq(d).insertAfter(h.$n()):a.$n("cave").appendChild(d)},_ignoreMove:function(a,b,d){return a.control.isMaximized()||zul.wnd.Panel._ignoremove(a,b,d)},_initProxy:function(a,b){var d=document.createElement("div"),c=d.style,e=b.style;d.id=b.id+"-proxy";c.marginTop=
e.marginTop;c.marginLeft=e.marginLeft;c.marginRight=e.marginRight;c.marginBottom=e.marginBottom;jq(d).addClass("z-panel-move-block");a.isVertical()?(c.width="auto",c.height="10px"):(c.height="100%",c.width="10px");b.parentNode.insertBefore(d,b.previousSibling);jq(b).hide()},_cleanProxy:function(a){jq(a.id+"-proxy",zk).remove();jq(a).show()},_ghostMove:function(a,b,d){d=a.control.parent.parent;var c=a.node=jq("#"+a.handle.id.split("-")[0])[0],e=zk(c),f=jq(c).find("#"+c.id+"-head")[0],g=jq(f).clone()[0];
f=jq(c).height()-jq(f).height()-zk(f).padBorderHeight();var h=d.$class;jq(document.body).prepend('<div id="zk_ddghost" class="z-panel-move-ghost" style="position:absolute;top:'+b[1]+"px;left:"+b[0]+"px;width:"+e.offsetWidth()+"px;height:"+e.offsetHeight()+"px;z-index:"+c.style.zIndex+'"><dl></dl></div>');a._zoffs=b;a._cns=d.firstChild.$n();a._widths=h._getColWidths(d);h._initProxy(d,c);c=a.node=jq("#zk_ddghost")[0];c.lastChild.style.height=zk(c.lastChild).revisedHeight(f,!0)+"px";c.insertBefore(g,
c.lastChild);return a.node},_endMove:function(a,b){b=a.control;var d=b.$n(),c=b.parent;d=jq(d.id+"-proxy",zk)[0];var e=zk.Widget.$(d.parentNode.id.split("-")[0]),f=jq(a.node).next("div:first")[0]!=d,g=b.parent.parent,h=g.$class;if(f){if(d.nextSibling){var k=zk.Widget.$("#"+d.nextSibling.id.split("-")[0]);e.insertBefore(b,k)}else e.appendChild(b);for(k=0;k<e.nChildren;k++){var l=e.getChildAt(k);l.isMaximized()&&l.setMaximized(!1)}g.fire("onPortalMove",{from:c.uuid,to:e.uuid,dragged:b.uuid,index:jq(d).index()},
{toServer:!0},0)}h._cleanProxy(b.$n());f&&zUtl.fireSized(g);a._cns=a._columns=null}});

zkreg('zkmax.layout.Portallayout');
zk._m={};
zk._m['default']=portallayout$mold$=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push('</div><div class="z-clear"></div>')};

;zkmld(zk._p.p.Portallayout,zk._m);
zkmax.layout.Portalchildren=zk.$extends(zul.Widget,{dragControl:function(a){var b=this.parent;b&&(b._cleanupDrag(a),b._initDrag(a));return!0},bind_:function(){this.$supers(zkmax.layout.Portalchildren,"bind_",arguments);var a=this.$n();this._oriSize=this.parent.isVertical()?a.style.width:a.style.height},replaceChildHTML_:function(a){var b=this.parent;b&&b._cleanupDrag(a);this.$supers("replaceChildHTML_",arguments);b&&b._initDrag(a)},onMaximize:function(a){if("whole"!=this.parent.getMaximizedMode()){var b=
a.target,g=b.$n(),e=this.$n("cave"),d=a.data.maximized;jq(e).children().each(function(){if(this!=g){var a=zk.Widget.$(this);if(d)this.style.display="none";else if(a.isVisible()){this.style.display="";var b;"false"!=a._draggable&&(b=a.$n("cap"))&&jq(b).addClass(a.$s("header-move"));a.isMaximized()?a.setMaximized(!1,!0):zUtl.fireSized(a)}}});var c;if("false"!=b._draggable&&(c=b.$n("cap")))jq(c)[d?"removeClass":"addClass"](b.$s("header-move"));a.data.fromServer&&a.stop()}},_addListen:function(a){a.listen({onMaximize:this,
onSize:this.onSizePanel})},_removeListen:function(a){a.unlisten({onMaximize:this,onSize:this.onSizePanel})},_renderChild:function(a){this.desktop&&this.parent&&(this.parent._initDrag(a),zUtl.fireSized(zk.Widget.$(this.parent)));this._addListen(a)},onChildAdded_:function(a){a.z$rod0=!1;this.$supers("onChildAdded_",arguments);this._renderChild(a)},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(this.desktop&&this.parent){this.parent._cleanupDrag(a);if("column"==this.parent.getMaximizedMode()&&
a.isMaximized())this.onMaximize({target:a,data:{maximized:!1}});zUtl.fireSized(zk.Widget.$(this.parent))}this._removeListen(a)},onSizePanel:function(a){var b=this.parent,g=b.parent.isVertical();if(!b.__updatingSize__)try{b.__updatingSize__=!0;var e=zk(b);if(g){var d=a.width;if(d!=b.getWidth()){for(var c=b.firstChild;c;c=c.nextSibling)c!=this&&(c.setWidth(d),c.fire("onSize",{width:d,height:c.getHeight()}));b.setWidth(jq.px0(parseInt(d)+e.paddingWidth()+e.borderWidth()))}}else{var f=a.height;if(f!=
b.getHeight()){for(c=b.firstChild;c;c=c.nextSibling)c!=this&&(c.setHeight(f),c.fire("onSize",{width:c.getWidth(),height:f}));b.setHeight(jq.px0(parseInt(f)+e.paddingHeight()+e.borderHeight()))}}}finally{b.__updatingSize__=null}},setHeight:function(a){this.$supers("setHeight",arguments);this.syncOriSize()},setWidth:function(a){this.$supers("setWidth",arguments);this.syncOriSize()},syncOriSize:function(){var a=this.$n();a&&(this._oriSize=this.parent.isVertical()?a.style.width:a.style.height,zUtl.fireSized(this.parent,
!0))},onChildRenderDefer_:function(a){a._renderdefer=-1;this._renderChild(a)},isExcludedVflex_:function(){return!0}});

zkreg('zkmax.layout.Portalchildren');
zk._m={};
zk._m['default']=portalchildren$mold$=function(b){b.push("<div",this.domAttrs_(),">",'<div id="',this.uuid,'-cave" class="',this.$s("content"),'">');for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push('</div><div style="height:1px;position:relative;width:1px;"></div></div>')};

;zkmld(zk._p.p.Portalchildren,zk._m);
(function(){var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),q=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,p=null;zkmax.layout.Scrollview=
zk.$extends(zul.box.Layout,{_orient:"vertical",_zdeceleration:6E-4,_start:null,_end:null,_time:null,_pos:null,_startPos:null,_steps:null,_dir:null,_fixedScrollbar:zk.android,_aniTime:null,_outBound:!1,_outBoundLT:!1,$define:{orient:function(){this.rerender()}},domClass_:function(a){var b=this.$supers(zkmax.layout.Scrollview,"domClass_",arguments);return b+=" "+(this.isVertical_()?this.$s("vertical"):this.$s("horizontal"))},bind_:function(){this.$supers(zkmax.layout.Scrollview,"bind_",arguments);var a=
this.$n(),b=jq(a);zk.mobile?(this._pos=[0,0],this._startPos=[0,0],this.domListen_(a,"onTouchStart","doTouchStart_"),a.style[zk.vendor+"TransitionProperty"]="-"+zk.vendor_+"-transform",zWatch.listen({onSize:this,onResponse:this})):(b.css("overflow","auto"),this._pos=[0,0],this._start=[b.scrollLeft(),b.scrollTop()],this.domListen_(a,"onScroll","_doScroll"))},unbind_:function(){if(zk.mobile){this._startPos=this._pos=null;zWatch.unlisten({onSize:this,onResponse:this});var a=this.$n();this.domUnlisten_(a,
"onTouchStart","doTouchStart_")}else this.domUnlisten_(a,"onScroll","_doScroll");this.$supers(zkmax.layout.Scrollview,"unbind_",arguments)},_doScroll:function(a){var b=this._start;a=this.$n("cave");var c=jq(this.$n()),d=[c.scrollLeft()-b[0],c.scrollTop()-b[1]];b=this._pos;var f=[b[0]+d[0],b[1]+d[1]],e=this.isVertical_();this._start=b=[c.scrollLeft(),c.scrollTop()];this._outBound=!1;this._pos=f;f=e?this._pos[1]:this._pos[0];if(!e&&d[0]){if(0==b[0]||b[0]+c.width()>=a.scrollWidth){this._outBound=!0;
this.fire("onScroll",{"":f,outBound:this._outBound});return}this.fire("onScrolling",{"":f,outBound:this._outBound})}e&&d[1]&&(0==b[1]||b[1]+c.height()>=a.scrollHeight?(this._outBound=!0,this.fire("onScroll",{"":f,outBound:this._outBound})):this.fire("onScrolling",{"":f,outBound:this._outBound}))},onSize:function(){if(zk.mobile){var a=this;setTimeout(function(){a.desktop&&a._refresh()},200)}},doResizeScroll_:function(){this.$supers("doResizeScroll_",arguments);zk.mobile&&(this._refresh(),this._scrollTo(this._pos[0],
this._pos[1],0))},isVertical_:function(){return"vertical"==this.getOrient()},_refresh:function(){var a=this.$n(),b=zk(a),c=this.$n("cave");this._viewW=b.revisedWidth(a.offsetWidth)||1;this._viewH=b.revisedHeight(a.offsetHeight)||1;this._fixCaveSize();this._caveW=c.offsetWidth;this._caveH=c.offsetHeight;this._maxCaveX=this._viewW-this._caveW;this._maxCaveY=this._viewH-this._caveH;this._hBar=this._caveW>this._viewW;this._vBar=this._caveH>this._viewH;this._removeBar("_h");this._removeBar("_v");this._addBar("_h");
this._addBar("_v")},_fixCaveSize:function(){var a=this.$n(),b=this.$n("cave"),c=b.style;c.height="";c.width="";c.height=b.scrollHeight>a.offsetHeight?jq.px(b.scrollHeight):"100%";c.width=b.scrollWidth>a.offsetWidth?jq.px(b.scrollWidth):"100%"},_removeBar:function(a){if(this[a+"Bar"]){var b=a+"BarView";a+="BarCave";this[b]&&(this[a].style[zk.vendor+"Transform"]="",this[b].parentNode.removeChild(this[b]),this[a]=this[b]=null)}},_addBar:function(a){if(this[a+"Bar"]){var b="_h"==a,c=a+"BarView";if(!this[c]){var d=
document.createElement("div");d.className=this.$s("scrollbar");this.$n().appendChild(d);this[c]=d;d=document.createElement("div");d.style[zk.vendor+"TransitionProperty"]="-"+zk.vendor_+"-transform";d.className=this.$s("scrollbar-indicator");this[c].appendChild(d);this[a+"BarCave"]=d}b?(d=this._hBarView.clientWidth,this._hBarCaveSize=Math.max(d*d/this._caveW>>0,8),this._hBarCave.style.width=this._hBarCaveSize+"px",this._hBarMaxScroll=d-this._hBarCaveSize,this._hBarProp=this._hBarMaxScroll/this._maxCaveX):
(d=this._vBarView.clientHeight,this._vBarCaveSize=Math.max(d*d/this._caveH>>0,8),this._vBarCave.style.height=this._vBarCaveSize+"px",this._vBarMaxScroll=d-this._vBarCaveSize,this._vBarProp=this._vBarMaxScroll/this._maxCaveY);this._barPos(this._pos,a,!0)}},_barPos:function(a,b,c){if(this[b+"Bar"]){var d="_h"==b;a=d?a[0]:a[1];a*=this[b+"BarProp"];0>a?(this._fixedScrollbar||(a=this[b+"BarCaveSize"]+(3*a>>0),8>a&&(a=8),this[b+"BarCave"].style["h"==b?"width":"height"]=a+"px"),a=0):a>this[b+"BarMaxScroll"]&&
(this._fixedScrollbar?a=this[b+"BarMaxScroll"]:(a=this[b+"BarCaveSize"]-(3*(a-this[b+"BarMaxScroll"])>>0),8>a&&(a=8),this[b+"BarCave"].style[d?"width":"height"]=a+"px",a=this[b+"BarMaxScroll"]+(this[b+"BarCaveSize"]-a)));this[b+"BarView"].style.opacity=c?"0":"1";this[b+"BarCave"].style[zk.vendor+"Transform"]="translate3d("+(d?a+"px,0":"0,"+a+"px")+", 0)"}},_move:function(a){a[0]=this._hBar?a[0]:0;a[1]=this._vBar?a[1]:0;this.$n("cave").style[zk.vendor+"Transform"]="translate3d("+a[0]+"px, "+a[1]+"px, 0)";
this._unloadBoundary();this.isListen("onScroll")&&this._outBound&&this._loadBoundary();this._pos=a;this._barPos(a,"_v");this._barPos(a,"_h")},_calcMomentum:function(a,b,c,d,f){var e=this._zdeceleration;b=Math.abs(a)/b;var g=b*b/(2*e);0<a&&g>c?(c+=f/(6/(g/b*e)),b=b*c/g,g=c):0>a&&g>d&&(d+=f/(6/(g/b*e)),b=b*d/g,g=d);return{dist:g*(0>a?-1:1),time:b/e>>0}},_resetPos:function(a){var b=this._pos,c=this._maxCaveX,d=this._maxCaveY;c=0<=b[0]?0:b[0]<c?c:b[0];d=0<=b[1]?0:b[1]<d?d:b[1];c==b[0]&&d==b[1]?(this._moved&&
(this._moved=!1),this._hBarView&&(a=this._hBarView.style,a[zk.vendor+"TransitionDelay"]=zk.android?"0":"50ms",a.opacity="0"),this._vBarView&&(a=this._vBarView.style,a[zk.vendor+"TransitionDelay"]=zk.android?"0":"50ms",a.opacity="0"),this._unloadBoundary()):this._scrollTo(c,d,a||0)},_scrollTo:function(a,b,c,d){var f=a,e=this._pos;this._stop();f.length||(f=[{x:a,y:b,time:c,relative:d}]);a=0;for(b=f.length;a<b;a++)f[a].relative&&(f[a].x=e[0]-f[a].x,f[a].y=e[1]-f[a].y),this._steps.push({x:f[a].x,y:f[a].y,
time:f[a].time||0});this._startAnima()},_stop:function(){q(this._aniTime);this._steps=[];this._animating=this._moved=!1},_startAnima:function(){var a=this,b=this._pos,c=Date.now(),d,f=this._maxCaveX,e=this._maxCaveY,g=this.isVertical_();if(!this._animating)if(this._steps.length){var k=this._steps.shift();k.x==b[0]&&k.y==b[1]&&(k.time=0);this._moved=this._animating=!0;var h=function(){var l=Date.now();if(l>=c+k.time)a._move([k.x,k.y]),a._animating=!1,a._startAnima();else{l=(l-c)/k.time-1;d=Math.sqrt(1-
l*l);l=(k.x-b[0])*d+b[0];var m=(k.y-b[1])*d+b[1];!g&&(0<l||l<f)||g&&(0<m||m<e)?(a._outBound=!0,a._outBoundLT=0<l||0<m?!0:!1):a._outBound=!1;a._move([l,m]);a._animating&&(a._aniTime=r(h))}};h()}else this._resetPos(300)},_loadBoundary:function(){var a=this.$n("load").style,b=this.$s("load-"+this._dir);a.display="block";var c=this.$n("load-image");jq(c).removeClass();jq(c).addClass(b);b=this.isVertical_();var d=this._viewW-c.offsetWidth;c=this._viewH-c.offsetHeight;c=[b?d/2:this._outBoundLT?0:d,b?this._outBoundLT?
0:c:c/2];a.left=jq.px(c[0]);a.top=jq.px(c[1])},_unloadBoundary:function(){this.$n("load").style.display="none";jq(this.$n("load-image")).removeClass()},doTouchStart_:function(a){if(!p){a=a.domEvent.originalEvent;for(var b=a.touches?a.touches[0]:a,c=a.target,d="SELECT INPUT TEXTAREA A BUTTON LI DIV".split(" ");1!=c.nodeType;)c=c.parentNode;for(var f,e;c;c=c.parentNode)if(f=c.tagName,f=jq.inArray(f,d),e=jq(c),-1<f&&6!=f||6==f&&e&&"pointer"==e.css("cursor"))return;p=this.$n();a.preventDefault();d=getComputedStyle(this.$n("cave"),
null)[zk.vendor+"Transform"].replace(/[^0-9-.,]/g,"").split(",");c=1*d[4];d=1*d[5];f=this._pos;if(c!=f[0]||d!=f[1])q(this._aniTime),this._steps=[],this._move([c,d]);this._outBoundLT=this._outBound=this._animating=this._moved=!1;this._start=[b.pageX,b.pageY];this._startPos=this._pos;this._time=a.timeStamp||Date.now();a=this.$n();this.domListen_(a,"onTouchMove","doTouchMove_").domListen_(a,"onTouchEnd","doTouchEnd_")}},doTouchMove_:function(a){var b=a.domEvent.originalEvent;a=b.touches?b.touches[0]:
b;var c=this._start;c=[a.pageX-c[0],a.pageY-c[1]];var d=[Math.abs(c[0]),Math.abs(c[1])],f=this._pos,e=[f[0]+c[0],f[1]+c[1]];b=b.timeStamp||Date.now();var g=this._maxCaveX,k=this._maxCaveY,h=this.isVertical_();this._start=[a.pageX,a.pageY];this._outBound=!1;!h&&(0<e[0]||e[0]<g)&&(e[0]=f[0]+c[0]/2,this._outBound=!0,this._outBoundLT=0<e[0]?!0:!1);h&&(0<e[1]||e[1]<k)&&(e[1]=f[1]+c[1]/2,this._outBound=!0,this._outBoundLT=0<e[1]?!0:!1);6>d[0]&&6>d[1]||(d[0]>d[1]+5&&!h?(e[1]=f[1],c[1]=0,this._dir=0<c[0]?
"left":"right"):d[1]>d[0]+5&&h&&(e[0]=f[0],c[0]=0,this._dir=0<c[1]?"up":"down"),this._moved=!0,this._move(e),300<b-this._time&&(this._time=b,this._startPos=f),this.fire("onScrolling",{"":-(h?this._pos[1]:this._pos[0]),outBound:this._outBound}))},doTouchEnd_:function(a){p=null;var b=a.domEvent.originalEvent;a=this.$n();this.domUnlisten_(a,"onTouchMove","doTouchMove_").domUnlisten_(a,"onTouchEnd","doTouchEnd_");if(0==b.touches.length){a={dist:0,time:0};var c={dist:0,time:0},d=(b.timeStamp||Date.now())-
this._time;b=newPos=this._pos;var f=this._startPos;if(300>d){if(newPos[0]){var e=newPos[0]-f[0];var g=this._caveW-this._viewW+b[0];a=this._calcMomentum(e,d,-b[0],g,this._viewW)}newPos[1]&&(e=newPos[1]-f[1],g=this._caveH-this._viewH+b[1],c=this._calcMomentum(e,d,-b[1],g,this._viewH));newPos=[b[0]+a.dist,b[1]+c.dist];d=this._maxCaveX;f=this._maxCaveY;if(0<b[0]&&0<newPos[0]||b[0]<d&&newPos[0]<d)a={dist:0,time:0};if(0<b[1]&&0<newPos[1]||b[1]<f&&newPos[1]<f)c={dist:0,time:0}}a.dist||c.dist?(a=Math.max(Math.max(a.time,
c.time),10),this._scrollTo(newPos[0]>>0,newPos[1]>>0,a)):(a=this.isVertical_()?this._pos[1]:this._pos[0],this.fire("onScroll",{"":-a,outBound:this._outBound}),this._resetPos(100))}},removeChildHTML_:function(a){this.$supers("removeChildHTML_",arguments);jq(a.uuid+"-chdex",zk).remove()},encloseChildHTML_:function(a,b){var c=new zk.Buffer;this.isVertical_();c.push('<div id="',a.uuid,'-chdex" class="',this.$s("inner"),'">');a.redraw(c);c.push("</div>");if(!b)return c.join("");b.push(c.join(""))},_chdextr:function(a){return a.$n("chdex")||
a.$n()},insertChildHTML_:function(a,b,c){b?jq(this._chdextr(b)).before(this.encloseChildHTML_(a)):jq(this.$n("cave")).append(this.encloseChildHTML_(a));a.bind(c)},beforeChildrenFlex_:function(a){var b;this._shallSize=!1;a._flexFixed=!0;var c=this.isVertical_(),d=[],f=[];var e=this.$n();var g=a.getParentSize_(e),k=g.height;g=g.width;var h=zk(e);e=this.firstChild;zk.mounting||this._resetBoxSize(c);h.hasVScroll()&&(g-=b=jq.scrollbarWidth());for(h.hasHScroll()&&(k-=b||jq.scrollbarWidth());e;e=e.nextSibling)if(e.isVisible()){b=
e;h=b.$n();var l=zk(h),m=h.parentNode,n=zk(m);e&&e._nvflex?(b!==a&&(b._flexFixed=!0),"min"==b._vflex?(b.fixMinFlex_(h,"h"),m.style.height=jq.px0(h.offsetHeight+l.marginHeight()+n.padBorderHeight()),c&&(k-=m.offsetHeight+n.marginHeight())):(d.push(b),c&&(k-=n.marginHeight()))):c&&(k-=m.offsetHeight+n.marginHeight());b&&b._nhflex?(b!==a&&(b._flexFixed=!0),"min"==b._hflex?(b.fixMinFlex_(h,"w"),m.style.width=jq.px0(h.offsetWidth+l.marginWidth()+n.padBorderWidth()),c||(g-=m.offsetWidth+n.marginWidth())):
(f.push(b),c||(g-=n.marginWidth()))):c||(g-=m.offsetWidth+n.marginWidth())}for(;0<d.length;)b=d.shift(),l=(c?b._nvflex*k:k)|0,e=b.$n().offsetTop,m=l-(0<e?2*e:0),h=b.$n("chdex"),e=zk(h).padBorderHeight(),b.setFlexSize_({height:m-e}),b._vflexsz=l-e,h.style.height=jq.px0(l);for(;0<f.length;)b=f.shift(),d=(c?g:b._nhflex*g)|0,h=b.$n("chdex"),e=zk(h).padBorderWidth(),b.setFlexSize_({width:d-e}),b._hflexsz=d-e,h.style.width=jq.px0(d);a.parent.afterChildrenFlex_(a);return a._flexFixed=!1}})})();

zkreg('zkmax.layout.Scrollview');
zk._m={};
zk._m['default']=scrollview$mold$=function(b){var a=this.uuid;b.push("<div ",this.domAttrs_(),">");zk.mobile&&b.push('<div id="',a,'-load" class="',this.$s("load"),'"><div id="',a,'-load-image"></div></div>');b.push('<div id="',a,'-cave" class="',this.$s("content"),'">');for(a=this.firstChild;a;a=a.nextSibling)this.encloseChildHTML_(a,b);b.push("</div></div>")};

;zkmld(zk._p.p.Scrollview,zk._m);
(function(){function f(a){a&&zkmax.rodRender(a)}function d(a,b,c){var e=a.$n(),g=a.$n(b.uuid+"-chdex");a.isHorizontal()?g.style.left=(b.getChildIndex()-c)*e.offsetWidth+"px":g.style.top=(b.getChildIndex()-c)*e.offsetHeight+"px"}zkmax.layout.Cardlayout=zk.$extends(zul.Widget,{_selectedIndex:0,_orient:"horizontal",$define:{orient:function(){this.rerender()}},getSelectedIndex:function(){return this._selectedIndex},setSelectedIndex:function(a){if(!a||0>a)a=0;if(this.desktop){var b=this.getChildAt(a);
f(b);b&&!b.isVisible(!0)&&b.show();f(this.getChildAt(a+1));f(this.getChildAt(a-1));this._animateShift(a);zk.mobile||zk.afterAnimate(function(a,b,g){return function(){if(a.desktop){var c=a._selectedIndex,e=a.getChildAt(g),d=a.getChildAt(b-1),f=a.getChildAt(b+1);g!=c&&e&&e.hide();b-1!=c&&d&&d.hide();b+1!=c&&f&&f.hide()}}}(this,a,this._selectedIndex))}this._selectedIndex=a},_animateShift:function(a){var b=this.isHorizontal();a=this._selectedIndex-a;var c=Math.abs(a)*(b?this.$n().offsetWidth:this.$n().offsetHeight);
a=0<a?"+="+c:"-="+c;b?jq("#"+this.uuid+"> ."+this.$s("inner")).animate({left:a},zk(this).getAnimationSpeed("slow")):jq("#"+this.uuid+"> ."+this.$s("inner")).animate({top:a},zk(this).getAnimationSpeed("slow"))},isVertical:function(){return"vertical"==this._orient},isHorizontal:function(){return"horizontal"==this._orient},setFlexSize_:function(a,b){if(!this._selectedIndex)return this.$supers("setFlexSize_",arguments);var c=this.$n(),e=zk(c),g=this.getChildAt(this._selectedIndex).$n();this.getMarginSize_("w");
void 0!==a.height&&("auto"==a.height?c.style.height="":""!=a.height||0===a.height?"min"==this._vflex?c.style.height=jq.px(g.offsetHeight):this.setFlexSizeH_(c,e,a.height,b):c.style.height=this._height||"");void 0!==a.width&&("auto"==a.width?c.style.width="":""!=a.width||0===a.width?"min"==this._hflex?c.style.width=jq.px(g.offsetWidth):this.setFlexSizeW_(c,e,a.width,b):c.style.width=this._width||"")},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onSize:this})},unbind_:function(){zWatch.unlisten({onSize:this});
this.$supers("unbind_",arguments)},onSize:function(){for(var a=this._selectedIndex,b=this.firstChild;b;b=b.nextSibling)d(this,b,a)},insertChildHTML_:function(a,b,c){var e=this._selectedIndex;if(b)if(jq(this.$n(b.uuid+"-chdex")).before(this.encloseChildHTML_(a)),b.getChildIndex()-1>e)for(b=a;b;b=b.nextSibling)d(this,b,e);else{e++;for(b=b.previousSibling;b;b=b.previousSibling)d(this,b,e);this._selectedIndex=e}else jq(this.$n()).append(this.encloseChildHTML_(a)),d(this,a,e);a.bind(c)},removeChild:function(a){f(a);
this._removeChild(a);this.$supers("removeChild",arguments);delete this._subnodes[a.uuid+"-chdex"]},_removeChild:function(a){var b=this._selectedIndex,c=a.getChildIndex();if(b==c&&b==this.nChildren-1)1!=this.nChildren&&this.setSelectedIndex(b-1);else if(c<=b)if(b===this.nChildren-1)for(this._selectedIndex--,f(this.getChildAt(this._selectedIndex-1)),a=a.previousSibling;a;a=a.previousSibling)d(this,a,b-1);else{for(a=a.previousSibling;a;a=a.previousSibling)d(this,a,b-1);this.setSelectedIndex(b+1);this._selectedIndex=
b}else for(a=a.nextSibling;a;a=a.nextSibling)d(this,a,b+1)},removeChildHTML_:function(a){this.$supers("removeChildHTML_",arguments);jq(this.$n(a.uuid+"-chdex")).remove()},encloseChildHTML_:function(a,b){var c=this._selectedIndex,e=this.uuid,g=a.getChildIndex(),d=new zk.Buffer,f="";this._vflex&&"min"==this._vflex||(f+="height:100%;");if(this._hflex||"min"!=this._hflex)f+="width:100%;";d.push('<div id="',e,"-",a.uuid,"-chdex",'" class="',this.$s("inner"),'" style="',f,'">');g==c?a.redraw(d):g!=c-1&&
g!=c+1||!zk.mobile?(a.z_rod=!0,d.push('<div id="',a.uuid,'" style="display:none;border:1px solid"></div>')):a.redraw(d);d.push("</div>");if(!b)return d.join("");b.push(d.join(""))}},{minSwipeLowerBound:30,minSwipeUpperBound:300,maxSwipeLowerBound:75,ignoreClass:zul.wgt.Image})})();

zkreg('zkmax.layout.Cardlayout');
zk._m={};
zk._m['default']=cardlayout$mold$=function(b){b.push("<div",this.domAttrs_(),' data-swipeable="true">');for(var a=this.firstChild;a;a=a.nextSibling)this.encloseChildHTML_(a,b);b.push("</div>")};

;zkmld(zk._p.p.Cardlayout,zk._m);
(function(){zkmax.layout.Rowlayout=zk.$extends(zul.Widget,{_ncols:12,_spacing:20/60,_rowWidth:15+2/3,_pSpacing:1/47,_pColWidth:3/47,_oldwth:0,_oldhgh:0,$define:{ncols:[function(a){return void 0===a?12:1>a?1:a},function(){this._syncSizingParam();this.desktop&&this._fixLayout()}],spacing:[function(a){return void 0===a?20/60:0>a?0:a},function(){this._syncSizingParam();this.desktop&&this._fixLayout()}]},_fixLayout:function(){if(this.desktop)for(var a=this.firstChild;a;a=a.nextSibling)this._fixChild(a)},
_syncSizingParam:function(){var a=this._ncols,b=this._spacing;a=this._rowWidth=a+(a-1)*b;this._pSpacing=b/a;this._pColWidth=1/a},_fixChild:function(a){if(a.desktop){var b=this._pSpacing,d=a.$n(),c=a._offset;c=0<c?this._offsetMarginRatio(c):b;jq(d).css("width",this._percent(this._colspanWidthRatio(a._colspan))).css("margin-left",a==a.parent.firstChild?this._percent(c-b):this._percent(c));for(a=a.firstChild;a;a=a.nextSibling)if(a._nvflex||a._nhflex){zUtl.fireSized(a);break}}},_colspanWidthRatio:function(a){return(this._pColWidth+
this._pSpacing)*a-this._pSpacing},_offsetMarginRatio:function(a){return(this._pColWidth+this._pSpacing)*a+this._pSpacing},_percent:function(a){return 100*a+"%"},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onSize:this})},unbind_:function(){zWatch.unlisten({onSize:this});this.$supers("unbind_",arguments)},onSize:function(){this._fixLayout()}})})();

zkreg('zkmax.layout.Rowlayout');
zk._m={};
zk._m['default']=rowlayout$mold$=function(b){b.push("<div ",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div>")};

;zkmld(zk._p.p.Rowlayout,zk._m);
(function(){zkmax.layout.Rowchildren=zk.$extends(zul.Widget,{_colspan:1,_offset:0,$define:{colspan:[function(a){return void 0===a?1:1>a?1:a},function(){if(this.desktop){var a=this.$n();var b=a.className;a.className=b.replace(/colspan\d+/,"")+" colspan"+this._colspan;this.parent._fixChild(this)}}],offset:[function(a){return void 0===a?0:0>a?0:a},function(){var a;if(this.desktop){var b=this.$n();var c=b.className;b.className=c.replace(/offset\d+/,"")+((a=this._offset)&&0<a?" offset"+a:"");this.parent._fixChild(this)}}]},
domClass_:function(a){var b=this.$supers("domClass_",arguments),c=this._offset;return b=b+(" colspan"+this._colspan)+(c&&0<c?" offset"+c:"")},bind_:function(){this.$supers("bind_",arguments);zk.booted&&this.parent._fixChild(this)}})})();

zkreg('zkmax.layout.Rowchildren');
zk._m={};
zk._m['default']=rowchildren$mold$=function(b){b.push("<div ",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div>")};

;zkmld(zk._p.p.Rowchildren,zk._m);
(function(){function t(a,b,c){var d=a.getCollapse();if(d&&"none"!=d){var h=a.isVertical(),k=a.$class,f="before"==d;d=f?k._prev(a):k._next(a);k=f?k._next(a):k._prev(a);f=zk.Widget.$(d.firstChild);var g=h?"height":"width",l="client"+g.charAt(0).toUpperCase()+g.slice(1),m="offset"+g.charAt(0).toUpperCase()+g.slice(1);m=a.$n()[l]-a.$n("splitter")[m];d&&k&&(b?(jq(d).show(),k.style[g]=jq.px0(m-Math.abs(a._collapseDiff)),a._collapseDiff=0):(l=zk(a.$n("splitter")).cmOffset(),jq(d).hide(),zWatch.fireDown("onHide",
f),k.style[g]=jq.px0(m),g=zk(a.$n("splitter")).cmOffset(),a._collapseDiff=h?g[1]-l[1]:g[0]-l[0]));d&&b&&zUtl.fireShown(f);k&&zUtl.fireSized(zk.Widget.$(k.firstChild),-1);a._fixbtn();c&&!c.sendOnOpen||a.fire("onOpen",{open:b});a.fireOnSplitterMove()}}zkmax.layout.Splitlayout=zk.$extends(zul.Widget,{_orient:"vertical",_collapse:"none",_open:!0,_resizable:!0,$define:{open:function(a,b){this.desktop&&t(this,a,b)},orient:null,resizable:function(a){this.desktop&&this._fixResizeIcon()},widths:function(a){this.desktop&&
this._fixCaveSize()},heights:function(a){this.desktop&&this._fixCaveSize()},minWidths:function(a){this.desktop&&this._reCalMinDims()},minHeights:function(a){this.desktop&&this._reCalMinDims()}},getCollapse:function(){return this._collapse},setCollapse:function(a){if(this._collapse!=a){var b=this._open;b||this.setOpen(!0,{sendOnOpen:!1});this._collapse=a;this.desktop&&(this._fixbtn(),this._fixsz());b||"none"==a||this.setOpen(!1,{sendOnOpen:!1})}},isVertical:function(){return"vertical"==this.getOrient()},
insertChildHTML_:function(a,b,c){var d=this._getCaves();$fcv=jq(d[0]);$lcv=jq(d[1]);$sp=jq(this.$n("splitter"));html=a.redrawHTML_();b?($lcv.append(b.$n()),$fcv.append(html),$lcv.show(),$sp.show()):a!=this.firstChild?($lcv.html(html),$lcv.show(),$sp.show()):($fcv.html(html),$fcv.show());a.bind(c)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this.desktop&&(this._shallSize=!0)},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);this.desktop&&(this._shallSize=
!0)},removeChildHTML_:function(a){var b=a.$n().parentNode;this.$supers("removeChildHTML_",arguments);jq(b).hide();jq(this.$n("splitter")).hide()},bind_:function(){this.$supers(zkmax.layout.Splitlayout,"bind_",arguments);zWatch.listen({onSize:this,onResponse:this});this._fixCaveSize(!0);this._reCalMinDims();this.$n();var a=this.$class;jq(this.$n("splitter-btn")).click(a.onBtnClick);this._fixbtn();this._fixResizeIcon();this._drag=new zk.Draggable(this,this.$n("splitter"),{constraint:this.getOrient(),
ignoredrag:a._ignoresizing,ghosting:a._ghostsizing,overlay:!0,zIndex:12E3,initSensitivity:0,snap:a._snap,endeffect:a._endDrag})},unbind_:function(){zWatch.unlisten({onSize:this,onResponse:this});var a=this.$class,b;(b=this.$n("splitter-btn"))&&jq(b).unbind("click",a.onBtnClick);this._drag.destroy();this._drag=null;this.$supers(zkmax.layout.Splitlayout,"unbind_",arguments)},syncSize:function(){this._shallSize=!1;if(this.desktop)for(var a=this.firstChild;a;a=a.nextSibling)if(a._nvflex||a._nhflex){zUtl.fireSized(this,
-1);break}},onResponse:function(){this._shallSize&&(this.syncSize(),this._fixbtn(),this._fixsz(),this._fixResizeIcon())},setBtnPos_:function(a){var b=this.$n("splitter-btn"),c=this.$n("splitter");a?b.style.marginLeft=jq.px0((c.offsetWidth-b.offsetWidth)/2):b.style.marginTop=jq.px0((c.offsetHeight-b.offsetHeight)/2)},_fixsz:function(){if(this.isRealVisible()&&this.desktop){var a=this.isVertical();this.$n("splitter");this.$n();a?this.setBtnPos_(!0):this.setBtnPos_();this._shallClose&&(delete this._shallClose,
t(this,!1,{sendOnOpen:!1}));var b=this._totalSize;this._updateTotalSize();var c=this._totalSize;if(!b||b[0]!=c[0]||b[1]!=c[1]){var d=this.firstChild,h=d?d.nextSibling:null;if(d&&h){b=d.$n().parentNode;var k=h.$n().parentNode,f=!d.getHflex()&&!h.getHflex();d=!d.getVflex()&&!h.getVflex();h=c[0];a?(b.style.width=jq.px0(h),k.style.width=jq.px0(h)):f&&!a&&(f=b.offsetWidth,f=f>=h?h:f,b.style.width=jq.px0(f),k.style.width=jq.px0(h-f));c=c[1];a?d&&a&&(a=b.offsetHeight,a=a>=c?c:a,b.style.height=jq.px0(a),
k.style.height=jq.px0(c-a)):(b.style.height=jq.px0(c),k.style.height=jq.px0(c));this.fireOnSplitterMove()}}}},onSize:function(){this.desktop&&(this._shallCalCaveSize?(this._fixCaveSize(!1,!0),this._shallCalCaveSize=!1):this._fixsz())},getZclass:function(){return null!=this._zclass?this._zclass:"z-splitlayout"},_fixResizeIcon:function(){var a=this.isVertical();a=jq(".z-icon-ellipsis-"+(a?"h":"v"));var b=jq(this.$n("splitter")),c=this.$s("splitter-draggable");this._resizable?(a.show(),b.addClass(c)):
(a.hide(),b.removeClass(c))},_fixbtn:function(){var a=jq(this.$n("splitter-btn")),b=jq(this.$n("splitter-icon")),c=this.getCollapse();c&&"none"!=c?(c="before"==c,this._open||(c=!c),this.isVertical()?jq(this.$n("splitter-icon")).removeClass(c?"z-icon-caret-down":"z-icon-caret-up").addClass(c?"z-icon-caret-up":"z-icon-caret-down"):jq(this.$n("splitter-icon")).removeClass(c?"z-icon-caret-right":"z-icon-caret-left").addClass(c?"z-icon-caret-left":"z-icon-caret-right"),a.removeClass(this.$s("splitter-button-disabled")),
b.show()):(a.addClass(this.$s("splitter-button-disabled")),b.hide())},_getCaves:function(){var a=this.isVertical(),b=a?"bottom":"right";return[this.$n("cave-"+(a?"top":"left")),this.$n("cave-"+b)]},_fixCaveSize:function(a,b){var c,d=this.$n(),h=(c=this.isVertical())?this.getHeight():this.getWidth(),k=h?-1:c?this.getVflex():this.getHflex(),f=c?this._heights:this._widths,g=this._getCaves(),l=c?"height":"width",m="offset"+(c?"Height":"Width"),e=this.$n("splitter"),q=c?e.offsetHeight:e.offsetWidth;e=
-1;h||k||(h=d[m]);f?(f[0]&&(f[0]=parseInt(f[0])),f[1]&&(f[1]=parseInt(f[1]))):f=[null,null];if(0<h||b)e=zk(this.$n()),c=e=(c?e.contentHeight():e.contentWidth())-q,b=0,d=!1,!f[0]&&f[1]&&(b=1,d=!0),f[b]&&f[b]>c?f[b]=c:0==f[b]&&(f[b]=g[b][m]),c-=f[b],d?b--:b++,f[b]=c,g[0].style[l]||(g[0].style[l]=jq.px0(f[0])),g[1].style[l]||(g[1].style[l]=jq.px0(f[1]));else if(-1==k)f[0]||(f[0]=g[0][m]),f[1]||(f[1]=g[1][m]),g[0].style[l]=jq.px0(f[0]),g[1].style[l]=jq.px0(f[1]),e=f[0]+f[1];else{c=this.isVertical();f=
this.firstChild;for(g=!0;f;f=f.nextSibling)if(c?f.getVflex():f.getHflex()){g=!1;break}this._shallCalCaveSize=g}-1!=e&&this._updateTotalSize();a||(this._shallSize=!0)},_reCalMinDims:function(){var a=this.isVertical(),b=a?this._minHeights:this._minWidths,c=[0,0];if(b){var d=jq(this.$n()),h=jq(this.$n("splitter"));d=a?d.height():d.width();d-=a?h.height():h.width();for(a=0;a<b.length;a++)b[a]&&(-1!=b[a].indexOf("%")?c[a]=d*(parseInt(b[a])/100):-1!=b[a].indexOf("px")&&(c[a]=parseInt(b[a])))}this._minDims=
c},_updateTotalSize:function(){var a=this.isVertical();spn=this.$n("splitter");spSize=a?spn.offsetHeight:spn.offsetWidth;$n=zk(this.$n());contentW=$n.contentWidth()-(a?0:spSize);contentH=$n.contentHeight()-(a?spSize:0);this._totalSize=[contentW,contentH]},resetSize_:function(a){this.$supers("resetSize_",arguments);for(var b=this.isVertical(),c=this.firstChild;c;c=c.nextSibling)if(b?c._nvflex&&"min"!=c.getVflex():c._nhflex&&"min"!=c.getHflex()){var d=c.$n().parentNode;d&&("h"==a&&(d.style.height=""),
"w"==a&&(d.style.width=""))}},getChildMinSize_:function(a,b){var c=b.$n();if("w"==a&&b._hflex&&this.isVertical()){a=b.nextSibling;for(b=0;a;a=a.nextSibling)a._hflex||(c=zjq.minWidth(a.$n()),b=c>b?c:b);return b}return"h"==a?zk(c.parentNode).contentHeight():zjq.minWidth(c)},getContentEdgeHeight_:function(){for(var a=0,b=this.firstChild;b;b=b.nextSibling)a+=zk(b.$n().parentNode).paddingHeight();return a},getContentEdgeWidth_:function(){for(var a=0,b=this.firstChild;b;b=b.nextSibling)a+=zk(b.$n().parentNode).paddingWidth();
return a},beforeChildrenFlex_:function(a){var b;this._shallSize=!1;a._flexFixed=!0;var c=this.isVertical(),d=[],h=c?0:1,k=[],f=c?1:0,g=this.$n(),l=a.getParentSize_(g);zk(g);g=l.height-(c?this.$n("splitter").offsetHeight:0);l=l.width-(c?0:this.$n("splitter").offsetWidth);for(b=this.firstChild;b;b=b.nextSibling){var m;if(b.isVisible()&&!(m=zk(b)).hasVParent()){var e=b;var q=e.$n();var n=q.parentNode;var p=zk(n);if(b&&b._nvflex)if(e!==a&&(e._flexFixed=!0),"min"==e._vflex){e.fixMinFlex_(q,"h");var r=
q.offsetHeight+m.marginHeight()+p.padBorderHeight();n.style.height=jq.px0(r);c&&(g-=n.offsetHeight+p.marginHeight())}else d.push(e),c&&(h+=e._nvflex,g-=p.marginHeight());else c&&(r=e.$instanceof(zul.wgt.Label)||e.$instanceof(zul.wgt.Span)||e.$instanceof(zul.wgt.Div)||e.$instanceof(zul.wgt.A),g-=(r&&8<zk.ie?1:0)+n.offsetHeight+p.marginHeight());e&&e._nhflex?(e!==a&&(e._flexFixed=!0),"min"==e._hflex?(e.fixMinFlex_(q,"w"),e=q.offsetWidth+m.marginWidth()+p.padBorderWidth(),n.style.width=jq.px0(p.revisedWidth(e)),
c||(l-=n.offsetWidth+p.marginWidth())):(k.push(e),c||(f+=e._nhflex,l-=p.marginWidth()))):c||(l-=n.offsetWidth+p.marginWidth())}}for(m=0<g?g:0;1<d.length;)e=d.shift(),q=(c?e._nvflex*g/h:g)|0,b=e.$n().offsetTop,r=q-(11>zk.ie&&0<b?2*b:0),p=e.$n().parentNode,n=zk(p).padBorderHeight(),b=!e.$n().style.height,e.setFlexSize_({height:r-n}),e._vflexsz=q-n,p.style.height=jq.px0(q),c&&(m-=q),!b&&c&&e!==a&&zUtl.fireSized(e);d.length&&(e=d.shift(),b=e.$n().offsetTop,r=m-(11>zk.ie&&0<b?2*b:0),p=e.$n().parentNode,
n=zk(p).padBorderHeight(),b=!e.$n().style.height,e.setFlexSize_({height:r-n}),e._vflexsz=m-n,p.style.height=jq.px0(m),!b&&c&&e!==a&&zUtl.fireSized(e));for(m=0<l?l:0;1<k.length;)e=k.shift(),d=(c?l:e._nhflex*l/f)|0,p=e.$n().parentNode,n=zk(p).padBorderWidth(),b=!e.$n().style.width,e.setFlexSize_({width:d-n}),e._hflexsz=d-n,p.style.width=jq.px0(d),c||(m-=d),b||c||e===a||zUtl.fireSized(e);k.length&&(e=k.shift(),p=e.$n().parentNode,n=zk(p).padBorderWidth(),b=!e.$n().style.width,e.setFlexSize_({width:m-
n}),e._hflexsz=m-n,p.style.width=jq.px0(m),b||c||e===a||zUtl.fireSized(e));a.parent.afterChildrenFlex_(a);return a._flexFixed=!1},afterChildrenFlex_:function(a){this._updateTotalSize()},afterChildrenMinFlex_:function(a){var b=this.$n();if("h"==a){if(this.isVertical_()){var c=0;for(a=b.firstChild;a;a=a.nextSibling){var d=a.firstChild;d.style.height?(d=d.offsetHeight+zk(a).padBorderHeight()+zk(d).marginHeight(),a.style.height=jq.px0(d),c+=d):c+=a.offsetHeight}}else for(c=0,a=b.firstChild;a;a=a.nextSibling)d=
a.offsetHeight+zk(a.firstChild).marginHeight(),d>c&&(c=d);b.style.height=jq.px0(c)}else{if(this.isVertical_())for(c=0,a=b.firstChild;a;a=a.nextSibling)d=a.firstChild.offsetWidth+zk(a.firstChild).marginWidth(),d>c&&(c=d);else for(c=0,a=b.firstChild;a;a=a.nextSibling)d=a.firstChild,d.style.width?(d=d.offsetWidth+zk(a).padBorderWidth()+zk(d).marginWidth(),a.style.width=jq.px0(d),c+=d):c+=a.offsetWidth;8<zk.ie&&this._hflexsz&&(c=Math.max(this._hflexsz,c));b.style.width=jq.px0(c)}},fireOnSplitterMove:function(){var a=
this.isVertical(),b="offset"+(a?"Height":"Width"),c=this.$class,d=c._prev(this)[b];b=c._next(this)[b];d=[d,b];a?this._heights=d:this._widths=d;this.fire("onDivisionSize",{isVertical:a,sizes:d})}},{onBtnClick:function(a){a=zk.Widget.$(a);a.setOpen(!a._open)},_ignoresizing:function(a,b,c){b=a.control;if(!b._open||!b._resizable||b.$n("splitter-icon")==c.domTarget)return!0;c=a.run={};var d=zkmax.layout.Splitlayout;c.prev=d._prev(b);c.next=d._next(b);if(!c.prev||!c.next)return!0;c.prevwgt=b.firstChild;
c.nextwgt=b.lastChild;c.z_offset=zk(a.node).cmOffset();return!1},_ghostsizing:function(a,b,c){a=zk(a.node);jq(document.body).append('<div id="zk_ddghost" class="z-splitter-ghost" style="font-size:0;line-height:0;background:#AAA;position:absolute;top:'+b[1]+"px;left:"+b[0]+"px;width:"+a.offsetWidth()+"px;height:"+a.offsetHeight()+'px;"></div>');return jq("#zk_ddghost")[0]},_endDrag:function(a){var b,c=a.control,d=c.isVertical(),h=a.run;zk(a.node).cmOffset();if(d){var k=h.z_point[1];d="height"}else k=
h.z_point[0],d="width";if(k){for(var f=0;2>f;f++)if(b=0==f?h.nextwgt:h.prevwgt){var g=b.$n();b.getHflex()&&(b.setHflex(!1),g.style.width="100%");b.getVflex()&&(b.setVflex(!1),g.style.height="100%");zWatch.fireDown("beforeSize",b)}b=h.next;f=h.prev;if(b&&f){g=d.charAt(0).toUpperCase()+d.slice(1);var l="offset"+g,m="client"+g;g="scroll"+g;var e=zk.parseInt(f[l]);g=zk.parseInt(b[g]);l=a.node[l];m=c.$n()[m];e+=k;k=g-k;0>e?(k+=e,e=0):e+g+l>m&&(k=m-e-l,0>k&&(e+=k,k=0));f.style[d]=jq.px0(e);b.style[d]=jq.px0(k)}zUtl.fireSized(h.prevwgt,
-1);zUtl.fireSized(h.nextwgt,-1);a.run=null;c.fireOnSplitterMove()}},_snap:function(a,b){var c=a.run,d=a.control,h=d.$n(),k=a.node;a=b[0];b=b[1];var f=d.isVertical(),g=d._minDims,l=f?"offsetHeight":"offsetWidth",m=f?c.z_offset[1]:c.z_offset[0];d=f?b:a;var e=c.prev[l],q=e+c.next[l],n=m+(g[0]>q?0:g[0]-e);g[0]+g[1]>q||d<=n?d=n:(h=m+h[l]-k[l]-e-g[1],d>h&&(d=h));f?b=d:a=d;c.z_point=[a-c.z_offset[0],b-c.z_offset[1]];return[a,b]},_prev:function(a){return a.$n("cave-"+(a.isVertical()?"top":"left"))},_next:function(a){return a.$n("cave-"+
(a.isVertical()?"bottom":"right"))}})})();

zkreg('zkmax.layout.Splitlayout');
zk._m={};
zk._m['default']=splitlayout$mold$=function(a){var d=this.uuid,f=this.getOrient(),b="vertical"==f,c=b?"top":"left",g=b?"bottom":"right",e=this.firstChild,h=e?e.nextSibling:null;a.push("<div ",this.domAttrs_(),">");a.push('<div id="',d,"-cave-",c,'" class="',this.$s("cave-"+c),'">');e&&e.redraw(a);a.push("</div>");c=this.$s("splitter-icon");b=" z-icon-ellipsis-"+(b?"h":"v");a.push('<div id="',d,'-splitter" class="',this.$s("splitter")," ",this.$s("splitter-"+f),'"><span id="',d,'-splitter-btn" class="',this.$s("splitter-button"),
'">','<i class="',c,b,'"></i>','<i id="',d,'-splitter-icon" class="',c,'"></i>','<i class="',c,b,'"></i>',"</span></div>");a.push('<div id="',d,"-cave-",g,'" class="',this.$s("cave-"+g),'">');h&&h.redraw(a);a.push("</div>");a.push("</div>")};

;zkmld(zk._p.p.Splitlayout,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zkmax.layout',1);zk.load('zul.wgt, zul.wnd',function(){if(zk._p=zkpi('zul.fud'))try{
zul.fud.FileuploadDlg=zk.$extends(zul.wnd.Window,{getZclass:function(){return null==this._zclass?"z-window":this._zclass},cancel:function(b){var a=this.$f("fileupload");a&&(a._uplder.destroy(),b&&(zAu.send(new zk.Event(this,"onClose")),this.detach()))},submit:function(){this.cancel();zAu.send(new zk.Event(this,"onClose",!0));this.detach()}});
zul.fud.ModalFileViewer=zk.$extends(zk.Object,{updated:null,$init:function(b,a){this._uplder=b;a=a.replace(/\//g,"\\");a=a.substring(a.lastIndexOf("\\")+1,a.length);var c=b.id,g=this,e=b.getWidget(),d=e.$f("uploaded"),f=e.$o().max||0,h=zk.ajaxURI("/web/zk/img/progress2.gif",{au:!0});a='<div id="'+c+'" style="min-height:16px;background:#F4F8FF;border: 1px solid #99AABD;font-family:arial,sans-serif;font-size: 11px;padding: 2px;color: #0F3B82;"><img style="float: left;" src="'+h+'"/><div id="'+c+'-cnt"><a id="'+
c+'-cancel" style="float: left;padding-left: 2px; color: #0366AC; font-weight: bold;cursor: pointer;">'+msgzul.UPLOAD_CANCEL+" </a>&nbsp;&nbsp;&nbsp;"+a+'</div><div style="padding-left: 24px">'+msgzk.FILE_SIZE+'&nbsp;&nbsp;<span id="'+c+'-sent">0</span> of <span id="'+c+'-total">0</span></div></div>';d.setVisible(!0);jq(d).append(a);0<f&&f<=d.$n().childNodes.length&&d.$f("fileupload").setVisible(!1);this.viewer=jq("#"+c)[0];jq("#"+c+"-cancel").click(function(){e.$f("submit").revert();if(g._finish){var a=
jq("#"+c);a=a.parent().children().index(a[0]);zAu.send(new zk.Event(e.$o(),"onRemove",a));jq(g.viewer).remove()}else b.cancel();0<f&&f>d.$n().childNodes.length&&d.$f("fileupload").setVisible(!0)})},update:function(b,a){jq("#"+this._uplder.id+"-sent").html(Math.round(a/1024*b/100)+msgzk.KBYTES);this.updated||(this.updated=!0,jq("#"+this._uplder.id+"-total").html(Math.round(a/1024)+msgzk.KBYTES))},destroy:function(b){this._finish||((this._finish=b)?(jq("#"+this._uplder.id+"-sent").parent().remove(),
jq("#"+this._uplder.id)[0].firstChild.src=zk.ajaxURI("/web/zk/img/attachment.gif",{au:!0})):jq(this.viewer).remove())}});

zkreg('zul.fud.FileuploadDlg');
zul.fud.Submit=zk.$extends(zul.wgt.Button,{getZclass:function(){return null==this._zclass?"z-button":this._zclass},submit:function(){function b(){if(zul.Upload.isFinish(c))return a.$o().submit(),clearInterval(a._tmp),a._tmp=void 0,!0}var c=this.$f("fileupload"),a=this;b()||(a._tmp=setInterval(b,800),this.setDisabled(!0),this.nextSibling.setDisabled(!0),11>zk.ie&&this.$f("btns").rerender())},revert:function(){clearInterval(this._tmp);this._tmp=void 0;this.setDisabled(!1);this.nextSibling.setDisabled(!1);
11>zk.ie&&this.$f("btns").rerender()}});

zkreg('zul.fud.Submit');

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.fud',1);zk.load('zul.sel',function(){if(zk._p=zkpi('zkex.sel'))try{
zkex.sel.Listgroup=zk.$extends(zul.sel.Listitem,{_open:!0,$define:{open:function(c){this._openItem(c,!0);c&&this.getListbox().stripe()}},getItems:function(){for(var c=[],a=this.nextSibling;a&&!a.$instanceof(zkex.sel.Listgroup);a=a.nextSibling)c.push(a);return c},getItemCount:function(){return this.getItems().length},domClass_:function(c){var a=this.$supers("domClass_",arguments),b=this._open?this.$s("open"):"";return a+(a&&b?" ":"")+b},isStripeable_:function(){return!1},doSelect_:function(c){this._selectable&&
this.$supers("doSelect_",arguments)},_doImgClick:function(c){var a=!this.isOpen(),b=this.getListbox();a||zWatch.fireDown("onHide",this.parent);this._openItem(a);(a||b.getModel())&&a&&this.parent.stripe();a&&zUtl.fireShown(this.parent);c.stop()},_openItem:function(c,a){var b=this.getMeshWidget();b&&jq(b.$n("a")).css({top:"",left:""});this._open=c;if(b=this.$n("img")){b=jq(b.firstChild);var d=this.getIconOpenClass_()+" "+this.$s("icon-open"),e=this.getIconCloseClass_()+" "+this.$s("icon-close");b.removeClass(c?
e:d).addClass(c?d:e)}d=(b=this.getListbox())?b.inPagingMold():!1;e=b?b.isModel():!1;d||this._openItemNow(c);b&&(e||b.refreshBar_(!0),b._shallShowScrollbar=!0);a||this.fire("onOpen",{open:c},{toServer:d||e||b._listbox$rod})},_openItemNow:function(c){var a=this.$n(),b=this.$s("open");if(a){jq(a).toggleClass(b,c);var d;for(a=a.nextSibling;a&&(d=zk.Widget.$(a))&&!zkex.sel.Listgroup.isInstance(d)&&!zkex.sel.Listgroupfoot.isInstance(d);a=a.nextSibling)if(d.desktop&&d.isVisible())jq(a)[c?"show":"hide"]();
zkex.sel.Listgroupfoot.isInstance(d)&&jq(d).toggleClass(b,c)}},beforeParentChanged_:function(c){if(null==c){var a=this.getListbox(),b=a.hasGroup();if(b){var d=a.getGroups();for(a=a.getGroupCount();0<=--a;)if(d[a]==this){b=d[--a];break}}b?this._unbindafter=[function(){b&&b._openItem(b.isOpen(),!0)}]:this._openItemNow(!0,!0)}this.$supers("beforeParentChanged_",arguments)},onChildAdded_:function(c){this.$supers("onChildAdded_",arguments);this.rerender()},onChildRemoved_:function(c){this.$supers("onChildRemoved_",
arguments);this.childReplacing_||this.rerender()},bind_:function(){this.$supers(zkex.sel.Listgroup,"bind_",arguments);var c=this.$n(),a,b=c.parentNode.parentNode.firstChild;(a=this.$n("img"))&&this.domListen_(a,zk.mobile?"onTouchstart":"onClick","_doImgClick");if(b&&jq.nodeName(b,"colgroup")){a=0;for(b=b.firstChild;b;b=b.nextSibling)zk(b).isVisible()&&a++;b=c.cells;for(var d=b.length;d--;)a-=b[d].colSpan;0<a&&c.cells.length&&(c.cells[c.cells.length-1].colSpan+=a)}this._selectable=this.getListbox().groupSelect},
unbind_:function(c,a){var b;(b=this.$n("img"))&&this.domUnlisten_(b,zk.mobile?"onTouchstart":"onClick","_doImgClick");this._unbindafter&&this._unbindafter.length&&a.push(this._unbindafter.pop());this._unbindafter=null;this.$supers(zkex.sel.Listgroup,"unbind_",arguments)},getIconOpenClass_:function(){return"z-icon-angle-down"},getIconCloseClass_:function(){return"z-icon-angle-right"}});

zkreg('zkex.sel.Listgroup');
zk._m={};
zk._m['default']=listgroup$mold$=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</tr>")};

;zkmld(zk._p.p.Listgroup,zk._m);
zkex.sel.Listgroupfoot=zk.$extends(zul.sel.Listitem,{isStripeable_:function(){return!1},doSelect_:function(c){this._selectable&&this.$supers("doSelect_",arguments)},bind_:function(){this.$supers(zkex.sel.Listgroupfoot,"bind_",arguments);var c=this.$n(),a=c.parentNode.parentNode.firstChild;if(a){var b=0;for(a=a.firstChild;a;a=a.nextSibling)zk(a).isVisible()&&b++;a=c.cells;for(var d=a.length;d--;)b-=a[d].colSpan;0<b&&c.cells.length&&(c.cells[c.cells.length-1].colSpan+=b)}this._selectable=this.getListbox().groupSelect},
domClass_:function(c){var a=this.$supers("domClass_",arguments),b=this.getListgroup();b=b&&b.isOpen()?b.$s("open"):"";return a+(a&&b?" ":"")+b}});

zkreg('zkex.sel.Listgroupfoot');
zk._m={};
zk._m['default']=listgroupfoot$mold$=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</tr>")};

;zkmld(zk._p.p.Listgroupfoot,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zkex.sel',1);zk.load('zul.grid',function(){if(zk._p=zkpi('zkex.grid'))try{
zkex.grid.Detail=zk.$extends(zul.Widget,{$define:{open:function(){this.open(this._open,!0)},contentStyle:function(){var a=this.$n("cave");a&&(a.cssText=this._contentStyle||"")},contentSclass:function(){var a=this.$n("cave");a&&(a.className=this._contentSclass||"")}},onShow:function(){this._open&&(jq(this.$n("icon")).hasClass(this.getIconOpenClass_())||this.open(this._open,!0))},bind_:function(){this.$supers(zkex.grid.Detail,"bind_",arguments);this.parent.listen("onStripe",this);this._open&&zk(this).isRealVisible()&&
this.open(this._open,!0);zWatch.listen({onShow:this});var a=this.$n();a&&this.domListen_(a,zk.mobile?"onTouchstart":"onClick","_doClick")},unbind_:function(){var a=this.$n();a&&this.domUnlisten_(a,zk.mobile?"onTouchstart":"onClick","_doClick");this.parent.unlisten("onStripe",this);this._open&&this.open(!1,!0);zWatch.unlisten({onShow:this});this.$supers(zkex.grid.Detail,"unbind_",arguments)},onStripe:function(a){this._open&&(this.$n("fake").className=this.parent.$n().className+" "+this.$s("faker"))},
doMouseOver_:function(a){if(!this.fireX(a).stopped){var e=this.parent;e&&(e=e.parent)&&e.doMouseOver_(a)}},_doClick:function(){this.open(this._open=!this._open)},open:function(a,e){var d=this.$n();if(d){var h=this.$n("cave"),f=this.$n("chdextr"),g=f.parentNode,k=this.parent,b=k?k.getGrid():null,n=b?b.ebodytbl:null,p=n?n.clientWidth:0;var c=this.$n("icon");var l=this.getIconOpenClass_(),m=this.getIconCloseClass_();a?(jq(f).removeClass("z-detail-close").addClass("z-detail-open"),jq(c).removeClass(m).addClass(l),
c=g.parentNode.insertRow(g.rowIndex-g.parentNode.rows[0].rowIndex+1),d=c.insertCell(0),l=k?k.getZclass():g.className,m=b.getOddRowSclass(),k&&0<=g.className.indexOf(m)&&(l+=" "+m),c.id=this.uuid+"-fake",d.colSpan=zk(g).ncols(!0)-1,jq(c).addClass(l),jq(d).addClass(this.$s("inner")),jq(h).addClass(this.$s("content")),f.rowSpan=2,d.appendChild(h),d.style.display=jq(f).is(":visible")?"":"none",h.style.display="",zUtl.fireShown(this)):(jq(f).removeClass("z-detail-open").addClass("z-detail-close"),jq(c).removeClass(l).addClass(m),
c=this.$n("fake"),h.style.display="none",d.appendChild(h),f.rowSpan=1,jq(c).remove(),this.clearCache());e||this.fire("onOpen",{open:a});n&&(b._fixhdwcnt=b._fixhdwcnt||0,b._fixhdwcnt++||(b._fixhdoldwd=p),setTimeout(function(){--b._fixhdwcnt||b._fixhdoldwd==n.clientWidth||b._calcSize()},250));zk.mobile||setTimeout(function(){b.refreshBar_(!0,!1)},400)}},getIconOpenClass_:function(){return"z-icon-angle-down"},getIconCloseClass_:function(){return"z-icon-angle-right"}});

zkreg('zkex.grid.Detail');
zk._m={};
zk._m['default']=detail$mold$=function(b){var a=this.uuid;b.push("<div",this.domAttrs_(),'><i id="',a,'-icon" class="',this.$s("icon")," ",this.getIconCloseClass_(),'"></i><div id="',a,'-cave" style="',this.getContentStyle()||';display:none;" class="',this.getContentSclass()||'">');for(a=this.firstChild;a;a=a.nextSibling)a.redraw(b);b.push("</div></div>")};

;zkmld(zk._p.p.Detail,zk._m);
zkex.grid.Group=zk.$extends(zul.grid.Row,{_open:!0,$define:{open:function(c){this._openItem(c,!0);c&&this.parent&&this.parent.stripe()}},getItems:function(){for(var c=[],a=this.nextSibling;a&&!a.$instanceof(zkex.grid.Group);a=a.nextSibling)c.push(a);return c},getItemCount:function(){return this.getItems().length},getLabel:function(){return null!=this.firstChild&&this.firstChild.$instanceof(zul.wgt.Label)?this.firstChild.getValue():null},domImage_:function(){var c=this._open?this.getIconOpenClass_()+
" "+this.$s("icon-open"):this.getIconCloseClass_()+" "+this.$s("icon-close");return'<span id="'+this.uuid+'-img" class="'+this.$s("icon")+'"><i class="'+c+'"></i></span>'},domContent_:function(){var c=this.getLabel(),a=this.domImage_();return c?a+" ":a},domClass_:function(c){var a=this.$supers("domClass_",arguments),b=this._open?this.$s("open"):"";return a+(a&&b?" ":"")+b},isStripeable_:function(){return!1},encloseChildHTML_:function(c){var a=c.out||new zk.Buffer,b=c.child,d=b.$instanceof(zul.wgt.Cell);
d||(a.push('<td id="',b.uuid,'-chdextr"',this._childAttrs(b,c.index),'><div id="',b.uuid,'-cell" class="',c.zclass,'-content">'),b==this.firstChild&&a.push(this.domContent_()));b.redraw(a);d||a.push("</div></td>");if(!c.out)return a.join("")},_doImgClick:function(c){var a=!this.isOpen(),b=this.getGrid();a||zWatch.fireDown("onHide",this.parent);this._openItem(a);(a||b.getModel())&&a&&this.parent.stripe();a&&zUtl.fireShown(this.parent);c.stop()},_openItem:function(c,a){this._open=c;var b=this.$n("img");
if(b){b=jq(b.firstChild);var d=this.getIconOpenClass_()+" "+this.$s("icon-open"),e=this.getIconCloseClass_()+" "+this.$s("icon-close");b.removeClass(c?e:d).addClass(c?d:e)}d=(b=this.getGrid())?b.inPagingMold():!1;e=b?b.isModel():!1;d||this._openItemNow(c);b&&(e||b.refreshBar_(!0),b._shallShowScrollbar=!0);a||this.fire("onOpen",{open:c},{toServer:d||e||b._grid$rod})},_openItemNow:function(c){var a=this.$n(),b=this.$s("open");if(a){jq(a).toggleClass(b,c);var d;for(a=a.nextSibling;a&&(d=zk.Widget.$(a))&&
!zkex.grid.Group.isInstance(d)&&!zkex.grid.Groupfoot.isInstance(d);a=a.nextSibling)if(d.desktop&&d.isVisible())jq(a)[c?"show":"hide"]();zkex.grid.Groupfoot.isInstance(d)&&jq(d).toggleClass(b,c)}},beforeParentChanged_:function(c){if(!c){var a=this.parent,b=a.hasGroup();if(b){var d=a.getGroups();for(a=a.getGroupCount();0<=--a;)if(d[a]==this){b=d[--a];break}}b?this._unbindafter=[function(){b&&b._openItem(b.isOpen(),!0)}]:this._openItemNow(!0,!0)}this.$supers("beforeParentChanged_",arguments)},onChildAdded_:function(c){this.$supers("onChildAdded_",
arguments);this.firstChild==c&&this.rerender()},bind_:function(){this.$supers(zkex.grid.Group,"bind_",arguments);var c=this.$n(),a=this.$n("img"),b=c.parentNode.parentNode.firstChild;a&&this.domListen_(a,zk.mobile?"onTouchstart":"onClick","_doImgClick");if(!this._spans&&b&&jq.nodeName(b,"colgroup")){a=0;for(b=b.firstChild;b;b=b.nextSibling)zk(b).isVisible()&&a++;b=c.cells;for(var d=b.length;d--;)a-=b[d].colSpan;0<a&&c.cells.length&&(c.cells[c.cells.length-1].colSpan+=a)}},unbind_:function(c,a){var b=
this.$n("img");b&&this.domUnlisten_(b,zk.mobile?"onTouchstart":"onClick","_doImgClick");this._unbindafter&&this._unbindafter.length&&a.push(this._unbindafter.pop());this._unbindafter=null;this.$supers(zkex.grid.Group,"unbind_",arguments)},getIconOpenClass_:function(){return"z-icon-angle-down"},getIconCloseClass_:function(){return"z-icon-angle-right"}});

zkreg('zkex.grid.Group');
zk._m={};
zk._m['default']=group$mold$=function(b){b.push("<tr",this.domAttrs_(),">");for(var d=this.getZclass(),c=0,a=this.firstChild;a;a=a.nextSibling,c++)this.encloseChildHTML_({child:a,index:c,zclass:d,out:b});b.push("</tr>")};

;zkmld(zk._p.p.Group,zk._m);
zkex.grid.Groupfoot=zk.$extends(zul.grid.Row,{isStripeable_:function(){return!1},bind_:function(){this.$supers(zkex.grid.Groupfoot,"bind_",arguments);var c=this.$n(),a=c.parentNode.parentNode.firstChild;if(a){var b=0;for(a=a.firstChild;a;a=a.nextSibling)zk(a).isVisible()&&b++;a=c.cells;for(var d=a.length;d--;)b-=a[d].colSpan;0<b&&c.cells.length&&(c.cells[c.cells.length-1].colSpan+=b)}},domClass_:function(c){var a=this.$supers("domClass_",arguments),b=this.getGroup();b=b&&b.isOpen()?b.$s("open"):"";
return a+(a&&b?" ":"")+b}});

zkreg('zkex.grid.Groupfoot');
zk._m={};
zk._m['default']=groupfoot$mold$=function(b){b.push("<tr",this.domAttrs_(),">");for(var d=this.getZclass(),c=0,a=this.firstChild;a;a=a.nextSibling,c++)this.encloseChildHTML_({child:a,index:c,zclass:d,out:b});b.push("</tr>")};

;zkmld(zk._p.p.Groupfoot,zk._m);

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zkex.grid',1);(function(){if(zk._p=zkpi('zkex.cmsp'))try{
(function(){var g=zAu.shallIgnoreESC,f=0;zAu.shallIgnoreESC=function(){return g()||0<f};zkex.cmsp.SPush=zk.$extends(zk.Object,{_nfail:0,_retryCount:10,_retryDelay:5E3,_ajaxTimeout:-1,start:function(a,b,c,d,e){++f;this.desktop=a;this.cometURI=b;0<=c&&(this._retryCount=c);0<=d&&(this._retryDelay=d);0<=e&&(this._ajaxTimeout=e);this._asend(90)},stop:function(){--f;this._stopped=!0;var a=this._req;if(a){this._req=null;try{"function"==typeof a.abort&&a.abort()}catch(b){zk.debugLog(b.message||b)}}},visibilityChanged:function(){if(document.hidden||
document[zk.vendor_+"Hidden"])try{var a=this._req=zAu.ajaxSettings.xhr();a.open("POST",this.cometURI(this.desktop)+"&hibernate=true",!0);a.setRequestHeader("Content-Type",zAu.ajaxSettings.contentType);a.send(null)}catch(b){zk.debugLog(b.message||b)}else this._stopped=!1,this.start(this.desktop,this.cometURI)},_send:function(){if(zk.ausending)zk.afterAuResponse(this.proxy(this._send));else{this._asending=!1;var a=this._req=zAu.ajaxSettings.xhr(),b=this.desktop;try{a.onreadystatechange=this.proxy(this._onRespReady);
if(zk.ie&&9==zk.ie){var c=this;a.ontimeout=function(a){c._retry(c._retryDelay)}}a.onabort=this.proxy(this.stop);a.open("POST",this.cometURI(b),!0);0<=this._ajaxTimeout&&(a.timeout=this._ajaxTimeout);a.setRequestHeader("Content-Type",zAu.ajaxSettings.contentType);a.send(null)}catch(d){this._req=null,this._asend(this._retryDelay)}}},_onRespReady:function(){var a=this._req;try{if(a&&4==a.readyState){this._req=null;var b,c,d;if("Disabled"==(b=a.getResponseHeader("ZK-Comet-Error"))||"DesktopUnavailable"==
b||404==(c=a.status)||405==c||410==c||"404"==(d=a.getResponseHeader("ZK-Error"))||"410"==d)this._respFailure(c,d);else if(200==c)this._respSuccess(a,b);else if(502==c){this._send();var e=this;setTimeout(function(){zAu.cmd0.echo(e.desktop)},200)}else this._retry(this._retryDelay)}}catch(h){this._retry(this._retryDelay)}},_asend:function(a){this._asending||this._stopped||(this._asending=!0,setTimeout(this.proxy(this._send),a))},_retry:function(a){++this._nfail<this._retryCount?this._asend(a):this.stop()},
_respSuccess:function(a,b){this._nfail=0;"echo"!=a.getResponseHeader("ZK-Comet")&&"Hibernate"!=b||zAu.cmd0.echo(this.desktop);if("Hibernate"!=b)if("Busy"==b){this._send();var c=this;setTimeout(function(){c.desktop&&zAu.cmd0.echo(c.desktop)},200)}else this._asend(0)},_respFailure:function(a,b){a=zAu.getPushErrorURI(404==a||"404"==b?404:410);"string"==typeof a&&zUtl.go(a);this.stop();zk.isTimeout&&zAu.send(new zk.Event(null,"dummy",null,{ignorable:!0,serverAlive:!0,rtags:{isDummy:!0}}))}});zk.copy(zkex.cmsp,
{start:function(a,b,c,d,e){a=zk.Desktop.$(a);a._cmsp&&a._cmsp.stop();(a._cmsp=new zkex.cmsp.SPush).start(a,this.cometURI,c,d,e);b||jq(document).bind((void 0!==document.hidden?"":zk.vendor_)+"visibilitychange",a._cmsp.proxy(a._cmsp.visibilityChanged))},stop:function(a){(a=zk.Desktop.$(a))&&a._cmsp&&(jq(document).unbind((void 0!==document.hidden?"":zk.vendor_)+"visibilitychange",a._cmsp.proxy(a._cmsp.visibilityChanged)),a._cmsp.stop(),a._cmsp=null)},cometURI:function(a){return zk.ajaxURI("/comet?dtid="+
a.id,{desktop:a,au:!0})}})})();


}finally{zk.setLoaded(zk._p.n);}})();